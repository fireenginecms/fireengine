(()=>{var leafPrototypes,getProto,__webpack_modules__={129:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(81086)},165:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(12268)},308:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(22822);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","every")},385:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(40026)},462:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(40975);module.exports=parent},771:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.X4=alpha,exports.e$=darken,exports.tL=emphasize,exports.eM=function getContrastRatio(foreground,background){const lumA=getLuminance(foreground),lumB=getLuminance(background);return(Math.max(lumA,lumB)+.05)/(Math.min(lumA,lumB)+.05)},exports.a=lighten;var _formatMuiErrorMessage2=_interopRequireDefault(__webpack_require__(78944)),_clamp=_interopRequireDefault(__webpack_require__(68586));function clampWrapper(value,min=0,max=1){return(0,_clamp.default)(value,min,max)}function hexToRgb(color){color=color.slice(1);const re=new RegExp(`.{1,${color.length>=6?2:1}}`,"g");let colors=color.match(re);return colors&&1===colors[0].length&&(colors=colors.map(n=>n+n)),colors?`rgb${4===colors.length?"a":""}(${colors.map((n,index)=>index<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(color){if(color.type)return color;if("#"===color.charAt(0))return decomposeColor(hexToRgb(color));const marker=color.indexOf("("),type=color.substring(0,marker);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(type))throw new Error((0,_formatMuiErrorMessage2.default)(9,color));let colorSpace,values=color.substring(marker+1,color.length-1);if("color"===type){if(values=values.split(" "),colorSpace=values.shift(),4===values.length&&"/"===values[3].charAt(0)&&(values[3]=values[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(colorSpace))throw new Error((0,_formatMuiErrorMessage2.default)(10,colorSpace))}else values=values.split(",");return values=values.map(value=>parseFloat(value)),{type,values,colorSpace}}const colorChannel=color=>{const decomposedColor=decomposeColor(color);return decomposedColor.values.slice(0,3).map((val,idx)=>-1!==decomposedColor.type.indexOf("hsl")&&0!==idx?`${val}%`:val).join(" ")};function recomposeColor(color){const{type,colorSpace}=color;let{values}=color;return-1!==type.indexOf("rgb")?values=values.map((n,i)=>i<3?parseInt(n,10):n):-1!==type.indexOf("hsl")&&(values[1]=`${values[1]}%`,values[2]=`${values[2]}%`),values=-1!==type.indexOf("color")?`${colorSpace} ${values.join(" ")}`:`${values.join(", ")}`,`${type}(${values})`}function hslToRgb(color){color=decomposeColor(color);const{values}=color,h=values[0],s=values[1]/100,l=values[2]/100,a=s*Math.min(l,1-l),f=(n,k=(n+h/30)%12)=>l-a*Math.max(Math.min(k-3,9-k,1),-1);let type="rgb";const rgb=[Math.round(255*f(0)),Math.round(255*f(8)),Math.round(255*f(4))];return"hsla"===color.type&&(type+="a",rgb.push(values[3])),recomposeColor({type,values:rgb})}function getLuminance(color){let rgb="hsl"===(color=decomposeColor(color)).type||"hsla"===color.type?decomposeColor(hslToRgb(color)).values:color.values;return rgb=rgb.map(val=>("color"!==color.type&&(val/=255),val<=.03928?val/12.92:((val+.055)/1.055)**2.4)),Number((.2126*rgb[0]+.7152*rgb[1]+.0722*rgb[2]).toFixed(3))}function alpha(color,value){return color=decomposeColor(color),value=clampWrapper(value),"rgb"!==color.type&&"hsl"!==color.type||(color.type+="a"),"color"===color.type?color.values[3]=`/${value}`:color.values[3]=value,recomposeColor(color)}function darken(color,coefficient){if(color=decomposeColor(color),coefficient=clampWrapper(coefficient),-1!==color.type.indexOf("hsl"))color.values[2]*=1-coefficient;else if(-1!==color.type.indexOf("rgb")||-1!==color.type.indexOf("color"))for(let i=0;i<3;i+=1)color.values[i]*=1-coefficient;return recomposeColor(color)}function lighten(color,coefficient){if(color=decomposeColor(color),coefficient=clampWrapper(coefficient),-1!==color.type.indexOf("hsl"))color.values[2]+=(100-color.values[2])*coefficient;else if(-1!==color.type.indexOf("rgb"))for(let i=0;i<3;i+=1)color.values[i]+=(255-color.values[i])*coefficient;else if(-1!==color.type.indexOf("color"))for(let i=0;i<3;i+=1)color.values[i]+=(1-color.values[i])*coefficient;return recomposeColor(color)}function emphasize(color,coefficient=.15){return getLuminance(color)>.5?darken(color,coefficient):lighten(color,coefficient)}},953:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(53375)},975:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$padStart=__webpack_require__(81164).start;$({target:"String",proto:!0,forced:__webpack_require__(11156)},{padStart:function padStart(maxLength){return $padStart(this,maxLength,arguments.length>1?arguments[1]:void 0)}})},1168:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(49261);module.exports=parent},1542:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20016)},1626:module=>{"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(item){var entry={item,next:null},tail=this.tail;tail?tail.next=entry:this.head=entry,this.tail=entry},get:function(){var entry=this.head;if(entry)return null===(this.head=entry.next)&&(this.tail=null),entry.item}},module.exports=Queue},1668:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(34661).A},1730:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(86024),__webpack_require__(7057),__webpack_require__(44954);var WrappedWellKnownSymbolModule=__webpack_require__(80560);module.exports=WrappedWellKnownSymbolModule.f("iterator")},1759:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),NativePromiseConstructor=__webpack_require__(55463),isCallable=__webpack_require__(62250),isForced=__webpack_require__(7463),inspectSource=__webpack_require__(12647),wellKnownSymbol=__webpack_require__(76264),ENVIRONMENT=__webpack_require__(42832),IS_PURE=__webpack_require__(7376),V8_VERSION=__webpack_require__(20798),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,SPECIES=wellKnownSymbol("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT=isCallable(globalThis.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR=isForced("Promise",function(){var PROMISE_CONSTRUCTOR_SOURCE=inspectSource(NativePromiseConstructor),GLOBAL_CORE_JS_PROMISE=PROMISE_CONSTRUCTOR_SOURCE!==String(NativePromiseConstructor);if(!GLOBAL_CORE_JS_PROMISE&&66===V8_VERSION)return!0;if(IS_PURE&&(!NativePromisePrototype.catch||!NativePromisePrototype.finally))return!0;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)){var promise=new NativePromiseConstructor(function(resolve){resolve(1)}),FakePromise=function(exec){exec(function(){},function(){})};if((promise.constructor={})[SPECIES]=FakePromise,!(SUBCLASSING=promise.then(function(){})instanceof FakePromise))return!0}return!(GLOBAL_CORE_JS_PROMISE||"BROWSER"!==ENVIRONMENT&&"DENO"!==ENVIRONMENT||NATIVE_PROMISE_REJECTION_EVENT)});module.exports={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT,SUBCLASSING}},1852:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),isDisjointFrom=__webpack_require__(41732);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("isDisjointFrom",function(result){return!result})},{isDisjointFrom})},1907:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var NATIVE_BIND=__webpack_require__(41505),FunctionPrototype=Function.prototype,call=FunctionPrototype.call,uncurryThisWithBind=NATIVE_BIND&&FunctionPrototype.bind.bind(call,call);module.exports=NATIVE_BIND?uncurryThisWithBind:function(fn){return function(){return call.apply(fn,arguments)}}},1935:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(74705).A},2457:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(96796)},2532:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),defineProperty=Object.defineProperty;module.exports=function(key,value){try{defineProperty(globalThis,key,{value,configurable:!0,writable:!0})}catch(error){globalThis[key]=value}return value}},2596:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("hasInstance")},2694:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__(6925);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},2778:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(21529).A},2875:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var internalObjectKeys=__webpack_require__(23045),enumBugKeys=__webpack_require__(80376);module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},2911:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var tryToString=__webpack_require__(4640),$TypeError=TypeError;module.exports=function(it){if("object"==typeof it&&"size"in it&&"has"in it&&"add"in it&&"delete"in it&&"keys"in it)return it;throw new $TypeError(tryToString(it)+" is not a set")}},3121:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toIntegerOrInfinity=__webpack_require__(65482),min=Math.min;module.exports=function(argument){var len=toIntegerOrInfinity(argument);return len>0?min(len,9007199254740991):0}},3130:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),isArray=__webpack_require__(11793),$TypeError=TypeError,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(error){return error instanceof TypeError}}();module.exports=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(O,length){if(isArray(O)&&!getOwnPropertyDescriptor(O,"length").writable)throw new $TypeError("Cannot set read only .length");return O.length=length}:function(O,length){return O.length=length}},3142:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_createTheme__WEBPACK_IMPORTED_MODULE_0__.A,private_createBreakpoints:()=>_createBreakpoints__WEBPACK_IMPORTED_MODULE_1__.A,unstable_applyStyles:()=>_applyStyles__WEBPACK_IMPORTED_MODULE_2__.A});var _createTheme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58749),_createBreakpoints__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58094),_applyStyles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28336)},3157:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(3997);var WrappedWellKnownSymbolModule=__webpack_require__(80560);module.exports=WrappedWellKnownSymbolModule.f("asyncIterator")},3282:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var NativePromiseConstructor=__webpack_require__(55463),checkCorrectnessOfIteration=__webpack_require__(70473),FORCED_PROMISE_CONSTRUCTOR=__webpack_require__(1759).CONSTRUCTOR;module.exports=FORCED_PROMISE_CONSTRUCTOR||!checkCorrectnessOfIteration(function(iterable){NativePromiseConstructor.all(iterable).then(void 0,function(){})})},3701:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),fails=__webpack_require__(98828),padStart=__webpack_require__(81164).start,$RangeError=RangeError,$isFinite=isFinite,abs=Math.abs,DatePrototype=Date.prototype,nativeDateToISOString=DatePrototype.toISOString,thisTimeValue=uncurryThis(DatePrototype.getTime),getUTCDate=uncurryThis(DatePrototype.getUTCDate),getUTCFullYear=uncurryThis(DatePrototype.getUTCFullYear),getUTCHours=uncurryThis(DatePrototype.getUTCHours),getUTCMilliseconds=uncurryThis(DatePrototype.getUTCMilliseconds),getUTCMinutes=uncurryThis(DatePrototype.getUTCMinutes),getUTCMonth=uncurryThis(DatePrototype.getUTCMonth),getUTCSeconds=uncurryThis(DatePrototype.getUTCSeconds);module.exports=fails(function(){return"0385-07-25T07:06:39.999Z"!==nativeDateToISOString.call(new Date(-50000000000001))})||!fails(function(){nativeDateToISOString.call(new Date(NaN))})?function toISOString(){if(!$isFinite(thisTimeValue(this)))throw new $RangeError("Invalid time value");var year=getUTCFullYear(this),milliseconds=getUTCMilliseconds(this),sign=year<0?"-":year>9999?"+":"";return sign+padStart(abs(year),sign?6:4,0)+"-"+padStart(getUTCMonth(this)+1,2,0)+"-"+padStart(getUTCDate(this),2,0)+"T"+padStart(getUTCHours(this),2,0)+":"+padStart(getUTCMinutes(this),2,0)+":"+padStart(getUTCSeconds(this),2,0)+"."+padStart(milliseconds,3,0)+"Z"}:nativeDateToISOString},3727:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(975);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("String","padStart")},3786:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var webkit=__webpack_require__(96794).match(/AppleWebKit\/(\d+)\./);module.exports=!!webkit&&+webkit[1]},3825:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,$=__webpack_require__(11091),IS_PURE=__webpack_require__(7376),IS_NODE=__webpack_require__(47586),globalThis=__webpack_require__(45951),path=__webpack_require__(92046),call=__webpack_require__(13930),defineBuiltIn=__webpack_require__(68055),setPrototypeOf=__webpack_require__(79192),setToStringTag=__webpack_require__(14840),setSpecies=__webpack_require__(47118),aCallable=__webpack_require__(82159),isCallable=__webpack_require__(62250),isObject=__webpack_require__(46285),anInstance=__webpack_require__(59596),speciesConstructor=__webpack_require__(28450),task=__webpack_require__(49472).set,microtask=__webpack_require__(52292),hostReportErrors=__webpack_require__(73904),perform=__webpack_require__(94420),Queue=__webpack_require__(1626),InternalStateModule=__webpack_require__(64932),NativePromiseConstructor=__webpack_require__(55463),PromiseConstructorDetection=__webpack_require__(1759),newPromiseCapabilityModule=__webpack_require__(56254),FORCED_PROMISE_CONSTRUCTOR=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule.getterFor("Promise"),setInternalState=InternalStateModule.set,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,PromiseConstructor=NativePromiseConstructor,PromisePrototype=NativePromisePrototype,TypeError=globalThis.TypeError,document=globalThis.document,process=globalThis.process,newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document&&document.createEvent&&globalThis.dispatchEvent),isThenable=function(it){var then;return!(!isObject(it)||!isCallable(then=it.then))&&then},callReaction=function(reaction,state){var result,then,exited,value=state.value,ok=1===state.state,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2===state.rejection&&onHandleUnhandled(state),state.rejection=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(new TypeError("Promise-chain cycle")):(then=isThenable(result))?call(then,result,resolve,reject):resolve(result)):reject(value)}catch(error){domain&&!exited&&domain.exit(),reject(error)}},notify=function(state,isReject){state.notified||(state.notified=!0,microtask(function(){for(var reaction,reactions=state.reactions;reaction=reactions.get();)callReaction(reaction,state);state.notified=!1,isReject&&!state.rejection&&onUnhandled(state)}))},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),globalThis.dispatchEvent(event)):event={promise,reason},!NATIVE_PROMISE_REJECTION_EVENT&&(handler=globalThis["on"+name])?handler(event):"unhandledrejection"===name&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(state){call(task,globalThis,function(){var result,promise=state.facade,value=state.value;if(isUnhandled(state)&&(result=perform(function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent("unhandledrejection",promise,value)}),state.rejection=IS_NODE||isUnhandled(state)?2:1,result.error))throw result.value})},isUnhandled=function(state){return 1!==state.rejection&&!state.parent},onHandleUnhandled=function(state){call(task,globalThis,function(){var promise=state.facade;IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent("rejectionhandled",promise,state.value)})},bind=function(fn,state,unwrap){return function(value){fn(state,value,unwrap)}},internalReject=function(state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=2,notify(state,!0))},internalResolve=function(state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(state.facade===value)throw new TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask(function(){var wrapper={done:!1};try{call(then,value,bind(internalResolve,wrapper,state),bind(internalReject,wrapper,state))}catch(error){internalReject(wrapper,error,state)}}):(state.value=value,state.state=1,notify(state,!1))}catch(error){internalReject({done:!1},error,state)}}};if(FORCED_PROMISE_CONSTRUCTOR&&(PromisePrototype=(PromiseConstructor=function Promise(executor){anInstance(this,PromisePrototype),aCallable(executor),call(Internal,this);var state=getInternalPromiseState(this);try{executor(bind(internalResolve,state),bind(internalReject,state))}catch(error){internalReject(state,error)}}).prototype,(Internal=function Promise(executor){setInternalState(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:0,value:null})}).prototype=defineBuiltIn(PromisePrototype,"then",function then(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return state.parent=!0,reaction.ok=!isCallable(onFulfilled)||onFulfilled,reaction.fail=isCallable(onRejected)&&onRejected,reaction.domain=IS_NODE?process.domain:void 0,0===state.state?state.reactions.add(reaction):microtask(function(){callReaction(reaction,state)}),reaction.promise}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalPromiseState(promise);this.promise=promise,this.resolve=bind(internalResolve,state),this.reject=bind(internalReject,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},!IS_PURE&&isCallable(NativePromiseConstructor)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn(NativePromisePrototype,"then",function then(onFulfilled,onRejected){var that=this;return new PromiseConstructor(function(resolve,reject){call(nativeThen,that,resolve,reject)}).then(onFulfilled,onRejected)},{unsafe:!0});try{delete NativePromisePrototype.constructor}catch(error){}setPrototypeOf&&setPrototypeOf(NativePromisePrototype,PromisePrototype)}$({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{Promise:PromiseConstructor}),PromiseWrapper=path.Promise,setToStringTag(PromiseConstructor,"Promise",!1,!0),setSpecies("Promise")},3997:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("asyncIterator")},4002:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),has=__webpack_require__(73881).has,size=__webpack_require__(35743),getSetRecord=__webpack_require__(32332),iterateSimple=__webpack_require__(22190),iteratorClose=__webpack_require__(40154);module.exports=function isSupersetOf(other){var O=aSet(this),otherRec=getSetRecord(other);if(size(O)<otherRec.size)return!1;var iterator=otherRec.getIterator();return!1!==iterateSimple(iterator,function(e){if(!has(O,e))return iteratorClose(iterator,"normal",!1)})}},4146:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var reactIs=__webpack_require__(44363),REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};function getStatics(component){return reactIs.isMemo(component)?MEMO_STATICS:TYPE_STATICS[component.$$typeof]||REACT_STATICS}TYPE_STATICS[reactIs.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;module.exports=function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if("string"!=typeof sourceComponent){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);inheritedComponent&&inheritedComponent!==objectPrototype&&hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}var keys=getOwnPropertyNames(sourceComponent);getOwnPropertySymbols&&(keys=keys.concat(getOwnPropertySymbols(sourceComponent)));for(var targetStatics=getStatics(targetComponent),sourceStatics=getStatics(sourceComponent),i=0;i<keys.length;++i){var key=keys[i];if(!(KNOWN_STATICS[key]||blacklist&&blacklist[key]||sourceStatics&&sourceStatics[key]||targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}},4473:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(22231)},4610:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("split")},4640:module=>{"use strict";var $String=String;module.exports=function(argument){try{return $String(argument)}catch(error){return"Object"}}},5012:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},5354:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(95362);var path=__webpack_require__(92046);module.exports=path.Date.now},5363:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(94972);module.exports=parent},5543:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),definePropertyModule=__webpack_require__(74284),createPropertyDescriptor=__webpack_require__(75817);module.exports=function(object,key,value){DESCRIPTORS?definePropertyModule.f(object,key,createPropertyDescriptor(0,value)):object[key]=value}},5556:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(2694)()},5721:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("isConcatSpreadable")},6198:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isArray=__webpack_require__(11793),lengthOfArrayLike=__webpack_require__(20575),doesNotExceedSafeInteger=__webpack_require__(88024),bind=__webpack_require__(28311),flattenIntoArray=function(target,original,source,sourceLen,start,depth,mapper,thisArg){for(var element,elementLen,targetIndex=start,sourceIndex=0,mapFn=!!mapper&&bind(mapper,thisArg);sourceIndex<sourceLen;)sourceIndex in source&&(element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex],depth>0&&isArray(element)?(elementLen=lengthOfArrayLike(element),targetIndex=flattenIntoArray(target,original,element,elementLen,targetIndex,depth-1)-1):(doesNotExceedSafeInteger(targetIndex+1),target[targetIndex]=element),targetIndex++),sourceIndex++;return targetIndex};module.exports=flattenIntoArray},6221:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(6686);module.exports=parent},6290:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$find=__webpack_require__(70726).find,addToUnscopables=__webpack_require__(42156),SKIPS_HOLES=!0;"find"in[]&&Array(1).find(function(){SKIPS_HOLES=!1}),$({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("find")},6499:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),id=0,postfix=Math.random(),toString=uncurryThis(1.1.toString);module.exports=function(key){return"Symbol("+(void 0===key?"":key)+")_"+toString(++id+postfix,36)}},6630:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),call=__webpack_require__(13930),aCallable=__webpack_require__(82159),newPromiseCapabilityModule=__webpack_require__(56254),perform=__webpack_require__(94420),iterate=__webpack_require__(24823);$({target:"Promise",stat:!0,forced:__webpack_require__(3282)},{all:function all(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var $promiseResolve=aCallable(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,function(promise){var index=counter++,alreadyCalled=!1;remaining++,call($promiseResolve,C,promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.error&&reject(result.value),capability.promise}})},6686:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(40303);module.exports=parent},6687:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$map=__webpack_require__(70726).map;$({target:"Array",proto:!0,forced:!__webpack_require__(59552)("map")},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},6707:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(49124)},6774:(__unused_webpack_module,exports)=>{"use strict";var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler");Symbol.for("react.provider");var REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_VIEW_TRANSITION_TYPE=Symbol.for("react.view_transition"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(object){if("object"==typeof object&&null!==object){var $$typeof=object.$$typeof;switch($$typeof){case REACT_ELEMENT_TYPE:switch(object=object.type){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:case REACT_VIEW_TRANSITION_TYPE:return object;default:switch(object=object&&object.$$typeof){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:case REACT_CONSUMER_TYPE:return object;default:return $$typeof}}case REACT_PORTAL_TYPE:return $$typeof}}}exports.vM=REACT_FORWARD_REF_TYPE,exports.lD=REACT_MEMO_TYPE},6913:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var SetHelpers=__webpack_require__(73881),iterate=__webpack_require__(81330),Set=SetHelpers.Set,add=SetHelpers.add;module.exports=function(set){var result=new Set;return iterate(set,function(it){add(result,it)}),result}},6925:module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7057:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var charAt=__webpack_require__(11470).charAt,toString=__webpack_require__(90160),InternalStateModule=__webpack_require__(64932),defineIterator=__webpack_require__(60183),createIterResultObject=__webpack_require__(59550),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",function(iterated){setInternalState(this,{type:"String Iterator",string:toString(iterated),index:0})},function next(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?createIterResultObject(void 0,!0):(point=charAt(string,index),state.index+=point.length,createIterResultObject(point,!1))})},7376:module=>{"use strict";module.exports=!0},7452:module=>{var runtime=function(exports){"use strict";var Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return{value:void 0,done:!0}}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(undefined===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(null!=iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}throw new TypeError(typeof iterable+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this}),define(Gp,"toString",function(){return"[object Generator]"}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}},exports}(module.exports);try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},7463:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828),isCallable=__webpack_require__(62250),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value===POLYFILL||value!==NATIVE&&(isCallable(detection)?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},8505:(module,__unused_webpack_exports,__webpack_require__)=>{var isarray=__webpack_require__(9375);module.exports=pathToRegexp,module.exports.parse=parse,module.exports.compile=function compile(str,options){return tokensToFunction(parse(str,options),options)},module.exports.tokensToFunction=tokensToFunction,module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str,options){for(var res,tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/";null!=(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1];else{var next=str[index],prefix=res[2],name=res[3],capture=res[4],group=res[5],modifier=res[6],asterisk=res[7];path&&(tokens.push(path),path="");var partial=null!=prefix&&null!=next&&next!==prefix,repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,delimiter=prefix||defaultDelimiter,pattern=capture||group,prevText=prefix||("string"==typeof tokens[tokens.length-1]?tokens[tokens.length-1]:"");tokens.push({name:name||key++,prefix:prefix||"",delimiter,optional,repeat,partial,asterisk:!!asterisk,pattern:pattern?escapeGroup(pattern):asterisk?".*":restrictBacktrack(delimiter,prevText)})}}return index<str.length&&(path+=str.substr(index)),path&&tokens.push(path),tokens}function restrictBacktrack(delimiter,prevText){return!prevText||prevText.indexOf(delimiter)>-1?"[^"+escapeString(delimiter)+"]+?":escapeString(prevText)+"|(?:(?!"+escapeString(prevText)+")[^"+escapeString(delimiter)+"])+?"}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens,options){for(var matches=new Array(tokens.length),i=0;i<tokens.length;i++)"object"==typeof tokens[i]&&(matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$",flags(options)));return function(obj,opts){for(var path="",data=obj||{},encode=(opts||{}).pretty?encodeURIComponentPretty:encodeURIComponent,i=0;i<tokens.length;i++){var token=tokens[i];if("string"!=typeof token){var segment,value=data[token.name];if(null==value){if(token.optional){token.partial&&(path+=token.prefix);continue}throw new TypeError('Expected "'+token.name+'" to be defined')}if(isarray(value)){if(!token.repeat)throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`");if(0===value.length){if(token.optional)continue;throw new TypeError('Expected "'+token.name+'" to not be empty')}for(var j=0;j<value.length;j++){if(segment=encode(value[j]),!matches[i].test(segment))throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`");path+=(0===j?token.prefix:token.delimiter)+segment}}else{if(segment=token.asterisk?encodeAsterisk(value):encode(value),!matches[i].test(segment))throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"');path+=token.prefix+segment}}else path+=token}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){return re.keys=keys,re}function flags(options){return options&&options.sensitive?"":"i"}function tokensToRegExp(tokens,keys,options){isarray(keys)||(options=keys||options,keys=[]);for(var strict=(options=options||{}).strict,end=!1!==options.end,route="",i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token);else{var prefix=escapeString(token.prefix),capture="(?:"+token.pattern+")";keys.push(token),token.repeat&&(capture+="(?:"+prefix+capture+")*"),route+=capture=token.optional?token.partial?prefix+"("+capture+")?":"(?:"+prefix+"("+capture+"))?":prefix+"("+capture+")"}}var delimiter=escapeString(options.delimiter||"/"),endsWithDelimiter=route.slice(-delimiter.length)===delimiter;return strict||(route=(endsWithDelimiter?route.slice(0,-delimiter.length):route)+"(?:"+delimiter+"(?=$))?"),route+=end?"$":strict&&endsWithDelimiter?"":"(?="+delimiter+"|$)",attachKeys(new RegExp("^"+route,flags(options)),keys)}function pathToRegexp(path,keys,options){return isarray(keys)||(options=keys||options,keys=[]),options=options||{},path instanceof RegExp?function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(path,keys)}(path,keys):isarray(path)?function arrayToRegexp(path,keys,options){for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);return attachKeys(new RegExp("(?:"+parts.join("|")+")",flags(options)),keys)}(path,keys,options):function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}(path,keys,options)}},8549:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(65546)},8628:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(76343)},8661:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(77511),StringPrototype=String.prototype;module.exports=function(it){var own=it.trim;return"string"==typeof it||it===StringPrototype||isPrototypeOf(StringPrototype,it)&&own===StringPrototype.trim?method:own}},8980:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(47985);module.exports=parent},9112:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31601),_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76314),___CSS_LOADER_EXPORT___=__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,":root{--toastify-color-light:#fff;--toastify-color-dark:#121212;--toastify-color-info:#3498db;--toastify-color-success:#07bc0c;--toastify-color-warning:#f1c40f;--toastify-color-error:#e74c3c;--toastify-color-transparent:hsla(0,0%,100%,.7);--toastify-icon-color-info:var(--toastify-color-info);--toastify-icon-color-success:var(--toastify-color-success);--toastify-icon-color-warning:var(--toastify-color-warning);--toastify-icon-color-error:var(--toastify-color-error);--toastify-toast-width:320px;--toastify-toast-background:#fff;--toastify-toast-min-height:64px;--toastify-toast-max-height:800px;--toastify-font-family:sans-serif;--toastify-z-index:9999;--toastify-text-color-light:#757575;--toastify-text-color-dark:#fff;--toastify-text-color-info:#fff;--toastify-text-color-success:#fff;--toastify-text-color-warning:#fff;--toastify-text-color-error:#fff;--toastify-spinner-color:#616161;--toastify-spinner-color-empty-area:#e0e0e0;--toastify-color-progress-light:linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55);--toastify-color-progress-dark:#bb86fc;--toastify-color-progress-info:var(--toastify-color-info);--toastify-color-progress-success:var(--toastify-color-success);--toastify-color-progress-warning:var(--toastify-color-warning);--toastify-color-progress-error:var(--toastify-color-error)}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translateZ(var(--toastify-z-index));position:fixed;padding:4px;width:var(--toastify-toast-width);box-sizing:border-box;color:#fff}.Toastify__toast-container--top-left{top:1em;left:1em}.Toastify__toast-container--top-center{top:1em;left:50%;transform:translateX(-50%)}.Toastify__toast-container--top-right{top:1em;right:1em}.Toastify__toast-container--bottom-left{bottom:1em;left:1em}.Toastify__toast-container--bottom-center{bottom:1em;left:50%;transform:translateX(-50%)}.Toastify__toast-container--bottom-right{bottom:1em;right:1em}@media only screen and (max-width:480px){.Toastify__toast-container{width:100vw;padding:0;left:0;margin:0}.Toastify__toast-container--top-center,.Toastify__toast-container--top-left,.Toastify__toast-container--top-right{top:0;transform:translateX(0)}.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-right{bottom:0;transform:translateX(0)}.Toastify__toast-container--rtl{right:0;left:auto}}.Toastify__toast{position:relative;min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:4px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;max-height:var(--toastify-toast-max-height);overflow:hidden;font-family:var(--toastify-font-family);cursor:default;direction:ltr;z-index:0}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-body{margin:auto 0;-ms-flex:1 1 auto;flex:1 1 auto;padding:6px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.Toastify__toast-body>div:last-child{word-break:break-word;-ms-flex:1;flex:1}.Toastify__toast-icon{-webkit-margin-end:10px;margin-inline-end:10px;width:20px;-ms-flex-negative:0;flex-shrink:0;display:-ms-flexbox;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.7s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}@media only screen and (max-width:480px){.Toastify__toast{margin-bottom:0;border-radius:0}}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--colored.Toastify__toast--default,.Toastify__toast-theme--light{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;-ms-flex-item-align:start;align-self:flex-start}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:focus,.Toastify__close-button:hover{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:5px;z-index:var(--toastify-z-index);opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:auto;transform-origin:right}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--bottom-left,.Toastify__bounce-enter--top-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--bottom-right,.Toastify__bounce-enter--top-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--bottom-left,.Toastify__bounce-exit--top-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--bottom-right,.Toastify__bounce-exit--top-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes Toastify__slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes Toastify__slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--bottom-left,.Toastify__slide-enter--top-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--bottom-right,.Toastify__slide-enter--top-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--bottom-left,.Toastify__slide-exit--top-left{animation-name:Toastify__slideOutLeft}.Toastify__slide-exit--bottom-right,.Toastify__slide-exit--top-right{animation-name:Toastify__slideOutRight}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown}@keyframes Toastify__spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},9375:module=>{module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},9433:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(14106);module.exports=parent},9455:(__unused_webpack_module,exports)=>{"use strict";exports.__esModule=!0,exports.default=function(file,acceptedFiles){if(file&&acceptedFiles){var acceptedFilesArray=Array.isArray(acceptedFiles)?acceptedFiles:acceptedFiles.split(",");if(0===acceptedFilesArray.length)return!0;var fileName=file.name||"",mimeType=(file.type||"").toLowerCase(),baseMimeType=mimeType.replace(/\/.*$/,"");return acceptedFilesArray.some(function(type){var validType=type.trim().toLowerCase();return"."===validType.charAt(0)?fileName.toLowerCase().endsWith(validType):validType.endsWith("/*")?baseMimeType===validType.replace(/\/.*$/,""):mimeType===validType})}return!0}},9635:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(60285),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.findIndex;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.findIndex?method:own}},9703:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(28970);module.exports=parent},9748:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(71340);var path=__webpack_require__(92046);module.exports=path.Object.assign},10043:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPossiblePrototype=__webpack_require__(54018),$String=String,$TypeError=TypeError;module.exports=function(argument){if(isPossiblePrototype(argument))return argument;throw new $TypeError("Can't set "+$String(argument)+" as a prototype")}},10070:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(31661);module.exports=parent},10300:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var call=__webpack_require__(13930),aCallable=__webpack_require__(82159),anObject=__webpack_require__(36624),tryToString=__webpack_require__(4640),getIteratorMethod=__webpack_require__(73448),$TypeError=TypeError;module.exports=function(argument,usingIterator){var iteratorMethod=arguments.length<2?getIteratorMethod(argument):usingIterator;if(aCallable(iteratorMethod))return anObject(call(iteratorMethod,argument));throw new $TypeError(tryToString(argument)+" is not iterable")}},10317:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(56648),__webpack_require__(49721);var path=__webpack_require__(92046),apply=__webpack_require__(76024);path.JSON||(path.JSON={stringify:JSON.stringify}),module.exports=function stringify(it,replacer,space){return apply(path.JSON.stringify,null,arguments)}},10521:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$some=__webpack_require__(70726).some;$({target:"Array",proto:!0,forced:!__webpack_require__(77623)("some")},{some:function some(callbackfn){return $some(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},10540:module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},10609:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},10751:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),hasOwn=__webpack_require__(49724),isSymbol=__webpack_require__(25594),tryToString=__webpack_require__(4640),shared=__webpack_require__(85816),NATIVE_SYMBOL_REGISTRY=__webpack_require__(84411),SymbolToStringRegistry=shared("symbol-to-string-registry");$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function keyFor(sym){if(!isSymbol(sym))throw new TypeError(tryToString(sym)+" is not a symbol");if(hasOwn(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]}})},11042:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),uncurryThis=__webpack_require__(1907),getOwnPropertyNamesModule=__webpack_require__(24443),getOwnPropertySymbolsModule=__webpack_require__(87170),anObject=__webpack_require__(36624),concat=uncurryThis([].concat);module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?concat(keys,getOwnPropertySymbols(it)):keys}},11091:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),apply=__webpack_require__(76024),uncurryThis=__webpack_require__(92361),isCallable=__webpack_require__(62250),getOwnPropertyDescriptor=__webpack_require__(13846).f,isForced=__webpack_require__(7463),path=__webpack_require__(92046),bind=__webpack_require__(28311),createNonEnumerableProperty=__webpack_require__(61626),hasOwn=__webpack_require__(49724);__webpack_require__(36128);var wrapConstructor=function(NativeConstructor){var Wrapper=function(a,b,c){if(this instanceof Wrapper){switch(arguments.length){case 0:return new NativeConstructor;case 1:return new NativeConstructor(a);case 2:return new NativeConstructor(a,b)}return new NativeConstructor(a,b,c)}return apply(NativeConstructor,this,arguments)};return Wrapper.prototype=NativeConstructor.prototype,Wrapper};module.exports=function(options,source){var FORCED,USE_NATIVE,VIRTUAL_PROTOTYPE,key,sourceProperty,targetProperty,nativeProperty,resultProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat,PROTO=options.proto,nativeSource=GLOBAL?globalThis:STATIC?globalThis[TARGET]:globalThis[TARGET]&&globalThis[TARGET].prototype,target=GLOBAL?path:path[TARGET]||createNonEnumerableProperty(path,TARGET,{})[TARGET],targetPrototype=target.prototype;for(key in source)USE_NATIVE=!(FORCED=isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced))&&nativeSource&&hasOwn(nativeSource,key),targetProperty=target[key],USE_NATIVE&&(nativeProperty=options.dontCallGetSet?(descriptor=getOwnPropertyDescriptor(nativeSource,key))&&descriptor.value:nativeSource[key]),sourceProperty=USE_NATIVE&&nativeProperty?nativeProperty:source[key],(FORCED||PROTO||typeof targetProperty!=typeof sourceProperty)&&(resultProperty=options.bind&&USE_NATIVE?bind(sourceProperty,globalThis):options.wrap&&USE_NATIVE?wrapConstructor(sourceProperty):PROTO&&isCallable(sourceProperty)?uncurryThis(sourceProperty):sourceProperty,(options.sham||sourceProperty&&sourceProperty.sham||targetProperty&&targetProperty.sham)&&createNonEnumerableProperty(resultProperty,"sham",!0),createNonEnumerableProperty(target,key,resultProperty),PROTO&&(hasOwn(path,VIRTUAL_PROTOTYPE=TARGET+"Prototype")||createNonEnumerableProperty(path,VIRTUAL_PROTOTYPE,{}),createNonEnumerableProperty(path[VIRTUAL_PROTOTYPE],key,sourceProperty),options.real&&targetPrototype&&(FORCED||!targetPrototype[key])&&createNonEnumerableProperty(targetPrototype,key,sourceProperty)))}},11156:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var userAgent=__webpack_require__(96794);module.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent)},11229:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var bind=__webpack_require__(28311),call=__webpack_require__(13930),toObject=__webpack_require__(39298),callWithSafeIterationClosing=__webpack_require__(26818),isArrayIteratorMethod=__webpack_require__(37812),isConstructor=__webpack_require__(25468),lengthOfArrayLike=__webpack_require__(20575),createProperty=__webpack_require__(5543),getIterator=__webpack_require__(10300),getIteratorMethod=__webpack_require__(73448),$Array=Array;module.exports=function from(arrayLike){var O=toObject(arrayLike),IS_CONSTRUCTOR=isConstructor(this),argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:void 0,mapping=void 0!==mapfn;mapping&&(mapfn=bind(mapfn,argumentsLength>2?arguments[2]:void 0));var length,result,step,iterator,next,value,iteratorMethod=getIteratorMethod(O),index=0;if(!iteratorMethod||this===$Array&&isArrayIteratorMethod(iteratorMethod))for(length=lengthOfArrayLike(O),result=IS_CONSTRUCTOR?new this(length):$Array(length);length>index;index++)value=mapping?mapfn(O[index],index):O[index],createProperty(result,index,value);else for(result=IS_CONSTRUCTOR?new this:[],next=(iterator=getIterator(O,iteratorMethod)).next;!(step=call(next,iterator)).done;index++)value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value,createProperty(result,index,value);return result.length=index,result}},11263:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(26737);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","sort")},11265:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(34598)},11317:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>deepmerge,Q:()=>isPlainObject});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58168),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96540);function isPlainObject(item){if("object"!=typeof item||null===item)return!1;const prototype=Object.getPrototypeOf(item);return!(null!==prototype&&prototype!==Object.prototype&&null!==Object.getPrototypeOf(prototype)||Symbol.toStringTag in item||Symbol.iterator in item)}function deepClone(source){if(react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(source)||!isPlainObject(source))return source;const output={};return Object.keys(source).forEach(key=>{output[key]=deepClone(source[key])}),output}function deepmerge(target,source,options={clone:!0}){const output=options.clone?(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},target):target;return isPlainObject(target)&&isPlainObject(source)&&Object.keys(source).forEach(key=>{react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(source[key])?output[key]=source[key]:isPlainObject(source[key])&&Object.prototype.hasOwnProperty.call(target,key)&&isPlainObject(target[key])?output[key]=deepmerge(target[key],source[key],options):options.clone?output[key]=isPlainObject(source[key])?deepClone(source[key]):source[key]:output[key]=source[key]}),output}},11362:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(19748);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","includes")},11372:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("metadata")},11393:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(50530)},11470:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),toIntegerOrInfinity=__webpack_require__(65482),toString=__webpack_require__(90160),requireObjectCoercible=__webpack_require__(74239),charAt=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),stringSlice=uncurryThis("".slice),createMethod=function(CONVERT_TO_STRING){return function($this,pos){var first,second,S=toString(requireObjectCoercible($this)),position=toIntegerOrInfinity(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":void 0:(first=charCodeAt(S,position))<55296||first>56319||position+1===size||(second=charCodeAt(S,position+1))<56320||second>57343?CONVERT_TO_STRING?charAt(S,position):first:CONVERT_TO_STRING?stringSlice(S,position,position+2):second-56320+(first-55296<<10)+65536}};module.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},11793:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var classof=__webpack_require__(45807);module.exports=Array.isArray||function isArray(argument){return"Array"===classof(argument)}},11848:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_system_createStyled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56461),_defaultTheme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22765),_identifier__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58312),_rootShouldForwardProp__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39770);const __WEBPACK_DEFAULT_EXPORT__=(0,_mui_system_createStyled__WEBPACK_IMPORTED_MODULE_0__.Ay)({themeId:_identifier__WEBPACK_IMPORTED_MODULE_2__.A,defaultTheme:_defaultTheme__WEBPACK_IMPORTED_MODULE_1__.A,rootShouldForwardProp:_rootShouldForwardProp__WEBPACK_IMPORTED_MODULE_3__.A})},12074:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isRegExp=__webpack_require__(72087),$TypeError=TypeError;module.exports=function(it){if(isRegExp(it))throw new $TypeError("The method doesn't accept regular expressions");return it}},12092:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")},12268:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(67961);module.exports=parent},12393:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(29944);module.exports=parent},12560:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363);var DOMIterables=__webpack_require__(19287),globalThis=__webpack_require__(45951),setToStringTag=__webpack_require__(14840),Iterators=__webpack_require__(93742);for(var COLLECTION_NAME in DOMIterables)setToStringTag(globalThis[COLLECTION_NAME],COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array},12595:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),uncurryThis=__webpack_require__(1907),Symbol=getBuiltIn("Symbol"),keyFor=Symbol.keyFor,thisSymbolValue=uncurryThis(Symbol.prototype.valueOf);module.exports=Symbol.isRegisteredSymbol||function isRegisteredSymbol(value){try{return void 0!==keyFor(thisSymbolValue(value))}catch(error){return!1}}},12647:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),isCallable=__webpack_require__(62250),store=__webpack_require__(36128),functionToString=uncurryThis(Function.toString);isCallable(store.inspectSource)||(store.inspectSource=function(it){return functionToString(it)}),module.exports=store.inspectSource},12757:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(11263),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.sort;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.sort?method:own}},12802:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var defineBuiltIn=__webpack_require__(68055);module.exports=function(target,src,options){for(var key in src)options&&options.unsafe&&target[key]?target[key]=src[key]:defineBuiltIn(target,key,src[key],options);return target}},13313:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),getBuiltIn=__webpack_require__(85582),hasOwn=__webpack_require__(49724),toString=__webpack_require__(90160),shared=__webpack_require__(85816),NATIVE_SYMBOL_REGISTRY=__webpack_require__(84411),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry");$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{for:function(key){var string=toString(key);if(hasOwn(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=getBuiltIn("Symbol")(string);return StringToSymbolRegistry[string]=symbol,SymbolToStringRegistry[symbol]=string,symbol}})},13531:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(92425);var path=__webpack_require__(92046);module.exports=path.Array.isArray},13682:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(3157);module.exports=parent},13846:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),call=__webpack_require__(13930),propertyIsEnumerableModule=__webpack_require__(22574),createPropertyDescriptor=__webpack_require__(75817),toIndexedObject=__webpack_require__(27374),toPropertyKey=__webpack_require__(70470),hasOwn=__webpack_require__(49724),IE8_DOM_DEFINE=__webpack_require__(73648),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?$getOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){if(O=toIndexedObject(O),P=toPropertyKey(P),IE8_DOM_DEFINE)try{return $getOwnPropertyDescriptor(O,P)}catch(error){}if(hasOwn(O,P))return createPropertyDescriptor(!call(propertyIsEnumerableModule.f,O,P),O[P])}},13930:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var NATIVE_BIND=__webpack_require__(41505),call=Function.prototype.call;module.exports=NATIVE_BIND?call.bind(call):function(){return call.apply(call,arguments)}},13939:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Symbol",stat:!0},{isRegisteredSymbol:__webpack_require__(12595)})},13967:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>capitalize});var _mui_utils_formatMuiErrorMessage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89453);function capitalize(string){if("string"!=typeof string)throw new Error((0,_mui_utils_formatMuiErrorMessage__WEBPACK_IMPORTED_MODULE_0__.A)(7));return string.charAt(0).toUpperCase()+string.slice(1)}},14006:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(47764)},14069:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(27086)},14106:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(98059);module.exports=parent},14166:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(47439)},14607:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(74674)},14620:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _mui_utils_deepmerge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11317);const __WEBPACK_DEFAULT_EXPORT__=function merge(acc,item){return item?(0,_mui_utils_deepmerge__WEBPACK_IMPORTED_MODULE_0__.A)(acc,item,{clone:!1}):acc}},14676:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(68154)},14729:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$entries=__webpack_require__(94298).entries;$({target:"Object",stat:!0},{entries:function entries(O){return $entries(O)}})},14840:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(52623),defineProperty=__webpack_require__(74284).f,createNonEnumerableProperty=__webpack_require__(61626),hasOwn=__webpack_require__(49724),toString=__webpack_require__(54878),TO_STRING_TAG=__webpack_require__(76264)("toStringTag");module.exports=function(it,TAG,STATIC,SET_METHOD){var target=STATIC?it:it&&it.prototype;target&&(hasOwn(target,TO_STRING_TAG)||defineProperty(target,TO_STRING_TAG,{configurable:!0,value:TAG}),SET_METHOD&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty(target,"toString",toString))}},15287:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var l=__webpack_require__(45228),n=60103,p=60106;exports.Fragment=60107,exports.StrictMode=60108,exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),p=w("react.portal"),exports.Fragment=w("react.fragment"),exports.StrictMode=w("react.strict_mode"),exports.Profiler=w("react.profiler"),q=w("react.provider"),r=w("react.context"),t=w("react.forward_ref"),exports.Suspense=w("react.suspense"),u=w("react.memo"),v=w("react.lazy")}var x="function"==typeof Symbol&&Symbol.iterator;function z(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a,this.context=b,this.refs=B,this.updater=c||A}function D(){}function E(a,b,c){this.props=a,this.context=b,this.refs=B,this.updater=c||A}C.prototype.isReactComponent={},C.prototype.setState=function(a,b){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,"setState")},C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},D.prototype=C.prototype;var F=E.prototype=new D;F.constructor=E,l(F,C.prototype),F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=""+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}function L(a){return"object"==typeof a&&null!==a&&a.$$typeof===n}var M=/\/+/g;function N(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function escape(a){var b={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(a){return b[a]})}(""+a.key):b.toString(36)}function O(a,b,c,e,d){var k=typeof a;"undefined"!==k&&"boolean"!==k||(a=null);var h=!1;if(null===a)h=!0;else switch(k){case"string":case"number":h=!0;break;case"object":switch(a.$$typeof){case n:case p:h=!0}}if(h)return d=d(h=a),a=""===e?"."+N(h,0):e,Array.isArray(d)?(c="",null!=a&&(c=a.replace(M,"$&/")+"/"),O(d,b,c,"",function(a){return a})):null!=d&&(L(d)&&(d=function K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}(d,c+(!d.key||h&&h.key===d.key?"":(""+d.key).replace(M,"$&/")+"/")+a)),b.push(d)),1;if(h=0,e=""===e?".":e+":",Array.isArray(a))for(var g=0;g<a.length;g++){var f=e+N(k=a[g],g);h+=O(k,b,c,f,d)}else if(f=function y(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=x&&a[x]||a["@@iterator"])?a:null}(a),"function"==typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)h+=O(k=k.value,b,c,f=e+N(k,g++),d);else if("object"===k)throw b=""+a,Error(z(31,"[object Object]"===b?"object with keys {"+Object.keys(a).join(", ")+"}":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;return O(a,e,"","",function(a){return b.call(c,a,d++)}),e}function Q(a){if(-1===a._status){var b=a._result;b=b(),a._status=0,a._result=b,b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};exports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return P(a,function(){b++}),b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}},exports.Component=C,exports.PureComponent=E,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,exports.cloneElement=function(a,b,c){if(null==a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){if(void 0!==b.ref&&(k=b.ref,h=G.current),void 0!==b.key&&(d=""+b.key),a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,key:d,ref:k,props:e,_owner:h}},exports.createContext=function(a,b){return void 0===b&&(b=null),(a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:q,_context:a},a.Consumer=a},exports.createElement=J,exports.createFactory=function(a){var b=J.bind(null,a);return b.type=a,b},exports.createRef=function(){return{current:null}},exports.forwardRef=function(a){return{$$typeof:t,render:a}},exports.isValidElement=L,exports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}},exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}},exports.useCallback=function(a,b){return S().useCallback(a,b)},exports.useContext=function(a,b){return S().useContext(a,b)},exports.useDebugValue=function(){},exports.useEffect=function(a,b){return S().useEffect(a,b)},exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)},exports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)},exports.useMemo=function(a,b){return S().useMemo(a,b)},exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)},exports.useRef=function(a){return S().useRef(a)},exports.useState=function(a){return S().useState(a)},exports.version="17.0.2"},15344:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("search")},15703:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),caller=__webpack_require__(39841),Map=getBuiltIn("Map");module.exports={Map,set:caller("set",2),get:caller("get",1),has:caller("has",1),remove:caller("delete",1),proto:Map.prototype}},15869:(module,__unused_webpack_exports,__webpack_require__)=>{var _unshiftInstanceProperty=__webpack_require__(28461);module.exports=function _regeneratorKeys(e){var n=Object(e),r=[];for(var t in n)_unshiftInstanceProperty(r).call(r,t);return function e(){for(;r.length;)if((t=r.pop())in n)return e.value=t,e.done=!1,e;return e.done=!0,e}},module.exports.__esModule=!0,module.exports.default=module.exports},15972:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var hasOwn=__webpack_require__(49724),isCallable=__webpack_require__(62250),toObject=__webpack_require__(39298),sharedKey=__webpack_require__(92522),CORRECT_PROTOTYPE_GETTER=__webpack_require__(57382),IE_PROTO=sharedKey("IE_PROTO"),$Object=Object,ObjectPrototype=$Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(O){var object=toObject(O);if(hasOwn(object,IE_PROTO))return object[IE_PROTO];var constructor=object.constructor;return isCallable(constructor)&&object instanceof constructor?constructor.prototype:object instanceof $Object?ObjectPrototype:null}},15980:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(28699);module.exports=parent},16160:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(87166)},16177:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(49295);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","filter")},16693:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(46339);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","reduce")},16718:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},16761:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),getBuiltIn=__webpack_require__(85582),IS_PURE=__webpack_require__(7376),NativePromiseConstructor=__webpack_require__(55463),FORCED_PROMISE_CONSTRUCTOR=__webpack_require__(1759).CONSTRUCTOR,promiseResolve=__webpack_require__(83569),PromiseConstructorWrapper=getBuiltIn("Promise"),CHECK_WRAPPER=IS_PURE&&!FORCED_PROMISE_CONSTRUCTOR;$({target:"Promise",stat:!0,forced:IS_PURE||FORCED_PROMISE_CONSTRUCTOR},{resolve:function resolve(x){return promiseResolve(CHECK_WRAPPER&&this===PromiseConstructorWrapper?NativePromiseConstructor:this,x)}})},16781:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(24139)},16946:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),fails=__webpack_require__(98828),classof=__webpack_require__(45807),$Object=Object,split=uncurryThis("".split);module.exports=fails(function(){return!$Object("z").propertyIsEnumerable(0)})?function(it){return"String"===classof(it)?split(it,""):$Object(it)}:$Object},17081:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),globalThis=__webpack_require__(45951),InternalMetadataModule=__webpack_require__(61548),fails=__webpack_require__(98828),createNonEnumerableProperty=__webpack_require__(61626),iterate=__webpack_require__(24823),anInstance=__webpack_require__(59596),isCallable=__webpack_require__(62250),isObject=__webpack_require__(46285),isNullOrUndefined=__webpack_require__(87136),setToStringTag=__webpack_require__(14840),defineProperty=__webpack_require__(74284).f,forEach=__webpack_require__(70726).forEach,DESCRIPTORS=__webpack_require__(39447),InternalStateModule=__webpack_require__(64932),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor;module.exports=function(CONSTRUCTOR_NAME,wrapper,common){var Constructor,IS_MAP=-1!==CONSTRUCTOR_NAME.indexOf("Map"),IS_WEAK=-1!==CONSTRUCTOR_NAME.indexOf("Weak"),ADDER=IS_MAP?"set":"add",NativeConstructor=globalThis[CONSTRUCTOR_NAME],NativePrototype=NativeConstructor&&NativeConstructor.prototype,exported={};if(DESCRIPTORS&&isCallable(NativeConstructor)&&(IS_WEAK||NativePrototype.forEach&&!fails(function(){(new NativeConstructor).entries().next()}))){var Prototype=(Constructor=wrapper(function(target,iterable){setInternalState(anInstance(target,Prototype),{type:CONSTRUCTOR_NAME,collection:new NativeConstructor}),isNullOrUndefined(iterable)||iterate(iterable,target[ADDER],{that:target,AS_ENTRIES:IS_MAP})})).prototype,getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME);forEach(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(KEY){var IS_ADDER="add"===KEY||"set"===KEY;!(KEY in NativePrototype)||IS_WEAK&&"clear"===KEY||createNonEnumerableProperty(Prototype,KEY,function(a,b){var collection=getInternalState(this).collection;if(!IS_ADDER&&IS_WEAK&&!isObject(a))return"get"===KEY&&void 0;var result=collection[KEY](0===a?0:a,b);return IS_ADDER?this:result})}),IS_WEAK||defineProperty(Prototype,"size",{configurable:!0,get:function(){return getInternalState(this).collection.size}})}else Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER),InternalMetadataModule.enable();return setToStringTag(Constructor,CONSTRUCTOR_NAME,!1,!0),exported[CONSTRUCTOR_NAME]=Constructor,$({global:!0,forced:!0},exported),IS_WEAK||common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP),Constructor}},17091:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>createTransitions,p0:()=>duration});var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98587),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58168);const _excluded=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(milliseconds){return`${Math.round(milliseconds)}ms`}function getAutoHeightDuration(height){if(!height)return 0;const constant=height/36;return Math.round(10*(4+15*constant**.25+constant/5))}function createTransitions(inputTransitions){const mergedEasing=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.A)({},easing,inputTransitions.easing),mergedDuration=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.A)({},duration,inputTransitions.duration);return(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.A)({getAutoHeightDuration,create:(props=["all"],options={})=>{const{duration:durationOption=mergedDuration.standard,easing:easingOption=mergedEasing.easeInOut,delay=0}=options;(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__.A)(options,_excluded);return(Array.isArray(props)?props:[props]).map(animatedProp=>`${animatedProp} ${"string"==typeof durationOption?durationOption:formatMs(durationOption)} ${easingOption} ${"string"==typeof delay?delay:formatMs(delay)}`).join(",")}},inputTransitions,{easing:mergedEasing,duration:mergedDuration})}},17286:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),newPromiseCapabilityModule=__webpack_require__(56254);$({target:"Promise",stat:!0,forced:__webpack_require__(1759).CONSTRUCTOR},{reject:function reject(r){var capability=newPromiseCapabilityModule.f(this);return(0,capability.reject)(r),capability.promise}})},17365:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function setRef(ref,value){"function"==typeof ref?ref(value):ref&&(ref.current=value)}__webpack_require__.d(__webpack_exports__,{A:()=>setRef})},17437:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AH:()=>css,i7:()=>keyframes,mL:()=>Global});var _emotion_element_f0de968e_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24684),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(96540),_emotion_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30041),_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71287),_emotion_serialize__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43174),jsx=(__webpack_require__(55655),__webpack_require__(4146),function jsx(type,props){var args=arguments;if(null==props||!_emotion_element_f0de968e_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.h.call(props,"css"))return react__WEBPACK_IMPORTED_MODULE_1__.createElement.apply(void 0,args);var argsLength=args.length,createElementArgArray=new Array(argsLength);createElementArgArray[0]=_emotion_element_f0de968e_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.E,createElementArgArray[1]=(0,_emotion_element_f0de968e_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.c)(type,props);for(var i=2;i<argsLength;i++)createElementArgArray[i]=args[i];return react__WEBPACK_IMPORTED_MODULE_1__.createElement.apply(null,createElementArgArray)});!function(_jsx){var JSX;JSX||(JSX=_jsx.JSX||(_jsx.JSX={}))}(jsx||(jsx={}));var Global=(0,_emotion_element_f0de968e_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.w)(function(props,cache){var styles=props.styles,serialized=(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_4__.J)([styles],void 0,react__WEBPACK_IMPORTED_MODULE_1__.useContext(_emotion_element_f0de968e_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.T)),sheetRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef();return(0,_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_3__.i)(function(){var key=cache.key+"-global",sheet=new cache.sheet.constructor({key,nonce:cache.sheet.nonce,container:cache.sheet.container,speedy:cache.sheet.isSpeedy}),rehydrating=!1,node=document.querySelector('style[data-emotion="'+key+" "+serialized.name+'"]');return cache.sheet.tags.length&&(sheet.before=cache.sheet.tags[0]),null!==node&&(rehydrating=!0,node.setAttribute("data-emotion",key),sheet.hydrate([node])),sheetRef.current=[sheet,rehydrating],function(){sheet.flush()}},[cache]),(0,_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_3__.i)(function(){var sheetRefCurrent=sheetRef.current,sheet=sheetRefCurrent[0];if(sheetRefCurrent[1])sheetRefCurrent[1]=!1;else{if(void 0!==serialized.next&&(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_2__.sk)(cache,serialized.next,!0),sheet.tags.length){var element=sheet.tags[sheet.tags.length-1].nextElementSibling;sheet.before=element,sheet.flush()}cache.insert("",serialized,sheet,!1)}},[cache,serialized.name]),null});function css(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_4__.J)(args)}function keyframes(){var insertable=css.apply(void 0,arguments),name="animation-"+insertable.name;return{name,styles:"@keyframes "+name+"{"+insertable.styles+"}",anim:1,toString:function toString(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},17649:()=>{},18402:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(13531);module.exports=parent},18593:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>utils_isMuiElement});var react=__webpack_require__(96540);const utils_isMuiElement=function isMuiElement(element,muiNames){var _muiName,_element$type;return react.isValidElement(element)&&-1!==muiNames.indexOf(null!=(_muiName=element.type.muiName)?_muiName:null==(_element$type=element.type)||null==(_element$type=_element$type._payload)||null==(_element$type=_element$type.value)?void 0:_element$type.muiName)}},18979:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(6686)},19280:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(25663);module.exports=parent},19287:module=>{"use strict";module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},19595:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var hasOwn=__webpack_require__(49724),ownKeys=__webpack_require__(11042),getOwnPropertyDescriptorModule=__webpack_require__(13846),definePropertyModule=__webpack_require__(74284);module.exports=function(target,source,exceptions){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];hasOwn(target,key)||exceptions&&hasOwn(exceptions,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},19661:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(83589);var path=__webpack_require__(92046);module.exports=path.Object.keys},19709:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(23034);module.exports=parent},19748:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$includes=__webpack_require__(74436).includes,fails=__webpack_require__(98828),addToUnscopables=__webpack_require__(42156);$({target:"Array",proto:!0,forced:fails(function(){return!Array(1).includes()})},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes")},19770:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),notARegExp=__webpack_require__(12074),requireObjectCoercible=__webpack_require__(74239),toString=__webpack_require__(90160),correctIsRegExpLogic=__webpack_require__(25735),stringIndexOf=uncurryThis("".indexOf);$({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function includes(searchString){return!!~stringIndexOf(toString(requireObjectCoercible(this)),toString(notARegExp(searchString)),arguments.length>1?arguments[1]:void 0)}})},19846:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var V8_VERSION=__webpack_require__(20798),fails=__webpack_require__(98828),$String=__webpack_require__(45951).String;module.exports=!!Object.getOwnPropertySymbols&&!fails(function(){var symbol=Symbol("symbol detection");return!$String(symbol)||!(Object(symbol)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41})},19888:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(58493)},20016:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(17081)("Set",function(init){return function Set(){return init(this,arguments.length?arguments[0]:void 0)}},__webpack_require__(30217))},20366:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var path=__webpack_require__(92046),hasOwn=__webpack_require__(49724),wrappedWellKnownSymbolModule=__webpack_require__(80560),defineProperty=__webpack_require__(74284).f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});hasOwn(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},20575:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toLength=__webpack_require__(3121);module.exports=function(obj){return toLength(obj.length)}},20591:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(84997)},20768:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var wellKnownSymbol=__webpack_require__(76264),defineProperty=__webpack_require__(74284).f,METADATA=wellKnownSymbol("metadata"),FunctionPrototype=Function.prototype;void 0===FunctionPrototype[METADATA]&&defineProperty(FunctionPrototype,METADATA,{value:null})},20798:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var match,version,globalThis=__webpack_require__(45951),userAgent=__webpack_require__(96794),process=globalThis.process,Deno=globalThis.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8;v8&&(version=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent&&(!(match=userAgent.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/))&&(version=+match[1]),module.exports=version},21020:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__(45228);var f=__webpack_require__(96540),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},21035:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(24274);module.exports=parent},21127:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(85745);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","push")},21529:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540);const __WEBPACK_DEFAULT_EXPORT__="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect},21785:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:__webpack_require__(69197)})},21926:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(46750);var Object=__webpack_require__(92046).Object,defineProperty=module.exports=function defineProperty(it,key,desc){return Object.defineProperty(it,key,desc)};Object.defineProperty.sham&&(defineProperty.sham=!0)},21978:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),globalThis=__webpack_require__(45951),setInterval=__webpack_require__(70485)(globalThis.setInterval,!0);$({global:!0,bind:!0,forced:globalThis.setInterval!==setInterval},{setInterval})},22092:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(95650);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","forEach")},22162:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var React=__webpack_require__(96540),shim=__webpack_require__(19888);var objectIs="function"==typeof Object.is?Object.is:function is(x,y){return x===y&&(0!==x||1/x==1/y)||x!=x&&y!=y},useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;exports.useSyncExternalStoreWithSelector=function(subscribe,getSnapshot,getServerSnapshot,selector,isEqual){var instRef=useRef(null);if(null===instRef.current){var inst={hasValue:!1,value:null};instRef.current=inst}else inst=instRef.current;instRef=useMemo(function(){function memoizedSelector(nextSnapshot){if(!hasMemo){if(hasMemo=!0,memoizedSnapshot=nextSnapshot,nextSnapshot=selector(nextSnapshot),void 0!==isEqual&&inst.hasValue){var currentSelection=inst.value;if(isEqual(currentSelection,nextSnapshot))return memoizedSelection=currentSelection}return memoizedSelection=nextSnapshot}if(currentSelection=memoizedSelection,objectIs(memoizedSnapshot,nextSnapshot))return currentSelection;var nextSelection=selector(nextSnapshot);return void 0!==isEqual&&isEqual(currentSelection,nextSelection)?(memoizedSnapshot=nextSnapshot,currentSelection):(memoizedSnapshot=nextSnapshot,memoizedSelection=nextSelection)}var memoizedSnapshot,memoizedSelection,hasMemo=!1,maybeGetServerSnapshot=void 0===getServerSnapshot?null:getServerSnapshot;return[function(){return memoizedSelector(getSnapshot())},null===maybeGetServerSnapshot?void 0:function(){return memoizedSelector(maybeGetServerSnapshot())}]},[getSnapshot,getServerSnapshot,selector,isEqual]);var value=useSyncExternalStore(subscribe,instRef[0],instRef[1]);return useEffect(function(){inst.hasValue=!0,inst.value=value},[value]),useDebugValue(value),value}},22190:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var call=__webpack_require__(13930);module.exports=function(record,fn,ITERATOR_INSTEAD_OF_RECORD){for(var step,result,iterator=ITERATOR_INSTEAD_OF_RECORD?record:record.iterator,next=record.next;!(step=call(next,iterator)).done;)if(void 0!==(result=fn(step.value)))return result}},22231:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(59692);module.exports=parent},22392:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(45771);module.exports=parent},22395:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var descriptor,$=__webpack_require__(11091),uncurryThis=__webpack_require__(92361),getOwnPropertyDescriptor=__webpack_require__(13846).f,toLength=__webpack_require__(3121),toString=__webpack_require__(90160),notARegExp=__webpack_require__(12074),requireObjectCoercible=__webpack_require__(74239),correctIsRegExpLogic=__webpack_require__(25735),IS_PURE=__webpack_require__(7376),stringSlice=uncurryThis("".slice),min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith");$({target:"String",proto:!0,forced:!!(IS_PURE||CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith"),!descriptor||descriptor.writable))&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function startsWith(searchString){var that=toString(requireObjectCoercible(this));notARegExp(searchString);var index=toLength(min(arguments.length>1?arguments[1]:void 0,that.length)),search=toString(searchString);return stringSlice(that,index,index+search.length)===search}})},22532:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GlobalStyles:()=>GlobalStyles.A,StyledEngineProvider:()=>StyledEngineProvider,ThemeContext:()=>emotion_element_f0de968e_browser_esm.T,css:()=>emotion_react_browser_esm.AH,default:()=>styled_engine_styled,internal_processStyles:()=>internal_processStyles,internal_serializeStyles:()=>internal_serializeStyles,keyframes:()=>emotion_react_browser_esm.i7});var esm_extends=__webpack_require__(58168),emotion_element_f0de968e_browser_esm=__webpack_require__(24684),emotion_serialize_esm=__webpack_require__(43174),emotion_use_insertion_effect_with_fallbacks_browser_esm=__webpack_require__(71287),emotion_utils_browser_esm=__webpack_require__(30041),react=__webpack_require__(96540),emotion_memoize_esm=__webpack_require__(36289),reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,testOmitPropsOnStringTag=(0,emotion_memoize_esm.A)(function(prop){return reactPropsRegex.test(prop)||111===prop.charCodeAt(0)&&110===prop.charCodeAt(1)&&prop.charCodeAt(2)<91}),testOmitPropsOnComponent=function testOmitPropsOnComponent(key){return"theme"!==key},getDefaultShouldForwardProp=function getDefaultShouldForwardProp(tag){return"string"==typeof tag&&tag.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function composeShouldForwardProps(tag,options,isReal){var shouldForwardProp;if(options){var optionsShouldForwardProp=options.shouldForwardProp;shouldForwardProp=tag.__emotion_forwardProp&&optionsShouldForwardProp?function(propName){return tag.__emotion_forwardProp(propName)&&optionsShouldForwardProp(propName)}:optionsShouldForwardProp}return"function"!=typeof shouldForwardProp&&isReal&&(shouldForwardProp=tag.__emotion_forwardProp),shouldForwardProp},Insertion=function Insertion(_ref){var cache=_ref.cache,serialized=_ref.serialized,isStringTag=_ref.isStringTag;return(0,emotion_utils_browser_esm.SF)(cache,serialized,isStringTag),(0,emotion_use_insertion_effect_with_fallbacks_browser_esm.s)(function(){return(0,emotion_utils_browser_esm.sk)(cache,serialized,isStringTag)}),null},styled=function createStyled(tag,options){var identifierName,targetClassName,isReal=tag.__emotion_real===tag,baseTag=isReal&&tag.__emotion_base||tag;void 0!==options&&(identifierName=options.label,targetClassName=options.target);var shouldForwardProp=composeShouldForwardProps(tag,options,isReal),defaultShouldForwardProp=shouldForwardProp||getDefaultShouldForwardProp(baseTag),shouldUseAs=!defaultShouldForwardProp("as");return function(){var args=arguments,styles=isReal&&void 0!==tag.__emotion_styles?tag.__emotion_styles.slice(0):[];if(void 0!==identifierName&&styles.push("label:"+identifierName+";"),null==args[0]||void 0===args[0].raw)styles.push.apply(styles,args);else{var templateStringsArr=args[0];styles.push(templateStringsArr[0]);for(var len=args.length,i=1;i<len;i++)styles.push(args[i],templateStringsArr[i])}var Styled=(0,emotion_element_f0de968e_browser_esm.w)(function(props,cache,ref){var FinalTag=shouldUseAs&&props.as||baseTag,className="",classInterpolations=[],mergedProps=props;if(null==props.theme){for(var key in mergedProps={},props)mergedProps[key]=props[key];mergedProps.theme=react.useContext(emotion_element_f0de968e_browser_esm.T)}"string"==typeof props.className?className=(0,emotion_utils_browser_esm.Rk)(cache.registered,classInterpolations,props.className):null!=props.className&&(className=props.className+" ");var serialized=(0,emotion_serialize_esm.J)(styles.concat(classInterpolations),cache.registered,mergedProps);className+=cache.key+"-"+serialized.name,void 0!==targetClassName&&(className+=" "+targetClassName);var finalShouldForwardProp=shouldUseAs&&void 0===shouldForwardProp?getDefaultShouldForwardProp(FinalTag):defaultShouldForwardProp,newProps={};for(var _key in props)shouldUseAs&&"as"===_key||finalShouldForwardProp(_key)&&(newProps[_key]=props[_key]);return newProps.className=className,ref&&(newProps.ref=ref),react.createElement(react.Fragment,null,react.createElement(Insertion,{cache,serialized,isStringTag:"string"==typeof FinalTag}),react.createElement(FinalTag,newProps))});return Styled.displayName=void 0!==identifierName?identifierName:"Styled("+("string"==typeof baseTag?baseTag:baseTag.displayName||baseTag.name||"Component")+")",Styled.defaultProps=tag.defaultProps,Styled.__emotion_real=Styled,Styled.__emotion_base=baseTag,Styled.__emotion_styles=styles,Styled.__emotion_forwardProp=shouldForwardProp,Object.defineProperty(Styled,"toString",{value:function value(){return"."+targetClassName}}),Styled.withComponent=function(nextTag,nextOptions){return createStyled(nextTag,(0,esm_extends.A)({},options,nextOptions,{shouldForwardProp:composeShouldForwardProps(Styled,nextOptions,!0)})).apply(void 0,styles)},Styled}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(tagName){styled[tagName]=styled(tagName)});var emotion_react_browser_esm=__webpack_require__(17437),emotion_cache_browser_esm=__webpack_require__(55655),jsx_runtime=__webpack_require__(74848);const cacheMap=new Map;function StyledEngineProvider(props){const{injectFirst,enableCssLayer,children}=props,cache=react.useMemo(()=>{const cacheKey=`${injectFirst}-${enableCssLayer}`;if("object"==typeof document&&cacheMap.has(cacheKey))return cacheMap.get(cacheKey);const fresh=function getCache(injectFirst,enableCssLayer){const emotionCache=(0,emotion_cache_browser_esm.A)({key:"css",prepend:injectFirst});if(enableCssLayer){const prevInsert=emotionCache.insert;emotionCache.insert=(...args)=>(args[1].styles.match(/^@layer\s+[^{]*$/)||(args[1].styles=`@layer mui {${args[1].styles}}`),prevInsert(...args))}return emotionCache}(injectFirst,enableCssLayer);return cacheMap.set(cacheKey,fresh),fresh},[injectFirst,enableCssLayer]);return injectFirst||enableCssLayer?(0,jsx_runtime.jsx)(emotion_element_f0de968e_browser_esm.C,{value:cache,children}):children}var GlobalStyles=__webpack_require__(39940);function styled_engine_styled(tag,options){return styled(tag,options)}const internal_processStyles=(tag,processor)=>{Array.isArray(tag.__emotion_styles)&&(tag.__emotion_styles=processor(tag.__emotion_styles))},wrapper=[];function internal_serializeStyles(styles){return wrapper[0]=styles,(0,emotion_serialize_esm.J)(wrapper)}},22551:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var aa=__webpack_require__(96540),m=__webpack_require__(45228),r=__webpack_require__(69982);function y(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b),ea(a+"Capture",b)}function ea(a,b){for(ca[a]=b,a=0;a<b.length;a++)ba.add(b[a])}var fa=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,ja={},ka={};function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b,this.attributeName=d,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=a,this.type=b,this.sanitizeURL=f,this.removeEmptyString=g}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}function qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;(null!==e?0===e.type:!d&&(2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1])))||(function na(a,b,c,d){if(null==b||function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return!d&&(null!==c?!c.acceptsBooleans:"data-"!==(a=a.toLowerCase().slice(0,5))&&"aria-"!==a);default:return!1}}(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}(b,c,e,d)&&(c=null),d||null===e?function la(a){return!!ia.call(ka,a)||!ia.call(ja,a)&&(ha.test(a)?ka[a]=!0:(ja[a]=!0,!1))}(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3!==e.type&&"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(c=3===(e=e.type)||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)}),D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;if("function"==typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E("react.element"),ta=E("react.portal"),ua=E("react.fragment"),wa=E("react.strict_mode"),xa=E("react.profiler"),ya=E("react.provider"),za=E("react.context"),Aa=E("react.forward_ref"),Ba=E("react.suspense"),Ca=E("react.suspense_list"),Da=E("react.memo"),Ea=E("react.lazy"),Fa=E("react.block"),E("react.scope"),Ga=E("react.opaque.id"),Ha=E("react.debug_trace_mode"),Ia=E("react.offscreen"),Ja=E("react.legacy_hidden")}var Ma,Ka="function"==typeof Symbol&&Symbol.iterator;function La(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=Ka&&a[Ka]||a["@@iterator"])?a:null}function Na(a){if(void 0===Ma)try{throw Error()}catch(c){var b=c.stack.trim().match(/\n( *(at )?)/);Ma=b&&b[1]||""}return"\n"+Ma+a}var Oa=!1;function Pa(a,b){if(!a||Oa)return"";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error()}catch(k){d=k}a()}}catch(k){if(k&&d&&"string"==typeof k.stack){for(var e=k.stack.split("\n"),f=d.stack.split("\n"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h)do{if(g--,0>--h||e[g]!==f[h])return"\n"+e[g].replace(" at new "," at ")}while(1<=g&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?Na(a):""}function Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return a=Pa(a.type,!1);case 11:return a=Pa(a.type.render,!1);case 22:return a=Pa(a.type._render,!1);case 1:return a=Pa(a.type,!0);default:return""}}function Ra(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if("object"==typeof a)switch(a.$$typeof){case za:return(a.displayName||"Context")+".Consumer";case ya:return(a._context.displayName||"Context")+".Provider";case Aa:var b=a.render;return b=b.displayName||b.name||"",a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload,a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function Ta(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Va(a){a._valueTracker||(a._valueTracker=function Ua(a){var b=Ta(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&void 0!==c&&"function"==typeof c.get&&"function"==typeof c.set){var e=c.get,f=c.set;return Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a,f.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}}(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=Ta(a)?a.checked?"true":"false":a.value),(a=d)!==c&&(b.setValue(a),!0)}function Xa(a){if(void 0===(a=a||("undefined"!=typeof document?document:void 0)))return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c),a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){null!=(b=b.checked)&&qa(a,"checked",b,!1)}function ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)"number"===d?(0===c&&""===a.value||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d)return void a.removeAttribute("value");b.hasOwnProperty("value")?bb(a,b.type,c):b.hasOwnProperty("defaultValue")&&bb(a,b.type,Sa(b.defaultValue)),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function cb(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue,c||b===a.value||(a.value=b),a.defaultValue=b}""!==(c=a.name)&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,""!==c&&(a.name=c)}function bb(a,b,c){"number"===b&&Xa(a.ownerDocument)===a||(null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}function eb(a,b){return a=m({children:void 0},b),(b=function db(a){var b="";return aa.Children.forEach(a,function(a){null!=a&&(b+=a)}),b}(b.children))&&(a.children=b),a}function fb(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(c=""+Sa(c),b=null,e=0;e<a.length;e++){if(a[e].value===c)return a[e].selected=!0,void(d&&(a[e].defaultSelected=!0));null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){if(c=b.children,b=b.defaultValue,null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=""),c=b}a._wrapperState={initialValue:Sa(c)}}function ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&((c=""+c)!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c)),null!=d&&(a.defaultValue=""+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}var kb_html="http://www.w3.org/1999/xhtml",kb_svg="http://www.w3.org/2000/svg";function lb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?lb(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}var nb,a,ob=(a=function(a,b){if(a.namespaceURI!==kb_svg||"innerHTML"in a)a.innerHTML=b;else{for((nb=nb||document.createElement("div")).innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c)})}:a);function pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b}var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];function sb(a,b,c){return null==b||"boolean"==typeof b||""===b?"":c||"number"!=typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(""+b).trim():b+"px"}function tb(a,b){for(var c in a=a.style,b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=sb(c,b[c],d);"float"===c&&(c="cssFloat"),d?a.setProperty(c,e):a[c]=e}}Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1),qb[b]=qb[a]})});var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if("object"!=typeof b.dangerouslySetInnerHTML||!("__html"in b.dangerouslySetInnerHTML))throw Error(y(61))}if(null!=b.style&&"object"!=typeof b.style)throw Error(y(62))}}function wb(a,b){if(-1===a.indexOf("-"))return"string"==typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xb(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if("function"!=typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;if(Ab=zb=null,Bb(a),b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){null===zb&&null===Ab||(Ib(),Fb())}function Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(d=!("button"===(a=a.type)||"input"===a||"select"===a||"textarea"===a)),a=!d;break a;default:a=!1}if(a)return null;if(c&&"function"!=typeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}}),window.addEventListener("test",Qb,Qb),window.removeEventListener("test",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0,Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1,Tb=null,Rb.apply(Wb,arguments)}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do{!!(1026&(b=a).flags)&&(c=b.return),a=b.return}while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;if(null===b&&(null!==(a=a.alternate)&&(b=a.memoizedState)),null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188))}function cc(a){if(a=function bc(a){var b=a.alternate;if(!b){if(null===(b=Zb(a)))throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){if(null!==(d=e.return)){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188))}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0,c=e,d=f;break}if(h===d){g=!0,d=e,c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0,c=f,d=e;break}if(h===d){g=!0,d=f,c=e;break}h=h.sibling}if(!g)throw Error(y(189))}}if(c.alternate!==d)throw Error(y(190))}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}(a),!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:16|c,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":nc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(b.pointerId)}}function tc(a,b,c,d,e,f){return null===a||a.nativeEvent!==f?(a=rc(b,c,d,e,f),null!==b&&(null!==(b=Cb(b))&&fc(b)),a):(a.eventSystemFlags|=d,b=a.targetContainers,null!==e&&-1===b.indexOf(e)&&b.push(e),a)}function vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(13===(b=c.tag)){if(null!==(b=$b(c)))return a.blockedOn=b,void hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})})}else if(3===b&&c.stateNode.hydrate)return void(a.blockedOn=3===c.tag?c.stateNode.containerInfo:null)}a.blockedOn=null}function xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return null!==(b=Cb(c))&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}function Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){null!==(a=Cb(a.blockedOn))&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null),null!==lc&&xc(lc)&&(lc=null),null!==mc&&xc(mc)&&(mc=null),nc.forEach(zc),oc.forEach(zc)}function Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}function Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}for(null!==kc&&Bc(kc,a),null!==lc&&Bc(lc,a),null!==mc&&Bc(mc,a),nc.forEach(b),oc.forEach(b),c=0;c<pc.length;c++)(d=pc[c]).blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&null===(c=pc[0]).blockedOn;)vc(c),null===c.blockedOn&&pc.shift()}function Dc(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var c,b=Ec[a];for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e="on"+(e[0].toUpperCase()+e.slice(1)),Nc.set(d,b),Mc.set(d,e),da(e,[d])}}(0,r.unstable_now)();var F=8;function Rc(a){if(1&a)return F=15,1;if(2&a)return F=14,2;if(4&a)return F=13,4;var b=24&a;return 0!==b?(F=12,b):32&a?(F=11,32):0!==(b=192&a)?(F=10,b):256&a?(F=9,256):0!==(b=3584&a)?(F=8,b):4096&a?(F=7,4096):0!==(b=4186112&a)?(F=6,b):0!==(b=62914560&a)?(F=5,b):67108864&a?(F=4,67108864):134217728&a?(F=3,134217728):0!==(b=805306368&a)?(F=2,b):1073741824&a?(F=1,1073741824):(F=8,a)}function Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(0!==(f=134217727&c)){var k=f&~g;0!==k?(d=Rc(k),e=F):0!==(h&=f)&&(d=Rc(h),e=F)}else 0!==(f=c&~g)?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;if(d=c&((0>(d=31-Vc(d))?0:1<<d)<<1)-1,0!==b&&b!==d&&0===(b&g)){if(Rc(b),e<=F)return b;F=e}if(0!==(b=a.entangledLanes))for(a=a.entanglements,b&=d;0<b;)e=1<<(c=31-Vc(b)),d|=a[c],b&=~e;return d}function Wc(a){return 0!==(a=-1073741825&a.pendingLanes)?a:1073741824&a?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return 0===(a=Yc(24&~b))?Xc(10,b):a;case 10:return 0===(a=Yc(192&~b))?Xc(8,b):a;case 8:return 0===(a=Yc(3584&~b))&&(0===(a=Yc(4186112&~b))&&(a=512)),a;case 2:return 0===(b=Yc(805306368&~b))&&(b=268435456),b}throw Error(y(358,a))}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}function $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d,a.pingedLanes&=d,(a=a.eventTimes)[b=31-Vc(b)]=c}var Vc=Math.clz32?Math.clz32:function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0},bd=Math.log,cd=Math.LN2;var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}function hd(a,b,c,d){var e;if(fd)if((e=!(4&b))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a))return a=rc(f,a,b,c,d),void jc.push(a);if(function uc(a,b,c,d,e){switch(b){case"focusin":return kc=tc(kc,a,b,c,d,e),!0;case"dragenter":return lc=tc(lc,a,b,c,d,e),!0;case"mouseover":return mc=tc(mc,a,b,c,d,e),!0;case"pointerover":var f=e.pointerId;return nc.set(f,tc(nc.get(f)||null,a,b,c,d,e)),!0;case"gotpointercapture":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}function yc(a,b,c,d){var e=xb(d);if(null!==(e=wc(e))){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){if(null!==(e=$b(f)))return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}return jd(a,b,d,e,c),null}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,d,b=ld,c=b.length,e="value"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;return"charCode"in a?0===(a=a.charCode)&&13===b&&(a=13):a=b,10===a&&(a=13),32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function b(b,d,e,f,g){for(var c in this._reactName=b,this._targetInst=e,this.type=d,this.nativeEvent=f,this.target=g,this.currentTarget=null,a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);return this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd,this.isPropagationStopped=qd,this}return m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),b}var wd,xd,yd,sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&"mousemove"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Dd=rd(m({},Ad,{dataTransfer:0})),Fd=rd(m({},ud,{relatedTarget:0})),Hd=rd(m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0})),Id=m({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Ld=rd(m({},sd,{data:0})),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):!!(a=Od[a])&&!!b[a]}function zd(){return Pd}var Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?13===(a=od(a))?"Enter":String.fromCharCode(a):"keydown"===a.type||"keyup"===a.type?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return"keypress"===a.type?od(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?od(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Rd=rd(Qd),Td=rd(m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Vd=rd(m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd})),Xd=rd(m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0})),Yd=m({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&"CompositionEvent"in window,be=null;fa&&"documentMode"in document&&(be=document.documentMode);var ce=fa&&"TextEvent"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(a,b){switch(a){case"keyup":return-1!==$d.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return"object"==typeof(a=a.detail)&&"data"in a?a.data:null}var ie=!1;var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!le[a.type]:"textarea"===b}function ne(a,b,c,d){Eb(d),0<(b=oe(b,"onChange")).length&&(c=new td("onChange","change",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){if(Wa(ue(a)))return a}function ve(a,b){if("change"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye="function"==typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if("value"===a.propertyName&&te(qe)){var b=[];if(ne(b,qe,a,xb(a)),a=re,Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}function Ce(a,b,c){"focusin"===a?(Ae(),qe=c,(pe=b).attachEvent("onpropertychange",Be)):"focusout"===a&&Ae()}function De(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return te(qe)}function Ee(a,b){if("click"===a)return te(b)}function Fe(a,b){if("input"===a||"change"===a)return te(b)}var He="function"==typeof Object.is?Object.is:function Ge(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},Ie=Object.prototype.hasOwnProperty;function Je(a,b){if(He(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Le(a,b){var d,c=Ke(a);for(a=0;c;){if(3===c.nodeType){if(d=a+c.textContent.length,a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return!(!a||!b)&&(a===b||(!a||3!==a.nodeType)&&(b&&3===b.nodeType?Me(a,b.parentNode):"contains"in a?a.contains(b):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(b))))}function Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c="string"==typeof b.contentWindow.location.href}catch(d){c=!1}if(!c)break;b=Xa((a=b.contentWindow).document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||("selectionStart"in(d=Qe)&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:d={anchorNode:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset},Se&&Je(Se,d)||(Se=d,0<(d=oe(Re,"onSelect")).length&&(b=new td("onSelect","select",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));function Ze(a,b,c){var d=a.type||"unknown-event";a.currentTarget=c,function Yb(a,b,c,d,e,f,g,h,k){if(Xb.apply(this,arguments),Sb){if(!Sb)throw Error(y(198));var l=Tb;Sb=!1,Tb=null,Ub||(Ub=!0,Vb=l)}}(d,b,void 0,a),a.currentTarget=null}function se(a,b){b=!!(4&b);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;if(h=h.listener,k!==f&&e.isPropagationStopped())break a;Ze(e,h,l),f=k}else for(g=0;g<d.length;g++){if(k=(h=d[g]).instance,l=h.currentTarget,h=h.listener,k!==f&&e.isPropagationStopped())break a;Ze(e,h,l),f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a}function G(a,b){var c=$e(b),d=a+"__bubble";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null),df(b,!0,a,null)}))}function df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;if("selectionchange"===a&&9!==c.nodeType&&(f=c.ownerDocument),null!==d&&!b&&Ye.has(a)){if("scroll"!==a)return;e|=2,f=d}var g=$e(f),h=a+"__"+(b?"capture":"bubble");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}function af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a),e=void 0,!Pb||"touchstart"!==b&&"touchmove"!==b&&"wheel"!==b||(e=!0),d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}function jd(a,b,c,d,e){var f=d;if(!(1&b||2&b||null===d))a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if((3===k||4===k)&&((k=g.stateNode.containerInfo)===e||8===k.nodeType&&k.parentNode===e))return;g=g.return}for(;null!==h;){if(null===(g=wc(h)))return;if(5===(k=g.tag)||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}!function Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}(function(){var d=f,e=xb(c),g=[];a:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case"keypress":if(0===od(c))break a;case"keydown":case"keyup":k=Rd;break;case"focusin":x="focus",k=Fd;break;case"focusout":x="blur",k=Fd;break;case"beforeblur":case"afterblur":k=Fd;break;case"click":if(2===c.button)break a;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case"scroll":k=vd;break;case"wheel":k=Zd;break;case"copy":case"cut":case"paste":k=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Td}var w=!!(4&b),z=!w&&"scroll"===a,u=w?null!==h?h+"Capture":null:h;w=[];for(var q,t=d;null!==t;){var v=(q=t).stateNode;if(5===q.tag&&null!==v&&(q=v,null!==u&&(null!=(v=Ob(t,u))&&w.push(ef(t,v,q)))),z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(!(7&b)){if(k="mouseout"===a||"pointerout"===a,(!(h="mouseover"===a||"pointerover"===a)||16&b||!(x=c.relatedTarget||c.fromElement)||!wc(x)&&!x[ff])&&(k||h)&&(h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window,k?(k=d,null!==(x=(x=c.relatedTarget||c.toElement)?wc(x):null)&&(x!==(z=Zb(x))||5!==x.tag&&6!==x.tag)&&(x=null)):(k=null,x=d),k!==x)){if(w=Bd,v="onMouseLeave",u="onMouseEnter",t="mouse","pointerout"!==a&&"pointerover"!==a||(w=Td,v="onPointerLeave",u="onPointerEnter",t="pointer"),z=null==k?h:ue(k),q=null==x?h:ue(x),(h=new w(v,t+"leave",k,c,e)).target=z,h.relatedTarget=q,v=null,wc(e)===d&&((w=new w(u,t+"enter",x,c,e)).target=q,w.relatedTarget=z,v=w),z=v,k&&x)b:{for(u=x,t=0,q=w=k;q;q=gf(q))t++;for(q=0,v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=gf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w),u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1),null!==x&&null!==z&&hf(g,z,x,w,!0)}if("select"===(k=(h=d?ue(d):window).nodeName&&h.nodeName.toLowerCase())||"input"===k&&"file"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&"input"===k.toLowerCase()&&("checkbox"===h.type||"radio"===h.type)&&(J=Ee);switch(J&&(J=J(a,d))?ne(g,J,c,e):(K&&K(a,h,d),"focusout"===a&&(K=h._wrapperState)&&K.controlled&&"number"===h.type&&bb(h,"number",h.value)),K=d?ue(d):window,a){case"focusin":(me(K)||"true"===K.contentEditable)&&(Qe=K,Re=d,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(g,c,e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case"compositionstart":var L="onCompositionStart";break b;case"compositionend":L="onCompositionEnd";break b;case"compositionupdate":L="onCompositionUpdate";break b}L=void 0}else ie?ge(a,c)&&(L="onCompositionEnd"):"keydown"===a&&229===c.keyCode&&(L="onCompositionStart");L&&(de&&"ko"!==c.locale&&(ie||"onCompositionStart"!==L?"onCompositionEnd"===L&&ie&&(Q=nd()):(ld="value"in(kd=e)?kd.value:kd.textContent,ie=!0)),0<(K=oe(d,L)).length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:null!==(Q=he(c))&&(L.data=Q))),(Q=ce?function je(a,b){switch(a){case"compositionend":return he(b);case"keypress":return 32!==b.which?null:(fe=!0,ee);case"textInput":return(a=b.data)===ee&&fe?null:a;default:return null}}(a,c):function ke(a,b){if(ie)return"compositionend"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":default:return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return de&&"ko"!==b.locale?null:b.data}}(a,c))&&(0<(d=oe(d,"onBeforeInput")).length&&(e=new Ld("onBeforeInput","beforeinput",null,c,e),g.push({event:e,listeners:d}),e.data=Q))}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+"Capture",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,null!=(f=Ob(a,c))&&d.unshift(ef(a,f,e)),null!=(f=Ob(a,b))&&d.push(ef(a,f,e))),a=a.return}return d}function gf(a){if(null===a)return null;do{a=a.return}while(a&&5!==a.tag);return a||null}function hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?null!=(k=Ob(c,f))&&g.unshift(ef(c,k,h)):e||null!=(k=Ob(c,f))&&g.push(ef(c,k,h))),c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function nf(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"==typeof b.children||"number"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of="function"==typeof setTimeout?setTimeout:void 0,pf="function"==typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent="":9===a.nodeType&&(null!=(a=a.body)&&(a.textContent=""))}function rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if("$"===c||"$!"===c||"$?"===c){if(0===b)return a;b--}else"/$"===c&&b++}a=a.previousSibling}return null}var tf=0;var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;function wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){if(c=b.alternate,null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}c=(a=c).parentNode}return null}function Cb(a){return!(a=a[wf]||a[ff])||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33))}function Db(a){return a[xf]||null}function $e(a){var b=a[yf];return void 0===b&&(b=a[yf]=new Set),b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++,zf[Af]=a.current,a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;function Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var f,e={};for(f in c)e[f]=b[f];return d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e),e}function Ff(a){return null!=(a=a.childContextTypes)}function Gf(){H(N),H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b),I(N,c)}function If(a,b,c){var d=a.stateNode;if(a=b.childContextTypes,"function"!=typeof d.getChildContext)return c;for(var e in d=d.getChildContext())if(!(e in a))throw Error(y(108,Ra(b)||"Unknown",e));return m({},c,d)}function Jf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf,Df=M.current,I(M,a),I(N,N.current),!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N),I(N,c)}var Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1e4>dg?Sf:function(){return Sf()-dg};function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332))}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332))}}function gg(a,b){return a=fg(a),Nf(a,b)}function hg(a,b,c){return a=fg(a),Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null,Pf(a)}jg()}function jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do{c=c(!0)}while(null!==c)}}),ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){for(var c in b=m({},b),a=a.defaultProps)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}function rg(a){var b=mg.current;H(mg),a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b){if(null===c||(c.childLanes&b)===b)break;c.childLanes|=b}else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a,pg=og=null,null!==(a=a.dependencies)&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}function vg(a,b){if(pg!==a&&!1!==b&&0!==b)if("number"==typeof b&&1073741823!==b||(pg=a,b=1073741823),b={context:a,observedBits:b,next:null},null===og){if(null===ng)throw Error(y(308));og=b,ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b;return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yg(a,b){a=a.updateQueue,b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){if(null!==(a=a.updateQueue)){var c=(a=a.shared).pending;null===c?b.next=b:(b.next=c.next,c.next=b),a.pending=b}}function Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&c===(d=d.updateQueue)){var e=null,f=null;if(null!==(c=c.firstBaseUpdate)){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g,c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;return c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects},void(a.updateQueue=c)}null===(a=c.lastBaseUpdate)?c.firstBaseUpdate=b:a.next=b,c.lastBaseUpdate=b}function Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null,null===g?f=l:g.next=l,g=k;var n=a.alternate;if(null!==n){var A=(n=n.updateQueue).lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){for(A=e.baseState,g=0,n=l=k=null;;){h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});a:{var C=a,x=f;switch(h=b,p=c,x.tag){case 1:if("function"==typeof(C=x.payload)){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=-4097&C.flags|64;case 0:if(null==(h="function"==typeof(C=x.payload)?C.call(p,A,h):C))break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,null===(h=e.effects)?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;if(null===(f=f.next)){if(null===(h=e.shared.pending))break;f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}}null===n&&(k=A),e.baseState=k,e.firstBaseUpdate=l,e.lastBaseUpdate=n,Dg|=g,a.lanes=g,a.memoizedState=A}}function Eg(a,b,c){if(a=b.effects,b.effects=null,null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){if(d.callback=null,d=c,"function"!=typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;function Gg(a,b,c,d){c=null==(c=c(d,b=a.memoizedState))?b:m({},b,c),a.memoizedState=c,0===a.lanes&&(a.updateQueue.baseState=c)}var Kg={isMounted:function(a){return!!(a=a._reactInternals)&&Zb(a)===a},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b,null!=c&&(f.callback=c),Ag(a,f),Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1,f.payload=b,null!=c&&(f.callback=c),Ag(a,f),Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2,null!=b&&(e.callback=b),Ag(a,e),Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||(!Je(c,d)||!Je(e,f))}function Mg(a,b,c){var d=!1,e=Cf,f=b.contextType;return"object"==typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,f=(d=null!=(d=b.contextTypes))?Ef(a,e):Cf),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=Kg,a.stateNode=b,b._reactInternals=a,d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function Ng(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}function Og(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs=Fg,xg(a);var f=b.contextType;"object"==typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f)),Cg(a,c,e,d),e.state=a.memoizedState,"function"==typeof(f=b.getDerivedStateFromProps)&&(Gg(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState),"function"==typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;function Qg(a,b,c){if(null!==(a=c.ref)&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){if(c=c._owner){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===e?b.ref:(b=function(a){var b=d.refs;b===Fg&&(b=d.refs={}),null===a?delete b[e]:b[e]=a},b._stringRef=e,b)}if("string"!=typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a))}return a}function Rg(a,b){if("textarea"!==a.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b))}function Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){return(a=Tg(a,b)).index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?null!==(d=b.alternate)?(d=d.index)<c?(b.flags=2,c):d:(b.flags=2,c):c}function g(b){return a&&null===b.alternate&&(b.flags=2),b}function h(a,b,c,d){return null===b||6!==b.tag?((b=Ug(c,a.mode,d)).return=a,b):((b=e(b,c)).return=a,b)}function k(a,b,c,d){return null!==b&&b.elementType===c.type?((d=e(b,c.props)).ref=Qg(a,b,c),d.return=a,d):((d=Vg(c.type,c.key,c.props,null,a.mode,d)).ref=Qg(a,b,c),d.return=a,d)}function l(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?((b=Wg(c,a.mode,d)).return=a,b):((b=e(b,c.children||[])).return=a,b)}function n(a,b,c,d,f){return null===b||7!==b.tag?((b=Xg(c,a.mode,d,f)).return=a,b):((b=e(b,c)).return=a,b)}function A(a,b,c){if("string"==typeof b||"number"==typeof b)return(b=Ug(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case sa:return(c=Vg(b.type,b.key,b.props,null,a.mode,c)).ref=Qg(a,null,b),c.return=a,c;case ta:return(b=Wg(b,a.mode,c)).return=a,b}if(Pg(b)||La(b))return(b=Xg(b,a.mode,c,null)).return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:h(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return h(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return l(b,a=a.get(null===d.key?c:d.key)||null,d,e)}if(Pg(d)||La(d))return n(b,a=a.get(c)||null,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===n.alternate&&b(e,u),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n,u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)null!==(u=A(e,h[z],k))&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)null!==(q=C(u,e,z,h[z],k))&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);return a&&u.forEach(function(a){return b(e,a)}),l}function w(e,g,h,k){var l=La(h);if("function"!=typeof l)throw Error(y(150));if(null==(h=l.call(h)))throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u),g=f(w,g,z),null===t?l=w:t.sibling=w,t=w,u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())null!==(n=A(e,n.value,k))&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())null!==(n=C(u,e,z,n.value,k))&&(a&&null!==n.alternate&&u.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return a&&u.forEach(function(a){return b(e,a)}),l}return function(a,d,f,h){var k="object"==typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l="object"==typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{for(l=f.key,k=d;null!==k;){if(k.key===l){if(7===k.tag){if(f.type===ua){c(a,k.sibling),(d=e(k,f.props.children)).return=a,a=d;break a}}else if(k.elementType===f.type){c(a,k.sibling),(d=e(k,f.props)).ref=Qg(a,k,f),d.return=a,a=d;break a}c(a,k);break}b(a,k),k=k.sibling}f.type===ua?((d=Xg(f.props.children,a.mode,h,f.key)).return=a,a=d):((h=Vg(f.type,f.key,f.props,null,a.mode,h)).ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),(d=e(d,f.children||[])).return=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}(d=Wg(f,a.mode,h)).return=a,a=d}return g(a)}if("string"==typeof f||"number"==typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),(d=e(d,f)).return=a,a=d):(c(a,d),(d=Ug(f,a.mode,h)).return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);if(l&&Rg(a,f),void 0===f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||"Component"))}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);function dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){switch(I(ch,b),I(bh,a),I(ah,$g),a=b.nodeType){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,"");break;default:b=mb(b=(a=8===a?b.parentNode:b).namespaceURI||null,a=a.tagName)}H(ah),I(ah,b)}function fh(){H(ah),H(bh),H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current),c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);function ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(null===(c=c.dehydrated)||"$?"===c.data||"$!"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(64&b.flags)return b}else if(null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var jh=null,kh=null,lh=!1;function mh(a,b){var c=nh(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=b,c.return=a,c.flags=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;return null!==(b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b)&&(a.stateNode=b,!0);case 6:return null!==(b=""===a.pendingProps||3!==b.nodeType?null:b)&&(a.stateNode=b,!0);default:return!1}}function ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){if(!(b=rf(c.nextSibling))||!oh(a,b))return a.flags=-1025&a.flags|2,lh=!1,void(jh=a);mh(jh,c)}jh=a,kh=rf(b.firstChild)}else a.flags=-1025&a.flags|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}function rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);if(qh(a),13===a.tag){if(!(a=null!==(a=a.memoizedState)?a.dehydrated:null))throw Error(y(317));a:{for(a=a.nextSibling,b=0;a;){if(8===a.nodeType){var c=a.data;if("/$"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else"$"!==c&&"$!"!==c&&"$?"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}function sh(){kh=jh=null,lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321))}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}function Ch(a,b,c,d,e,f){if(xh=f,R=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,vh.current=null===a||null===a.memoizedState?Dh:Eh,a=c(d,e),zh){f=0;do{if(zh=!1,!(25>f))throw Error(y(301));f+=1,T=S=null,b.updateQueue=null,vh.current=Fh,a=c(d,e)}while(zh)}if(vh.current=Gh,b=null!==S&&null!==S.next,xh=0,T=S=R=null,yh=!1,b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===T?R.memoizedState=T=a:T=T.next=a,T}function Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));a={memoizedState:(S=a).memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null},null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return"function"==typeof b?b(a):b}function Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next,f.next=g}d.baseQueue=e=f,c.pending=null}if(null!==e){e=e.next,d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n,R.lanes|=l,Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g,He(d,b.memoizedState)||(ug=!0),b.memoizedState=d,b.baseState=f,b.baseQueue=h,c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}function Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do{f=a(f,g.action),g=g.next}while(g!==e);He(f,b.memoizedState)||(ug=!0),b.memoizedState=f,null===b.baseQueue&&(b.baseState=f),c.lastRenderedState=f}return[f,d]}function Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e?a=e===d:(a=a.mutableReadLanes,(a=(xh&a)===a)&&(b._workInProgressVersionPrimary=d,th.push(b))),a)return c(b._source);throw th.push(b),Error(y(350))}function Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;return a.memoizedState={refs:p,source:b,subscribe:d},h.useEffect(function(){p.getSnapshot=c,p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source),He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes),a=e.mutableReadLanes,e.entangledLanes|=a;for(var d=e.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a,h&=~v}}},[c,b,d]),h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q})}})},[b,d]),He(C,c)&&He(x,b)&&He(A,d)||((a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n}).dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n),n}function Ph(a,b,c){return Nh(Ih(),a,b,c)}function Qh(a){var b=Hh();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a=(a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a}).dispatch=Oh.bind(null,R,a),[b.memoizedState,a]}function Rh(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},null===(b=R.updateQueue)?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):null===(c=b.lastEffect)?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a),a}function Sh(a){return a={current:a},Hh().memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a,e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}function Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;if(f=g.destroy,null!==d&&Bh(d,g.deps))return void Rh(b,c,f,d)}R.flags|=a,e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!=b?(a=a(),b.current=a,function(){b.current=null}):void 0}function $h(a,b,c){return c=null!=c?c.concat([a]):null,Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&Bh(b,d[1])?d[0]:(c.memoizedState=[a,b],a)}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&Bh(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)}function di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)}),gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}function Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;if(null===g?f.next=f:(f.next=g.next,g.next=f),b.pending=f,g=a.alternate,a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&null!==(g=b.lastRenderedReducer))try{var h=b.lastRenderedState,k=g(h,c);if(f.eagerReducer=g,f.eagerState=k,He(k,h))return}catch(l){}Jg(a,e,d)}}var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){return Hh().memoizedState=[a,void 0===b?null:b],a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,Uh(4,2,Zh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=Hh();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a=(a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b}).dispatch=Oh.bind(null,R,a),[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];return Wh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]),c},useTransition:function(){var a=Qh(!1),b=a[0];return Sh(a=di.bind(null,a[1])),[a,b]},useMutableSource:function(a,b,c){var d=Hh();return d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c},Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}(function(){throw a||(a=!0,c("r:"+(tf++).toString(36))),Error(y(355))}),c=Qh(b)[1];return!(2&R.mode)&&(R.flags|=516,Rh(5,function(){c("r:"+(tf++).toString(36))},void 0,null)),b}return Qh(b="r:"+(tf++).toString(36)),b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];return Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]),c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,a]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];return Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]),c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,a]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;return tg(b,e),d=Ch(a,b,c,d,f,e),null===a||ug?(b.flags|=1,fi(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e))}function ii(a,b,c,d,e,f){if(null===a){var g=c.type;return"function"!=typeof g||ji(g)||void 0!==g.defaultProps||null!==c.compare||void 0!==c.defaultProps?((a=Vg(c.type,null,d,b,b.mode,f)).ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=g,ki(a,b,g,d,e,f))}return g=a.child,0===(e&f)&&(e=g.memoizedProps,(c=null!==(c=c.compare)?c:Je)(e,d)&&a.ref===b.ref)?hi(a,b,f):(b.flags|=1,(a=Tg(g,d)).ref=b.ref,a.return=b,b.child=a)}function ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref){if(ug=!1,0===(f&e))return b.lanes=a.lanes,hi(a,b,f);16384&a.flags&&(ug=!0)}return li(a,b,c,d,f)}function mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if("hidden"===d.mode||"unstable-defer-without-hiding"===d.mode)if(4&b.mode){if(!(1073741824&c))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c)}else b.memoizedState={baseLanes:0},ni(b,c);else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);return fi(a,b,e,c),b.child}function oi(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.flags|=128)}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;return f=Ef(b,f),tg(b,e),c=Ch(a,b,c,d,f,e),null===a||ug?(b.flags|=1,fi(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e))}function pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;if(tg(b,e),null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;"object"==typeof l&&null!==l?l=vg(l):l=Ef(b,l=Ff(c)?Df:M.current);var n=c.getDerivedStateFromProps,A="function"==typeof n||"function"==typeof g.getSnapshotBeforeUpdate;A||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l),wg=!1;var p=b.memoizedState;g.state=p,Cg(b,d,g,e),k=b.memoizedState,h!==d||p!==k||N.current||wg?("function"==typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||"function"!=typeof g.UNSAFE_componentWillMount&&"function"!=typeof g.componentWillMount||("function"==typeof g.componentWillMount&&g.componentWillMount(),"function"==typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"==typeof g.componentDidMount&&(b.flags|=4)):("function"==typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):("function"==typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode,yg(a,b),h=b.memoizedProps,l=b.type===b.elementType?h:lg(b.type,h),g.props=l,A=b.pendingProps,p=g.context,"object"==typeof(k=c.contextType)&&null!==k?k=vg(k):k=Ef(b,k=Ff(c)?Df:M.current);var C=c.getDerivedStateFromProps;(n="function"==typeof C||"function"==typeof g.getSnapshotBeforeUpdate)||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k),wg=!1,p=b.memoizedState,g.state=p,Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?("function"==typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||"function"!=typeof g.UNSAFE_componentWillUpdate&&"function"!=typeof g.componentWillUpdate||("function"==typeof g.componentWillUpdate&&g.componentWillUpdate(d,x,k),"function"==typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),"function"==typeof g.componentDidUpdate&&(b.flags|=4),"function"==typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}function qi(a,b,c,d,e,f){oi(a,b);var g=!!(64&b.flags);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode,ei.current=b;var h=g&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.flags|=1,null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f),b.memoizedState=d.state,e&&Kf(b,c,!0),b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(0,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(0,b.context,!1),eh(a,b.containerInfo)}var Bi,Ci,Di,Ei,si={dehydrated:null,retryLane:0};function ti(a,b,c){var g,d=b.pendingProps,e=P.current,f=!1;return(g=!!(64&b.flags))||(g=(null===a||null!==a.memoizedState)&&!!(2&e)),g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1),I(P,1&e),null===a?(void 0!==d.fallback&&ph(b),a=d.children,e=d.fallback,f?(a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a):"number"==typeof d.unstable_expectedLoadTime?(a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,b.lanes=33554432,a):((c=vi({mode:"visible",children:a},b.mode,c,null)).return=b,b.child=c)):(a.memoizedState,f?(d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d):(c=xi(a,b,d.children,c),b.memoizedState=null,c))}function ui(a,b,c,d){var e=a.mode,f=a.child;return b={mode:"hidden",children:b},2&e||null===f?f=vi(b,e,0,null):(f.childLanes=0,f.pendingProps=b),c=Xg(c,e,d,null),f.return=a,c.return=a,f.sibling=c,a.child=f,c}function xi(a,b,c,d){var e=a.child;return a=e.sibling,c=Tg(e,{mode:"visible",children:c}),!(2&b.mode)&&(c.lanes=d),c.return=b,c.sibling=null,null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a),b.child=c}function wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:"hidden",children:c};return 2&f||b.child===g?c=Tg(g,h):((c=b.child).childLanes=0,c.pendingProps=h,null!==(g=c.lastEffect)?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null),null!==a?d=Tg(a,d):(d=Xg(d,f,e,null)).flags|=2,d.return=b,c.return=b,c.sibling=d,b.child=c,d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b),sg(a.return,b)}function zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}function Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;if(fi(a,b,d.children,c),2&(d=P.current))d=1&d|2,b.flags|=64;else{if(null!==a&&64&a.flags)a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}if(I(P,d),2&b.mode)switch(e){case"forwards":for(c=b.child,e=null;null!==c;)null!==(a=c.alternate)&&null===ih(a)&&(e=c),c=c.sibling;null===(c=e)?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null),zi(b,!1,e,c,f,b.lastEffect);break;case"backwards":for(c=null,e=b.child,b.child=null;null!==e;){if(null!==(a=e.alternate)&&null===ih(a)){b.child=e;break}a=e.sibling,e.sibling=c,c=e,e=a}zi(b,!0,c,null,f,b.lastEffect);break;case"together":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}else b.memoizedState=null;return b.child}function hi(a,b,c){if(null!==a&&(b.dependencies=a.dependencies),Dg|=b.lanes,0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){for(c=Tg(a=b.child,a.pendingProps),b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=Tg(a,a.pendingProps)).return=b;c.sibling=null}return b.child}return null}function Fi(a,b){if(!lh)switch(a.tailMode){case"hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return Ff(b.type)&&Gf(),null;case 3:return fh(),H(N),H(M),uh(),(d=b.stateNode).pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),null!==a&&null!==a.child||(rh(b)?b.flags|=4:d.hydrate||(b.flags|=256)),Ci(b),null;case 5:hh(b);var e=dh(ch.current);if(c=b.type,null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===b.stateNode)throw Error(y(166));return null}if(a=dh(ah.current),rh(b)){d=b.stateNode,c=b.type;var f=b.memoizedProps;switch(d[wf]=b,d[xf]=f,c){case"dialog":G("cancel",d),G("close",d);break;case"iframe":case"object":case"embed":G("load",d);break;case"video":case"audio":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case"source":G("error",d);break;case"img":case"image":case"link":G("error",d),G("load",d);break;case"details":G("toggle",d);break;case"input":Za(d,f),G("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!f.multiple},G("invalid",d);break;case"textarea":hb(d,f),G("invalid",d)}for(var g in vb(c,f),a=null,f)f.hasOwnProperty(g)&&(e=f[g],"children"===g?"string"==typeof e?d.textContent!==e&&(a=["children",e]):"number"==typeof e&&d.textContent!==""+e&&(a=["children",""+e]):ca.hasOwnProperty(g)&&null!=e&&"onScroll"===g&&G("scroll",d));switch(c){case"input":Va(d),cb(d,f,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(d.onclick=jf)}d=a,b.updateQueue=d,null!==d&&(b.flags|=4)}else{switch(g=9===e.nodeType?e:e.ownerDocument,a===kb_html&&(a=lb(c)),a===kb_html?"script"===c?((a=g.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):"string"==typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),"select"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c),a[wf]=b,a[xf]=d,Bi(a,b,!1,!1),b.stateNode=a,g=wb(c,d),c){case"dialog":G("cancel",a),G("close",a),e=d;break;case"iframe":case"object":case"embed":G("load",a),e=d;break;case"video":case"audio":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case"source":G("error",a),e=d;break;case"img":case"image":case"link":G("error",a),G("load",a),e=d;break;case"details":G("toggle",a),e=d;break;case"input":Za(a,d),e=Ya(a,d),G("invalid",a);break;case"option":e=eb(a,d);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},e=m({},d,{value:void 0}),G("invalid",a);break;case"textarea":hb(a,d),e=gb(a,d),G("invalid",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];"style"===f?tb(a,k):"dangerouslySetInnerHTML"===f?null!=(k=k?k.__html:void 0)&&ob(a,k):"children"===f?"string"==typeof k?("textarea"!==c||""!==k)&&pb(a,k):"number"==typeof k&&pb(a,""+k):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(ca.hasOwnProperty(f)?null!=k&&"onScroll"===f&&G("scroll",a):null!=k&&qa(a,f,k,g))}switch(c){case"input":Va(a),cb(a,d,!1);break;case"textarea":Va(a),jb(a);break;case"option":null!=d.value&&a.setAttribute("value",""+Sa(d.value));break;case"select":a.multiple=!!d.multiple,null!=(f=d.value)?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if("string"!=typeof d&&null===b.stateNode)throw Error(y(166));c=dh(ch.current),dh(ah.current),rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):((d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d))[wf]=b,b.stateNode=d)}return null;case 13:return H(P),d=b.memoizedState,64&b.flags?(b.lanes=c,b):(d=null!==d,c=!1,null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState,d&&!c&&2&b.mode&&(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||1&P.current?0===V&&(V=3):(0!==V&&3!==V||(V=4),null===U||!(134217727&Dg)&&!(134217727&Hi)||Ii(U,W))),(d||c)&&(b.flags|=4),null);case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 19:if(H(P),null===(d=b.memoizedState))return null;if(f=!!(64&b.flags),null===(g=d.rendering))if(f)Fi(d,!1);else{if(0!==V||null!==a&&64&a.flags)for(a=b.child;null!==a;){if(null!==(g=ih(a))){for(b.flags|=64,Fi(d,!1),null!==(f=g.updateQueue)&&(b.updateQueue=f,b.flags|=4),null===d.lastEffect&&(b.firstEffect=null),b.lastEffect=d.lastEffect,d=c,c=b.child;null!==c;)a=d,(f=c).flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,null===(g=f.alternate)?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return I(P,1&P.current|2),b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(null!==(a=ih(g))){if(b.flags|=64,f=!0,null!==(c=a.updateQueue)&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&"hidden"===d.tailMode&&!g.alternate&&!lh)return null!==(b=b.lastEffect=d.lastEffect)&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(null!==(c=d.last)?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?1&b|2:1&b),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!=(null!==b.memoizedState)&&"unstable-defer-without-hiding"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag))}function Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return 4096&b?(a.flags=-4097&b|64,a):null;case 3:if(fh(),H(N),H(M),uh(),64&(b=a.flags))throw Error(y(285));return a.flags=-4097&b|64,a;case 5:return hh(a),null;case 13:return H(P),4096&(b=a.flags)?(a.flags=-4097&b|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}function Mi(a,b){try{var c="",d=b;do{c+=Qa(d),d=d.return}while(d);var e=c}catch(f){e="\nError generating stack: "+f.message+"\n"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c})}}Bi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ci=function(){},Di=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode,dh(ah.current);var g,f=null;switch(c){case"input":e=Ya(a,e),d=Ya(a,d),f=[];break;case"option":e=eb(a,e),d=eb(a,d),f=[];break;case"select":e=m({},e,{value:void 0}),d=m({},d,{value:void 0}),f=[];break;case"textarea":e=gb(a,e),d=gb(a,d),f=[];break;default:"function"!=typeof e.onClick&&"function"==typeof d.onClick&&(a.onclick=jf)}for(l in vb(c,d),c=null,e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if("style"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];if(h=null!=e?e[l]:void 0,d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if("style"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]="");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else"dangerouslySetInnerHTML"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):"children"===l?"string"!=typeof k&&"number"!=typeof k||(f=f||[]).push(l,""+k):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(ca.hasOwnProperty(l)?(null!=k&&"onScroll"===l&&G("scroll",a),f||h===k||(f=[])):"object"==typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push("style",c);var l=f;(b.updateQueue=l)&&(b.flags|=4)}},Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};var Oi="function"==typeof WeakMap?WeakMap:Map;function Pi(a,b,c){(c=zg(-1,c)).tag=3,c.payload={element:null};var d=b.value;return c.callback=function(){Qi||(Qi=!0,Ri=d),Ni(0,b)},c}function Si(a,b,c){(c=zg(-1,c)).tag=3;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return Ni(0,b),d(e)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){"function"!=typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(0,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})}),c}var Ui="function"==typeof WeakSet?WeakSet:Set;function Vi(a){var b=a.ref;if(null!==b)if("function"==typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&b.flags&&null!==a){var c=a.memoizedProps,d=a.memoizedState;b=(a=b.stateNode).getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d),a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:return void(256&b.flags&&qf(b.stateNode.containerInfo))}throw Error(y(163))}function Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:if(null!==(b=null!==(b=c.updateQueue)?b.lastEffect:null)){a=b=b.next;do{if(!(3&~a.tag)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}if(null!==(b=null!==(b=c.updateQueue)?b.lastEffect:null)){a=b=b.next;do{var e=a;d=e.next,4&(e=e.tag)&&1&e&&(Zi(c,a),$i(c,a)),a=d}while(a!==b)}return;case 1:return a=c.stateNode,4&c.flags&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),void(null!==(b=c.updateQueue)&&Eg(c,b,a));case 3:if(null!==(b=c.updateQueue)){if(a=null,null!==c.child)switch(c.child.tag){case 5:case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:return a=c.stateNode,void(null===b&&4&c.flags&&mf(c.type,c.memoizedProps)&&a.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c)))))}throw Error(y(163))}function aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)"function"==typeof(d=d.style).setProperty?d.setProperty("display","none","important"):d.display="none";else{d=c.stateNode;var e=c.memoizedProps.style;e=null!=e&&e.hasOwnProperty("display")?e.display:null,d.style.display=sb("display",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?"":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function bj(a,b){if(Mf&&"function"==typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(a=b.updateQueue)&&null!==(a=a.lastEffect)){var c=a=a.next;do{var d=c,e=d.destroy;if(d=d.tag,void 0!==e)if(4&d)Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:if(Vi(b),"function"==typeof(a=b.stateNode).componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,f)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null,a.child=null,a.dependencies=null,a.firstEffect=null,a.lastEffect=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.return=null,a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}function fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160))}var c=b;switch(b=c.stateNode,c.tag){case 5:var d=!1;break;case 3:case 4:b=b.containerInfo,d=!0;break;default:throw Error(y(161))}16&c.flags&&(pb(b,""),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}for(c.sibling.return=c.return,c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(2&c.flags)continue b;if(null===c.child||4===c.tag)continue b;c.child.return=c,c=c.child}if(!(2&c.flags)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}function gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode).insertBefore(a,c):(b=c).appendChild(a),null!=(c=c._reactRootContainer)||null!==b.onclick||(b.onclick=jf));else if(4!==d&&null!==(a=a.child))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}function hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&null!==(a=a.child))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}function cj(a,b){for(var e,f,c=b,d=!1;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));switch(e=d.stateNode,d.tag){case 5:f=!1;break a;case 3:case 4:e=e.containerInfo,f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return,k=k.sibling}f?(g=e,h=c.stateNode,8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo,f=!0,c.child.return=c,c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;4===(c=c.return).tag&&(d=!1)}c.sibling.return=c.return,c=c.sibling}}function ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;if(null!==(c=null!==c?c.lastEffect:null)){var d=c=c.next;do{!(3&~d.tag)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next}while(d!==c)}return;case 1:case 12:case 17:return;case 5:if(null!=(c=b.stateNode)){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;if(b.updateQueue=null,null!==f){for(c[xf]=d,"input"===a&&"radio"===d.type&&null!=d.name&&$a(c,d),wb(a,e),b=wb(a,d),e=0;e<f.length;e+=2){var g=f[e],h=f[e+1];"style"===g?tb(c,h):"dangerouslySetInnerHTML"===g?ob(c,h):"children"===g?pb(c,h):qa(c,g,h,b)}switch(a){case"input":ab(c,d);break;case"textarea":ib(c,d);break;case"select":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,null!=(f=d.value)?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));return void(b.stateNode.nodeValue=b.memoizedProps);case 3:return void((c=b.stateNode).hydrate&&(c.hydrate=!1,Cc(c.containerInfo)));case 13:return null!==b.memoizedState&&(jj=O(),aj(b.child,!0)),void kj(b);case 19:return void kj(b);case 23:case 24:return void aj(b,null!==b.memoizedState)}throw Error(y(163))}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui),b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function mj(a,b){return null!==a&&(null===(a=a.memoizedState)||null!==a.dehydrated)&&(null!==(b=b.memoizedState)&&null===b.dehydrated)}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=1/0;function wj(){Ji=O()+500}var ck,Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 48&X?O():-1!==Fj?Fj:Fj=O()}function Ig(a){if(!(2&(a=a.mode)))return 1;if(!(4&a))return 99===eg()?1:2;if(0===Gj&&(Gj=tj),0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0),a=Gj;var b=4186112&~Hj;return 0===(b&=-b)&&(0===(b=(a=4186112&~a)&-a)&&(b=8192)),b}return a=eg(),4&X&&98===a?a=Xc(12,Gj):a=Xc(a=function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(a),Gj),a}function Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));if(null===(a=Kj(a,b)))return null;$c(a,b,c),a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?8&X&&!(48&X)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(!(4&X)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c)),vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;for(null!==c&&(c.lanes|=b),c=a,a=a.return;null!==a;)a.childLanes|=b,null!==(c=a.alternate)&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}function Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b,Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5e3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}if(d=Uc(a,a===U?W:0),b=F,0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),c=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a))}}(b),c=hg(c,Nj.bind(null,a))),a.callbackPriority=b,a.callbackNode=c}}function Nj(a){if(Fj=-1,Hj=Gj=0,48&X)throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c,e=X;X|=16;var f=Pj();for(U===a&&W===d||(wj(),Qj(a,d));;)try{Rj();break}catch(h){Sj(a,h)}if(qg(),oj.current=f,X=e,null!==Y?d=0:(U=null,W=0,d=V),0!==(tj&Hi))Qj(a,0);else if(0!==d){if(2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),0!==(c=Wc(a))&&(d=Tj(a,c))),1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;switch(a.finishedWork=a.current.alternate,a.finishedLanes=c,d){case 0:case 1:throw Error(y(345));case 2:case 5:Uj(a);break;case 3:if(Ii(a,c),(62914560&c)===c&&10<(d=jj+500-O())){if(0!==Uc(a,0))break;if(((e=a.suspendedLanes)&c)!==c){Hg(),a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:if(Ii(a,c),(4186112&c)===c)break;for(d=a.eventTimes,e=-1;0<c;){var g=31-Vc(c);f=1<<g,(g=d[g])>e&&(e=g),c&=~f}if(c=e,10<(c=(120>(c=O()-c)?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*nj(c/1960))-c)){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;default:throw Error(y(329))}}return Mj(a,O()),a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){for(b&=~uj,b&=~Hi,a.suspendedLanes|=b,a.pingedLanes&=~b,a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1,b&=~d}}function Lj(a){if(48&X)throw Error(y(327));if(Oj(),a===U&&0!==(a.expiredLanes&W)){var b=W,c=Tj(a,b);0!==(tj&Hi)&&(c=Tj(a,b=Uc(a,b)))}else c=Tj(a,b=Uc(a,0));if(0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),0!==(b=Wc(a))&&(c=Tj(a,b))),1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;return a.finishedWork=a.current.alternate,a.finishedLanes=b,Uj(a),Mj(a,O()),null}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{0===(X=c)&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2,X|=8;try{return a(b)}finally{0===(X=c)&&(wj(),ig())}}function ni(a,b){I(rj,qj),qj|=b,tj|=b}function Ki(){qj=rj.current,H(rj)}function Qj(a,b){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(-1!==c&&(a.timeoutHandle=-1,pf(c)),null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:null!=(d=d.type.childContextTypes)&&Gf();break;case 3:fh(),H(N),H(M),uh();break;case 5:hh(d);break;case 4:fh();break;case 13:case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a,Y=Tg(a.current,null),W=qj=tj=b,V=0,sj=null,uj=Hi=Dg=0}function Sj(a,b){for(;;){var c=Y;try{if(qg(),vh.current=Gh,yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null),d=d.next}yh=!1}if(xh=0,T=S=R=null,zh=!1,pj.current=null,null===c||null===c.return){V=1,sj=b,Y=null;break}a:{var f=a,g=c.return,h=c,k=b;if(b=W,h.flags|=2048,h.firstEffect=h.lastEffect=null,null!==k&&"object"==typeof k&&"function"==typeof k.then){var l=k;if(!(2&h.mode)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):(h.updateQueue=null,h.memoizedState=null)}var A=!!(1&P.current),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated;else{var w=p.memoizedProps;C=void 0!==w.fallback&&(!0!==w.unstable_avoidThisFallback||!A)}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l),p.updateQueue=u}else z.add(l);if(!(2&p.mode)){if(p.flags|=64,h.flags|=16384,h.flags&=-2981,1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2,Ag(h,t)}h.lanes|=1;break a}k=void 0,h=b;var q=f.pingCache;if(null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):void 0===(k=q.get(l))&&(k=new Set,q.set(l,k)),!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096,p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==V&&(V=2),k=Mi(k,h),p=g;do{switch(p.tag){case 3:f=k,p.flags|=4096,b&=-b,p.lanes|=b,Bg(p,Pi(0,f,b));break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(!(64&p.flags||"function"!=typeof K.getDerivedStateFromError&&(null===Q||"function"!=typeof Q.componentDidCatch||null!==Ti&&Ti.has(Q)))){p.flags|=4096,b&=-b,p.lanes|=b,Bg(p,Si(p,f,b));break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va,Y===c&&null!==c&&(Y=c=c.return);continue}break}}function Pj(){var a=oj.current;return oj.current=Gh,null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();for(U===a&&W===b||Qj(a,b);;)try{ak();break}catch(e){Sj(a,e)}if(qg(),X=c,oj.current=d,null!==Y)throw Error(y(261));return U=null,W=0,V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps,null===b?Zj(a):Y=b,pj.current=null}function Zj(a){var b=a;do{var c=b.alternate;if(a=b.return,2048&b.flags){if(null!==(c=Li(b)))return c.flags&=2047,void(Y=c);null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}else{if(null!==(c=Gi(c,b,qj)))return void(Y=c);if(24!==(c=b).tag&&23!==c.tag||null===c.memoizedState||1073741824&qj||!(4&c.mode)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&!(2048&a.flags)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==a.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}if(null!==(b=b.sibling))return void(Y=b);Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();return gg(99,dk.bind(null,a,b)),null}function dk(a,b){do{Oj()}while(null!==yj);if(48&X)throw Error(y(327));var c=a.finishedWork;if(null===c)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=e,a.mutableReadLanes&=e,a.entangledLanes&=e,e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0,g[k]=-1,h[k]=-1,f&=~l}if(null!==Cj&&!(24&d)&&Cj.has(a)&&Cj.delete(a),a===U&&(Y=U=null,W=0),1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect,null!==d){if(e=X,X|=32,pj.current=null,kf=fd,Oe(g=Ne())){if("selectionStart"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode,f=l.anchorOffset,k=l.focusNode,l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;break a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;w!==h||0!==f&&3!==w.nodeType||(A=n+f),w!==k||0!==l&&3!==w.nodeType||(p=n+l),3===w.nodeType&&(n+=w.nodeValue.length),null!==(u=w.firstChild);)z=w,w=u;for(;;){if(w===g)break b;if(z===h&&++C===f&&(A=n),z===k&&++x===l&&(p=n),null!==(u=w.nextSibling))break;z=(w=z).parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h},fd=!1,Ij=null,Jj=!1,Z=d;do{try{ek()}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va),Z=Z.nextEffect}}while(null!==Z);Ij=null,Z=d;do{try{for(g=a;null!==Z;){var t=Z.flags;if(16&t&&pb(Z.stateNode,""),128&t){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&("function"==typeof v?v(null):v.current=null)}}switch(1038&t){case 2:fj(Z),Z.flags&=-3;break;case 6:fj(Z),Z.flags&=-3,ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:cj(g,h=Z);var J=h.alternate;dj(h),null!==J&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va),Z=Z.nextEffect}}while(null!==Z);if(v=lf,q=Ne(),t=v.focusedElem,g=v.selectionRange,q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,void 0===(v=g.end)&&(v=q),"selectionStart"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window).getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===g.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&((q=q.createRange()).setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))),q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<q.length;t++)(v=q[t]).element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf,lf=kf=null,a.current=c,Z=d;do{try{for(t=a;null!==Z;){var K=Z.flags;if(36&K&&Yi(t,Z.alternate,Z),128&K){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;Z.tag,q=L,"function"==typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va),Z=Z.nextEffect}}while(null!==Z);Z=null,$f(),X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=Z.nextEffect,Z.nextEffect=null,8&Z.flags&&((K=Z).sibling=null,K.stateNode=null),Z=b;if(0===(d=a.pendingLanes)&&(Ti=null),1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0,c=c.stateNode,Mf&&"function"==typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,!(64&~c.current.flags))}catch(va){}if(Mj(a,O()),Qi)throw Qi=!1,a=Ri,Ri=null,a;return 8&X||ig(),null}function ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(8&Z.flags?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;256&b&&Xi(a,Z),!(512&b)||xj||(xj=!0,hg(97,function(){return Oj(),null})),Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;return zj=90,gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function Zi(a,b){Bj.push(b,a),xj||(xj=!0,hg(97,function(){return Oj(),null}))}function fk(){if(null===yj)return!1;var a=yj;if(yj=null,48&X)throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;if(e.destroy=void 0,"function"==typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(c=Aj,Aj=[],d=0;d<c.length;d+=2){e=c[d],f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,8&h.flags&&(h.sibling=null,h.stateNode=null),h=a;return X=b,ig(),!0}function gk(a,b,c){Ag(a,b=Pi(0,b=Mi(c,b),1)),b=Hg(),null!==(a=Kj(a,1))&&($c(a,1,b),Mj(a,b))}function Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}if(1===c.tag){var d=c.stateNode;if("function"==typeof c.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){var e=Si(c,a=Mi(b,a),1);if(Ag(c,e),e=Hg(),null!==(c=Kj(c,1)))$c(c,1,e),Mj(c,e);else if("function"==typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}function Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),b=Hg(),a.pingedLanes|=a.suspendedLanes&c,U===a&&(W&c)===c&&(4===V||3===V&&(62914560&W)===W&&500>O()-jj?Qj(a,0):uj|=c),Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b),0===(b=0)&&(2&(b=a.mode)?4&b?(0===Gj&&(Gj=tj),0===(b=Yc(62914560&~Gj))&&(b=4194304)):b=99===eg()?1:2:b=1),c=Hg(),null!==(a=Kj(a,b))&&($c(a,b,c),Mj(a,c))}function ik(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Tg(a,b){var c=a.alternate;return null===c?((c=nh(a.tag,b,a.key,a.mode)).elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,b=a.dependencies,c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Vg(a,b,c,d,e,f){var g=2;if(d=a,"function"==typeof a)ji(a)&&(g=1);else if("string"==typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8,e|=16;break;case wa:g=8,e|=1;break;case xa:return(a=nh(12,c,b,8|e)).elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return(a=nh(13,c,b,e)).type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return(a=nh(19,c,b,e)).elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return(a=nh(24,c,b,e)).elementType=Ja,a.lanes=f,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16,d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,""))}return(b=nh(g,c,b,e)).elementType=a,b.type=d,b.lanes=f,b}function Xg(a,b,c,d){return(a=nh(7,a,d,b)).lanes=c,a}function vi(a,b,c,d){return(a=nh(23,a,d,b)).elementType=Ia,a.lanes=c,a}function Ug(a,b,c){return(a=nh(6,a,null,b)).lanes=c,a}function Wg(a,b,c){return(b=nh(4,null!==a.children?a.children:[],a.key,b)).lanes=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function jk(a,b,c){this.tag=b,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.mutableSourceEagerHydrationData=null}function lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){b:{if(Zb(c=c._reactInternals)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171))}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;return null===b.context?b.context=c:b.pendingContext=c,(b=zg(f,g)).payload={element:a},null!==(d=void 0===d?null:d)&&(b.callback=d),Ag(e,b),Jg(e,g,f),g}function mk(a){return(a=a.current).child?(a.child.tag,a.child.stateNode):null}function nk(a,b){if(null!==(a=a.memoizedState)&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b),(a=a.alternate)&&nk(a,b)}function qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;if(c=new jk(a,b,null!=c&&!0===c.hydrate),b=nh(3,null,null,2===b?7:1===b?3:0),c.current=b,b.stateNode=c,xg(b),a[ff]=c.current,cf(8===a.nodeType?a.parentNode:a),d)for(a=0;a<d.length;a++){var e=(b=d[a])._getVersion;e=e(b._source),null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if("function"==typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{if(f=c._reactRootContainer=function sk(a,b){if(b||(b=!(!(b=a?9===a.nodeType?a.documentElement:a.firstChild:null)||1!==b.nodeType||!b.hasAttribute("data-reactroot"))),!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}(c,d),g=f._internalRoot,"function"==typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return function kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}(a,b,null,c)}ck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else{if(0===(c&d)){switch(ug=!1,b.tag){case 3:ri(b),sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue),e._currentValue=d;break;case 13:if(null!==b.memoizedState)return 0!==(c&b.child.childLanes)?ti(a,b,c):(I(P,1&P.current),null!==(b=hi(a,b,c))?b.sibling:null);I(P,1&P.current);break;case 19:if(d=0!==(c&b.childLanes),64&a.flags){if(d)return Ai(a,b,c);b.flags|=64}if(null!==(e=b.memoizedState)&&(e.rendering=null,e.tail=null,e.lastEffect=null),I(P,P.current),d)break;return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}ug=!!(16384&a.flags)}else ug=!1;switch(b.lanes=0,b.tag){case 2:if(d=b.type,null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),a=b.pendingProps,e=Ef(b,M.current),tg(b,c),e=Ch(null,b,d,a,e,c),b.flags|=1,"object"==typeof e&&null!==e&&"function"==typeof e.render&&void 0===e.$$typeof){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,xg(b);var g=d.getDerivedStateFromProps;"function"==typeof g&&Gg(b,d,g,a),e.updater=Kg,b.stateNode=e,e._reactInternals=b,Og(b,d,a,c),b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{switch(null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),a=b.pendingProps,e=(f=e._init)(e._payload),b.type=e,f=b.tag=function hk(a){if("function"==typeof a)return ji(a)?1:0;if(null!=a){if((a=a.$$typeof)===Aa)return 11;if(a===Da)return 14}return 2}(e),a=lg(e,a),f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,""))}return b;case 0:return d=b.type,e=b.pendingProps,li(a,b,d,e=b.elementType===d?e:lg(d,e),c);case 1:return d=b.type,e=b.pendingProps,pi(a,b,d,e=b.elementType===d?e:lg(d,e),c);case 3:if(ri(b),d=b.updateQueue,null===a||null===d)throw Error(y(282));if(d=b.pendingProps,e=null!==(e=b.memoizedState)?e.element:null,yg(a,b),Cg(b,d,null,c),(d=b.memoizedState.element)===e)sh(),b=hi(a,b,c);else{if((f=(e=b.stateNode).hydrate)&&(kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0),f){if(null!=(a=e.mutableSourceEagerHydrationData))for(e=0;e<a.length;e+=2)(f=a[e])._workInProgressVersionPrimary=a[e+1],th.push(f);for(c=Zg(b,null,d,c),b.child=c;c;)c.flags=-3&c.flags|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&ph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,gi(a,b,d,e=b.elementType===d?e:lg(d,e),c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context,e=b.pendingProps,g=b.memoizedProps,f=e.value;var h=b.type._context;if(I(mg,h._currentValue),h._currentValue=f,null!==g)if(h=g.value,0===(f=He(h,f)?0:0|("function"==typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823))){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(null!==(h=b.child)&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&((l=zg(-1,c&-c)).tag=2,Ag(h,l)),h.lanes|=c,null!==(l=h.alternate)&&(l.lanes|=c),sg(h.return,c),k.lanes|=c;break}l=l.next}}else g=10===h.tag&&h.type===b.type?null:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}if(null!==(h=g.sibling)){h.return=g.return,g=h;break}g=g.return}h=g}fi(a,b,e.children,c),b=b.child}return b;case 9:return e=b.type,d=(f=b.pendingProps).children,tg(b,c),d=d(e=vg(e,f.unstable_observedBits)),b.flags|=1,fi(a,b,d,c),b.child;case 14:return f=lg(e=b.type,b.pendingProps),ii(a,b,e,f=lg(e.type,f),d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:case 24:return mi(a,b,c)}throw Error(y(156,b.tag))},qk.prototype.render=function(a){lk(a,this._internalRoot,null,null)},qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})},ec=function(a){13===a.tag&&(Jg(a,4,Hg()),ok(a,4))},fc=function(a){13===a.tag&&(Jg(a,67108864,Hg()),ok(a,67108864))},gc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b),ok(a,c)}},hc=function(a,b){return b()},yb=function(a,b,c){switch(b){case"input":if(ab(a,c),b=c.name,"radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d),ab(d,e)}}}break;case"textarea":ib(a,c);break;case"select":null!=(b=c.value)&&fb(a,!!c.multiple,b,!1)}},Gb=Wj,Hb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{0===(X=f)&&(wj(),ig())}},Ib=function(){!(49&X)&&(function Vj(){if(null!==Cj){var a=Cj;Cj=null,a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes,Mj(a,O())})}ig()}(),Oj())},Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{0===(X=c)&&(wj(),ig())}};var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return null===(a=cc(a))?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||function pk(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk,exports.createPortal=uk,exports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if("function"==typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)))}return a=null===(a=cc(b))?null:a.stateNode},exports.flushSync=function(a,b){var c=X;if(48&c)return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}},exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)},exports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)},exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return!!a._reactRootContainer&&(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null,a[ff]=null})}),!0)},exports.unstable_batchedUpdates=Wj,exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},exports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)},exports.version="17.0.2"},22574:(__unused_webpack_module,exports)=>{"use strict";var $propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!$propertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:$propertyIsEnumerable},22616:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(33155);module.exports=parent},22765:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__(76544).A)()},22799:(__unused_webpack_module,exports)=>{"use strict";var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l,exports.ConcurrentMode=m,exports.ContextConsumer=k,exports.ContextProvider=h,exports.Element=c,exports.ForwardRef=n,exports.Fragment=e,exports.Lazy=t,exports.Memo=r,exports.Portal=d,exports.Profiler=g,exports.StrictMode=f,exports.Suspense=p,exports.isAsyncMode=function(a){return A(a)||z(a)===l},exports.isConcurrentMode=A,exports.isContextConsumer=function(a){return z(a)===k},exports.isContextProvider=function(a){return z(a)===h},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},exports.isForwardRef=function(a){return z(a)===n},exports.isFragment=function(a){return z(a)===e},exports.isLazy=function(a){return z(a)===t},exports.isMemo=function(a){return z(a)===r},exports.isPortal=function(a){return z(a)===d},exports.isProfiler=function(a){return z(a)===g},exports.isStrictMode=function(a){return z(a)===f},exports.isSuspense=function(a){return z(a)===p},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"==typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)},exports.typeOf=z},22822:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$every=__webpack_require__(70726).every;$({target:"Array",proto:!0,forced:!__webpack_require__(77623)("every")},{every:function every(callbackfn){return $every(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},22914:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $forEach=__webpack_require__(70726).forEach,STRICT_METHOD=__webpack_require__(77623)("forEach");module.exports=STRICT_METHOD?[].forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:void 0)}},23034:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(32567),FunctionPrototype=Function.prototype;module.exports=function(it){var own=it.bind;return it===FunctionPrototype||isPrototypeOf(FunctionPrototype,it)&&own===FunctionPrototype.bind?method:own}},23045:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),hasOwn=__webpack_require__(49724),toIndexedObject=__webpack_require__(27374),indexOf=__webpack_require__(74436).indexOf,hiddenKeys=__webpack_require__(38530),push=uncurryThis([].push);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!hasOwn(hiddenKeys,key)&&hasOwn(O,key)&&push(result,key);for(;names.length>i;)hasOwn(O,key=names[i++])&&(~indexOf(result,key)||push(result,key));return result}},23264:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(43629);module.exports=parent},23674:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),globalThis=__webpack_require__(45951),call=__webpack_require__(13930),uncurryThis=__webpack_require__(1907),IS_PURE=__webpack_require__(7376),DESCRIPTORS=__webpack_require__(39447),NATIVE_SYMBOL=__webpack_require__(19846),fails=__webpack_require__(98828),hasOwn=__webpack_require__(49724),isPrototypeOf=__webpack_require__(88280),anObject=__webpack_require__(36624),toIndexedObject=__webpack_require__(27374),toPropertyKey=__webpack_require__(70470),$toString=__webpack_require__(90160),createPropertyDescriptor=__webpack_require__(75817),nativeObjectCreate=__webpack_require__(58075),objectKeys=__webpack_require__(2875),getOwnPropertyNamesModule=__webpack_require__(24443),getOwnPropertyNamesExternal=__webpack_require__(25407),getOwnPropertySymbolsModule=__webpack_require__(87170),getOwnPropertyDescriptorModule=__webpack_require__(13846),definePropertyModule=__webpack_require__(74284),definePropertiesModule=__webpack_require__(42220),propertyIsEnumerableModule=__webpack_require__(22574),defineBuiltIn=__webpack_require__(68055),defineBuiltInAccessor=__webpack_require__(89251),shared=__webpack_require__(85816),sharedKey=__webpack_require__(92522),hiddenKeys=__webpack_require__(38530),uid=__webpack_require__(6499),wellKnownSymbol=__webpack_require__(76264),wrappedWellKnownSymbolModule=__webpack_require__(80560),defineWellKnownSymbol=__webpack_require__(20366),defineSymbolToPrimitive=__webpack_require__(83467),setToStringTag=__webpack_require__(14840),InternalStateModule=__webpack_require__(64932),$forEach=__webpack_require__(70726).forEach,HIDDEN=sharedKey("hidden"),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),ObjectPrototype=Object.prototype,$Symbol=globalThis.Symbol,SymbolPrototype=$Symbol&&$Symbol.prototype,RangeError=globalThis.RangeError,TypeError=globalThis.TypeError,QObject=globalThis.QObject,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,push=uncurryThis([].push),AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),WellKnownSymbolsStore=shared("wks"),USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,fallbackDefineProperty=function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);ObjectPrototypeDescriptor&&delete ObjectPrototype[P],nativeDefineProperty(O,P,Attributes),ObjectPrototypeDescriptor&&O!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)},setSymbolDescriptor=DESCRIPTORS&&fails(function(){return 7!==nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a})?fallbackDefineProperty:nativeDefineProperty,wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate(SymbolPrototype);return setInternalState(symbol,{type:"Symbol",tag,description}),DESCRIPTORS||(symbol.description=description),symbol},$defineProperty=function defineProperty(O,P,Attributes){O===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,P,Attributes),anObject(O);var key=toPropertyKey(P);return anObject(Attributes),hasOwn(AllSymbols,key)?(Attributes.enumerable?(hasOwn(O,HIDDEN)&&O[HIDDEN][key]&&(O[HIDDEN][key]=!1),Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,!1)})):(hasOwn(O,HIDDEN)||nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,nativeObjectCreate(null))),O[HIDDEN][key]=!0),setSymbolDescriptor(O,key,Attributes)):nativeDefineProperty(O,key,Attributes)},$defineProperties=function defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties),keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));return $forEach(keys,function(key){DESCRIPTORS&&!call($propertyIsEnumerable,properties,key)||$defineProperty(O,key,properties[key])}),O},$propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPropertyKey(V),enumerable=call(nativePropertyIsEnumerable,this,P);return!(this===ObjectPrototype&&hasOwn(AllSymbols,P)&&!hasOwn(ObjectPrototypeSymbols,P))&&(!(enumerable||!hasOwn(this,P)||!hasOwn(AllSymbols,P)||hasOwn(this,HIDDEN)&&this[HIDDEN][P])||enumerable)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(O,P){var it=toIndexedObject(O),key=toPropertyKey(P);if(it!==ObjectPrototype||!hasOwn(AllSymbols,key)||hasOwn(ObjectPrototypeSymbols,key)){var descriptor=nativeGetOwnPropertyDescriptor(it,key);return!descriptor||!hasOwn(AllSymbols,key)||hasOwn(it,HIDDEN)&&it[HIDDEN][key]||(descriptor.enumerable=!0),descriptor}},$getOwnPropertyNames=function getOwnPropertyNames(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O)),result=[];return $forEach(names,function(key){hasOwn(AllSymbols,key)||hasOwn(hiddenKeys,key)||push(result,key)}),result},$getOwnPropertySymbols=function(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype,names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O)),result=[];return $forEach(names,function(key){!hasOwn(AllSymbols,key)||IS_OBJECT_PROTOTYPE&&!hasOwn(ObjectPrototype,key)||push(result,AllSymbols[key])}),result};NATIVE_SYMBOL||(defineBuiltIn(SymbolPrototype=($Symbol=function Symbol(){if(isPrototypeOf(SymbolPrototype,this))throw new TypeError("Symbol is not a constructor");var description=arguments.length&&void 0!==arguments[0]?$toString(arguments[0]):void 0,tag=uid(description),setter=function(value){var $this=void 0===this?globalThis:this;$this===ObjectPrototype&&call(setter,ObjectPrototypeSymbols,value),hasOwn($this,HIDDEN)&&hasOwn($this[HIDDEN],tag)&&($this[HIDDEN][tag]=!1);var descriptor=createPropertyDescriptor(1,value);try{setSymbolDescriptor($this,tag,descriptor)}catch(error){if(!(error instanceof RangeError))throw error;fallbackDefineProperty($this,tag,descriptor)}};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)}).prototype,"toString",function toString(){return getInternalState(this).tag}),defineBuiltIn($Symbol,"withoutSetter",function(description){return wrap(uid(description),description)}),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)},DESCRIPTORS&&(defineBuiltInAccessor(SymbolPrototype,"description",{configurable:!0,get:function description(){return getInternalState(this).description}}),IS_PURE||defineBuiltIn(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0}))),$({global:!0,constructor:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol}),$forEach(objectKeys(WellKnownSymbolsStore),function(name){defineWellKnownSymbol(name)}),$({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function create(O,Properties){return void 0===Properties?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames}),defineSymbolToPrimitive(),setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},23763:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),SetHelpers=__webpack_require__(73881),clone=__webpack_require__(6913),getSetRecord=__webpack_require__(32332),iterateSimple=__webpack_require__(22190),add=SetHelpers.add,has=SetHelpers.has,remove=SetHelpers.remove;module.exports=function symmetricDifference(other){var O=aSet(this),keysIter=getSetRecord(other).getIterator(),result=clone(O);return iterateSimple(keysIter,function(e){has(O,e)?remove(result,e):add(result,e)}),result}},23888:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828),createPropertyDescriptor=__webpack_require__(75817);module.exports=!fails(function(){var error=new Error("a");return!("stack"in error)||(Object.defineProperty(error,"stack",createPropertyDescriptor(1,7)),7!==error.stack)})},24139:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(83842);__webpack_require__(12560),module.exports=parent},24274:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(12393);module.exports=parent},24328:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var UA=__webpack_require__(96794);module.exports=/MSIE|Trident/.test(UA)},24443:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var internalObjectKeys=__webpack_require__(23045),hiddenKeys=__webpack_require__(80376).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},24525:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var classof=__webpack_require__(73948),hasOwn=__webpack_require__(49724),isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(41969);__webpack_require__(60237);var ArrayPrototype=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0};module.exports=function(it){var own=it.forEach;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.forEach||hasOwn(DOMIterables,classof(it))?method:own}},24684:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>CacheProvider,E:()=>Emotion$1,T:()=>ThemeContext,c:()=>createEmotionProps,h:()=>hasOwn,w:()=>withEmotionCache});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540),_emotion_cache__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(55655),_emotion_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30041),_emotion_serialize__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43174),_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(71287),EmotionCacheContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext("undefined"!=typeof HTMLElement?(0,_emotion_cache__WEBPACK_IMPORTED_MODULE_1__.A)({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function withEmotionCache(func){return(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){var cache=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(EmotionCacheContext);return func(props,cache,ref)})},ThemeContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});var hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function createEmotionProps(type,props){var newProps={};for(var _key in props)hasOwn.call(props,_key)&&(newProps[_key]=props[_key]);return newProps[typePropName]=type,newProps},Insertion=function Insertion(_ref){var cache=_ref.cache,serialized=_ref.serialized,isStringTag=_ref.isStringTag;return(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_2__.SF)(cache,serialized,isStringTag),(0,_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_4__.s)(function(){return(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_2__.sk)(cache,serialized,isStringTag)}),null},Emotion$1=withEmotionCache(function(props,cache,ref){var cssProp=props.css;"string"==typeof cssProp&&void 0!==cache.registered[cssProp]&&(cssProp=cache.registered[cssProp]);var WrappedComponent=props[typePropName],registeredStyles=[cssProp],className="";"string"==typeof props.className?className=(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_2__.Rk)(cache.registered,registeredStyles,props.className):null!=props.className&&(className=props.className+" ");var serialized=(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_3__.J)(registeredStyles,void 0,react__WEBPACK_IMPORTED_MODULE_0__.useContext(ThemeContext));className+=cache.key+"-"+serialized.name;var newProps={};for(var _key2 in props)hasOwn.call(props,_key2)&&"css"!==_key2&&_key2!==typePropName&&(newProps[_key2]=props[_key2]);return newProps.className=className,ref&&(newProps.ref=ref),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Insertion,{cache,serialized,isStringTag:"string"==typeof WrappedComponent}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,newProps))})},24787:module=>{"use strict";var $TypeError=TypeError;module.exports=function(passed,required){if(passed<required)throw new $TypeError("Not enough arguments");return passed}},24823:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var bind=__webpack_require__(28311),call=__webpack_require__(13930),anObject=__webpack_require__(36624),tryToString=__webpack_require__(4640),isArrayIteratorMethod=__webpack_require__(37812),lengthOfArrayLike=__webpack_require__(20575),isPrototypeOf=__webpack_require__(88280),getIterator=__webpack_require__(10300),getIteratorMethod=__webpack_require__(73448),iteratorClose=__webpack_require__(40154),$TypeError=TypeError,Result=function(stopped,result){this.stopped=stopped,this.result=result},ResultPrototype=Result.prototype;module.exports=function(iterable,unboundFunction,options){var iterator,iterFn,index,length,result,next,step,that=options&&options.that,AS_ENTRIES=!(!options||!options.AS_ENTRIES),IS_RECORD=!(!options||!options.IS_RECORD),IS_ITERATOR=!(!options||!options.IS_ITERATOR),INTERRUPTED=!(!options||!options.INTERRUPTED),fn=bind(unboundFunction,that),stop=function(condition){return iterator&&iteratorClose(iterator,"normal"),new Result(!0,condition)},callFn=function(value){return AS_ENTRIES?(anObject(value),INTERRUPTED?fn(value[0],value[1],stop):fn(value[0],value[1])):INTERRUPTED?fn(value,stop):fn(value)};if(IS_RECORD)iterator=iterable.iterator;else if(IS_ITERATOR)iterator=iterable;else{if(!(iterFn=getIteratorMethod(iterable)))throw new $TypeError(tryToString(iterable)+" is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=lengthOfArrayLike(iterable);length>index;index++)if((result=callFn(iterable[index]))&&isPrototypeOf(ResultPrototype,result))return result;return new Result(!1)}iterator=getIterator(iterable,iterFn)}for(next=IS_RECORD?iterable.next:iterator.next;!(step=call(next,iterator)).done;){try{result=callFn(step.value)}catch(error){iteratorClose(iterator,"throw",error)}if("object"==typeof result&&result&&isPrototypeOf(ResultPrototype,result))return result}return new Result(!1)}},24994:module=>{module.exports=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}},module.exports.__esModule=!0,module.exports.default=module.exports},25110:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(9703)},25407:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var classof=__webpack_require__(45807),toIndexedObject=__webpack_require__(27374),$getOwnPropertyNames=__webpack_require__(24443).f,arraySlice=__webpack_require__(93427),windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"Window"===classof(it)?function(it){try{return $getOwnPropertyNames(it)}catch(error){return arraySlice(windowNames)}}(it):$getOwnPropertyNames(toIndexedObject(it))}},25468:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),fails=__webpack_require__(98828),isCallable=__webpack_require__(62250),classof=__webpack_require__(73948),getBuiltIn=__webpack_require__(85582),inspectSource=__webpack_require__(12647),noop=function(){},construct=getBuiltIn("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=uncurryThis(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop),isConstructorModern=function isConstructor(argument){if(!isCallable(argument))return!1;try{return construct(noop,[],argument),!0}catch(error){return!1}},isConstructorLegacy=function isConstructor(argument){if(!isCallable(argument))return!1;switch(classof(argument)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource(argument))}catch(error){return!0}};isConstructorLegacy.sham=!0,module.exports=!construct||fails(function(){var called;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){called=!0})||called})?isConstructorLegacy:isConstructorModern},25594:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),isCallable=__webpack_require__(62250),isPrototypeOf=__webpack_require__(88280),USE_SYMBOL_AS_UID=__webpack_require__(51175),$Object=Object;module.exports=USE_SYMBOL_AS_UID?function(it){return"symbol"==typeof it}:function(it){var $Symbol=getBuiltIn("Symbol");return isCallable($Symbol)&&isPrototypeOf($Symbol.prototype,$Object(it))}},25663:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(10070);module.exports=parent},25669:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>useDefaultProps});__webpack_require__(96540);var _mui_system_DefaultPropsProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(72221);__webpack_require__(74848);function useDefaultProps(params){return(0,_mui_system_DefaultPropsProvider__WEBPACK_IMPORTED_MODULE_1__.b)(params)}},25735:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var MATCH=__webpack_require__(76264)("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(error1){try{return regexp[MATCH]=!1,"/./"[METHOD_NAME](regexp)}catch(error2){}}return!1}},25823:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),newPromiseCapabilityModule=__webpack_require__(56254);$({target:"Promise",stat:!0},{withResolvers:function withResolvers(){var promiseCapability=newPromiseCapabilityModule.f(this);return{promise:promiseCapability.promise,resolve:promiseCapability.resolve,reject:promiseCapability.reject}}})},25837:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Object",stat:!0,sham:!__webpack_require__(39447)},{create:__webpack_require__(58075)})},25905:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),fails=__webpack_require__(98828),intersection=__webpack_require__(45331);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("intersection",function(result){return 2===result.size&&result.has(1)&&result.has(2)})||fails(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection})},25953:(module,__unused_webpack_exports,__webpack_require__)=>{var _Object$getPrototypeOf=__webpack_require__(55169),_reverseInstanceProperty=__webpack_require__(80734),OverloadYield=__webpack_require__(53244),regenerator=__webpack_require__(31913),regeneratorAsync=__webpack_require__(63765),regeneratorAsyncGen=__webpack_require__(53551),regeneratorAsyncIterator=__webpack_require__(85063),regeneratorKeys=__webpack_require__(15869),regeneratorValues=__webpack_require__(53163);function _regeneratorRuntime(){"use strict";var r=regenerator(),e=r.m(_regeneratorRuntime),t=(_Object$getPrototypeOf?_Object$getPrototypeOf(e):e.__proto__).constructor;function n(r){var e="function"==typeof r&&r.constructor;return!!e&&(e===t||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function a(r){var e,t;return function(n){e||(e={stop:function stop(){return t(n.a,2)},catch:function _catch(){return n.v},abrupt:function abrupt(r,e){return t(n.a,o[r],e)},delegateYield:function delegateYield(r,o,a){return e.resultName=o,t(n.d,regeneratorValues(r),a)},finish:function finish(r){return t(n.f,r)}},t=function t(r,_t,o){n.p=e.prev,n.n=e.next;try{return r(_t,o)}finally{e.next=n.n}}),e.resultName&&(e[e.resultName]=n.v,e.resultName=void 0),e.sent=n.v,e.next=n.n;try{return r.call(this,e)}finally{n.p=e.prev,n.n=e.next}}}return(module.exports=_regeneratorRuntime=function _regeneratorRuntime(){return{wrap:function wrap(e,t,n,o){return r.w(a(e),t,n,o&&_reverseInstanceProperty(o).call(o))},isGeneratorFunction:n,mark:r.m,awrap:function awrap(r,e){return new OverloadYield(r,e)},AsyncIterator:regeneratorAsyncIterator,async:function async(r,e,t,o,u){return(n(e)?regeneratorAsyncGen:regeneratorAsync)(a(r),e,t,o,u)},keys:regeneratorKeys,values:regeneratorValues}},module.exports.__esModule=!0,module.exports.default=module.exports)()}module.exports=_regeneratorRuntime,module.exports.__esModule=!0,module.exports.default=module.exports},26040:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(68251);module.exports=parent},26100:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(69563)},26327:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(70228)},26375:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828);module.exports=fails(function(){if("function"==typeof ArrayBuffer){var buffer=new ArrayBuffer(8);Object.isExtensible(buffer)&&Object.defineProperty(buffer,"a",{value:8})}})},26737:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),aCallable=__webpack_require__(82159),toObject=__webpack_require__(39298),lengthOfArrayLike=__webpack_require__(20575),deletePropertyOrThrow=__webpack_require__(74535),toString=__webpack_require__(90160),fails=__webpack_require__(98828),internalSort=__webpack_require__(34321),arrayMethodIsStrict=__webpack_require__(77623),FF=__webpack_require__(93440),IE_OR_EDGE=__webpack_require__(24328),V8=__webpack_require__(20798),WEBKIT=__webpack_require__(3786),test=[],nativeSort=uncurryThis(test.sort),push=uncurryThis(test.push),FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),STRICT_METHOD=arrayMethodIsStrict("sort"),STABLE_SORT=!fails(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var code,chr,value,index,result="";for(code=65;code<76;code++){switch(chr=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:value=3;break;case 68:case 71:value=4;break;default:value=2}for(index=0;index<47;index++)test.push({k:chr+index,v:value})}for(test.sort(function(a,b){return b.v-a.v}),index=0;index<test.length;index++)chr=test[index].k.charAt(0),result.charAt(result.length-1)!==chr&&(result+=chr);return"DGBEFHACIJK"!==result}});$({target:"Array",proto:!0,forced:FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT},{sort:function sort(comparefn){void 0!==comparefn&&aCallable(comparefn);var array=toObject(this);if(STABLE_SORT)return void 0===comparefn?nativeSort(array):nativeSort(array,comparefn);var itemsLength,index,items=[],arrayLength=lengthOfArrayLike(array);for(index=0;index<arrayLength;index++)index in array&&push(items,array[index]);for(internalSort(items,function(comparefn){return function(x,y){return void 0===y?-1:void 0===x?1:void 0!==comparefn?+comparefn(x,y)||0:toString(x)>toString(y)?1:-1}}(comparefn)),itemsLength=lengthOfArrayLike(items),index=0;index<itemsLength;)array[index]=items[index++];for(;index<arrayLength;)deletePropertyOrThrow(array,index++);return array}})},26818:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var anObject=__webpack_require__(36624),iteratorClose=__webpack_require__(40154);module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){iteratorClose(iterator,"throw",error)}}},27045:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(1730);__webpack_require__(12560),module.exports=parent},27086:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(52865);module.exports=parent},27124:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(85837)},27320:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>getDisplayName,getFunctionName:()=>getFunctionName});var react_is_production=__webpack_require__(6774);const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(fn){const match=`${fn}`.match(fnNameMatchRegex);return match&&match[1]||""}function getFunctionComponentName(Component,fallback=""){return Component.displayName||Component.name||getFunctionName(Component)||fallback}function getWrappedName(outerType,innerType,wrapperName){const functionName=getFunctionComponentName(innerType);return outerType.displayName||(""!==functionName?`${wrapperName}(${functionName})`:wrapperName)}function getDisplayName(Component){if(null!=Component){if("string"==typeof Component)return Component;if("function"==typeof Component)return getFunctionComponentName(Component,"Component");if("object"==typeof Component)switch(Component.$$typeof){case react_is_production.vM:return getWrappedName(Component,Component.render,"ForwardRef");case react_is_production.lD:return getWrappedName(Component,Component.type,"memo");default:return}}}},27341:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(86024);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","values")},27374:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var IndexedObject=__webpack_require__(16946),requireObjectCoercible=__webpack_require__(74239);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},27382:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(69563);module.exports=parent},27415:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(1168);module.exports=parent},27637:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(37380)},27777:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(61418);module.exports=parent},27939:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(57450)},28253:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(6687);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","map")},28311:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(92361),aCallable=__webpack_require__(82159),NATIVE_BIND=__webpack_require__(41505),bind=uncurryThis(uncurryThis.bind);module.exports=function(fn,that){return aCallable(fn),void 0===that?fn:NATIVE_BIND?bind(fn,that):function(){return fn.apply(that,arguments)}}},28336:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function applyStyles(key,styles){const theme=this;if(theme.vars&&"function"==typeof theme.getColorSchemeSelector){const selector=theme.getColorSchemeSelector(key).replace(/(\[[^\]]+\])/,"*:where($1)");return{[selector]:styles}}return theme.palette.mode===key?styles:{}}__webpack_require__.d(__webpack_exports__,{A:()=>applyStyles})},28450:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var anObject=__webpack_require__(36624),aConstructor=__webpack_require__(82235),isNullOrUndefined=__webpack_require__(87136),SPECIES=__webpack_require__(76264)("species");module.exports=function(O,defaultConstructor){var S,C=anObject(O).constructor;return void 0===C||isNullOrUndefined(S=anObject(C)[SPECIES])?defaultConstructor:aConstructor(S)}},28461:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(21035)},28466:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(13967).A},28597:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},28669:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),getBuiltIn=__webpack_require__(85582),fails=__webpack_require__(98828),validateArgumentsLength=__webpack_require__(24787),toString=__webpack_require__(90160),USE_NATIVE_URL=__webpack_require__(34791),URL=getBuiltIn("URL"),THROWS_WITHOUT_ARGUMENTS=USE_NATIVE_URL&&fails(function(){URL.canParse()}),WRONG_ARITY=fails(function(){return 1!==URL.canParse.length});$({target:"URL",stat:!0,forced:!THROWS_WITHOUT_ARGUMENTS||WRONG_ARITY},{canParse:function canParse(url){var length=validateArgumentsLength(arguments.length,1),urlString=toString(url),base=length<2||void 0===arguments[1]?void 0:toString(arguments[1]);try{return!!new URL(urlString,base)}catch(error){return!1}}})},28699:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(95395);var path=__webpack_require__(92046);module.exports=path.Object.values},28703:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("matcher")},28823:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(16693),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.reduce;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.reduce?method:own}},28970:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(87810);var Object=__webpack_require__(92046).Object,defineProperties=module.exports=function defineProperties(T,D){return Object.defineProperties(T,D)};Object.defineProperties.sham&&(defineProperties.sham=!0)},29367:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aCallable=__webpack_require__(82159),isNullOrUndefined=__webpack_require__(87136);module.exports=function(V,P){var func=V[P];return isNullOrUndefined(func)?void 0:aCallable(func)}},29538:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),uncurryThis=__webpack_require__(1907),call=__webpack_require__(13930),fails=__webpack_require__(98828),objectKeys=__webpack_require__(2875),getOwnPropertySymbolsModule=__webpack_require__(87170),propertyIsEnumerableModule=__webpack_require__(22574),toObject=__webpack_require__(39298),IndexedObject=__webpack_require__(16946),$assign=Object.assign,defineProperty=Object.defineProperty,concat=uncurryThis([].concat);module.exports=!$assign||fails(function(){if(DESCRIPTORS&&1!==$assign({b:1},$assign(defineProperty({},"a",{enumerable:!0,get:function(){defineProperty(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var A={},B={},symbol=Symbol("assign detection");return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach(function(chr){B[chr]=chr}),7!==$assign({},A)[symbol]||"abcdefghijklmnopqrst"!==objectKeys($assign({},B)).join("")})?function assign(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?concat(objectKeys(S),getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!call(propertyIsEnumerable,S,key)||(T[key]=S[key]);return T}:$assign},29550:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(37867)},29844:(__unused_webpack_module,exports)=>{"use strict";var f,g,h,k;if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a),t=null}catch(b){throw setTimeout(w,0),b}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))},g=function(a,b){u=setTimeout(a,b)},h=function(){clearTimeout(u)},exports.unstable_shouldYield=function(){return!1},k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var z=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof z&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=E},k=function(){},exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<a?Math.floor(1e3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b}}else A=!1},f=function(a){B=a,A||(A=!0,G.postMessage(null))},g=function(a,b){C=x(function(){a(exports.unstable_now())},b)},h=function(){y(C),C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(!(void 0!==e&&0<I(e,b)))break a;a[d]=b,a[c]=e,c=d}}function J(a){return void 0===(a=a[0])?null:a}function K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else{if(!(void 0!==r&&0>I(r,c)))break a;a[d]=r,a[v]=c,d=v}}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;function T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else{if(!(b.startTime<=a))break;K(M),b.sortIndex=b.expirationTime,H(L,b)}b=J(M)}}function U(a){if(S=!1,T(a),!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}function V(a,b){R=!1,S&&(S=!1,h()),Q=!0;var c=P;try{for(T(b),O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if("function"==typeof d){O.callback=null,P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now(),"function"==typeof e?O.callback=e:O===J(L)&&K(L),T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b),m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(a){a.callback=null},exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))},exports.unstable_getCurrentPriorityLevel=function(){return P},exports.unstable_getFirstCallbackNode=function(){return J(L)},exports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=W,exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}},exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();switch("object"==typeof c&&null!==c?c="number"==typeof(c=c.delay)&&0<c?d+c:d:c=d,a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}return a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e=c+e,sortIndex:-1},c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V))),a},exports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}}},29944:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(58598),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.unshift;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.unshift?method:own}},30041:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Rk:()=>getRegisteredStyles,SF:()=>registerStyles,sk:()=>insertStyles});function getRegisteredStyles(registered,registeredStyles,classNames){var rawClassName="";return classNames.split(" ").forEach(function(className){void 0!==registered[className]?registeredStyles.push(registered[className]+";"):className&&(rawClassName+=className+" ")}),rawClassName}var registerStyles=function registerStyles(cache,serialized,isStringTag){var className=cache.key+"-"+serialized.name;!1===isStringTag&&void 0===cache.registered[className]&&(cache.registered[className]=serialized.styles)},insertStyles=function insertStyles(cache,serialized,isStringTag){registerStyles(cache,serialized,isStringTag);var className=cache.key+"-"+serialized.name;if(void 0===cache.inserted[serialized.name]){var current=serialized;do{cache.insert(serialized===current?"."+className:"",current,cache.sheet,!0),current=current.next}while(void 0!==current)}}},30217:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var create=__webpack_require__(58075),defineBuiltInAccessor=__webpack_require__(89251),defineBuiltIns=__webpack_require__(12802),bind=__webpack_require__(28311),anInstance=__webpack_require__(59596),isNullOrUndefined=__webpack_require__(87136),iterate=__webpack_require__(24823),defineIterator=__webpack_require__(60183),createIterResultObject=__webpack_require__(59550),setSpecies=__webpack_require__(47118),DESCRIPTORS=__webpack_require__(39447),fastKey=__webpack_require__(61548).fastKey,InternalStateModule=__webpack_require__(64932),setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor;module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var Constructor=wrapper(function(that,iterable){anInstance(that,Prototype),setInternalState(that,{type:CONSTRUCTOR_NAME,index:create(null),first:null,last:null,size:0}),DESCRIPTORS||(that.size=0),isNullOrUndefined(iterable)||iterate(iterable,that[ADDER],{that,AS_ENTRIES:IS_MAP})}),Prototype=Constructor.prototype,getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME),define=function(that,key,value){var previous,index,state=getInternalState(that),entry=getEntry(that,key);return entry?entry.value=value:(state.last=entry={index:index=fastKey(key,!0),key,value,previous:previous=state.last,next:null,removed:!1},state.first||(state.first=entry),previous&&(previous.next=entry),DESCRIPTORS?state.size++:that.size++,"F"!==index&&(state.index[index]=entry)),that},getEntry=function(that,key){var entry,state=getInternalState(that),index=fastKey(key);if("F"!==index)return state.index[index];for(entry=state.first;entry;entry=entry.next)if(entry.key===key)return entry};return defineBuiltIns(Prototype,{clear:function clear(){for(var state=getInternalState(this),entry=state.first;entry;)entry.removed=!0,entry.previous&&(entry.previous=entry.previous.next=null),entry=entry.next;state.first=state.last=null,state.index=create(null),DESCRIPTORS?state.size=0:this.size=0},delete:function(key){var state=getInternalState(this),entry=getEntry(this,key);if(entry){var next=entry.next,prev=entry.previous;delete state.index[entry.index],entry.removed=!0,prev&&(prev.next=next),next&&(next.previous=prev),state.first===entry&&(state.first=next),state.last===entry&&(state.last=prev),DESCRIPTORS?state.size--:this.size--}return!!entry},forEach:function forEach(callbackfn){for(var entry,state=getInternalState(this),boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:void 0);entry=entry?entry.next:state.first;)for(boundFunction(entry.value,entry.key,this);entry&&entry.removed;)entry=entry.previous},has:function has(key){return!!getEntry(this,key)}}),defineBuiltIns(Prototype,IS_MAP?{get:function get(key){var entry=getEntry(this,key);return entry&&entry.value},set:function set(key,value){return define(this,0===key?0:key,value)}}:{add:function add(value){return define(this,value=0===value?0:value,value)}}),DESCRIPTORS&&defineBuiltInAccessor(Prototype,"size",{configurable:!0,get:function(){return getInternalState(this).size}}),Constructor},setStrong:function(Constructor,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator",getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME),getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(Constructor,CONSTRUCTOR_NAME,function(iterated,kind){setInternalState(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind,last:null})},function(){for(var state=getInternalIteratorState(this),kind=state.kind,entry=state.last;entry&&entry.removed;)entry=entry.previous;return state.target&&(state.last=entry=entry?entry.next:state.state.first)?createIterResultObject("keys"===kind?entry.key:"values"===kind?entry.value:[entry.key,entry.value],!1):(state.target=null,createIterResultObject(void 0,!0))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(CONSTRUCTOR_NAME)}}},30361:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade")},31523:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>useForkRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540),_setRef__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17365);function useForkRef(...refs){return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>refs.every(ref=>null==ref)?null:instance=>{refs.forEach(ref=>{(0,_setRef__WEBPACK_IMPORTED_MODULE_1__.A)(ref,instance)})},refs)}},31564:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(77725);module.exports=parent},31601:module=>{"use strict";module.exports=function(i){return i[1]}},31609:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>generateUtilityClass});var _ClassNameGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79071);const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(componentName,slot,globalStatePrefix="Mui"){const globalStateClass=globalStateClasses[slot];return globalStateClass?`${globalStatePrefix}-${globalStateClass}`:`${_ClassNameGenerator__WEBPACK_IMPORTED_MODULE_0__.A.generate(componentName)}-${slot}`}},31661:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(98537),__webpack_require__(33669);var WrappedWellKnownSymbolModule=__webpack_require__(80560);module.exports=WrappedWellKnownSymbolModule.f("toPrimitive")},31721:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(82990)},31913:(module,__unused_webpack_exports,__webpack_require__)=>{var _Symbol=__webpack_require__(93071),_Object$create=__webpack_require__(14006),_bindInstanceProperty=__webpack_require__(953),_Object$getPrototypeOf=__webpack_require__(55169),_Object$setPrototypeOf=__webpack_require__(56269),regeneratorDefine=__webpack_require__(51586);function _regenerator(){var e,t,r="function"==typeof _Symbol?_Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=_Object$create(c.prototype);return regeneratorDefine(u,"_invoke",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:_bindInstanceProperty(d).call(d,e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0))}if(o||r>1)return a;throw y=!0,n}return function(o,p,l){if(f>1)throw TypeError("Generator is already running");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break}catch(t){i=e,c=1,u=t}finally{f=1}}return{value:t,done:y}}}(r,o,i),!0),u}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=_Object$getPrototypeOf;var c=[][n]?t(t([][n]())):(regeneratorDefine(t={},n,function(){return this}),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=_Object$create(c);function f(e){return _Object$setPrototypeOf?_Object$setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,regeneratorDefine(e,o,"GeneratorFunction")),e.prototype=_Object$create(u),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,regeneratorDefine(u,"constructor",GeneratorFunctionPrototype),regeneratorDefine(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",regeneratorDefine(GeneratorFunctionPrototype,o,"GeneratorFunction"),regeneratorDefine(u),regeneratorDefine(u,o,"Generator"),regeneratorDefine(u,n,function(){return this}),regeneratorDefine(u,"toString",function(){return"[object Generator]"}),(module.exports=_regenerator=function _regenerator(){return{w:i,m:f}},module.exports.__esModule=!0,module.exports.default=module.exports)()}module.exports=_regenerator,module.exports.__esModule=!0,module.exports.default=module.exports},32096:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toString=__webpack_require__(90160);module.exports=function(argument,$default){return void 0===argument?arguments.length<2?"":$default:toString(argument)}},32321:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(57264);__webpack_require__(13939),__webpack_require__(21785),__webpack_require__(81697),__webpack_require__(84664),__webpack_require__(63422),__webpack_require__(70036),__webpack_require__(28703),__webpack_require__(86878),__webpack_require__(59671),__webpack_require__(50359),module.exports=parent},32325:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function ownerDocument(node){return node&&node.ownerDocument||document}__webpack_require__.d(__webpack_exports__,{A:()=>ownerDocument})},32332:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aCallable=__webpack_require__(82159),anObject=__webpack_require__(36624),call=__webpack_require__(13930),toIntegerOrInfinity=__webpack_require__(65482),getIteratorDirect=__webpack_require__(93316),$RangeError=RangeError,$TypeError=TypeError,max=Math.max,SetRecord=function(set,intSize){this.set=set,this.size=max(intSize,0),this.has=aCallable(set.has),this.keys=aCallable(set.keys)};SetRecord.prototype={getIterator:function(){return getIteratorDirect(anObject(call(this.keys,this.set)))},includes:function(it){return call(this.has,this.set,it)}},module.exports=function(obj){anObject(obj);var numSize=+obj.size;if(numSize!=numSize)throw new $TypeError("Invalid size");var intSize=toIntegerOrInfinity(numSize);if(intSize<0)throw new $RangeError("Invalid size");return new SetRecord(obj,intSize)}},32499:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("dispose")},32567:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(79307);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Function","bind")},33067:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(54712);__webpack_require__(12560),module.exports=parent},33068:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>Timeout,A:()=>useTimeout});var react=__webpack_require__(96540);const UNINITIALIZED={};const EMPTY=[];class Timeout{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(delay,fn){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,fn()},delay)}}function useTimeout(){const timeout=function useLazyRef(init,initArg){const ref=react.useRef(UNINITIALIZED);return ref.current===UNINITIALIZED&&(ref.current=init(initArg)),ref}(Timeout.create).current;return function useOnMount(fn){react.useEffect(fn,EMPTY)}(timeout.disposeEffect),timeout}},33155:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(16177),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.filter;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.filter?method:own}},33266:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(78685);module.exports=parent},33487:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(56909)},33568:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(25823)},33571:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,k:()=>unstable_createStyleFunctionSx});var _mui_utils_capitalize__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13967),_merge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14620),_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86481),_breakpoints__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(89452),_defaultSxConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(94188);function unstable_createStyleFunctionSx(){function getThemeValue(prop,val,theme,config){const props={[prop]:val,theme},options=config[prop];if(!options)return{[prop]:val};const{cssProperty=prop,themeKey,transform,style}=options;if(null==val)return null;if("typography"===themeKey&&"inherit"===val)return{[prop]:val};const themeMapping=(0,_style__WEBPACK_IMPORTED_MODULE_2__.Yn)(theme,themeKey)||{};if(style)return style(props);return(0,_breakpoints__WEBPACK_IMPORTED_MODULE_3__.NI)(props,val,propValueFinal=>{let value=(0,_style__WEBPACK_IMPORTED_MODULE_2__.BO)(themeMapping,transform,propValueFinal);return propValueFinal===value&&"string"==typeof propValueFinal&&(value=(0,_style__WEBPACK_IMPORTED_MODULE_2__.BO)(themeMapping,transform,`${prop}${"default"===propValueFinal?"":(0,_mui_utils_capitalize__WEBPACK_IMPORTED_MODULE_0__.A)(propValueFinal)}`,propValueFinal)),!1===cssProperty?value:{[cssProperty]:value}})}return function styleFunctionSx(props){var _theme$unstable_sxCon;const{sx,theme={},nested}=props||{};if(!sx)return null;const config=null!=(_theme$unstable_sxCon=theme.unstable_sxConfig)?_theme$unstable_sxCon:_defaultSxConfig__WEBPACK_IMPORTED_MODULE_4__.A;function traverse(sxInput){let sxObject=sxInput;if("function"==typeof sxInput)sxObject=sxInput(theme);else if("object"!=typeof sxInput)return sxInput;if(!sxObject)return null;const emptyBreakpoints=(0,_breakpoints__WEBPACK_IMPORTED_MODULE_3__.EU)(theme.breakpoints),breakpointsKeys=Object.keys(emptyBreakpoints);let css=emptyBreakpoints;return Object.keys(sxObject).forEach(styleKey=>{const value=function callIfFn(maybeFn,arg){return"function"==typeof maybeFn?maybeFn(arg):maybeFn}(sxObject[styleKey],theme);if(null!=value)if("object"==typeof value)if(config[styleKey])css=(0,_merge__WEBPACK_IMPORTED_MODULE_1__.A)(css,getThemeValue(styleKey,value,theme,config));else{const breakpointsValues=(0,_breakpoints__WEBPACK_IMPORTED_MODULE_3__.NI)({theme},value,x=>({[styleKey]:x}));!function objectsHaveSameKeys(...objects){const allKeys=objects.reduce((keys,object)=>keys.concat(Object.keys(object)),[]),union=new Set(allKeys);return objects.every(object=>union.size===Object.keys(object).length)}(breakpointsValues,value)?css=(0,_merge__WEBPACK_IMPORTED_MODULE_1__.A)(css,breakpointsValues):css[styleKey]=styleFunctionSx({sx:value,theme,nested:!0})}else css=(0,_merge__WEBPACK_IMPORTED_MODULE_1__.A)(css,getThemeValue(styleKey,value,theme,config))}),!nested&&theme.modularCssLayers?{"@layer sx":(0,_breakpoints__WEBPACK_IMPORTED_MODULE_3__.vf)(breakpointsKeys,css)}:(0,_breakpoints__WEBPACK_IMPORTED_MODULE_3__.vf)(breakpointsKeys,css)}return Array.isArray(sx)?sx.map(traverse):traverse(sx)}}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const __WEBPACK_DEFAULT_EXPORT__=styleFunctionSx},33669:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var defineWellKnownSymbol=__webpack_require__(20366),defineSymbolToPrimitive=__webpack_require__(83467);defineWellKnownSymbol("toPrimitive"),defineSymbolToPrimitive()},34164:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f)}else for(f in e)e[f]&&(n&&(n+=" "),n+=f);return n}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function clsx(){for(var e,t,f=0,n="",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}},34321:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var arraySlice=__webpack_require__(93427),floor=Math.floor,sort=function(array,comparefn){var length=array.length;if(length<8)for(var element,j,i=1;i<length;){for(j=i,element=array[i];j&&comparefn(array[j-1],element)>0;)array[j]=array[--j];j!==i++&&(array[j]=element)}else for(var middle=floor(length/2),left=sort(arraySlice(array,0,middle),comparefn),right=sort(arraySlice(array,middle),comparefn),llength=left.length,rlength=right.length,lindex=0,rindex=0;lindex<llength||rindex<rlength;)array[lindex+rindex]=lindex<llength&&rindex<rlength?comparefn(left[lindex],right[rindex])<=0?left[lindex++]:right[rindex++]:lindex<llength?left[lindex++]:right[rindex++];return array};module.exports=sort},34598:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(8661);module.exports=parent},34661:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{A:()=>useId});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540);let globalId=0;const maybeReactUseId=(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)))["useId".toString()];function useId(idOverride){if(void 0!==maybeReactUseId){const reactId=maybeReactUseId();return null!=idOverride?idOverride:reactId}return function useGlobalId(idOverride){const[defaultId,setDefaultId]=react__WEBPACK_IMPORTED_MODULE_0__.useState(idOverride),id=idOverride||defaultId;return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{null==defaultId&&(globalId+=1,setDefaultId(`mui-${globalId}`))},[defaultId]),id}(idOverride)}},34791:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828),wellKnownSymbol=__webpack_require__(76264),DESCRIPTORS=__webpack_require__(39447),IS_PURE=__webpack_require__(7376),ITERATOR=wellKnownSymbol("iterator");module.exports=!fails(function(){var url=new URL("b?a=1&b=2&c=3","https://a"),params=url.searchParams,params2=new URLSearchParams("a=1&a=2&b=3"),result="";return url.pathname="c%20d",params.forEach(function(value,key){params.delete("b"),result+=key+value}),params2.delete("a",2),params2.delete("b",void 0),IS_PURE&&(!url.toJSON||!params2.has("a",1)||params2.has("a",2)||!params2.has("a",void 0)||params2.has("b"))||!params.size&&(IS_PURE||!DESCRIPTORS)||!params.sort||"https://a/c%20d?a=1&c=3"!==url.href||"3"!==params.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!params[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==result||"x"!==new URL("https://x",void 0).host})},34849:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toIntegerOrInfinity=__webpack_require__(65482),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toIntegerOrInfinity(index);return integer<0?max(integer+length,0):min(integer,length)}},35043:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aCallable=__webpack_require__(82159),toObject=__webpack_require__(39298),IndexedObject=__webpack_require__(16946),lengthOfArrayLike=__webpack_require__(20575),$TypeError=TypeError,REDUCE_EMPTY="Reduce of empty array with no initial value",createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){var O=toObject(that),self=IndexedObject(O),length=lengthOfArrayLike(O);if(aCallable(callbackfn),0===length&&argumentsLength<2)throw new $TypeError(REDUCE_EMPTY);var index=IS_RIGHT?length-1:0,i=IS_RIGHT?-1:1;if(argumentsLength<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,IS_RIGHT?index<0:length<=index)throw new $TypeError(REDUCE_EMPTY)}for(;IS_RIGHT?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}};module.exports={left:createMethod(!1),right:createMethod(!0)}},35743:module=>{"use strict";module.exports=function(set){return set.size}},35953:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),toObject=__webpack_require__(39298),toAbsoluteIndex=__webpack_require__(34849),toIntegerOrInfinity=__webpack_require__(65482),lengthOfArrayLike=__webpack_require__(20575),setArrayLength=__webpack_require__(3130),doesNotExceedSafeInteger=__webpack_require__(88024),arraySpeciesCreate=__webpack_require__(56968),createProperty=__webpack_require__(5543),deletePropertyOrThrow=__webpack_require__(74535),HAS_SPECIES_SUPPORT=__webpack_require__(59552)("splice"),max=Math.max,min=Math.min;$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{splice:function splice(start,deleteCount){var insertCount,actualDeleteCount,A,k,from,to,O=toObject(this),len=lengthOfArrayLike(O),actualStart=toAbsoluteIndex(start,len),argumentsLength=arguments.length;for(0===argumentsLength?insertCount=actualDeleteCount=0:1===argumentsLength?(insertCount=0,actualDeleteCount=len-actualStart):(insertCount=argumentsLength-2,actualDeleteCount=min(max(toIntegerOrInfinity(deleteCount),0),len-actualStart)),doesNotExceedSafeInteger(len+insertCount-actualDeleteCount),A=arraySpeciesCreate(O,actualDeleteCount),k=0;k<actualDeleteCount;k++)(from=actualStart+k)in O&&createProperty(A,k,O[from]);if(A.length=actualDeleteCount,insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++)to=k+insertCount,(from=k+actualDeleteCount)in O?O[to]=O[from]:deletePropertyOrThrow(O,to);for(k=len;k>len-actualDeleteCount+insertCount;k--)deletePropertyOrThrow(O,k-1)}else if(insertCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;k--)to=k+insertCount-1,(from=k+actualDeleteCount-1)in O?O[to]=O[from]:deletePropertyOrThrow(O,to);for(k=0;k<insertCount;k++)O[k+actualStart]=arguments[k+2];return setArrayLength(O,len-actualDeleteCount+insertCount),A}})},36128:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var IS_PURE=__webpack_require__(7376),globalThis=__webpack_require__(45951),defineGlobalProperty=__webpack_require__(2532),store=module.exports=globalThis["__core-js_shared__"]||defineGlobalProperty("__core-js_shared__",{});(store.versions||(store.versions=[])).push({version:"3.45.0",mode:IS_PURE?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"})},36289:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function memoize(fn){var cache=Object.create(null);return function(arg){return void 0===cache[arg]&&(cache[arg]=fn(arg)),cache[arg]}}__webpack_require__.d(__webpack_exports__,{A:()=>memoize})},36415:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),call=__webpack_require__(13930),aCallable=__webpack_require__(82159),getBuiltIn=__webpack_require__(85582),newPromiseCapabilityModule=__webpack_require__(56254),perform=__webpack_require__(94420),iterate=__webpack_require__(24823),PROMISE_STATICS_INCORRECT_ITERATION=__webpack_require__(3282);$({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{any:function any(iterable){var C=this,AggregateError=getBuiltIn("AggregateError"),capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var promiseResolve=aCallable(C.resolve),errors=[],counter=0,remaining=1,alreadyResolved=!1;iterate(iterable,function(promise){var index=counter++,alreadyRejected=!1;remaining++,call(promiseResolve,C,promise).then(function(value){alreadyRejected||alreadyResolved||(alreadyResolved=!0,resolve(value))},function(error){alreadyRejected||alreadyResolved||(alreadyRejected=!0,errors[index]=error,--remaining||reject(new AggregateError(errors,"No one promise resolved")))})}),--remaining||reject(new AggregateError(errors,"No one promise resolved"))});return result.error&&reject(result.value),capability.promise}})},36586:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(91921)},36624:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isObject=__webpack_require__(46285),$String=String,$TypeError=TypeError;module.exports=function(argument){if(isObject(argument))return argument;throw new $TypeError($String(argument)+" is not an object")}},36751:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(93220)},36833:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),hasOwn=__webpack_require__(49724),FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn(FunctionPrototype,"name"),PROPER=EXISTS&&"something"===function something(){}.name,CONFIGURABLE=EXISTS&&(!DESCRIPTORS||DESCRIPTORS&&getDescriptor(FunctionPrototype,"name").configurable);module.exports={EXISTS,PROPER,CONFIGURABLE}},36880:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),arrayMethod=__webpack_require__(11362),stringMethod=__webpack_require__(44378),ArrayPrototype=Array.prototype,StringPrototype=String.prototype;module.exports=function(it){var own=it.includes;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.includes?arrayMethod:"string"==typeof it||it===StringPrototype||isPrototypeOf(StringPrototype,it)&&own===StringPrototype.includes?stringMethod:own}},37380:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),globalThis=__webpack_require__(45951),apply=__webpack_require__(76024),slice=__webpack_require__(93427),newPromiseCapabilityModule=__webpack_require__(56254),aCallable=__webpack_require__(82159),perform=__webpack_require__(94420),Promise=globalThis.Promise,ACCEPT_ARGUMENTS=!1;$({target:"Promise",stat:!0,forced:!Promise||!Promise.try||perform(function(){Promise.try(function(argument){ACCEPT_ARGUMENTS=8===argument},8)}).error||!ACCEPT_ARGUMENTS},{try:function(callbackfn){var args=arguments.length>1?slice(arguments,1):[],promiseCapability=newPromiseCapabilityModule.f(this),result=perform(function(){return apply(aCallable(callbackfn),void 0,args)});return(result.error?promiseCapability.reject:promiseCapability.resolve)(result.value),promiseCapability.promise}})},37812:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var wellKnownSymbol=__webpack_require__(76264),Iterators=__webpack_require__(93742),ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},37867:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(5354);module.exports=parent},38172:()=>{},38413:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>generateUtilityClasses});var _generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31609);function generateUtilityClasses(componentName,slots,globalStatePrefix="Mui"){const result={};return slots.forEach(slot=>{result[slot]=(0,_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__.Ay)(componentName,slot,globalStatePrefix)}),result}},38530:module=>{"use strict";module.exports={}},38573:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(74532)},38966:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),fails=__webpack_require__(98828),toObject=__webpack_require__(39298),nativeGetPrototypeOf=__webpack_require__(15972),CORRECT_PROTOTYPE_GETTER=__webpack_require__(57382);$({target:"Object",stat:!0,forced:fails(function(){nativeGetPrototypeOf(1)}),sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function getPrototypeOf(it){return nativeGetPrototypeOf(toObject(it))}})},39259:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isObject=__webpack_require__(46285),createNonEnumerableProperty=__webpack_require__(61626);module.exports=function(O,options){isObject(options)&&"cause"in options&&createNonEnumerableProperty(O,"cause",options.cause)}},39298:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var requireObjectCoercible=__webpack_require__(74239),$Object=Object;module.exports=function(argument){return $Object(requireObjectCoercible(argument))}},39299:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(28253),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.map;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.map?method:own}},39447:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828);module.exports=!fails(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},39599:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>extendSxProp});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58168),_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(98587),_mui_utils_deepmerge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11317),_defaultSxConfig__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94188);const _excluded=["sx"],splitProps=props=>{var _props$theme$unstable,_props$theme;const result={systemProps:{},otherProps:{}},config=null!=(_props$theme$unstable=null==props||null==(_props$theme=props.theme)?void 0:_props$theme.unstable_sxConfig)?_props$theme$unstable:_defaultSxConfig__WEBPACK_IMPORTED_MODULE_3__.A;return Object.keys(props).forEach(prop=>{config[prop]?result.systemProps[prop]=props[prop]:result.otherProps[prop]=props[prop]}),result};function extendSxProp(props){const{sx:inSx}=props,other=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__.A)(props,_excluded),{systemProps,otherProps}=splitProps(other);let finalSx;return finalSx=Array.isArray(inSx)?[systemProps,...inSx]:"function"==typeof inSx?(...args)=>{const result=inSx(...args);return(0,_mui_utils_deepmerge__WEBPACK_IMPORTED_MODULE_2__.Q)(result)?(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},systemProps,result):systemProps}:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},systemProps,inSx),(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},otherProps,{sx:finalSx})}},39770:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _slotShouldForwardProp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(64438);const __WEBPACK_DEFAULT_EXPORT__=prop=>(0,_slotShouldForwardProp__WEBPACK_IMPORTED_MODULE_0__.A)(prop)&&"classes"!==prop},39841:module=>{"use strict";module.exports=function(methodName,numArgs){return 1===numArgs?function(object,arg){return object[methodName](arg)}:function(object,arg1,arg2){return object[methodName](arg1,arg2)}}},39940:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlobalStyles});__webpack_require__(96540);var _emotion_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17437),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74848);function GlobalStyles(props){const{styles,defaultTheme={}}=props,globalStyles="function"==typeof styles?themeInput=>styles(function isEmpty(obj){return null==obj||0===Object.keys(obj).length}(themeInput)?defaultTheme:themeInput):styles;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_emotion_react__WEBPACK_IMPORTED_MODULE_1__.mL,{styles:globalStyles})}},40026:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(95029);module.exports=parent},40154:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var call=__webpack_require__(13930),anObject=__webpack_require__(36624),getMethod=__webpack_require__(29367);module.exports=function(iterator,kind,value){var innerResult,innerError;anObject(iterator);try{if(!(innerResult=getMethod(iterator,"return"))){if("throw"===kind)throw value;return value}innerResult=call(innerResult,iterator)}catch(error){innerError=!0,innerResult=error}if("throw"===kind)throw value;if(innerError)throw innerResult;return anObject(innerResult),value}},40303:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(75265),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.slice;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.slice?method:own}},40551:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),isCallable=__webpack_require__(62250),WeakMap=globalThis.WeakMap;module.exports=isCallable(WeakMap)&&/native code/.test(String(WeakMap))},40961:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}(),module.exports=__webpack_require__(22551)},40975:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(9748);module.exports=parent},41113:module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},41176:module=>{"use strict";var ceil=Math.ceil,floor=Math.floor;module.exports=Math.trunc||function trunc(x){var n=+x;return(n>0?floor:ceil)(n)}},41381:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>utils_useControlled});var react=__webpack_require__(96540);const utils_useControlled=function useControlled({controlled,default:defaultProp,name,state="value"}){const{current:isControlled}=react.useRef(void 0!==controlled),[valueState,setValue]=react.useState(defaultProp);return[isControlled?controlled:valueState,react.useCallback(newValue=>{isControlled||setValue(newValue)},[])]}},41505:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828);module.exports=!fails(function(){var test=function(){}.bind();return"function"!=typeof test||test.hasOwnProperty("prototype")})},41655:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),add=__webpack_require__(73881).add,clone=__webpack_require__(6913),getSetRecord=__webpack_require__(32332),iterateSimple=__webpack_require__(22190);module.exports=function union(other){var O=aSet(this),keysIter=getSetRecord(other).getIterator(),result=clone(O);return iterateSimple(keysIter,function(it){add(result,it)}),result}},41732:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),has=__webpack_require__(73881).has,size=__webpack_require__(35743),getSetRecord=__webpack_require__(32332),iterateSet=__webpack_require__(81330),iterateSimple=__webpack_require__(22190),iteratorClose=__webpack_require__(40154);module.exports=function isDisjointFrom(other){var O=aSet(this),otherRec=getSetRecord(other);if(size(O)<=otherRec.size)return!1!==iterateSet(O,function(e){if(otherRec.includes(e))return!1},!0);var iterator=otherRec.getIterator();return!1!==iterateSimple(iterator,function(e){if(has(O,e))return iteratorClose(iterator,"normal",!1)})}},41969:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(22092);module.exports=parent},42032:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _utils.createSvgIcon}});var _utils=__webpack_require__(91838)},42156:module=>{"use strict";module.exports=function(){}},42193:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$parseInt=__webpack_require__(72778);$({global:!0,forced:parseInt!==$parseInt},{parseInt:$parseInt})},42220:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__(58661),definePropertyModule=__webpack_require__(74284),anObject=__webpack_require__(36624),toIndexedObject=__webpack_require__(27374),objectKeys=__webpack_require__(2875);exports.f=DESCRIPTORS&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var key,props=toIndexedObject(Properties),keys=objectKeys(Properties),length=keys.length,index=0;length>index;)definePropertyModule.f(O,key=keys[index++],props[key]);return O}},42832:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),userAgent=__webpack_require__(96794),classof=__webpack_require__(45807),userAgentStartsWith=function(string){return userAgent.slice(0,string.length)===string};module.exports=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis.Bun&&"string"==typeof Bun.version?"BUN":globalThis.Deno&&"object"==typeof Deno.version?"DENO":"process"===classof(globalThis.process)?"NODE":globalThis.window&&globalThis.document?"BROWSER":"REST"},43174:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>serializeStyles});var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},emotion_memoize_esm=__webpack_require__(36289),isDevelopment=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function isCustomProperty(property){return 45===property.charCodeAt(1)},isProcessableValue=function isProcessableValue(value){return null!=value&&"boolean"!=typeof value},processStyleName=(0,emotion_memoize_esm.A)(function(styleName){return isCustomProperty(styleName)?styleName:styleName.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function processStyleValue(key,value){switch(key){case"animation":case"animationName":if("string"==typeof value)return value.replace(animationRegex,function(match,p1,p2){return cursor={name:p1,styles:p2,next:cursor},p1})}return 1===unitlessKeys[key]||isCustomProperty(key)||"number"!=typeof value||0===value?value:value+"px"},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(mergedProps,registered,interpolation){if(null==interpolation)return"";var componentSelector=interpolation;if(void 0!==componentSelector.__emotion_styles)return componentSelector;switch(typeof interpolation){case"boolean":return"";case"object":var keyframes=interpolation;if(1===keyframes.anim)return cursor={name:keyframes.name,styles:keyframes.styles,next:cursor},keyframes.name;var serializedStyles=interpolation;if(void 0!==serializedStyles.styles){var next=serializedStyles.next;if(void 0!==next)for(;void 0!==next;)cursor={name:next.name,styles:next.styles,next:cursor},next=next.next;return serializedStyles.styles+";"}return function createStringFromObject(mergedProps,registered,obj){var string="";if(Array.isArray(obj))for(var i=0;i<obj.length;i++)string+=handleInterpolation(mergedProps,registered,obj[i])+";";else for(var key in obj){var value=obj[key];if("object"!=typeof value){var asString=value;null!=registered&&void 0!==registered[asString]?string+=key+"{"+registered[asString]+"}":isProcessableValue(asString)&&(string+=processStyleName(key)+":"+processStyleValue(key,asString)+";")}else{if("NO_COMPONENT_SELECTOR"===key&&isDevelopment)throw new Error(noComponentSelectorMessage);if(!Array.isArray(value)||"string"!=typeof value[0]||null!=registered&&void 0!==registered[value[0]]){var interpolated=handleInterpolation(mergedProps,registered,value);switch(key){case"animation":case"animationName":string+=processStyleName(key)+":"+interpolated+";";break;default:string+=key+"{"+interpolated+"}"}}else for(var _i=0;_i<value.length;_i++)isProcessableValue(value[_i])&&(string+=processStyleName(key)+":"+processStyleValue(key,value[_i])+";")}}return string}(mergedProps,registered,interpolation);case"function":if(void 0!==mergedProps){var previousCursor=cursor,result=interpolation(mergedProps);return cursor=previousCursor,handleInterpolation(mergedProps,registered,result)}}var asString=interpolation;if(null==registered)return asString;var cached=registered[asString];return void 0!==cached?cached:asString}var cursor,labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g;function serializeStyles(args,registered,mergedProps){if(1===args.length&&"object"==typeof args[0]&&null!==args[0]&&void 0!==args[0].styles)return args[0];var stringMode=!0,styles="";cursor=void 0;var strings=args[0];null==strings||void 0===strings.raw?(stringMode=!1,styles+=handleInterpolation(mergedProps,registered,strings)):styles+=strings[0];for(var i=1;i<args.length;i++){if(styles+=handleInterpolation(mergedProps,registered,args[i]),stringMode)styles+=strings[i]}labelPattern.lastIndex=0;for(var match,identifierName="";null!==(match=labelPattern.exec(styles));)identifierName+="-"+match[1];var name=function murmur2(str){for(var k,h=0,i=0,len=str.length;len>=4;++i,len-=4)k=1540483477*(65535&(k=255&str.charCodeAt(i)|(255&str.charCodeAt(++i))<<8|(255&str.charCodeAt(++i))<<16|(255&str.charCodeAt(++i))<<24))+(59797*(k>>>16)<<16),h=1540483477*(65535&(k^=k>>>24))+(59797*(k>>>16)<<16)^1540483477*(65535&h)+(59797*(h>>>16)<<16);switch(len){case 3:h^=(255&str.charCodeAt(i+2))<<16;case 2:h^=(255&str.charCodeAt(i+1))<<8;case 1:h=1540483477*(65535&(h^=255&str.charCodeAt(i)))+(59797*(h>>>16)<<16)}return(((h=1540483477*(65535&(h^=h>>>13))+(59797*(h>>>16)<<16))^h>>>15)>>>0).toString(36)}(styles)+identifierName;return{name,styles,next:cursor}}},43520:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(56435);module.exports=parent},43629:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(3727),StringPrototype=String.prototype;module.exports=function(it){var own=it.padStart;return"string"==typeof it||it===StringPrototype||isPrototypeOf(StringPrototype,it)&&own===StringPrototype.padStart?method:own}},44123:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("match")},44239:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_deepmerge__WEBPACK_IMPORTED_MODULE_0__.A,isPlainObject:()=>_deepmerge__WEBPACK_IMPORTED_MODULE_0__.Q});var _deepmerge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11317)},44363:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(22799)},44378:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(19770);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("String","includes")},44507:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(83309),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.indexOf;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.indexOf?method:own}},44673:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),aCallable=__webpack_require__(82159),isObject=__webpack_require__(46285),hasOwn=__webpack_require__(49724),arraySlice=__webpack_require__(93427),NATIVE_BIND=__webpack_require__(41505),$Function=Function,concat=uncurryThis([].concat),join=uncurryThis([].join),factories={};module.exports=NATIVE_BIND?$Function.bind:function bind(that){var F=aCallable(this),Prototype=F.prototype,partArgs=arraySlice(arguments,1),boundFunction=function bound(){var args=concat(partArgs,arraySlice(arguments));return this instanceof boundFunction?function(C,argsLength,args){if(!hasOwn(factories,argsLength)){for(var list=[],i=0;i<argsLength;i++)list[i]="a["+i+"]";factories[argsLength]=$Function("C,a","return new C("+join(list,",")+")")}return factories[argsLength](C,args)}(F,args.length,args):F.apply(that,args)};return isObject(Prototype)&&(boundFunction.prototype=Prototype),boundFunction}},44810:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),defineWellKnownSymbol=__webpack_require__(20366),setToStringTag=__webpack_require__(14840);defineWellKnownSymbol("toStringTag"),setToStringTag(getBuiltIn("Symbol"),"Symbol")},44828:(module,__unused_webpack_exports,__webpack_require__)=>{var runtime=__webpack_require__(25953)();module.exports=runtime;try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},44877:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ownerWindow});var _ownerDocument__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32325);function ownerWindow(node){return(0,_ownerDocument__WEBPACK_IMPORTED_MODULE_0__.A)(node).defaultView||window}},44954:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("iterator")},45204:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(97027);__webpack_require__(12560),module.exports=parent},45228:module=>{"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},45331:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),SetHelpers=__webpack_require__(73881),size=__webpack_require__(35743),getSetRecord=__webpack_require__(32332),iterateSet=__webpack_require__(81330),iterateSimple=__webpack_require__(22190),Set=SetHelpers.Set,add=SetHelpers.add,has=SetHelpers.has;module.exports=function intersection(other){var O=aSet(this),otherRec=getSetRecord(other),result=new Set;return size(O)>otherRec.size?iterateSimple(otherRec.getIterator(),function(e){has(O,e)&&add(result,e)}):iterateSet(O,function(e){otherRec.includes(e)&&add(result,e)}),result}},45771:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(86024);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","entries")},45779:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(33266);module.exports=parent},45807:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),toString=uncurryThis({}.toString),stringSlice=uncurryThis("".slice);module.exports=function(it){return stringSlice(toString(it),8,-1)}},45837:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(96275),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.concat;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.concat?method:own}},45951:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var check=function(it){return it&&it.Math===Math&&it};module.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof __webpack_require__.g&&__webpack_require__.g)||check("object"==typeof this&&this)||function(){return this}()||Function("return this")()},46028:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var call=__webpack_require__(13930),isObject=__webpack_require__(46285),isSymbol=__webpack_require__(25594),getMethod=__webpack_require__(29367),ordinaryToPrimitive=__webpack_require__(60581),wellKnownSymbol=__webpack_require__(76264),$TypeError=TypeError,TO_PRIMITIVE=wellKnownSymbol("toPrimitive");module.exports=function(input,pref){if(!isObject(input)||isSymbol(input))return input;var result,exoticToPrim=getMethod(input,TO_PRIMITIVE);if(exoticToPrim){if(void 0===pref&&(pref="default"),result=call(exoticToPrim,input,pref),!isObject(result)||isSymbol(result))return result;throw new $TypeError("Can't convert object to primitive value")}return void 0===pref&&(pref="number"),ordinaryToPrimitive(input,pref)}},46285:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isCallable=__webpack_require__(62250);module.exports=function(it){return"object"==typeof it?null!==it:isCallable(it)}},46339:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$reduce=__webpack_require__(35043).left,arrayMethodIsStrict=__webpack_require__(77623),CHROME_VERSION=__webpack_require__(20798);$({target:"Array",proto:!0,forced:!__webpack_require__(47586)&&CHROME_VERSION>79&&CHROME_VERSION<83||!arrayMethodIsStrict("reduce")},{reduce:function reduce(callbackfn){var length=arguments.length;return $reduce(this,callbackfn,length,length>1?arguments[1]:void 0)}})},46513:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(95092);module.exports=parent},46750:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),DESCRIPTORS=__webpack_require__(39447),defineProperty=__webpack_require__(74284).f;$({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty,sham:!DESCRIPTORS},{defineProperty})},47118:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),defineBuiltInAccessor=__webpack_require__(89251),wellKnownSymbol=__webpack_require__(76264),DESCRIPTORS=__webpack_require__(39447),SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME);DESCRIPTORS&&Constructor&&!Constructor[SPECIES]&&defineBuiltInAccessor(Constructor,SPECIES,{configurable:!0,get:function(){return this}})}},47181:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var IteratorPrototype=__webpack_require__(95116).IteratorPrototype,create=__webpack_require__(58075),createPropertyDescriptor=__webpack_require__(75817),setToStringTag=__webpack_require__(14840),Iterators=__webpack_require__(93742),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next,ENUMERABLE_NEXT){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(+!ENUMERABLE_NEXT,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},47379:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>resolveProps});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58168);function resolveProps(defaultProps,props){const output=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},props);return Object.keys(defaultProps).forEach(propName=>{if(propName.toString().match(/^(components|slots)$/))output[propName]=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},defaultProps[propName],output[propName]);else if(propName.toString().match(/^(componentsProps|slotProps)$/)){const defaultSlotProps=defaultProps[propName]||{},slotProps=props[propName];output[propName]={},slotProps&&Object.keys(slotProps)?defaultSlotProps&&Object.keys(defaultSlotProps)?(output[propName]=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.A)({},slotProps),Object.keys(defaultSlotProps).forEach(slotPropName=>{output[propName][slotPropName]=resolveProps(defaultSlotProps[slotPropName],slotProps[slotPropName])})):output[propName]=slotProps:output[propName]=defaultSlotProps}else void 0===output[propName]&&(output[propName]=defaultProps[propName])}),output}},47439:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(94826);module.exports=parent},47491:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),size=__webpack_require__(35743),iterate=__webpack_require__(81330),getSetRecord=__webpack_require__(32332);module.exports=function isSubsetOf(other){var O=aSet(this),otherRec=getSetRecord(other);return!(size(O)>otherRec.size)&&!1!==iterate(O,function(e){if(!otherRec.includes(e))return!1},!0)}},47586:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ENVIRONMENT=__webpack_require__(42832);module.exports="NODE"===ENVIRONMENT},47649:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(14729);var path=__webpack_require__(92046);module.exports=path.Object.entries},47714:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),IS_PURE=__webpack_require__(7376),NativePromiseConstructor=__webpack_require__(55463),fails=__webpack_require__(98828),getBuiltIn=__webpack_require__(85582),isCallable=__webpack_require__(62250),speciesConstructor=__webpack_require__(28450),promiseResolve=__webpack_require__(83569),defineBuiltIn=__webpack_require__(68055),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($({target:"Promise",proto:!0,real:!0,forced:!!NativePromiseConstructor&&fails(function(){NativePromisePrototype.finally.call({then:function(){}},function(){})})},{finally:function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction=isCallable(onFinally);return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}}),!IS_PURE&&isCallable(NativePromiseConstructor)){var method=getBuiltIn("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn(NativePromisePrototype,"finally",method,{unsafe:!0})}},47764:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(56975);module.exports=parent},47985:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(86450);module.exports=parent},48079:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(98894)},48270:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(80430);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("String","endsWith")},48348:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(59076);__webpack_require__(12560),module.exports=parent},48559:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),isArray=__webpack_require__(11793),nativeReverse=uncurryThis([].reverse),test=[1,2];$({target:"Array",proto:!0,forced:String(test)===String(test.reverse())},{reverse:function reverse(){return isArray(this)&&(this.length=this.length),nativeReverse(this)}})},49124:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(12560);var classof=__webpack_require__(73948),hasOwn=__webpack_require__(49724),isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(73592),ArrayPrototype=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0};module.exports=function(it){var own=it.values;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.values||hasOwn(DOMIterables,classof(it))?method:own}},49261:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(56286);module.exports=parent},49295:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$filter=__webpack_require__(70726).filter;$({target:"Array",proto:!0,forced:!__webpack_require__(59552)("filter")},{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:void 0)}})},49472:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $location,defer,channel,port,globalThis=__webpack_require__(45951),apply=__webpack_require__(76024),bind=__webpack_require__(28311),isCallable=__webpack_require__(62250),hasOwn=__webpack_require__(49724),fails=__webpack_require__(98828),html=__webpack_require__(62416),arraySlice=__webpack_require__(93427),createElement=__webpack_require__(49552),validateArgumentsLength=__webpack_require__(24787),IS_IOS=__webpack_require__(71829),IS_NODE=__webpack_require__(47586),set=globalThis.setImmediate,clear=globalThis.clearImmediate,process=globalThis.process,Dispatch=globalThis.Dispatch,Function=globalThis.Function,MessageChannel=globalThis.MessageChannel,String=globalThis.String,counter=0,queue={};fails(function(){$location=globalThis.location});var run=function(id){if(hasOwn(queue,id)){var fn=queue[id];delete queue[id],fn()}},runner=function(id){return function(){run(id)}},eventListener=function(event){run(event.data)},globalPostMessageDefer=function(id){globalThis.postMessage(String(id),$location.protocol+"//"+$location.host)};set&&clear||(set=function setImmediate(handler){validateArgumentsLength(arguments.length,1);var fn=isCallable(handler)?handler:Function(handler),args=arraySlice(arguments,1);return queue[++counter]=function(){apply(fn,void 0,args)},defer(counter),counter},clear=function clearImmediate(id){delete queue[id]},IS_NODE?defer=function(id){process.nextTick(runner(id))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(runner(id))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=eventListener,defer=bind(port.postMessage,port)):globalThis.addEventListener&&isCallable(globalThis.postMessage)&&!globalThis.importScripts&&$location&&"file:"!==$location.protocol&&!fails(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis.addEventListener("message",eventListener,!1)):defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run(id)}}:function(id){setTimeout(runner(id),0)}),module.exports={set,clear}},49552:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),isObject=__webpack_require__(46285),document=globalThis.document,EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},49645:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(45204);__webpack_require__(27637),__webpack_require__(33568),module.exports=parent},49721:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),getBuiltIn=__webpack_require__(85582),apply=__webpack_require__(76024),call=__webpack_require__(13930),uncurryThis=__webpack_require__(1907),fails=__webpack_require__(98828),isCallable=__webpack_require__(62250),isSymbol=__webpack_require__(25594),arraySlice=__webpack_require__(93427),getReplacerFunction=__webpack_require__(96656),NATIVE_SYMBOL=__webpack_require__(19846),$String=String,$stringify=getBuiltIn("JSON","stringify"),exec=uncurryThis(/./.exec),charAt=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),replace=uncurryThis("".replace),numberToString=uncurryThis(1.1.toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL||fails(function(){var symbol=getBuiltIn("Symbol")("stringify detection");return"[null]"!==$stringify([symbol])||"{}"!==$stringify({a:symbol})||"{}"!==$stringify(Object(symbol))}),ILL_FORMED_UNICODE=fails(function(){return'"\\udf06\\ud834"'!==$stringify("\udf06\ud834")||'"\\udead"'!==$stringify("\udead")}),stringifyWithSymbolsFix=function(it,replacer){var args=arraySlice(arguments),$replacer=getReplacerFunction(replacer);if(isCallable($replacer)||void 0!==it&&!isSymbol(it))return args[1]=function(key,value){if(isCallable($replacer)&&(value=call($replacer,this,$String(key),value)),!isSymbol(value))return value},apply($stringify,null,args)},fixIllFormed=function(match,offset,string){var prev=charAt(string,offset-1),next=charAt(string,offset+1);return exec(low,match)&&!exec(hi,next)||exec(hi,match)&&!exec(low,prev)?"\\u"+numberToString(charCodeAt(match,0),16):match};$stringify&&$({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function stringify(it,replacer,space){var args=arraySlice(arguments),result=apply(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,args);return ILL_FORMED_UNICODE&&"string"==typeof result?replace(result,tester,fixIllFormed):result}})},49724:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),toObject=__webpack_require__(39298),hasOwnProperty=uncurryThis({}.hasOwnProperty);module.exports=Object.hasOwn||function hasOwn(it,key){return hasOwnProperty(toObject(it),key)}},49763:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(86450)},49792:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(56908);module.exports=parent},50179:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),DESCRIPTORS=__webpack_require__(39447),ownKeys=__webpack_require__(11042),toIndexedObject=__webpack_require__(27374),getOwnPropertyDescriptorModule=__webpack_require__(13846),createProperty=__webpack_require__(5543);$({target:"Object",stat:!0,sham:!DESCRIPTORS},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){for(var key,descriptor,O=toIndexedObject(object),getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,keys=ownKeys(O),result={},index=0;keys.length>index;)void 0!==(descriptor=getOwnPropertyDescriptor(O,key=keys[index++]))&&createProperty(result,key,descriptor);return result}})},50359:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("replaceAll")},50530:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(45837);module.exports=parent},50697:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(76490)},50727:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$trim=__webpack_require__(65993).trim;$({target:"String",proto:!0,forced:__webpack_require__(95819)("trim")},{trim:function trim(){return $trim(this)}})},51175:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var NATIVE_SYMBOL=__webpack_require__(19846);module.exports=NATIVE_SYMBOL&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},51586:(module,__unused_webpack_exports,__webpack_require__)=>{var _Object$defineProperty=__webpack_require__(20591);function _regeneratorDefine(e,r,n,t){var i=_Object$defineProperty;try{i({},"",{})}catch(e){i=0}module.exports=_regeneratorDefine=function regeneratorDefine(e,r,n,t){function o(r,n){_regeneratorDefine(e,r,function(e){return this._invoke(r,n,e)})}r?i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},module.exports.__esModule=!0,module.exports.default=module.exports,_regeneratorDefine(e,r,n,t)}module.exports=_regeneratorDefine,module.exports.__esModule=!0,module.exports.default=module.exports},51660:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("species")},51871:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),aCallable=__webpack_require__(82159);module.exports=function(object,key,method){try{return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object,key)[method]))}catch(error){}}},52098:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),DESCRIPTORS=__webpack_require__(39447),getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;module.exports=function(name){if(!DESCRIPTORS)return globalThis[name];var descriptor=getOwnPropertyDescriptor(globalThis,name);return descriptor&&descriptor.value}},52162:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help")},52292:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var notify,toggle,node,promise,then,globalThis=__webpack_require__(45951),safeGetBuiltIn=__webpack_require__(52098),bind=__webpack_require__(28311),macrotask=__webpack_require__(49472).set,Queue=__webpack_require__(1626),IS_IOS=__webpack_require__(71829),IS_IOS_PEBBLE=__webpack_require__(58606),IS_WEBOS_WEBKIT=__webpack_require__(59291),IS_NODE=__webpack_require__(47586),MutationObserver=globalThis.MutationObserver||globalThis.WebKitMutationObserver,document=globalThis.document,process=globalThis.process,Promise=globalThis.Promise,microtask=safeGetBuiltIn("queueMicrotask");if(!microtask){var queue=new Queue,flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();fn=queue.get();)try{fn()}catch(error){throw queue.head&&notify(),error}parent&&parent.enter()};IS_IOS||IS_NODE||IS_WEBOS_WEBKIT||!MutationObserver||!document?!IS_IOS_PEBBLE&&Promise&&Promise.resolve?((promise=Promise.resolve(void 0)).constructor=Promise,then=bind(promise.then,promise),notify=function(){then(flush)}):IS_NODE?notify=function(){process.nextTick(flush)}:(macrotask=bind(macrotask,globalThis),notify=function(){macrotask(flush)}):(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}),microtask=function(fn){queue.head||notify(),queue.add(fn)}}module.exports=microtask},52623:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var test={};test[__webpack_require__(76264)("toStringTag")]="z",module.exports="[object z]"===String(test)},52865:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(59371),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.flatMap;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.flatMap?method:own}},53163:(module,__unused_webpack_exports,__webpack_require__)=>{var _typeof=__webpack_require__(91234).default,_Symbol=__webpack_require__(93071),_Symbol$iterator=__webpack_require__(4473);module.exports=function _regeneratorValues(e){if(null!=e){var t=e["function"==typeof _Symbol&&_Symbol$iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function next(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(_typeof(e)+" is not iterable")},module.exports.__esModule=!0,module.exports.default=module.exports},53244:module=>{module.exports=function _OverloadYield(e,d){this.v=e,this.k=d},module.exports.__esModule=!0,module.exports.default=module.exports},53375:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(93700);module.exports=parent},53551:(module,__unused_webpack_exports,__webpack_require__)=>{var _Promise=__webpack_require__(16160),regenerator=__webpack_require__(31913),regeneratorAsyncIterator=__webpack_require__(85063);module.exports=function _regeneratorAsyncGen(r,e,t,o,n){return new regeneratorAsyncIterator(regenerator().w(r,e,t,o),n||_Promise)},module.exports.__esModule=!0,module.exports.default=module.exports},53930:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(68251)},54018:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isObject=__webpack_require__(46285);module.exports=function(argument){return isObject(argument)||null===argument}},54491:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(22395);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("String","startsWith")},54712:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(7057);var getIteratorMethod=__webpack_require__(73448);module.exports=getIteratorMethod},54878:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(52623),classof=__webpack_require__(73948);module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function toString(){return"[object "+classof(this)+"]"}},54893:module=>{module.exports=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t},module.exports.__esModule=!0,module.exports.default=module.exports},54929:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(23264)},55056:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},55095:module=>{"use strict";module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!==i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(i of a.entries())if(!b.has(i[0]))return!1;for(i of a.entries())if(!equal(i[1],b.get(i[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(i of a.entries())if(!b.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&ArrayBuffer.isView(b)){if((length=a.length)!=b.length)return!1;for(i=length;0!==i--;)if(a[i]!==b[i])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!==i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!==i--;){var key=keys[i];if(("_owner"!==key||!a.$$typeof)&&!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},55169:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(27415)},55264:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),NATIVE_SYMBOL=__webpack_require__(19846),fails=__webpack_require__(98828),getOwnPropertySymbolsModule=__webpack_require__(87170),toObject=__webpack_require__(39298);$({target:"Object",stat:!0,forced:!NATIVE_SYMBOL||fails(function(){getOwnPropertySymbolsModule.f(1)})},{getOwnPropertySymbols:function getOwnPropertySymbols(it){var $getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return $getOwnPropertySymbols?$getOwnPropertySymbols(toObject(it)):[]}})},55463:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951);module.exports=globalThis.Promise},55655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>createCache});var StyleSheet=function(){function StyleSheet(options){var _this=this;this._insertTag=function(tag){var before;before=0===_this.tags.length?_this.insertionPoint?_this.insertionPoint.nextSibling:_this.prepend?_this.container.firstChild:_this.before:_this.tags[_this.tags.length-1].nextSibling,_this.container.insertBefore(tag,before),_this.tags.push(tag)},this.isSpeedy=void 0===options.speedy||options.speedy,this.tags=[],this.ctr=0,this.nonce=options.nonce,this.key=options.key,this.container=options.container,this.prepend=options.prepend,this.insertionPoint=options.insertionPoint,this.before=null}var _proto=StyleSheet.prototype;return _proto.hydrate=function hydrate(nodes){nodes.forEach(this._insertTag)},_proto.insert=function insert(rule){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function createStyleElement(options){var tag=document.createElement("style");return tag.setAttribute("data-emotion",options.key),void 0!==options.nonce&&tag.setAttribute("nonce",options.nonce),tag.appendChild(document.createTextNode("")),tag.setAttribute("data-s",""),tag}(this));var tag=this.tags[this.tags.length-1];if(this.isSpeedy){var sheet=function sheetForTag(tag){if(tag.sheet)return tag.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===tag)return document.styleSheets[i]}(tag);try{sheet.insertRule(rule,sheet.cssRules.length)}catch(e){}}else tag.appendChild(document.createTextNode(rule));this.ctr++},_proto.flush=function flush(){this.tags.forEach(function(tag){var _tag$parentNode;return null==(_tag$parentNode=tag.parentNode)?void 0:_tag$parentNode.removeChild(tag)}),this.tags=[],this.ctr=0},StyleSheet}(),abs=Math.abs,Utility_from=String.fromCharCode,Utility_assign=Object.assign;function trim(value){return value.trim()}function Utility_replace(value,pattern,replacement){return value.replace(pattern,replacement)}function indexof(value,search){return value.indexOf(search)}function Utility_charat(value,index){return 0|value.charCodeAt(index)}function Utility_substr(value,begin,end){return value.slice(begin,end)}function Utility_strlen(value){return value.length}function Utility_sizeof(value){return value.length}function Utility_append(value,array){return array.push(value),value}var line=1,column=1,Tokenizer_length=0,position=0,character=0,characters="";function node(value,root,parent,type,props,children,length){return{value,root,parent,type,props,children,line,column,length,return:""}}function Tokenizer_copy(root,props){return Utility_assign(node("",null,null,"",null,null,0),root,{length:-root.length},props)}function prev(){return character=position>0?Utility_charat(characters,--position):0,column--,10===character&&(column=1,line--),character}function next(){return character=position<Tokenizer_length?Utility_charat(characters,position++):0,column++,10===character&&(column=1,line++),character}function peek(){return Utility_charat(characters,position)}function caret(){return position}function slice(begin,end){return Utility_substr(characters,begin,end)}function token(type){switch(type){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(value){return line=column=1,Tokenizer_length=Utility_strlen(characters=value),position=0,[]}function dealloc(value){return characters="",value}function delimit(type){return trim(slice(position-1,delimiter(91===type?type+2:40===type?type+1:type)))}function whitespace(type){for(;(character=peek())&&character<33;)next();return token(type)>2||token(character)>3?"":" "}function escaping(index,count){for(;--count&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(index,caret()+(count<6&&32==peek()&&32==next()))}function delimiter(type){for(;next();)switch(character){case type:return position;case 34:case 39:34!==type&&39!==type&&delimiter(character);break;case 40:41===type&&delimiter(type);break;case 92:next()}return position}function commenter(type,index){for(;next()&&type+character!==57&&(type+character!==84||47!==peek()););return"/*"+slice(index,position-1)+"*"+Utility_from(47===type?type:next())}function identifier(index){for(;!token(peek());)next();return slice(index,position)}function Serializer_serialize(children,callback){for(var output="",length=Utility_sizeof(children),i=0;i<length;i++)output+=callback(children[i],i,children,callback)||"";return output}function stringify(element,index,children,callback){switch(element.type){case"@layer":if(element.children.length)break;case"@import":case"decl":return element.return=element.return||element.value;case"comm":return"";case"@keyframes":return element.return=element.value+"{"+Serializer_serialize(element.children,callback)+"}";case"rule":element.value=element.props.join(",")}return Utility_strlen(children=Serializer_serialize(element.children,callback))?element.return=element.value+"{"+children+"}":""}function compile(value){return dealloc(parse("",null,null,null,[""],value=alloc(value),0,[0],value))}function parse(value,root,parent,rule,rules,rulesets,pseudo,points,declarations){for(var index=0,offset=0,length=pseudo,atrule=0,property=0,previous=0,variable=1,scanning=1,ampersand=1,character=0,type="",props=rules,children=rulesets,reference=rule,characters=type;scanning;)switch(previous=character,character=next()){case 40:if(108!=previous&&58==Utility_charat(characters,length-1)){-1!=indexof(characters+=Utility_replace(delimit(character),"&","&\f"),"&\f")&&(ampersand=-1);break}case 34:case 39:case 91:characters+=delimit(character);break;case 9:case 10:case 13:case 32:characters+=whitespace(previous);break;case 92:characters+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:Utility_append(comment(commenter(next(),caret()),root,parent),declarations);break;default:characters+="/"}break;case 123*variable:points[index++]=Utility_strlen(characters)*ampersand;case 125*variable:case 59:case 0:switch(character){case 0:case 125:scanning=0;case 59+offset:-1==ampersand&&(characters=Utility_replace(characters,/\f/g,"")),property>0&&Utility_strlen(characters)-length&&Utility_append(property>32?declaration(characters+";",rule,parent,length-1):declaration(Utility_replace(characters," ","")+";",rule,parent,length-2),declarations);break;case 59:characters+=";";default:if(Utility_append(reference=ruleset(characters,root,parent,index,offset,rules,points,type,props=[],children=[],length),rulesets),123===character)if(0===offset)parse(characters,root,reference,reference,props,rulesets,length,points,children);else switch(99===atrule&&110===Utility_charat(characters,3)?100:atrule){case 100:case 108:case 109:case 115:parse(value,reference,reference,rule&&Utility_append(ruleset(value,reference,reference,0,0,rules,points,type,rules,props=[],length),children),rules,children,length,points,rule?props:children);break;default:parse(characters,reference,reference,reference,[""],children,0,points,children)}}index=offset=property=0,variable=ampersand=1,type=characters="",length=pseudo;break;case 58:length=1+Utility_strlen(characters),property=previous;default:if(variable<1)if(123==character)--variable;else if(125==character&&0==variable++&&125==prev())continue;switch(characters+=Utility_from(character),character*variable){case 38:ampersand=offset>0?1:(characters+="\f",-1);break;case 44:points[index++]=(Utility_strlen(characters)-1)*ampersand,ampersand=1;break;case 64:45===peek()&&(characters+=delimit(next())),atrule=peek(),offset=length=Utility_strlen(type=characters+=identifier(caret())),character++;break;case 45:45===previous&&2==Utility_strlen(characters)&&(variable=0)}}return rulesets}function ruleset(value,root,parent,index,offset,rules,points,type,props,children,length){for(var post=offset-1,rule=0===offset?rules:[""],size=Utility_sizeof(rule),i=0,j=0,k=0;i<index;++i)for(var x=0,y=Utility_substr(value,post+1,post=abs(j=points[i])),z=value;x<size;++x)(z=trim(j>0?rule[x]+" "+y:Utility_replace(y,/&\f/g,rule[x])))&&(props[k++]=z);return node(value,root,parent,0===offset?"rule":type,props,children,length)}function comment(value,root,parent){return node(value,root,parent,"comm",Utility_from(function Tokenizer_char(){return character}()),Utility_substr(value,2,-2),0)}function declaration(value,root,parent,length){return node(value,root,parent,"decl",Utility_substr(value,0,length),Utility_substr(value,length+1,-1),length)}var identifierWithPointTracking=function identifierWithPointTracking(begin,points,index){for(var previous=0,character=0;previous=character,character=peek(),38===previous&&12===character&&(points[index]=1),!token(character);)next();return slice(begin,position)},getRules=function getRules(value,points){return dealloc(function toRules(parsed,points){var index=-1,character=44;do{switch(token(character)){case 0:38===character&&12===peek()&&(points[index]=1),parsed[index]+=identifierWithPointTracking(position-1,points,index);break;case 2:parsed[index]+=delimit(character);break;case 4:if(44===character){parsed[++index]=58===peek()?"&\f":"",points[index]=parsed[index].length;break}default:parsed[index]+=Utility_from(character)}}while(character=next());return parsed}(alloc(value),points))},fixedElements=new WeakMap,compat=function compat(element){if("rule"===element.type&&element.parent&&!(element.length<1)){for(var value=element.value,parent=element.parent,isImplicitRule=element.column===parent.column&&element.line===parent.line;"rule"!==parent.type;)if(!(parent=parent.parent))return;if((1!==element.props.length||58===value.charCodeAt(0)||fixedElements.get(parent))&&!isImplicitRule){fixedElements.set(element,!0);for(var points=[],rules=getRules(value,points),parentRules=parent.props,i=0,k=0;i<rules.length;i++)for(var j=0;j<parentRules.length;j++,k++)element.props[k]=points[i]?rules[i].replace(/&\f/g,parentRules[j]):parentRules[j]+" "+rules[i]}}},removeLabel=function removeLabel(element){if("decl"===element.type){var value=element.value;108===value.charCodeAt(0)&&98===value.charCodeAt(2)&&(element.return="",element.value="")}};function emotion_cache_browser_esm_prefix(value,length){switch(function hash(value,length){return 45^Utility_charat(value,0)?(((length<<2^Utility_charat(value,0))<<2^Utility_charat(value,1))<<2^Utility_charat(value,2))<<2^Utility_charat(value,3):0}(value,length)){case 5103:return"-webkit-print-"+value+value;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return"-webkit-"+value+value;case 5349:case 4246:case 4810:case 6968:case 2756:return"-webkit-"+value+"-moz-"+value+"-ms-"+value+value;case 6828:case 4268:return"-webkit-"+value+"-ms-"+value+value;case 6165:return"-webkit-"+value+"-ms-flex-"+value+value;case 5187:return"-webkit-"+value+Utility_replace(value,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+value;case 5443:return"-webkit-"+value+"-ms-flex-item-"+Utility_replace(value,/flex-|-self/,"")+value;case 4675:return"-webkit-"+value+"-ms-flex-line-pack"+Utility_replace(value,/align-content|flex-|-self/,"")+value;case 5548:return"-webkit-"+value+"-ms-"+Utility_replace(value,"shrink","negative")+value;case 5292:return"-webkit-"+value+"-ms-"+Utility_replace(value,"basis","preferred-size")+value;case 6060:return"-webkit-box-"+Utility_replace(value,"-grow","")+"-webkit-"+value+"-ms-"+Utility_replace(value,"grow","positive")+value;case 4554:return"-webkit-"+Utility_replace(value,/([^-])(transform)/g,"$1-webkit-$2")+value;case 6187:return Utility_replace(Utility_replace(Utility_replace(value,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),value,"")+value;case 5495:case 3959:return Utility_replace(value,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return Utility_replace(Utility_replace(value,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+"-webkit-"+value+value;case 4095:case 3583:case 4068:case 2532:return Utility_replace(value,/(.+)-inline(.+)/,"-webkit-$1$2")+value;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Utility_strlen(value)-1-length>6)switch(Utility_charat(value,length+1)){case 109:if(45!==Utility_charat(value,length+4))break;case 102:return Utility_replace(value,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==Utility_charat(value,length+3)?"$3":"$2-$3"))+value;case 115:return~indexof(value,"stretch")?emotion_cache_browser_esm_prefix(Utility_replace(value,"stretch","fill-available"),length)+value:value}break;case 4949:if(115!==Utility_charat(value,length+1))break;case 6444:switch(Utility_charat(value,Utility_strlen(value)-3-(~indexof(value,"!important")&&10))){case 107:return Utility_replace(value,":",":-webkit-")+value;case 101:return Utility_replace(value,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===Utility_charat(value,14)?"inline-":"")+"box$3$1-webkit-$2$3$1-ms-$2box$3")+value}break;case 5936:switch(Utility_charat(value,length+11)){case 114:return"-webkit-"+value+"-ms-"+Utility_replace(value,/[svh]\w+-[tblr]{2}/,"tb")+value;case 108:return"-webkit-"+value+"-ms-"+Utility_replace(value,/[svh]\w+-[tblr]{2}/,"tb-rl")+value;case 45:return"-webkit-"+value+"-ms-"+Utility_replace(value,/[svh]\w+-[tblr]{2}/,"lr")+value}return"-webkit-"+value+"-ms-"+value+value}return value}var defaultStylisPlugins=[function prefixer(element,index,children,callback){if(element.length>-1&&!element.return)switch(element.type){case"decl":element.return=emotion_cache_browser_esm_prefix(element.value,element.length);break;case"@keyframes":return Serializer_serialize([Tokenizer_copy(element,{value:Utility_replace(element.value,"@","@-webkit-")})],callback);case"rule":if(element.length)return function Utility_combine(array,callback){return array.map(callback).join("")}(element.props,function(value){switch(function Utility_match(value,pattern){return(value=pattern.exec(value))?value[0]:value}(value,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Serializer_serialize([Tokenizer_copy(element,{props:[Utility_replace(value,/:(read-\w+)/,":-moz-$1")]})],callback);case"::placeholder":return Serializer_serialize([Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,":-webkit-input-$1")]}),Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,":-moz-$1")]}),Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,"-ms-input-$1")]})],callback)}return""})}}],createCache=function createCache(options){var key=options.key;if("css"===key){var ssrStyles=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ssrStyles,function(node){-1!==node.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(node),node.setAttribute("data-s",""))})}var container,_insert,stylisPlugins=options.stylisPlugins||defaultStylisPlugins,inserted={},nodesToHydrate=[];container=options.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+key+' "]'),function(node){for(var attrib=node.getAttribute("data-emotion").split(" "),i=1;i<attrib.length;i++)inserted[attrib[i]]=!0;nodesToHydrate.push(node)});var currentSheet,callback,finalizingPlugins=[stringify,(callback=function(rule){currentSheet.insert(rule)},function(element){element.root||(element=element.return)&&callback(element)})],serializer=function middleware(collection){var length=Utility_sizeof(collection);return function(element,index,children,callback){for(var output="",i=0;i<length;i++)output+=collection[i](element,index,children,callback)||"";return output}}([compat,removeLabel].concat(stylisPlugins,finalizingPlugins));_insert=function insert(selector,serialized,sheet,shouldCache){currentSheet=sheet,function stylis(styles){Serializer_serialize(compile(styles),serializer)}(selector?selector+"{"+serialized.styles+"}":serialized.styles),shouldCache&&(cache.inserted[serialized.name]=!0)};var cache={key,sheet:new StyleSheet({key,container,nonce:options.nonce,speedy:options.speedy,prepend:options.prepend,insertionPoint:options.insertionPoint}),nonce:options.nonce,inserted,registered:{},insert:_insert};return cache.sheet.hydrate(nodesToHydrate),cache}},55939:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(10521);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","some")},56030:module=>{"use strict";module.exports=function(METHOD_NAME){try{var baseSet=new Set,setLike={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return baseSet.clear(),baseSet.add(4),function(){return{done:!0}}}})}},result=baseSet[METHOD_NAME](setLike);return 1===result.size&&4===result.values().next().value}catch(error){return!1}}},56254:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aCallable=__webpack_require__(82159),$TypeError=TypeError,PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw new $TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aCallable(resolve),this.reject=aCallable(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},56255:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(70568)},56269:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(5363)},56286:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(38966);var path=__webpack_require__(92046);module.exports=path.Object.getPrototypeOf},56435:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(13682);module.exports=parent},56461:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.Ay=function createStyled(input={}){const{themeId,defaultTheme=systemDefaultTheme,rootShouldForwardProp=shouldForwardProp,slotShouldForwardProp=shouldForwardProp}=input,systemSx=props=>(0,_styleFunctionSx.default)((0,_extends2.default)({},props,{theme:resolveTheme((0,_extends2.default)({},props,{defaultTheme,themeId}))}));return systemSx.__mui_systemSx=!0,(tag,inputOptions={})=>{(0,_styledEngine.internal_processStyles)(tag,styles=>styles.filter(style=>!(null!=style&&style.__mui_systemSx)));const{name:componentName,slot:componentSlot,skipVariantsResolver:inputSkipVariantsResolver,skipSx:inputSkipSx,overridesResolver=defaultOverridesResolver(lowercaseFirstLetter(componentSlot))}=inputOptions,options=(0,_objectWithoutPropertiesLoose2.default)(inputOptions,_excluded3),layerName=componentName&&componentName.startsWith("Mui")||componentSlot?"components":"custom",skipVariantsResolver=void 0!==inputSkipVariantsResolver?inputSkipVariantsResolver:componentSlot&&"Root"!==componentSlot&&"root"!==componentSlot||!1,skipSx=inputSkipSx||!1;let shouldForwardPropOption=shouldForwardProp;"Root"===componentSlot||"root"===componentSlot?shouldForwardPropOption=rootShouldForwardProp:componentSlot?shouldForwardPropOption=slotShouldForwardProp:function isStringTag(tag){return"string"==typeof tag&&tag.charCodeAt(0)>96}(tag)&&(shouldForwardPropOption=void 0);const defaultStyledResolver=(0,_styledEngine.default)(tag,(0,_extends2.default)({shouldForwardProp:shouldForwardPropOption,label:undefined},options)),transformStyleArg=stylesArg=>"function"==typeof stylesArg&&stylesArg.__emotion_real!==stylesArg||(0,_deepmerge.isPlainObject)(stylesArg)?props=>{const theme=resolveTheme({theme:props.theme,defaultTheme,themeId});return processStyleArg(stylesArg,(0,_extends2.default)({},props,{theme}),theme.modularCssLayers?layerName:void 0)}:stylesArg,muiStyledResolver=(styleArg,...expressions)=>{let transformedStyleArg=transformStyleArg(styleArg);const expressionsWithDefaultTheme=expressions?expressions.map(transformStyleArg):[];componentName&&overridesResolver&&expressionsWithDefaultTheme.push(props=>{const theme=resolveTheme((0,_extends2.default)({},props,{defaultTheme,themeId}));if(!theme.components||!theme.components[componentName]||!theme.components[componentName].styleOverrides)return null;const styleOverrides=theme.components[componentName].styleOverrides,resolvedStyleOverrides={};return Object.entries(styleOverrides).forEach(([slotKey,slotStyle])=>{resolvedStyleOverrides[slotKey]=processStyleArg(slotStyle,(0,_extends2.default)({},props,{theme}),theme.modularCssLayers?"theme":void 0)}),overridesResolver(props,resolvedStyleOverrides)}),componentName&&!skipVariantsResolver&&expressionsWithDefaultTheme.push(props=>{var _theme$components;const theme=resolveTheme((0,_extends2.default)({},props,{defaultTheme,themeId}));return processStyleArg({variants:null==theme||null==(_theme$components=theme.components)||null==(_theme$components=_theme$components[componentName])?void 0:_theme$components.variants},(0,_extends2.default)({},props,{theme}),theme.modularCssLayers?"theme":void 0)}),skipSx||expressionsWithDefaultTheme.push(systemSx);const numOfCustomFnsApplied=expressionsWithDefaultTheme.length-expressions.length;if(Array.isArray(styleArg)&&numOfCustomFnsApplied>0){const placeholders=new Array(numOfCustomFnsApplied).fill("");transformedStyleArg=[...styleArg,...placeholders],transformedStyleArg.raw=[...styleArg.raw,...placeholders]}const Component=defaultStyledResolver(transformedStyleArg,...expressionsWithDefaultTheme);return tag.muiName&&(Component.muiName=tag.muiName),Component};return defaultStyledResolver.withConfig&&(muiStyledResolver.withConfig=defaultStyledResolver.withConfig),muiStyledResolver}};var _extends2=_interopRequireDefault(__webpack_require__(94634)),_objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(54893)),_styledEngine=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__(22532)),_deepmerge=__webpack_require__(44239),_createTheme=(_interopRequireDefault(__webpack_require__(57149)),_interopRequireDefault(__webpack_require__(27320)),_interopRequireDefault(__webpack_require__(3142))),_styleFunctionSx=_interopRequireDefault(__webpack_require__(83857));const _excluded=["ownerState"],_excluded2=["variants"],_excluded3=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}function shouldForwardProp(prop){return"ownerState"!==prop&&"theme"!==prop&&"sx"!==prop&&"as"!==prop}function shallowLayer(serialized,layerName){return layerName&&serialized&&"object"==typeof serialized&&serialized.styles&&!serialized.styles.startsWith("@layer")&&(serialized.styles=`@layer ${layerName}{${String(serialized.styles)}}`),serialized}const systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=string=>string?string.charAt(0).toLowerCase()+string.slice(1):string;function resolveTheme({defaultTheme,theme,themeId}){return function isEmpty(obj){return 0===Object.keys(obj).length}(theme)?defaultTheme:theme[themeId]||theme}function defaultOverridesResolver(slot){return slot?(props,styles)=>styles[slot]:null}function processStyleArg(callableStyle,_ref,layerName){let{ownerState}=_ref,props=(0,_objectWithoutPropertiesLoose2.default)(_ref,_excluded);const resolvedStylesArg="function"==typeof callableStyle?callableStyle((0,_extends2.default)({ownerState},props)):callableStyle;if(Array.isArray(resolvedStylesArg))return resolvedStylesArg.flatMap(resolvedStyle=>processStyleArg(resolvedStyle,(0,_extends2.default)({ownerState},props),layerName));if(resolvedStylesArg&&"object"==typeof resolvedStylesArg&&Array.isArray(resolvedStylesArg.variants)){const{variants=[]}=resolvedStylesArg;let result=(0,_objectWithoutPropertiesLoose2.default)(resolvedStylesArg,_excluded2);return variants.forEach(variant=>{let isMatch=!0;if("function"==typeof variant.props?isMatch=variant.props((0,_extends2.default)({ownerState},props,ownerState)):Object.keys(variant.props).forEach(key=>{(null==ownerState?void 0:ownerState[key])!==variant.props[key]&&props[key]!==variant.props[key]&&(isMatch=!1)}),isMatch){Array.isArray(result)||(result=[result]);const variantStyle="function"==typeof variant.style?variant.style((0,_extends2.default)({ownerState},props,ownerState)):variant.style;result.push(layerName?shallowLayer((0,_styledEngine.internal_serializeStyles)(variantStyle),layerName):variantStyle)}}),result}return layerName?shallowLayer((0,_styledEngine.internal_serializeStyles)(resolvedStylesArg),layerName):resolvedStylesArg}},56648:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),call=__webpack_require__(13930),toObject=__webpack_require__(39298),toPrimitive=__webpack_require__(46028),toISOString=__webpack_require__(3701),classof=__webpack_require__(45807);$({target:"Date",proto:!0,forced:__webpack_require__(98828)(function(){return null!==new Date(NaN).toJSON()||1!==call(Date.prototype.toJSON,{toISOString:function(){return 1}})})},{toJSON:function toJSON(key){var O=toObject(this),pv=toPrimitive(O,"number");return"number"!=typeof pv||isFinite(pv)?"toISOString"in O||"Date"!==classof(O)?O.toISOString():call(toISOString,O):null}})},56908:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(59076),__webpack_require__(33487),__webpack_require__(28669),__webpack_require__(58670),__webpack_require__(94783);var path=__webpack_require__(92046);module.exports=path.URL},56909:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(7057);var EOF,$=__webpack_require__(11091),DESCRIPTORS=__webpack_require__(39447),USE_NATIVE_URL=__webpack_require__(34791),globalThis=__webpack_require__(45951),bind=__webpack_require__(28311),uncurryThis=__webpack_require__(1907),defineBuiltIn=__webpack_require__(68055),defineBuiltInAccessor=__webpack_require__(89251),anInstance=__webpack_require__(59596),hasOwn=__webpack_require__(49724),assign=__webpack_require__(29538),arrayFrom=__webpack_require__(11229),arraySlice=__webpack_require__(93427),codeAt=__webpack_require__(11470).codeAt,toASCII=__webpack_require__(79156),$toString=__webpack_require__(90160),setToStringTag=__webpack_require__(14840),validateArgumentsLength=__webpack_require__(24787),URLSearchParamsModule=__webpack_require__(67105),InternalStateModule=__webpack_require__(64932),setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=globalThis.URL,TypeError=globalThis.TypeError,parseInt=globalThis.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis("".charAt),exec=uncurryThis(/./.exec),join=uncurryThis([].join),numberToString=uncurryThis(1.1.toString),pop=uncurryThis([].pop),push=uncurryThis([].push),replace=uncurryThis("".replace),shift=uncurryThis([].shift),split=uncurryThis("".split),stringSlice=uncurryThis("".slice),toLowerCase=uncurryThis("".toLowerCase),unshift=uncurryThis([].unshift),ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+/,TRAILING_C0_CONTROL_OR_SPACE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,TAB_AND_NEW_LINE=/[\t\n\r]/g,serializeHost=function(host){var result,index,compress,ignore0;if("number"==typeof host){for(result=[],index=0;index<4;index++)unshift(result,host%256),host=floor(host/256);return join(result,".")}if("object"==typeof host){for(result="",compress=function(ipv6){for(var maxIndex=null,maxLength=1,currStart=null,currLength=0,index=0;index<8;index++)0!==ipv6[index]?(currLength>maxLength&&(maxIndex=currStart,maxLength=currLength),currStart=null,currLength=0):(null===currStart&&(currStart=index),++currLength);return currLength>maxLength?currStart:maxIndex}(host),index=0;index<8;index++)ignore0&&0===host[index]||(ignore0&&(ignore0=!1),compress===index?(result+=index?":":"::",ignore0=!0):(result+=numberToString(host[index],16),index<7&&(result+=":")));return"["+result+"]"}return host},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(chr,set){var code=codeAt(chr,0);return code>32&&code<127&&!hasOwn(set,chr)?chr:encodeURIComponent(chr)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(string,normalized){var second;return 2===string.length&&exec(ALPHA,charAt(string,0))&&(":"===(second=charAt(string,1))||!normalized&&"|"===second)},startsWithWindowsDriveLetter=function(string){var third;return string.length>1&&isWindowsDriveLetter(stringSlice(string,0,2))&&(2===string.length||"/"===(third=charAt(string,2))||"\\"===third||"?"===third||"#"===third)},isSingleDot=function(segment){return"."===segment||"%2e"===toLowerCase(segment)},isDoubleDot=function(segment){return".."===(segment=toLowerCase(segment))||"%2e."===segment||".%2e"===segment||"%2e%2e"===segment},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(url,isBase,base){var baseState,failure,searchParams,urlString=$toString(url);if(isBase){if(failure=this.parse(urlString))throw new TypeError(failure);this.searchParams=null}else{if(void 0!==base&&(baseState=new URLState(base,!0)),failure=this.parse(urlString,null,baseState))throw new TypeError(failure);(searchParams=getInternalSearchParamsState(new URLSearchParams)).bindURL(this),this.searchParams=searchParams}};URLState.prototype={type:"URL",parse:function(input,stateOverride,base){var codePoints,chr,bufferCodePoints,failure,url=this,state=stateOverride||SCHEME_START,pointer=0,buffer="",seenAt=!1,seenBracket=!1,seenPasswordToken=!1;for(input=$toString(input),stateOverride||(url.scheme="",url.username="",url.password="",url.host=null,url.port=null,url.path=[],url.query=null,url.fragment=null,url.cannotBeABaseURL=!1,input=replace(input,LEADING_C0_CONTROL_OR_SPACE,""),input=replace(input,TRAILING_C0_CONTROL_OR_SPACE,"$1")),input=replace(input,TAB_AND_NEW_LINE,""),codePoints=arrayFrom(input);pointer<=codePoints.length;){switch(chr=codePoints[pointer],state){case SCHEME_START:if(!chr||!exec(ALPHA,chr)){if(stateOverride)return"Invalid scheme";state=NO_SCHEME;continue}buffer+=toLowerCase(chr),state=SCHEME;break;case SCHEME:if(chr&&(exec(ALPHANUMERIC,chr)||"+"===chr||"-"===chr||"."===chr))buffer+=toLowerCase(chr);else{if(":"!==chr){if(stateOverride)return"Invalid scheme";buffer="",state=NO_SCHEME,pointer=0;continue}if(stateOverride&&(url.isSpecial()!==hasOwn(specialSchemes,buffer)||"file"===buffer&&(url.includesCredentials()||null!==url.port)||"file"===url.scheme&&!url.host))return;if(url.scheme=buffer,stateOverride)return void(url.isSpecial()&&specialSchemes[url.scheme]===url.port&&(url.port=null));buffer="","file"===url.scheme?state=FILE:url.isSpecial()&&base&&base.scheme===url.scheme?state=SPECIAL_RELATIVE_OR_AUTHORITY:url.isSpecial()?state=SPECIAL_AUTHORITY_SLASHES:"/"===codePoints[pointer+1]?(state=PATH_OR_AUTHORITY,pointer++):(url.cannotBeABaseURL=!0,push(url.path,""),state=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&"#"!==chr)return"Invalid scheme";if(base.cannotBeABaseURL&&"#"===chr){url.scheme=base.scheme,url.path=arraySlice(base.path),url.query=base.query,url.fragment="",url.cannotBeABaseURL=!0,state=FRAGMENT;break}state="file"===base.scheme?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if("/"!==chr||"/"!==codePoints[pointer+1]){state=RELATIVE;continue}state=SPECIAL_AUTHORITY_IGNORE_SLASHES,pointer++;break;case PATH_OR_AUTHORITY:if("/"===chr){state=AUTHORITY;break}state=PATH;continue;case RELATIVE:if(url.scheme=base.scheme,chr===EOF)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.query=base.query;else if("/"===chr||"\\"===chr&&url.isSpecial())state=RELATIVE_SLASH;else if("?"===chr)url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.query="",state=QUERY;else{if("#"!==chr){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.path.length--,state=PATH;continue}url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,url.path=arraySlice(base.path),url.query=base.query,url.fragment="",state=FRAGMENT}break;case RELATIVE_SLASH:if(!url.isSpecial()||"/"!==chr&&"\\"!==chr){if("/"!==chr){url.username=base.username,url.password=base.password,url.host=base.host,url.port=base.port,state=PATH;continue}state=AUTHORITY}else state=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(state=SPECIAL_AUTHORITY_IGNORE_SLASHES,"/"!==chr||"/"!==charAt(buffer,pointer+1))continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if("/"!==chr&&"\\"!==chr){state=AUTHORITY;continue}break;case AUTHORITY:if("@"===chr){seenAt&&(buffer="%40"+buffer),seenAt=!0,bufferCodePoints=arrayFrom(buffer);for(var i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];if(":"!==codePoint||seenPasswordToken){var encodedCodePoints=percentEncode(codePoint,userinfoPercentEncodeSet);seenPasswordToken?url.password+=encodedCodePoints:url.username+=encodedCodePoints}else seenPasswordToken=!0}buffer=""}else if(chr===EOF||"/"===chr||"?"===chr||"#"===chr||"\\"===chr&&url.isSpecial()){if(seenAt&&""===buffer)return"Invalid authority";pointer-=arrayFrom(buffer).length+1,buffer="",state=HOST}else buffer+=chr;break;case HOST:case HOSTNAME:if(stateOverride&&"file"===url.scheme){state=FILE_HOST;continue}if(":"!==chr||seenBracket){if(chr===EOF||"/"===chr||"?"===chr||"#"===chr||"\\"===chr&&url.isSpecial()){if(url.isSpecial()&&""===buffer)return"Invalid host";if(stateOverride&&""===buffer&&(url.includesCredentials()||null!==url.port))return;if(failure=url.parseHost(buffer))return failure;if(buffer="",state=PATH_START,stateOverride)return;continue}"["===chr?seenBracket=!0:"]"===chr&&(seenBracket=!1),buffer+=chr}else{if(""===buffer)return"Invalid host";if(failure=url.parseHost(buffer))return failure;if(buffer="",state=PORT,stateOverride===HOSTNAME)return}break;case PORT:if(!exec(DIGIT,chr)){if(chr===EOF||"/"===chr||"?"===chr||"#"===chr||"\\"===chr&&url.isSpecial()||stateOverride){if(""!==buffer){var port=parseInt(buffer,10);if(port>65535)return"Invalid port";url.port=url.isSpecial()&&port===specialSchemes[url.scheme]?null:port,buffer=""}if(stateOverride)return;state=PATH_START;continue}return"Invalid port"}buffer+=chr;break;case FILE:if(url.scheme="file","/"===chr||"\\"===chr)state=FILE_SLASH;else{if(!base||"file"!==base.scheme){state=PATH;continue}switch(chr){case EOF:url.host=base.host,url.path=arraySlice(base.path),url.query=base.query;break;case"?":url.host=base.host,url.path=arraySlice(base.path),url.query="",state=QUERY;break;case"#":url.host=base.host,url.path=arraySlice(base.path),url.query=base.query,url.fragment="",state=FRAGMENT;break;default:startsWithWindowsDriveLetter(join(arraySlice(codePoints,pointer),""))||(url.host=base.host,url.path=arraySlice(base.path),url.shortenPath()),state=PATH;continue}}break;case FILE_SLASH:if("/"===chr||"\\"===chr){state=FILE_HOST;break}base&&"file"===base.scheme&&!startsWithWindowsDriveLetter(join(arraySlice(codePoints,pointer),""))&&(isWindowsDriveLetter(base.path[0],!0)?push(url.path,base.path[0]):url.host=base.host),state=PATH;continue;case FILE_HOST:if(chr===EOF||"/"===chr||"\\"===chr||"?"===chr||"#"===chr){if(!stateOverride&&isWindowsDriveLetter(buffer))state=PATH;else if(""===buffer){if(url.host="",stateOverride)return;state=PATH_START}else{if(failure=url.parseHost(buffer))return failure;if("localhost"===url.host&&(url.host=""),stateOverride)return;buffer="",state=PATH_START}continue}buffer+=chr;break;case PATH_START:if(url.isSpecial()){if(state=PATH,"/"!==chr&&"\\"!==chr)continue}else if(stateOverride||"?"!==chr)if(stateOverride||"#"!==chr){if(chr!==EOF&&(state=PATH,"/"!==chr))continue}else url.fragment="",state=FRAGMENT;else url.query="",state=QUERY;break;case PATH:if(chr===EOF||"/"===chr||"\\"===chr&&url.isSpecial()||!stateOverride&&("?"===chr||"#"===chr)){if(isDoubleDot(buffer)?(url.shortenPath(),"/"===chr||"\\"===chr&&url.isSpecial()||push(url.path,"")):isSingleDot(buffer)?"/"===chr||"\\"===chr&&url.isSpecial()||push(url.path,""):("file"===url.scheme&&!url.path.length&&isWindowsDriveLetter(buffer)&&(url.host&&(url.host=""),buffer=charAt(buffer,0)+":"),push(url.path,buffer)),buffer="","file"===url.scheme&&(chr===EOF||"?"===chr||"#"===chr))for(;url.path.length>1&&""===url.path[0];)shift(url.path);"?"===chr?(url.query="",state=QUERY):"#"===chr&&(url.fragment="",state=FRAGMENT)}else buffer+=percentEncode(chr,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:"?"===chr?(url.query="",state=QUERY):"#"===chr?(url.fragment="",state=FRAGMENT):chr!==EOF&&(url.path[0]+=percentEncode(chr,C0ControlPercentEncodeSet));break;case QUERY:stateOverride||"#"!==chr?chr!==EOF&&("'"===chr&&url.isSpecial()?url.query+="%27":url.query+="#"===chr?"%23":percentEncode(chr,C0ControlPercentEncodeSet)):(url.fragment="",state=FRAGMENT);break;case FRAGMENT:chr!==EOF&&(url.fragment+=percentEncode(chr,fragmentPercentEncodeSet))}pointer++}},parseHost:function(input){var result,codePoints,index;if("["===charAt(input,0)){if("]"!==charAt(input,input.length-1))return"Invalid host";if(result=function(input){var value,length,numbersSeen,ipv4Piece,number,swaps,swap,address=[0,0,0,0,0,0,0,0],pieceIndex=0,compress=null,pointer=0,chr=function(){return charAt(input,pointer)};if(":"===chr()){if(":"!==charAt(input,1))return;pointer+=2,compress=++pieceIndex}for(;chr();){if(8===pieceIndex)return;if(":"!==chr()){for(value=length=0;length<4&&exec(HEX,chr());)value=16*value+parseInt(chr(),16),pointer++,length++;if("."===chr()){if(0===length)return;if(pointer-=length,pieceIndex>6)return;for(numbersSeen=0;chr();){if(ipv4Piece=null,numbersSeen>0){if(!("."===chr()&&numbersSeen<4))return;pointer++}if(!exec(DIGIT,chr()))return;for(;exec(DIGIT,chr());){if(number=parseInt(chr(),10),null===ipv4Piece)ipv4Piece=number;else{if(0===ipv4Piece)return;ipv4Piece=10*ipv4Piece+number}if(ipv4Piece>255)return;pointer++}address[pieceIndex]=256*address[pieceIndex]+ipv4Piece,2!==++numbersSeen&&4!==numbersSeen||pieceIndex++}if(4!==numbersSeen)return;break}if(":"===chr()){if(pointer++,!chr())return}else if(chr())return;address[pieceIndex++]=value}else{if(null!==compress)return;pointer++,compress=++pieceIndex}}if(null!==compress)for(swaps=pieceIndex-compress,pieceIndex=7;0!==pieceIndex&&swaps>0;)swap=address[pieceIndex],address[pieceIndex--]=address[compress+swaps-1],address[compress+--swaps]=swap;else if(8!==pieceIndex)return;return address}(stringSlice(input,1,-1)),!result)return"Invalid host";this.host=result}else if(this.isSpecial()){if(input=toASCII(input),exec(FORBIDDEN_HOST_CODE_POINT,input))return"Invalid host";if(result=function(input){var partsLength,numbers,index,part,radix,number,ipv4,parts=split(input,".");if(parts.length&&""===parts[parts.length-1]&&parts.length--,(partsLength=parts.length)>4)return input;for(numbers=[],index=0;index<partsLength;index++){if(""===(part=parts[index]))return input;if(radix=10,part.length>1&&"0"===charAt(part,0)&&(radix=exec(HEX_START,part)?16:8,part=stringSlice(part,8===radix?1:2)),""===part)number=0;else{if(!exec(10===radix?DEC:8===radix?OCT:HEX,part))return input;number=parseInt(part,radix)}push(numbers,number)}for(index=0;index<partsLength;index++)if(number=numbers[index],index===partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(number>255)return null;for(ipv4=pop(numbers),index=0;index<numbers.length;index++)ipv4+=numbers[index]*pow(256,3-index);return ipv4}(input),null===result)return"Invalid host";this.host=result}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,input))return"Invalid host";for(result="",codePoints=arrayFrom(input),index=0;index<codePoints.length;index++)result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet);this.host=result}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return hasOwn(specialSchemes,this.scheme)},shortenPath:function(){var path=this.path,pathSize=path.length;!pathSize||"file"===this.scheme&&1===pathSize&&isWindowsDriveLetter(path[0],!0)||path.length--},serialize:function(){var url=this,scheme=url.scheme,username=url.username,password=url.password,host=url.host,port=url.port,path=url.path,query=url.query,fragment=url.fragment,output=scheme+":";return null!==host?(output+="//",url.includesCredentials()&&(output+=username+(password?":"+password:"")+"@"),output+=serializeHost(host),null!==port&&(output+=":"+port)):"file"===scheme&&(output+="//"),output+=url.cannotBeABaseURL?path[0]:path.length?"/"+join(path,"/"):"",null!==query&&(output+="?"+query),null!==fragment&&(output+="#"+fragment),output},setHref:function(href){var failure=this.parse(href);if(failure)throw new TypeError(failure);this.searchParams.update()},getOrigin:function(){var scheme=this.scheme,port=this.port;if("blob"===scheme)try{return new URLConstructor(scheme.path[0]).origin}catch(error){return"null"}return"file"!==scheme&&this.isSpecial()?scheme+"://"+serializeHost(this.host)+(null!==port?":"+port:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(protocol){this.parse($toString(protocol)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(username){var codePoints=arrayFrom($toString(username));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<codePoints.length;i++)this.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(password){var codePoints=arrayFrom($toString(password));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<codePoints.length;i++)this.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}},getHost:function(){var host=this.host,port=this.port;return null===host?"":null===port?serializeHost(host):serializeHost(host)+":"+port},setHost:function(host){this.cannotBeABaseURL||this.parse(host,HOST)},getHostname:function(){var host=this.host;return null===host?"":serializeHost(host)},setHostname:function(hostname){this.cannotBeABaseURL||this.parse(hostname,HOSTNAME)},getPort:function(){var port=this.port;return null===port?"":$toString(port)},setPort:function(port){this.cannotHaveUsernamePasswordPort()||(""===(port=$toString(port))?this.port=null:this.parse(port,PORT))},getPathname:function(){var path=this.path;return this.cannotBeABaseURL?path[0]:path.length?"/"+join(path,"/"):""},setPathname:function(pathname){this.cannotBeABaseURL||(this.path=[],this.parse(pathname,PATH_START))},getSearch:function(){var query=this.query;return query?"?"+query:""},setSearch:function(search){""===(search=$toString(search))?this.query=null:("?"===charAt(search,0)&&(search=stringSlice(search,1)),this.query="",this.parse(search,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var fragment=this.fragment;return fragment?"#"+fragment:""},setHash:function(hash){""!==(hash=$toString(hash))?("#"===charAt(hash,0)&&(hash=stringSlice(hash,1)),this.fragment="",this.parse(hash,FRAGMENT)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function URL(url){var that=anInstance(this,URLPrototype),base=validateArgumentsLength(arguments.length,1)>1?arguments[1]:void 0,state=setInternalState(that,new URLState(url,!1,base));DESCRIPTORS||(that.href=state.serialize(),that.origin=state.getOrigin(),that.protocol=state.getProtocol(),that.username=state.getUsername(),that.password=state.getPassword(),that.host=state.getHost(),that.hostname=state.getHostname(),that.port=state.getPort(),that.pathname=state.getPathname(),that.search=state.getSearch(),that.searchParams=state.getSearchParams(),that.hash=state.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(getter,setter){return{get:function(){return getInternalURLState(this)[getter]()},set:setter&&function(value){return getInternalURLState(this)[setter](value)},configurable:!0,enumerable:!0}};if(DESCRIPTORS&&(defineBuiltInAccessor(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor(URLPrototype,"hash",accessorDescriptor("getHash","setHash"))),defineBuiltIn(URLPrototype,"toJSON",function toJSON(){return getInternalURLState(this).serialize()},{enumerable:!0}),defineBuiltIn(URLPrototype,"toString",function toString(){return getInternalURLState(this).serialize()},{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn(URLConstructor,"createObjectURL",bind(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn(URLConstructor,"revokeObjectURL",bind(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL"),$({global:!0,constructor:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},56934:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(43520)},56968:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var arraySpeciesConstructor=__webpack_require__(64010);module.exports=function(originalArray,length){return new(arraySpeciesConstructor(originalArray))(0===length?0:length)}},56975:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(93658);module.exports=parent},57005:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828),isObject=__webpack_require__(46285),classof=__webpack_require__(45807),ARRAY_BUFFER_NON_EXTENSIBLE=__webpack_require__(26375),$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES=fails(function(){$isExtensible(1)});module.exports=FAILS_ON_PRIMITIVES||ARRAY_BUFFER_NON_EXTENSIBLE?function isExtensible(it){return!!isObject(it)&&((!ARRAY_BUFFER_NON_EXTENSIBLE||"ArrayBuffer"!==classof(it))&&(!$isExtensible||$isExtensible(it)))}:$isExtensible},57119:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(15980)},57149:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_capitalize__WEBPACK_IMPORTED_MODULE_0__.A});var _capitalize__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13967)},57264:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(24139);__webpack_require__(20768),__webpack_require__(8549),__webpack_require__(87152),__webpack_require__(11372),module.exports=parent},57277:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),from=__webpack_require__(11229);$({target:"Array",stat:!0,forced:!__webpack_require__(70473)(function(iterable){Array.from(iterable)})},{from})},57382:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828);module.exports=!fails(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},57450:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),call=__webpack_require__(13930),aCallable=__webpack_require__(82159),newPromiseCapabilityModule=__webpack_require__(56254),perform=__webpack_require__(94420),iterate=__webpack_require__(24823);$({target:"Promise",stat:!0,forced:__webpack_require__(3282)},{allSettled:function allSettled(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var promiseResolve=aCallable(C.resolve),values=[],counter=0,remaining=1;iterate(iterable,function(promise){var index=counter++,alreadyCalled=!1;remaining++,call(promiseResolve,C,promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[index]={status:"fulfilled",value},--remaining||resolve(values))},function(error){alreadyCalled||(alreadyCalled=!0,values[index]={status:"rejected",reason:error},--remaining||resolve(values))})}),--remaining||resolve(values)});return result.error&&reject(result.value),capability.promise}})},57809:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),isSubsetOf=__webpack_require__(47491);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("isSubsetOf",function(result){return result})},{isSubsetOf})},58075:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var activeXDocument,anObject=__webpack_require__(36624),definePropertiesModule=__webpack_require__(42220),enumBugKeys=__webpack_require__(80376),hiddenKeys=__webpack_require__(38530),html=__webpack_require__(62416),documentCreateElement=__webpack_require__(49552),sharedKey=__webpack_require__(92522),IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(content){return"<script>"+content+"<\/script>"},NullProtoObjectViaActiveX=function(activeXDocument){activeXDocument.write(scriptTag("")),activeXDocument.close();var temp=activeXDocument.parentWindow.Object;return activeXDocument=null,temp},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(error){}var iframeDocument,iframe;NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):((iframe=documentCreateElement("iframe")).style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write(scriptTag("document.F=Object")),iframeDocument.close(),iframeDocument.F):NullProtoObjectViaActiveX(activeXDocument);for(var length=enumBugKeys.length;length--;)delete NullProtoObject.prototype[enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0,module.exports=Object.create||function create(O,Properties){var result;return null!==O?(EmptyConstructor.prototype=anObject(O),result=new EmptyConstructor,EmptyConstructor.prototype=null,result[IE_PROTO]=O):result=NullProtoObject(),void 0===Properties?result:definePropertiesModule.f(result,Properties)}},58094:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>createBreakpoints});var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(98587),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(58168);const _excluded=["values","unit","step"],sortBreakpointsValues=values=>{const breakpointsAsArray=Object.keys(values).map(key=>({key,val:values[key]}))||[];return breakpointsAsArray.sort((breakpoint1,breakpoint2)=>breakpoint1.val-breakpoint2.val),breakpointsAsArray.reduce((acc,obj)=>(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.A)({},acc,{[obj.key]:obj.val}),{})};function createBreakpoints(breakpoints){const{values={xs:0,sm:600,md:900,lg:1200,xl:1536},unit="px",step=5}=breakpoints,other=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__.A)(breakpoints,_excluded),sortedValues=sortBreakpointsValues(values),keys=Object.keys(sortedValues);function up(key){return`@media (min-width:${"number"==typeof values[key]?values[key]:key}${unit})`}function down(key){return`@media (max-width:${("number"==typeof values[key]?values[key]:key)-step/100}${unit})`}function between(start,end){const endIndex=keys.indexOf(end);return`@media (min-width:${"number"==typeof values[start]?values[start]:start}${unit}) and (max-width:${(-1!==endIndex&&"number"==typeof values[keys[endIndex]]?values[keys[endIndex]]:end)-step/100}${unit})`}return(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.A)({keys,values:sortedValues,up,down,between,only:function only(key){return keys.indexOf(key)+1<keys.length?between(key,keys[keys.indexOf(key)+1]):up(key)},not:function not(key){const keyIndex=keys.indexOf(key);return 0===keyIndex?up(keys[1]):keyIndex===keys.length-1?down(keys[keyIndex]):between(key,keys[keys.indexOf(key)+1]).replace("@media","@media not all and")},unit},other)}},58168:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}__webpack_require__.d(__webpack_exports__,{A:()=>_extends})},58312:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="$$material"},58493:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var React=__webpack_require__(96540);var objectIs="function"==typeof Object.is?Object.is:function is(x,y){return x===y&&(0!==x||1/x==1/y)||x!=x&&y!=y},useState=React.useState,useEffect=React.useEffect,useLayoutEffect=React.useLayoutEffect,useDebugValue=React.useDebugValue;function checkIfSnapshotChanged(inst){var latestGetSnapshot=inst.getSnapshot;inst=inst.value;try{var nextValue=latestGetSnapshot();return!objectIs(inst,nextValue)}catch(error){return!0}}var shim="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function useSyncExternalStore$1(subscribe,getSnapshot){return getSnapshot()}:function useSyncExternalStore$2(subscribe,getSnapshot){var value=getSnapshot(),_useState=useState({inst:{value,getSnapshot}}),inst=_useState[0].inst,forceUpdate=_useState[1];return useLayoutEffect(function(){inst.value=value,inst.getSnapshot=getSnapshot,checkIfSnapshotChanged(inst)&&forceUpdate({inst})},[subscribe,value,getSnapshot]),useEffect(function(){return checkIfSnapshotChanged(inst)&&forceUpdate({inst}),subscribe(function(){checkIfSnapshotChanged(inst)&&forceUpdate({inst})})},[subscribe]),useDebugValue(value),value};exports.useSyncExternalStore=void 0!==React.useSyncExternalStore?React.useSyncExternalStore:shim},58545:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),fails=__webpack_require__(98828),isArray=__webpack_require__(11793),isObject=__webpack_require__(46285),toObject=__webpack_require__(39298),lengthOfArrayLike=__webpack_require__(20575),doesNotExceedSafeInteger=__webpack_require__(88024),createProperty=__webpack_require__(5543),arraySpeciesCreate=__webpack_require__(56968),arrayMethodHasSpeciesSupport=__webpack_require__(59552),wellKnownSymbol=__webpack_require__(76264),V8_VERSION=__webpack_require__(20798),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails(function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array}),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return void 0!==spreadable?!!spreadable:isArray(O)};$({target:"Array",proto:!0,arity:1,forced:!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport("concat")},{concat:function concat(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(isConcatSpreadable(E=-1===i?O:arguments[i]))for(len=lengthOfArrayLike(E),doesNotExceedSafeInteger(n+len),k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k]);else doesNotExceedSafeInteger(n+1),createProperty(A,n++,E);return A.length=n,A}})},58598:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(63756);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","unshift")},58606:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var userAgent=__webpack_require__(96794);module.exports=/ipad|iphone|ipod/i.test(userAgent)&&"undefined"!=typeof Pebble},58661:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),fails=__webpack_require__(98828);module.exports=DESCRIPTORS&&fails(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58670:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),getBuiltIn=__webpack_require__(85582),validateArgumentsLength=__webpack_require__(24787),toString=__webpack_require__(90160),USE_NATIVE_URL=__webpack_require__(34791),URL=getBuiltIn("URL");$({target:"URL",stat:!0,forced:!USE_NATIVE_URL},{parse:function parse(url){var length=validateArgumentsLength(arguments.length,1),urlString=toString(url),base=length<2||void 0===arguments[1]?void 0:toString(arguments[1]);try{return new URL(urlString,base)}catch(error){return null}}})},58727:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext")},58749:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>createTheme_createTheme});var esm_extends=__webpack_require__(58168),objectWithoutPropertiesLoose=__webpack_require__(98587),deepmerge=__webpack_require__(11317),createBreakpoints=__webpack_require__(58094);const createTheme_shape={borderRadius:4};var esm_spacing=__webpack_require__(68248);var styleFunctionSx=__webpack_require__(33571),defaultSxConfig=__webpack_require__(94188),applyStyles=__webpack_require__(28336);const _excluded=["breakpoints","palette","spacing","shape"];const createTheme_createTheme=function createTheme(options={},...args){const{breakpoints:breakpointsInput={},palette:paletteInput={},spacing:spacingInput,shape:shapeInput={}}=options,other=(0,objectWithoutPropertiesLoose.A)(options,_excluded),breakpoints=(0,createBreakpoints.A)(breakpointsInput),spacing=function createSpacing(spacingInput=8){if(spacingInput.mui)return spacingInput;const transform=(0,esm_spacing.LX)({spacing:spacingInput}),spacing=(...argsInput)=>(0===argsInput.length?[1]:argsInput).map(argument=>{const output=transform(argument);return"number"==typeof output?`${output}px`:output}).join(" ");return spacing.mui=!0,spacing}(spacingInput);let muiTheme=(0,deepmerge.A)({breakpoints,direction:"ltr",components:{},palette:(0,esm_extends.A)({mode:"light"},paletteInput),spacing,shape:(0,esm_extends.A)({},createTheme_shape,shapeInput)},other);return muiTheme.applyStyles=applyStyles.A,muiTheme=args.reduce((acc,argument)=>(0,deepmerge.A)(acc,argument),muiTheme),muiTheme.unstable_sxConfig=(0,esm_extends.A)({},defaultSxConfig.A,null==other?void 0:other.unstable_sxConfig),muiTheme.unstable_sx=function sx(props){return(0,styleFunctionSx.A)({sx:props,theme:this})},muiTheme}},59076:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(66299),__webpack_require__(75042),__webpack_require__(17649),__webpack_require__(83604);var path=__webpack_require__(92046);module.exports=path.URLSearchParams},59261:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(79157)},59291:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var userAgent=__webpack_require__(96794);module.exports=/web0s(?!.*chrome)/i.test(userAgent)},59371:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(85989),__webpack_require__(78558);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","flatMap")},59550:module=>{"use strict";module.exports=function(value,done){return{value,done}}},59552:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828),wellKnownSymbol=__webpack_require__(76264),V8_VERSION=__webpack_require__(20798),SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails(function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo})}},59596:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),$TypeError=TypeError;module.exports=function(it,Prototype){if(isPrototypeOf(Prototype,it))return it;throw new $TypeError("Incorrect invocation")}},59671:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("patternMatch")},59692:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(27045);module.exports=parent},60075:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(99968);__webpack_require__(12560),module.exports=parent},60183:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),call=__webpack_require__(13930),IS_PURE=__webpack_require__(7376),FunctionName=__webpack_require__(36833),isCallable=__webpack_require__(62250),createIteratorConstructor=__webpack_require__(47181),getPrototypeOf=__webpack_require__(15972),setPrototypeOf=__webpack_require__(79192),setToStringTag=__webpack_require__(14840),createNonEnumerableProperty=__webpack_require__(61626),defineBuiltIn=__webpack_require__(68055),wellKnownSymbol=__webpack_require__(76264),Iterators=__webpack_require__(93742),IteratorsCore=__webpack_require__(95116),PROPER_FUNCTION_NAME=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":return function keys(){return new IteratorConstructor(this,KIND)};case"values":return function values(){return new IteratorConstructor(this,KIND)};case"entries":return function entries(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"===NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)))!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):isCallable(CurrentIteratorPrototype[ITERATOR])||defineBuiltIn(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis)),PROPER_FUNCTION_NAME&&"values"===DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(!IS_PURE&&CONFIGURABLE_FUNCTION_NAME?createNonEnumerableProperty(IterablePrototype,"name","values"):(INCORRECT_VALUES_NAME=!0,defaultIterator=function values(){return call(nativeIterator,this)})),DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&defineBuiltIn(IterablePrototype,KEY,methods[KEY]);else $({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||defineBuiltIn(IterablePrototype,ITERATOR,defaultIterator,{name:DEFAULT}),Iterators[NAME]=defaultIterator,methods}},60237:()=>{},60285:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(79175);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","findIndex")},60581:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var call=__webpack_require__(13930),isCallable=__webpack_require__(62250),isObject=__webpack_require__(46285),$TypeError=TypeError;module.exports=function(input,pref){var fn,val;if("string"===pref&&isCallable(fn=input.toString)&&!isObject(val=call(fn,input)))return val;if(isCallable(fn=input.valueOf)&&!isObject(val=call(fn,input)))return val;if("string"!==pref&&isCallable(fn=input.toString)&&!isObject(val=call(fn,input)))return val;throw new $TypeError("Can't convert object to primitive value")}},61418:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(91906);var path=__webpack_require__(92046);module.exports=path.Object.setPrototypeOf},61548:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),hiddenKeys=__webpack_require__(38530),isObject=__webpack_require__(46285),hasOwn=__webpack_require__(49724),defineProperty=__webpack_require__(74284).f,getOwnPropertyNamesModule=__webpack_require__(24443),getOwnPropertyNamesExternalModule=__webpack_require__(25407),isExtensible=__webpack_require__(57005),uid=__webpack_require__(6499),FREEZING=__webpack_require__(75681),REQUIRED=!1,METADATA=uid("meta"),id=0,setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+id++,weakData:{}}})},meta=module.exports={enable:function(){meta.enable=function(){},REQUIRED=!0;var getOwnPropertyNames=getOwnPropertyNamesModule.f,splice=uncurryThis([].splice),test={};test[METADATA]=1,getOwnPropertyNames(test).length&&(getOwnPropertyNamesModule.f=function(it){for(var result=getOwnPropertyNames(it),i=0,length=result.length;i<length;i++)if(result[i]===METADATA){splice(result,i,1);break}return result},$({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!hasOwn(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID},getWeakData:function(it,create){if(!hasOwn(it,METADATA)){if(!isExtensible(it))return!0;if(!create)return!1;setMetadata(it)}return it[METADATA].weakData},onFreeze:function(it){return FREEZING&&REQUIRED&&isExtensible(it)&&!hasOwn(it,METADATA)&&setMetadata(it),it}};hiddenKeys[METADATA]=!0},61626:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),definePropertyModule=__webpack_require__(74284),createPropertyDescriptor=__webpack_require__(75817);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},61747:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),path=__webpack_require__(92046);module.exports=function(CONSTRUCTOR,METHOD){var Namespace=path[CONSTRUCTOR+"Prototype"],pureMethod=Namespace&&Namespace[METHOD];if(pureMethod)return pureMethod;var NativeConstructor=globalThis[CONSTRUCTOR],NativePrototype=NativeConstructor&&NativeConstructor.prototype;return NativePrototype&&NativePrototype[METHOD]}},62099:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),isArray=__webpack_require__(11793),isConstructor=__webpack_require__(25468),isObject=__webpack_require__(46285),toAbsoluteIndex=__webpack_require__(34849),lengthOfArrayLike=__webpack_require__(20575),toIndexedObject=__webpack_require__(27374),createProperty=__webpack_require__(5543),wellKnownSymbol=__webpack_require__(76264),arrayMethodHasSpeciesSupport=__webpack_require__(59552),nativeSlice=__webpack_require__(93427),HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("slice"),SPECIES=wellKnownSymbol("species"),$Array=Array,max=Math.max;$({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{slice:function slice(start,end){var Constructor,result,n,O=toIndexedObject(this),length=lengthOfArrayLike(O),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(void 0===end?length:end,length);if(isArray(O)&&(Constructor=O.constructor,(isConstructor(Constructor)&&(Constructor===$Array||isArray(Constructor.prototype))||isObject(Constructor)&&null===(Constructor=Constructor[SPECIES]))&&(Constructor=void 0),Constructor===$Array||void 0===Constructor))return nativeSlice(O,k,fin);for(result=new(void 0===Constructor?$Array:Constructor)(max(fin-k,0)),n=0;k<fin;k++,n++)k in O&&createProperty(result,n,O[k]);return result.length=n,result}})},62222:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(81519)},62250:module=>{"use strict";var documentAll="object"==typeof document&&document.all;module.exports=void 0===documentAll&&void 0!==documentAll?function(argument){return"function"==typeof argument||argument===documentAll}:function(argument){return"function"==typeof argument}},62274:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},62416:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582);module.exports=getBuiltIn("document","documentElement")},63246:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(94668),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.find;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.find?method:own}},63422:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:__webpack_require__(12595)})},63520:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(45779);module.exports=parent},63756:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),toObject=__webpack_require__(39298),lengthOfArrayLike=__webpack_require__(20575),setArrayLength=__webpack_require__(3130),deletePropertyOrThrow=__webpack_require__(74535),doesNotExceedSafeInteger=__webpack_require__(88024);$({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(error){return error instanceof TypeError}}()},{unshift:function unshift(item){var O=toObject(this),len=lengthOfArrayLike(O),argCount=arguments.length;if(argCount){doesNotExceedSafeInteger(len+argCount);for(var k=len;k--;){var to=k+argCount;k in O?O[to]=O[k]:deletePropertyOrThrow(O,to)}for(var j=0;j<argCount;j++)O[j]=arguments[j]}return setArrayLength(O,len+argCount)}})},63765:(module,__unused_webpack_exports,__webpack_require__)=>{var regeneratorAsyncGen=__webpack_require__(53551);module.exports=function _regeneratorAsync(n,e,r,t,o){var a=regeneratorAsyncGen(n,e,r,t,o);return a.next().then(function(n){return n.done?n.value:a.next()})},module.exports.__esModule=!0,module.exports.default=module.exports},64007:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(77852)},64010:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isArray=__webpack_require__(11793),isConstructor=__webpack_require__(25468),isObject=__webpack_require__(46285),SPECIES=__webpack_require__(76264)("species"),$Array=Array;module.exports=function(originalArray){var C;return isArray(originalArray)&&(C=originalArray.constructor,(isConstructor(C)&&(C===$Array||isArray(C.prototype))||isObject(C)&&null===(C=C[SPECIES]))&&(C=void 0)),void 0===C?$Array:C}},64048:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(48270),StringPrototype=String.prototype;module.exports=function(it){var own=it.endsWith;return"string"==typeof it||it===StringPrototype||isPrototypeOf(StringPrototype,it)&&own===StringPrototype.endsWith?method:own}},64362:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(36415)},64438:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function slotShouldForwardProp(prop){return"ownerState"!==prop&&"theme"!==prop&&"sx"!==prop&&"as"!==prop}},64502:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(82048)},64908:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(6221);module.exports=parent},64932:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(40551),globalThis=__webpack_require__(45951),isObject=__webpack_require__(46285),createNonEnumerableProperty=__webpack_require__(61626),hasOwn=__webpack_require__(49724),shared=__webpack_require__(36128),sharedKey=__webpack_require__(92522),hiddenKeys=__webpack_require__(38530),TypeError=globalThis.TypeError,WeakMap=globalThis.WeakMap;if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap);store.get=store.get,store.has=store.has,store.set=store.set,set=function(it,metadata){if(store.has(it))throw new TypeError("Object already initialized");return metadata.facade=it,store.set(it,metadata),metadata},get=function(it){return store.get(it)||{}},has=function(it){return store.has(it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){if(hasOwn(it,STATE))throw new TypeError("Object already initialized");return metadata.facade=it,createNonEnumerableProperty(it,STATE,metadata),metadata},get=function(it){return hasOwn(it,STATE)?it[STATE]:{}},has=function(it){return hasOwn(it,STATE)}}module.exports={set,get,has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw new TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},65482:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var trunc=__webpack_require__(41176);module.exports=function(argument){var number=+argument;return number!=number||0===number?0:trunc(number)}},65546:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("asyncDispose")},65931:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(3825),__webpack_require__(6630),__webpack_require__(91866),__webpack_require__(72736),__webpack_require__(17286),__webpack_require__(16761)},65953:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var aSet=__webpack_require__(2911),SetHelpers=__webpack_require__(73881),clone=__webpack_require__(6913),size=__webpack_require__(35743),getSetRecord=__webpack_require__(32332),iterateSet=__webpack_require__(81330),iterateSimple=__webpack_require__(22190),has=SetHelpers.has,remove=SetHelpers.remove;module.exports=function difference(other){var O=aSet(this),otherRec=getSetRecord(other),result=clone(O);return size(O)<=otherRec.size?iterateSet(O,function(e){otherRec.includes(e)&&remove(result,e)}):iterateSimple(otherRec.getIterator(),function(e){has(result,e)&&remove(result,e)}),result}},65993:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),requireObjectCoercible=__webpack_require__(74239),toString=__webpack_require__(90160),whitespaces=__webpack_require__(86395),replace=uncurryThis("".replace),ltrim=RegExp("^["+whitespaces+"]+"),rtrim=RegExp("(^|[^"+whitespaces+"])["+whitespaces+"]+$"),createMethod=function(TYPE){return function($this){var string=toString(requireObjectCoercible($this));return 1&TYPE&&(string=replace(string,ltrim,"")),2&TYPE&&(string=replace(string,rtrim,"$1")),string}};module.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},66299:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(67105)},66391:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(92361),$indexOf=__webpack_require__(74436).indexOf,arrayMethodIsStrict=__webpack_require__(77623),nativeIndexOf=uncurryThis([].indexOf),NEGATIVE_ZERO=!!nativeIndexOf&&1/nativeIndexOf([1],1,-0)<0;$({target:"Array",proto:!0,forced:NEGATIVE_ZERO||!arrayMethodIsStrict("indexOf")},{indexOf:function indexOf(searchElement){var fromIndex=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO?nativeIndexOf(this,searchElement,fromIndex)||0:$indexOf(this,searchElement,fromIndex)}})},66429:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(48559);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","reverse")},66496:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),globalThis=__webpack_require__(45951),setTimeout=__webpack_require__(70485)(globalThis.setTimeout,!0);$({global:!0,bind:!0,forced:globalThis.setTimeout!==setTimeout},{setTimeout})},66512:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(48348)},66615:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(18402)},66890:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(85105);module.exports=parent},67034:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},67105:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(71074);var $=__webpack_require__(11091),globalThis=__webpack_require__(45951),safeGetBuiltIn=__webpack_require__(52098),getBuiltIn=__webpack_require__(85582),call=__webpack_require__(13930),uncurryThis=__webpack_require__(1907),DESCRIPTORS=__webpack_require__(39447),USE_NATIVE_URL=__webpack_require__(34791),defineBuiltIn=__webpack_require__(68055),defineBuiltInAccessor=__webpack_require__(89251),defineBuiltIns=__webpack_require__(12802),setToStringTag=__webpack_require__(14840),createIteratorConstructor=__webpack_require__(47181),InternalStateModule=__webpack_require__(64932),anInstance=__webpack_require__(59596),isCallable=__webpack_require__(62250),hasOwn=__webpack_require__(49724),bind=__webpack_require__(28311),classof=__webpack_require__(73948),anObject=__webpack_require__(36624),isObject=__webpack_require__(46285),$toString=__webpack_require__(90160),create=__webpack_require__(58075),createPropertyDescriptor=__webpack_require__(75817),getIterator=__webpack_require__(10300),getIteratorMethod=__webpack_require__(73448),createIterResultObject=__webpack_require__(59550),validateArgumentsLength=__webpack_require__(24787),wellKnownSymbol=__webpack_require__(76264),arraySort=__webpack_require__(34321),ITERATOR=wellKnownSymbol("iterator"),setInternalState=InternalStateModule.set,getInternalParamsState=InternalStateModule.getterFor("URLSearchParams"),getInternalIteratorState=InternalStateModule.getterFor("URLSearchParamsIterator"),nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers&&Headers.prototype,TypeError=globalThis.TypeError,encodeURIComponent=globalThis.encodeURIComponent,fromCharCode=String.fromCharCode,fromCodePoint=getBuiltIn("String","fromCodePoint"),$parseInt=parseInt,charAt=uncurryThis("".charAt),join=uncurryThis([].join),push=uncurryThis([].push),replace=uncurryThis("".replace),shift=uncurryThis([].shift),splice=uncurryThis([].splice),split=uncurryThis("".split),stringSlice=uncurryThis("".slice),exec=uncurryThis(/./.exec),plus=/\+/g,VALID_HEX=/^[0-9a-f]+$/i,parseHexOctet=function(string,start){var substr=stringSlice(string,start,start+2);return exec(VALID_HEX,substr)?$parseInt(substr,16):NaN},getLeadingOnes=function(octet){for(var count=0,mask=128;mask>0&&0!==(octet&mask);mask>>=1)count++;return count},utf8Decode=function(octets){var codePoint=null;switch(octets.length){case 1:codePoint=octets[0];break;case 2:codePoint=(31&octets[0])<<6|63&octets[1];break;case 3:codePoint=(15&octets[0])<<12|(63&octets[1])<<6|63&octets[2];break;case 4:codePoint=(7&octets[0])<<18|(63&octets[1])<<12|(63&octets[2])<<6|63&octets[3]}return codePoint>1114111?null:codePoint},decode=function(input){for(var length=(input=replace(input,plus," ")).length,result="",i=0;i<length;){var decodedChar=charAt(input,i);if("%"===decodedChar){if("%"===charAt(input,i+1)||i+3>length){result+="%",i++;continue}var octet=parseHexOctet(input,i+1);if(octet!=octet){result+=decodedChar,i++;continue}i+=2;var byteSequenceLength=getLeadingOnes(octet);if(0===byteSequenceLength)decodedChar=fromCharCode(octet);else{if(1===byteSequenceLength||byteSequenceLength>4){result+="",i++;continue}for(var octets=[octet],sequenceIndex=1;sequenceIndex<byteSequenceLength&&!(++i+3>length||"%"!==charAt(input,i));){var nextByte=parseHexOctet(input,i+1);if(nextByte!=nextByte){i+=3;break}if(nextByte>191||nextByte<128)break;push(octets,nextByte),i+=2,sequenceIndex++}if(octets.length!==byteSequenceLength){result+="";continue}var codePoint=utf8Decode(octets);null===codePoint?result+="":decodedChar=fromCodePoint(codePoint)}}result+=decodedChar,i++}return result},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(match){return replacements[match]},serialize=function(it){return replace(encodeURIComponent(it),find,replacer)},URLSearchParamsIterator=createIteratorConstructor(function Iterator(params,kind){setInternalState(this,{type:"URLSearchParamsIterator",target:getInternalParamsState(params).entries,index:0,kind})},"URLSearchParams",function next(){var state=getInternalIteratorState(this),target=state.target,index=state.index++;if(!target||index>=target.length)return state.target=null,createIterResultObject(void 0,!0);var entry=target[index];switch(state.kind){case"keys":return createIterResultObject(entry.key,!1);case"values":return createIterResultObject(entry.value,!1)}return createIterResultObject([entry.key,entry.value],!1)},!0),URLSearchParamsState=function(init){this.entries=[],this.url=null,void 0!==init&&(isObject(init)?this.parseObject(init):this.parseQuery("string"==typeof init?"?"===charAt(init,0)?stringSlice(init,1):init:$toString(init)))};URLSearchParamsState.prototype={type:"URLSearchParams",bindURL:function(url){this.url=url,this.update()},parseObject:function(object){var iterator,next,step,entryIterator,entryNext,first,second,entries=this.entries,iteratorMethod=getIteratorMethod(object);if(iteratorMethod)for(next=(iterator=getIterator(object,iteratorMethod)).next;!(step=call(next,iterator)).done;){if(entryNext=(entryIterator=getIterator(anObject(step.value))).next,(first=call(entryNext,entryIterator)).done||(second=call(entryNext,entryIterator)).done||!call(entryNext,entryIterator).done)throw new TypeError("Expected sequence with length 2");push(entries,{key:$toString(first.value),value:$toString(second.value)})}else for(var key in object)hasOwn(object,key)&&push(entries,{key,value:$toString(object[key])})},parseQuery:function(query){if(query)for(var attribute,entry,entries=this.entries,attributes=split(query,"&"),index=0;index<attributes.length;)(attribute=attributes[index++]).length&&(entry=split(attribute,"="),push(entries,{key:decode(shift(entry)),value:decode(join(entry,"="))}))},serialize:function(){for(var entry,entries=this.entries,result=[],index=0;index<entries.length;)entry=entries[index++],push(result,serialize(entry.key)+"="+serialize(entry.value));return join(result,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function URLSearchParams(){anInstance(this,URLSearchParamsPrototype);var state=setInternalState(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));DESCRIPTORS||(this.size=state.entries.length)},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;if(defineBuiltIns(URLSearchParamsPrototype,{append:function append(name,value){var state=getInternalParamsState(this);validateArgumentsLength(arguments.length,2),push(state.entries,{key:$toString(name),value:$toString(value)}),DESCRIPTORS||this.length++,state.updateURL()},delete:function(name){for(var state=getInternalParamsState(this),length=validateArgumentsLength(arguments.length,1),entries=state.entries,key=$toString(name),$value=length<2?void 0:arguments[1],value=void 0===$value?$value:$toString($value),index=0;index<entries.length;){var entry=entries[index];if(entry.key!==key||void 0!==value&&entry.value!==value)index++;else if(splice(entries,index,1),void 0!==value)break}DESCRIPTORS||(this.size=entries.length),state.updateURL()},get:function get(name){var entries=getInternalParamsState(this).entries;validateArgumentsLength(arguments.length,1);for(var key=$toString(name),index=0;index<entries.length;index++)if(entries[index].key===key)return entries[index].value;return null},getAll:function getAll(name){var entries=getInternalParamsState(this).entries;validateArgumentsLength(arguments.length,1);for(var key=$toString(name),result=[],index=0;index<entries.length;index++)entries[index].key===key&&push(result,entries[index].value);return result},has:function has(name){for(var entries=getInternalParamsState(this).entries,length=validateArgumentsLength(arguments.length,1),key=$toString(name),$value=length<2?void 0:arguments[1],value=void 0===$value?$value:$toString($value),index=0;index<entries.length;){var entry=entries[index++];if(entry.key===key&&(void 0===value||entry.value===value))return!0}return!1},set:function set(name,value){var state=getInternalParamsState(this);validateArgumentsLength(arguments.length,1);for(var entry,entries=state.entries,found=!1,key=$toString(name),val=$toString(value),index=0;index<entries.length;index++)(entry=entries[index]).key===key&&(found?splice(entries,index--,1):(found=!0,entry.value=val));found||push(entries,{key,value:val}),DESCRIPTORS||(this.size=entries.length),state.updateURL()},sort:function sort(){var state=getInternalParamsState(this);arraySort(state.entries,function(a,b){return a.key>b.key?1:-1}),state.updateURL()},forEach:function forEach(callback){for(var entry,entries=getInternalParamsState(this).entries,boundFunction=bind(callback,arguments.length>1?arguments[1]:void 0),index=0;index<entries.length;)boundFunction((entry=entries[index++]).value,entry.key,this)},keys:function keys(){return new URLSearchParamsIterator(this,"keys")},values:function values(){return new URLSearchParamsIterator(this,"values")},entries:function entries(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),defineBuiltIn(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries,{name:"entries"}),defineBuiltIn(URLSearchParamsPrototype,"toString",function toString(){return getInternalParamsState(this).serialize()},{enumerable:!0}),DESCRIPTORS&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function size(){return getInternalParamsState(this).entries.length},configurable:!0,enumerable:!0}),setToStringTag(URLSearchParamsConstructor,"URLSearchParams"),$({global:!0,constructor:!0,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL&&isCallable(Headers)){var headersHas=uncurryThis(HeadersPrototype.has),headersSet=uncurryThis(HeadersPrototype.set),wrapRequestOptions=function(init){if(isObject(init)){var headers,body=init.body;if("URLSearchParams"===classof(body))return headers=init.headers?new Headers(init.headers):new Headers,headersHas(headers,"content-type")||headersSet(headers,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create(init,{body:createPropertyDescriptor(0,$toString(body)),headers:createPropertyDescriptor(0,headers)})}return init};if(isCallable(nativeFetch)&&$({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function fetch(input){return nativeFetch(input,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable(NativeRequest)){var RequestConstructor=function Request(input){return anInstance(this,RequestPrototype),new NativeRequest(input,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},67961:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(54491),StringPrototype=String.prototype;module.exports=function(it){var own=it.startsWith;return"string"==typeof it||it===StringPrototype||isPrototypeOf(StringPrototype,it)&&own===StringPrototype.startsWith?method:own}},68055:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var createNonEnumerableProperty=__webpack_require__(61626);module.exports=function(target,key,value,options){return options&&options.enumerable?target[key]=value:createNonEnumerableProperty(target,key,value),target}},68154:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(17081)("Map",function(init){return function Map(){return init(this,arguments.length?arguments[0]:void 0)}},__webpack_require__(30217))},68248:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{LX:()=>createUnarySpacing,MA:()=>createUnaryUnit,_W:()=>getValue,Lc:()=>margin,Ms:()=>padding});var breakpoints=__webpack_require__(89452),style=__webpack_require__(86481),merge=__webpack_require__(14620);const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=function memoize(fn){const cache={};return arg=>(void 0===cache[arg]&&(cache[arg]=fn(arg)),cache[arg])}(prop=>{if(prop.length>2){if(!aliases[prop])return[prop];prop=aliases[prop]}const[a,b]=prop.split(""),property=properties[a],direction=directions[b]||"";return Array.isArray(direction)?direction.map(dir=>property+dir):[property+direction]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],spacingKeys=[...marginKeys,...paddingKeys];function createUnaryUnit(theme,themeKey,defaultValue,propName){var _getPath;const themeSpacing=null!=(_getPath=(0,style.Yn)(theme,themeKey,!1))?_getPath:defaultValue;return"number"==typeof themeSpacing?abs=>"string"==typeof abs?abs:themeSpacing*abs:Array.isArray(themeSpacing)?abs=>"string"==typeof abs?abs:themeSpacing[abs]:"function"==typeof themeSpacing?themeSpacing:()=>{}}function createUnarySpacing(theme){return createUnaryUnit(theme,"spacing",8)}function getValue(transformer,propValue){if("string"==typeof propValue||null==propValue)return propValue;const transformed=transformer(Math.abs(propValue));return propValue>=0?transformed:"number"==typeof transformed?-transformed:`-${transformed}`}function resolveCssProperty(props,keys,prop,transformer){if(-1===keys.indexOf(prop))return null;const styleFromPropValue=function getStyleFromPropValue(cssProperties,transformer){return propValue=>cssProperties.reduce((acc,cssProperty)=>(acc[cssProperty]=getValue(transformer,propValue),acc),{})}(getCssProperties(prop),transformer),propValue=props[prop];return(0,breakpoints.NI)(props,propValue,styleFromPropValue)}function spacing_style(props,keys){const transformer=createUnarySpacing(props.theme);return Object.keys(props).map(prop=>resolveCssProperty(props,keys,prop,transformer)).reduce(merge.A,{})}function margin(props){return spacing_style(props,marginKeys)}function padding(props){return spacing_style(props,paddingKeys)}function spacing(props){return spacing_style(props,spacingKeys)}margin.propTypes={},margin.filterProps=marginKeys,padding.propTypes={},padding.filterProps=paddingKeys,spacing.propTypes={},spacing.filterProps=spacingKeys},68251:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(21926);module.exports=parent},68586:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_clamp__WEBPACK_IMPORTED_MODULE_0__.A});var _clamp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(90725)},68690:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(33067);module.exports=parent},69147:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(50179);var path=__webpack_require__(92046);module.exports=path.Object.getOwnPropertyDescriptors},69197:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";for(var shared=__webpack_require__(85816),getBuiltIn=__webpack_require__(85582),uncurryThis=__webpack_require__(1907),isSymbol=__webpack_require__(25594),wellKnownSymbol=__webpack_require__(76264),Symbol=getBuiltIn("Symbol"),$isWellKnownSymbol=Symbol.isWellKnownSymbol,getOwnPropertyNames=getBuiltIn("Object","getOwnPropertyNames"),thisSymbolValue=uncurryThis(Symbol.prototype.valueOf),WellKnownSymbolsStore=shared("wks"),i=0,symbolKeys=getOwnPropertyNames(Symbol),symbolKeysLength=symbolKeys.length;i<symbolKeysLength;i++)try{var symbolKey=symbolKeys[i];isSymbol(Symbol[symbolKey])&&wellKnownSymbol(symbolKey)}catch(error){}module.exports=function isWellKnownSymbol(value){if($isWellKnownSymbol&&$isWellKnownSymbol(value))return!0;try{for(var symbol=thisSymbolValue(value),j=0,keys=getOwnPropertyNames(WellKnownSymbolsStore),keysLength=keys.length;j<keysLength;j++)if(WellKnownSymbolsStore[keys[j]]==symbol)return!0}catch(error){}return!1}},69242:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(22162)},69314:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toIntegerOrInfinity=__webpack_require__(65482),toString=__webpack_require__(90160),requireObjectCoercible=__webpack_require__(74239),$RangeError=RangeError;module.exports=function repeat(count){var str=toString(requireObjectCoercible(this)),result="",n=toIntegerOrInfinity(count);if(n<0||n===1/0)throw new $RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(result+=str);return result}},69563:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(94776);module.exports=parent},69685:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(55939),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.some;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.some?method:own}},69982:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(29844)},70036:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:__webpack_require__(69197)})},70106:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),isSupersetOf=__webpack_require__(4002);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("isSupersetOf",function(result){return!result})},{isSupersetOf})},70228:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(9635);module.exports=parent},70470:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toPrimitive=__webpack_require__(46028),isSymbol=__webpack_require__(25594);module.exports=function(argument){var key=toPrimitive(argument,"string");return isSymbol(key)?key:key+""}},70473:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ITERATOR=__webpack_require__(76264)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}module.exports=function(exec,SKIP_CLOSING){try{if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1}catch(error){return!1}var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(error){}return ITERATION_SUPPORT}},70485:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var version,globalThis=__webpack_require__(45951),apply=__webpack_require__(76024),isCallable=__webpack_require__(62250),ENVIRONMENT=__webpack_require__(42832),USER_AGENT=__webpack_require__(96794),arraySlice=__webpack_require__(93427),validateArgumentsLength=__webpack_require__(24787),Function=globalThis.Function,WRAP=/MSIE .\./.test(USER_AGENT)||"BUN"===ENVIRONMENT&&((version=globalThis.Bun.version.split(".")).length<3||"0"===version[0]&&(version[1]<3||"3"===version[1]&&"0"===version[2]));module.exports=function(scheduler,hasTimeArg){var firstParamIndex=hasTimeArg?2:1;return WRAP?function(handler,timeout){var boundArgs=validateArgumentsLength(arguments.length,1)>firstParamIndex,fn=isCallable(handler)?handler:Function(handler),params=boundArgs?arraySlice(arguments,firstParamIndex):[],callback=boundArgs?function(){apply(fn,this,params)}:fn;return hasTimeArg?scheduler(callback,timeout):scheduler(callback)}:scheduler}},70568:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(73342);var path=__webpack_require__(92046);module.exports=path.setTimeout},70726:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var bind=__webpack_require__(28311),uncurryThis=__webpack_require__(1907),IndexedObject=__webpack_require__(16946),toObject=__webpack_require__(39298),lengthOfArrayLike=__webpack_require__(20575),arraySpeciesCreate=__webpack_require__(56968),push=uncurryThis([].push),createMethod=function(TYPE){var IS_MAP=1===TYPE,IS_FILTER=2===TYPE,IS_SOME=3===TYPE,IS_EVERY=4===TYPE,IS_FIND_INDEX=6===TYPE,IS_FILTER_REJECT=7===TYPE,NO_HOLES=5===TYPE||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){for(var value,result,O=toObject($this),self=IndexedObject(O),length=lengthOfArrayLike(self),boundFunction=bind(callbackfn,that),index=0,create=specificCreate||arraySpeciesCreate,target=IS_MAP?create($this,length):IS_FILTER||IS_FILTER_REJECT?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:push(target,value)}else switch(TYPE){case 4:return!1;case 7:push(target,value)}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},71074:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),toAbsoluteIndex=__webpack_require__(34849),$RangeError=RangeError,fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint,join=uncurryThis([].join);$({target:"String",stat:!0,arity:1,forced:!!$fromCodePoint&&1!==$fromCodePoint.length},{fromCodePoint:function fromCodePoint(x){for(var code,elements=[],length=arguments.length,i=0;length>i;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw new $RangeError(code+" is not a valid code point");elements[i]=code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320)}return join(elements,"")}})},71287:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{i:()=>useInsertionEffectWithLayoutFallback,s:()=>useInsertionEffectAlwaysWithSyncFallback});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540),useInsertionEffect=!!(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2))).useInsertionEffect&&(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2))).useInsertionEffect,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||function syncFallback(create){return create()},useInsertionEffectWithLayoutFallback=useInsertionEffect||react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect},71340:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),assign=__webpack_require__(29538);$({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign},{assign})},71426:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(99617)},71432:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},71547:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540),_useEnhancedEffect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21529);const __WEBPACK_DEFAULT_EXPORT__=function useEventCallback(fn){const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);return(0,_useEnhancedEffect__WEBPACK_IMPORTED_MODULE_1__.A)(()=>{ref.current=fn}),react__WEBPACK_IMPORTED_MODULE_0__.useRef((...args)=>(0,ref.current)(...args)).current}},71829:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var userAgent=__webpack_require__(96794);module.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent)},72087:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isObject=__webpack_require__(46285),classof=__webpack_require__(45807),MATCH=__webpack_require__(76264)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"===classof(it))}},72221:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,b:()=>useDefaultProps});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(96540),_mui_utils_resolveProps__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47379),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74848);const PropsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);function useDefaultProps({props,name}){return function getThemeProps(params){const{theme,name,props}=params;if(!theme||!theme.components||!theme.components[name])return props;const config=theme.components[name];return config.defaultProps?(0,_mui_utils_resolveProps__WEBPACK_IMPORTED_MODULE_1__.A)(config.defaultProps,props):config.styleOverrides||config.variants?props:(0,_mui_utils_resolveProps__WEBPACK_IMPORTED_MODULE_1__.A)(config,props)}({props,name,theme:{components:react__WEBPACK_IMPORTED_MODULE_0__.useContext(PropsContext)}})}const __WEBPACK_DEFAULT_EXPORT__=function DefaultPropsProvider({value,children}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PropsContext.Provider,{value,children})}},72230:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("replace")},72736:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),call=__webpack_require__(13930),aCallable=__webpack_require__(82159),newPromiseCapabilityModule=__webpack_require__(56254),perform=__webpack_require__(94420),iterate=__webpack_require__(24823);$({target:"Promise",stat:!0,forced:__webpack_require__(3282)},{race:function race(iterable){var C=this,capability=newPromiseCapabilityModule.f(C),reject=capability.reject,result=perform(function(){var $promiseResolve=aCallable(C.resolve);iterate(iterable,function(promise){call($promiseResolve,C,promise).then(capability.resolve,reject)})});return result.error&&reject(result.value),capability.promise}})},72778:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),fails=__webpack_require__(98828),uncurryThis=__webpack_require__(1907),toString=__webpack_require__(90160),trim=__webpack_require__(65993).trim,whitespaces=__webpack_require__(86395),$parseInt=globalThis.parseInt,Symbol=globalThis.Symbol,ITERATOR=Symbol&&Symbol.iterator,hex=/^[+-]?0x/i,exec=uncurryThis(hex.exec),FORCED=8!==$parseInt(whitespaces+"08")||22!==$parseInt(whitespaces+"0x16")||ITERATOR&&!fails(function(){$parseInt(Object(ITERATOR))});module.exports=FORCED?function parseInt(string,radix){var S=trim(toString(string));return $parseInt(S,radix>>>0||(exec(hex,S)?16:10))}:$parseInt},72923:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.A=void 0;var React=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__(96540)),_styledEngine=__webpack_require__(22532);function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}exports.A=function useTheme(defaultTheme=null){const contextTheme=React.useContext(_styledEngine.ThemeContext);return!contextTheme||function isObjectEmpty(obj){return 0===Object.keys(obj).length}(contextTheme)?defaultTheme:contextTheme}},73342:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(21978),__webpack_require__(66496)},73363:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(79528)},73377:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("matchAll")},73448:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var classof=__webpack_require__(73948),getMethod=__webpack_require__(29367),isNullOrUndefined=__webpack_require__(87136),Iterators=__webpack_require__(93742),ITERATOR=__webpack_require__(76264)("iterator");module.exports=function(it){if(!isNullOrUndefined(it))return getMethod(it,ITERATOR)||getMethod(it,"@@iterator")||Iterators[classof(it)]}},73592:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(27341);module.exports=parent},73648:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),fails=__webpack_require__(98828),createElement=__webpack_require__(49552);module.exports=!DESCRIPTORS&&!fails(function(){return 7!==Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a})},73709:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),union=__webpack_require__(41655),setMethodGetKeysBeforeCloning=__webpack_require__(56030);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("union")||!setMethodGetKeysBeforeCloning("union")},{union})},73881:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getBuiltIn=__webpack_require__(85582),caller=__webpack_require__(39841),Set=getBuiltIn("Set"),SetPrototype=Set.prototype;module.exports={Set,add:caller("add",1),has:caller("has",1),remove:caller("delete",1),proto:SetPrototype}},73904:module=>{"use strict";module.exports=function(a,b){try{1===arguments.length?console.error(a):console.error(a,b)}catch(error){}}},73948:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__(52623),isCallable=__webpack_require__(62250),classofRaw=__webpack_require__(45807),TO_STRING_TAG=__webpack_require__(76264)("toStringTag"),$Object=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw(function(){return arguments}());module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(error){}}(O=$Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"===(result=classofRaw(O))&&isCallable(O.callee)?"Arguments":result}},74239:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isNullOrUndefined=__webpack_require__(87136),$TypeError=TypeError;module.exports=function(it){if(isNullOrUndefined(it))throw new $TypeError("Can't call method on "+it);return it}},74284:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),IE8_DOM_DEFINE=__webpack_require__(73648),V8_PROTOTYPE_DEFINE_BUG=__webpack_require__(58661),anObject=__webpack_require__(36624),toPropertyKey=__webpack_require__(70470),$TypeError=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?V8_PROTOTYPE_DEFINE_BUG?function defineProperty(O,P,Attributes){if(anObject(O),P=toPropertyKey(P),anObject(Attributes),"function"==typeof O&&"prototype"===P&&"value"in Attributes&&"writable"in Attributes&&!Attributes.writable){var current=$getOwnPropertyDescriptor(O,P);current&&current.writable&&(O[P]=Attributes.value,Attributes={configurable:"configurable"in Attributes?Attributes.configurable:current.configurable,enumerable:"enumerable"in Attributes?Attributes.enumerable:current.enumerable,writable:!1})}return $defineProperty(O,P,Attributes)}:$defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPropertyKey(P),anObject(Attributes),IE8_DOM_DEFINE)try{return $defineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw new $TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},74436:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toIndexedObject=__webpack_require__(27374),toAbsoluteIndex=__webpack_require__(34849),lengthOfArrayLike=__webpack_require__(20575),createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject($this),length=lengthOfArrayLike(O);if(0===length)return!IS_INCLUDES&&-1;var value,index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},74532:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(47649);module.exports=parent},74535:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var tryToString=__webpack_require__(4640),$TypeError=TypeError;module.exports=function(O,P){if(!delete O[P])throw new $TypeError("Cannot delete property "+tryToString(P)+" of "+tryToString(O))}},74674:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(73342);var path=__webpack_require__(92046);module.exports=path.setInterval},74705:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function debounce(func,wait=166){let timeout;function debounced(...args){clearTimeout(timeout),timeout=setTimeout(()=>{func.apply(this,args)},wait)}return debounced.clear=()=>{clearTimeout(timeout)},debounced}__webpack_require__.d(__webpack_exports__,{A:()=>debounce})},74707:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(60075)},74848:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(21020)},75003:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>createSvgIcon});var esm_extends=__webpack_require__(58168),react=__webpack_require__(96540),objectWithoutPropertiesLoose=__webpack_require__(98587),clsx=__webpack_require__(34164),composeClasses=__webpack_require__(75659),capitalize=__webpack_require__(28466),DefaultPropsProvider=__webpack_require__(25669),styled=__webpack_require__(11848),generateUtilityClasses=__webpack_require__(38413),generateUtilityClass=__webpack_require__(31609);function getSvgIconUtilityClass(slot){return(0,generateUtilityClass.Ay)("MuiSvgIcon",slot)}(0,generateUtilityClasses.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var jsx_runtime=__webpack_require__(74848);const _excluded=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],SvgIconRoot=(0,styled.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,"inherit"!==ownerState.color&&styles[`color${(0,capitalize.A)(ownerState.color)}`],styles[`fontSize${(0,capitalize.A)(ownerState.fontSize)}`]]}})(({theme,ownerState})=>{var _theme$transitions,_theme$transitions$cr,_theme$transitions2,_theme$typography,_theme$typography$pxT,_theme$typography2,_theme$typography2$px,_theme$typography3,_theme$typography3$px,_palette$ownerState$c,_palette,_palette2,_palette3;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:ownerState.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(_theme$transitions=theme.transitions)||null==(_theme$transitions$cr=_theme$transitions.create)?void 0:_theme$transitions$cr.call(_theme$transitions,"fill",{duration:null==(_theme$transitions2=theme.transitions)||null==(_theme$transitions2=_theme$transitions2.duration)?void 0:_theme$transitions2.shorter}),fontSize:{inherit:"inherit",small:(null==(_theme$typography=theme.typography)||null==(_theme$typography$pxT=_theme$typography.pxToRem)?void 0:_theme$typography$pxT.call(_theme$typography,20))||"1.25rem",medium:(null==(_theme$typography2=theme.typography)||null==(_theme$typography2$px=_theme$typography2.pxToRem)?void 0:_theme$typography2$px.call(_theme$typography2,24))||"1.5rem",large:(null==(_theme$typography3=theme.typography)||null==(_theme$typography3$px=_theme$typography3.pxToRem)?void 0:_theme$typography3$px.call(_theme$typography3,35))||"2.1875rem"}[ownerState.fontSize],color:null!=(_palette$ownerState$c=null==(_palette=(theme.vars||theme).palette)||null==(_palette=_palette[ownerState.color])?void 0:_palette.main)?_palette$ownerState$c:{action:null==(_palette2=(theme.vars||theme).palette)||null==(_palette2=_palette2.action)?void 0:_palette2.active,disabled:null==(_palette3=(theme.vars||theme).palette)||null==(_palette3=_palette3.action)?void 0:_palette3.disabled,inherit:void 0}[ownerState.color]}}),SvgIcon=react.forwardRef(function SvgIcon(inProps,ref){const props=(0,DefaultPropsProvider.b)({props:inProps,name:"MuiSvgIcon"}),{children,className,color="inherit",component="svg",fontSize="medium",htmlColor,inheritViewBox=!1,titleAccess,viewBox="0 0 24 24"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,_excluded),hasSvgAsChild=react.isValidElement(children)&&"svg"===children.type,ownerState=(0,esm_extends.A)({},props,{color,component,fontSize,instanceFontSize:inProps.fontSize,inheritViewBox,viewBox,hasSvgAsChild}),more={};inheritViewBox||(more.viewBox=viewBox);const classes=(ownerState=>{const{color,fontSize,classes}=ownerState,slots={root:["root","inherit"!==color&&`color${(0,capitalize.A)(color)}`,`fontSize${(0,capitalize.A)(fontSize)}`]};return(0,composeClasses.A)(slots,getSvgIconUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsxs)(SvgIconRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),focusable:"false",color:htmlColor,"aria-hidden":!titleAccess||void 0,role:titleAccess?"img":void 0,ref},more,other,hasSvgAsChild&&children.props,{ownerState,children:[hasSvgAsChild?children.props.children:children,titleAccess?(0,jsx_runtime.jsx)("title",{children:titleAccess}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon_SvgIcon=SvgIcon;function createSvgIcon(path,displayName){function Component(props,ref){return(0,jsx_runtime.jsx)(SvgIcon_SvgIcon,(0,esm_extends.A)({"data-testid":`${displayName}Icon`,ref},props,{children:path}))}return Component.muiName=SvgIcon_SvgIcon.muiName,react.memo(react.forwardRef(Component))}},75042:()=>{},75084:()=>{},75265:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(62099);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","slice")},75659:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function composeClasses(slots,getUtilityClass,classes=void 0){const output={};return Object.keys(slots).forEach(slot=>{output[slot]=slots[slot].reduce((acc,key)=>{if(key){const utilityClass=getUtilityClass(key);""!==utilityClass&&acc.push(utilityClass),classes&&classes[key]&&acc.push(classes[key])}return acc},[]).join(" ")}),output}__webpack_require__.d(__webpack_exports__,{A:()=>composeClasses})},75681:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828);module.exports=!fails(function(){return Object.isExtensible(Object.preventExtensions({}))})},75817:module=>{"use strict";module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value}}},76024:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var NATIVE_BIND=__webpack_require__(41505),FunctionPrototype=Function.prototype,apply=FunctionPrototype.apply,call=FunctionPrototype.call;module.exports="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND?call.bind(apply):function(){return call.apply(apply,arguments)})},76264:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951),shared=__webpack_require__(85816),hasOwn=__webpack_require__(49724),uid=__webpack_require__(6499),NATIVE_SYMBOL=__webpack_require__(19846),USE_SYMBOL_AS_UID=__webpack_require__(51175),Symbol=globalThis.Symbol,WellKnownSymbolsStore=shared("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol.for||Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){return hasOwn(WellKnownSymbolsStore,name)||(WellKnownSymbolsStore[name]=NATIVE_SYMBOL&&hasOwn(Symbol,name)?Symbol[name]:createWellKnownSymbol("Symbol."+name)),WellKnownSymbolsStore[name]}},76314:module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map(function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content}).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},76343:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(36880);module.exports=parent},76490:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(19661);module.exports=parent},76544:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>styles_createTheme});var esm_extends=__webpack_require__(58168),objectWithoutPropertiesLoose=__webpack_require__(98587),formatMuiErrorMessage=__webpack_require__(89453),deepmerge=__webpack_require__(11317),defaultSxConfig=__webpack_require__(94188),styleFunctionSx=__webpack_require__(33571),createTheme=__webpack_require__(58749);var colorManipulator=__webpack_require__(771);const colors_common={black:"#000",white:"#fff"},colors_grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},colors_purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},colors_red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},colors_orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},colors_blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},colors_lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},colors_green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_excluded=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:colors_common.white,default:colors_common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:colors_common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:colors_common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(intent,direction,shade,tonalOffset){const tonalOffsetLight=tonalOffset.light||tonalOffset,tonalOffsetDark=tonalOffset.dark||1.5*tonalOffset;intent[direction]||(intent.hasOwnProperty(shade)?intent[direction]=intent[shade]:"light"===direction?intent.light=(0,colorManipulator.a)(intent.main,tonalOffsetLight):"dark"===direction&&(intent.dark=(0,colorManipulator.e$)(intent.main,tonalOffsetDark)))}function createPalette(palette){const{mode="light",contrastThreshold=3,tonalOffset=.2}=palette,other=(0,objectWithoutPropertiesLoose.A)(palette,_excluded),primary=palette.primary||function getDefaultPrimary(mode="light"){return"dark"===mode?{main:colors_blue[200],light:colors_blue[50],dark:colors_blue[400]}:{main:colors_blue[700],light:colors_blue[400],dark:colors_blue[800]}}(mode),secondary=palette.secondary||function getDefaultSecondary(mode="light"){return"dark"===mode?{main:colors_purple[200],light:colors_purple[50],dark:colors_purple[400]}:{main:colors_purple[500],light:colors_purple[300],dark:colors_purple[700]}}(mode),error=palette.error||function getDefaultError(mode="light"){return"dark"===mode?{main:colors_red[500],light:colors_red[300],dark:colors_red[700]}:{main:colors_red[700],light:colors_red[400],dark:colors_red[800]}}(mode),info=palette.info||function getDefaultInfo(mode="light"){return"dark"===mode?{main:colors_lightBlue[400],light:colors_lightBlue[300],dark:colors_lightBlue[700]}:{main:colors_lightBlue[700],light:colors_lightBlue[500],dark:colors_lightBlue[900]}}(mode),success=palette.success||function getDefaultSuccess(mode="light"){return"dark"===mode?{main:colors_green[400],light:colors_green[300],dark:colors_green[700]}:{main:colors_green[800],light:colors_green[500],dark:colors_green[900]}}(mode),warning=palette.warning||function getDefaultWarning(mode="light"){return"dark"===mode?{main:colors_orange[400],light:colors_orange[300],dark:colors_orange[700]}:{main:"#ed6c02",light:colors_orange[500],dark:colors_orange[900]}}(mode);function getContrastText(background){return(0,colorManipulator.eM)(background,dark.text.primary)>=contrastThreshold?dark.text.primary:light.text.primary}const augmentColor=({color,name,mainShade=500,lightShade=300,darkShade=700})=>{if(!(color=(0,esm_extends.A)({},color)).main&&color[mainShade]&&(color.main=color[mainShade]),!color.hasOwnProperty("main"))throw new Error((0,formatMuiErrorMessage.A)(11,name?` (${name})`:"",mainShade));if("string"!=typeof color.main)throw new Error((0,formatMuiErrorMessage.A)(12,name?` (${name})`:"",JSON.stringify(color.main)));return addLightOrDark(color,"light",lightShade,tonalOffset),addLightOrDark(color,"dark",darkShade,tonalOffset),color.contrastText||(color.contrastText=getContrastText(color.main)),color},modes={dark,light};return(0,deepmerge.A)((0,esm_extends.A)({common:(0,esm_extends.A)({},colors_common),mode,primary:augmentColor({color:primary,name:"primary"}),secondary:augmentColor({color:secondary,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:augmentColor({color:error,name:"error"}),warning:augmentColor({color:warning,name:"warning"}),info:augmentColor({color:info,name:"info"}),success:augmentColor({color:success,name:"success"}),grey:colors_grey,contrastThreshold,getContrastText,augmentColor,tonalOffset},modes[mode]),other)}const createTypography_excluded=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(palette,typography){const _ref="function"==typeof typography?typography(palette):typography,{fontFamily=defaultFontFamily,fontSize=14,fontWeightLight=300,fontWeightRegular=400,fontWeightMedium=500,fontWeightBold=700,htmlFontSize=16,allVariants,pxToRem:pxToRem2}=_ref,other=(0,objectWithoutPropertiesLoose.A)(_ref,createTypography_excluded);const coef=fontSize/14,pxToRem=pxToRem2||(size=>size/htmlFontSize*coef+"rem"),buildVariant=(fontWeight,size,lineHeight,letterSpacing,casing)=>{return(0,esm_extends.A)({fontFamily,fontWeight,fontSize:pxToRem(size),lineHeight},fontFamily===defaultFontFamily?{letterSpacing:(value=letterSpacing/size,Math.round(1e5*value)/1e5)+"em"}:{},casing,allVariants);var value},variants={h1:buildVariant(fontWeightLight,96,1.167,-1.5),h2:buildVariant(fontWeightLight,60,1.2,-.5),h3:buildVariant(fontWeightRegular,48,1.167,0),h4:buildVariant(fontWeightRegular,34,1.235,.25),h5:buildVariant(fontWeightRegular,24,1.334,0),h6:buildVariant(fontWeightMedium,20,1.6,.15),subtitle1:buildVariant(fontWeightRegular,16,1.75,.15),subtitle2:buildVariant(fontWeightMedium,14,1.57,.1),body1:buildVariant(fontWeightRegular,16,1.5,.15),body2:buildVariant(fontWeightRegular,14,1.43,.15),button:buildVariant(fontWeightMedium,14,1.75,.4,caseAllCaps),caption:buildVariant(fontWeightRegular,12,1.66,.4),overline:buildVariant(fontWeightRegular,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,deepmerge.A)((0,esm_extends.A)({htmlFontSize,pxToRem,fontFamily,fontSize,fontWeightLight,fontWeightRegular,fontWeightMedium,fontWeightBold},variants),other,{clone:!1})}function createShadow(...px){return[`${px[0]}px ${px[1]}px ${px[2]}px ${px[3]}px rgba(0,0,0,0.2)`,`${px[4]}px ${px[5]}px ${px[6]}px ${px[7]}px rgba(0,0,0,0.14)`,`${px[8]}px ${px[9]}px ${px[10]}px ${px[11]}px rgba(0,0,0,0.12)`].join(",")}const styles_shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];var createTransitions=__webpack_require__(17091);const styles_zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},createTheme_excluded=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme_createTheme(options={},...args){const{mixins:mixinsInput={},palette:paletteInput={},transitions:transitionsInput={},typography:typographyInput={}}=options,other=(0,objectWithoutPropertiesLoose.A)(options,createTheme_excluded);if(options.vars&&void 0===options.generateCssVars)throw new Error((0,formatMuiErrorMessage.A)(18));const palette=createPalette(paletteInput),systemTheme=(0,createTheme.A)(options);let muiTheme=(0,deepmerge.A)(systemTheme,{mixins:(breakpoints=systemTheme.breakpoints,mixins=mixinsInput,(0,esm_extends.A)({toolbar:{minHeight:56,[breakpoints.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[breakpoints.up("sm")]:{minHeight:64}}},mixins)),palette,shadows:styles_shadows.slice(),typography:createTypography(palette,typographyInput),transitions:(0,createTransitions.Ay)(transitionsInput),zIndex:(0,esm_extends.A)({},styles_zIndex)});var breakpoints,mixins;return muiTheme=(0,deepmerge.A)(muiTheme,other),muiTheme=args.reduce((acc,argument)=>(0,deepmerge.A)(acc,argument),muiTheme),muiTheme.unstable_sxConfig=(0,esm_extends.A)({},defaultSxConfig.A,null==other?void 0:other.unstable_sxConfig),muiTheme.unstable_sx=function sx(props){return(0,styleFunctionSx.A)({sx:props,theme:this})},muiTheme}const styles_createTheme=createTheme_createTheme},76660:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(10317);module.exports=parent},76673:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function createChainedFunction(...funcs){return funcs.reduce((acc,func)=>null==func?acc:function chainedFunction(...args){acc.apply(this,args),func.apply(this,args)},()=>{})}__webpack_require__.d(__webpack_exports__,{A:()=>createChainedFunction})},76951:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),difference=__webpack_require__(65953),fails=__webpack_require__(98828);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("difference",function(result){return 0===result.size})||fails(function(){var setLike={size:1,has:function(){return!0},keys:function(){var index=0;return{next:function(){var done=index++>1;return baseSet.has(1)&&baseSet.clear(),{done,value:2}}}}},baseSet=new Set([1,2,3,4]);return 3!==baseSet.difference(setLike).size})},{difference})},77511:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(50727);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("String","trim")},77623:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var fails=__webpack_require__(98828);module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails(function(){method.call(null,argument||function(){return 1},1)})}},77659:module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},77725:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(18402);module.exports=parent},77852:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(44507);module.exports=parent},78558:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(42156)("flatMap")},78685:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(21127),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.push;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.push?method:own}},78928:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(46513)},78944:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_formatMuiErrorMessage__WEBPACK_IMPORTED_MODULE_0__.A});var _formatMuiErrorMessage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89453)},79071:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const defaultGenerator=componentName=>componentName,__WEBPACK_DEFAULT_EXPORT__=(()=>{let generate=defaultGenerator;return{configure(generator){generate=generator},generate:componentName=>generate(componentName),reset(){generate=defaultGenerator}}})()},79156:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",$RangeError=RangeError,exec=uncurryThis(regexSeparators.exec),floor=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis("".charCodeAt),join=uncurryThis([].join),push=uncurryThis([].push),replace=uncurryThis("".replace),split=uncurryThis("".split),toLowerCase=uncurryThis("".toLowerCase),digitToBasic=function(digit){return digit+22+75*(digit<26)},adapt=function(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;)delta=floor(delta/35),k+=36;return floor(k+36*delta/(delta+38))},encode=function(input){var output=[];input=function(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=charCodeAt(string,counter++);if(value>=55296&&value<=56319&&counter<length){var extra=charCodeAt(string,counter++);56320==(64512&extra)?push(output,((1023&value)<<10)+(1023&extra)+65536):(push(output,value),counter--)}else push(output,value)}return output}(input);var i,currentValue,inputLength=input.length,n=128,delta=0,bias=72;for(i=0;i<input.length;i++)(currentValue=input[i])<128&&push(output,fromCharCode(currentValue));var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&push(output,"-");handledCPCount<inputLength;){var m=2147483647;for(i=0;i<input.length;i++)(currentValue=input[i])>=n&&currentValue<m&&(m=currentValue);var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((2147483647-delta)/handledCPCountPlusOne))throw new $RangeError(OVERFLOW_ERROR);for(delta+=(m-n)*handledCPCountPlusOne,n=m,i=0;i<input.length;i++){if((currentValue=input[i])<n&&++delta>2147483647)throw new $RangeError(OVERFLOW_ERROR);if(currentValue===n){for(var q=delta,k=36;;){var t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=36-t;push(output,fromCharCode(digitToBasic(t+qMinusT%baseMinusT))),q=floor(qMinusT/baseMinusT),k+=36}push(output,fromCharCode(digitToBasic(q))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount===basicLength),delta=0,handledCPCount++}}delta++,n++}return join(output,"")};module.exports=function(input){var i,label,encoded=[],labels=split(replace(toLowerCase(input),regexSeparators,"."),".");for(i=0;i<labels.length;i++)label=labels[i],push(encoded,exec(regexNonASCII,label)?"xn--"+encode(label):label);return join(encoded,".")}},79157:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(79378);__webpack_require__(12560),module.exports=parent},79175:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$findIndex=__webpack_require__(70726).findIndex,addToUnscopables=__webpack_require__(42156),SKIPS_HOLES=!0;"findIndex"in[]&&Array(1).findIndex(function(){SKIPS_HOLES=!1}),$({target:"Array",proto:!0,forced:SKIPS_HOLES},{findIndex:function findIndex(callbackfn){return $findIndex(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("findIndex")},79192:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThisAccessor=__webpack_require__(51871),isObject=__webpack_require__(46285),requireObjectCoercible=__webpack_require__(74239),aPossiblePrototype=__webpack_require__(10043);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,CORRECT_SETTER=!1,test={};try{(setter=uncurryThisAccessor(Object.prototype,"__proto__","set"))(test,[]),CORRECT_SETTER=test instanceof Array}catch(error){}return function setPrototypeOf(O,proto){return requireObjectCoercible(O),aPossiblePrototype(proto),isObject(O)?(CORRECT_SETTER?setter(O,proto):O.__proto__=proto,O):O}}():void 0)},79307:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),bind=__webpack_require__(44673);$({target:"Function",proto:!0,forced:Function.bind!==bind},{bind})},79378:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(86024),__webpack_require__(1542),__webpack_require__(76951),__webpack_require__(25905),__webpack_require__(1852),__webpack_require__(57809),__webpack_require__(70106),__webpack_require__(92657),__webpack_require__(73709),__webpack_require__(7057);var path=__webpack_require__(92046);module.exports=path.Set},79528:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(28823);module.exports=parent},80149:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(25837);var Object=__webpack_require__(92046).Object;module.exports=function create(P,D){return Object.create(P,D)}},80376:module=>{"use strict";module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},80430:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var descriptor,$=__webpack_require__(11091),uncurryThis=__webpack_require__(92361),getOwnPropertyDescriptor=__webpack_require__(13846).f,toLength=__webpack_require__(3121),toString=__webpack_require__(90160),notARegExp=__webpack_require__(12074),requireObjectCoercible=__webpack_require__(74239),correctIsRegExpLogic=__webpack_require__(25735),IS_PURE=__webpack_require__(7376),slice=uncurryThis("".slice),min=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("endsWith");$({target:"String",proto:!0,forced:!!(IS_PURE||CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"endsWith"),!descriptor||descriptor.writable))&&!CORRECT_IS_REGEXP_LOGIC},{endsWith:function endsWith(searchString){var that=toString(requireObjectCoercible(this));notARegExp(searchString);var endPosition=arguments.length>1?arguments[1]:void 0,len=that.length,end=void 0===endPosition?len:min(toLength(endPosition),len),search=toString(searchString);return slice(that,end-search.length,end)===search}})},80560:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var wellKnownSymbol=__webpack_require__(76264);exports.f=wellKnownSymbol},80734:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(90288)},81086:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(12757);module.exports=parent},81164:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),toLength=__webpack_require__(3121),toString=__webpack_require__(90160),$repeat=__webpack_require__(69314),requireObjectCoercible=__webpack_require__(74239),repeat=uncurryThis($repeat),stringSlice=uncurryThis("".slice),ceil=Math.ceil,createMethod=function(IS_END){return function($this,maxLength,fillString){var fillLen,stringFiller,S=toString(requireObjectCoercible($this)),intMaxLength=toLength(maxLength),stringLength=S.length,fillStr=void 0===fillString?" ":toString(fillString);return intMaxLength<=stringLength||""===fillStr?S:((stringFiller=repeat(fillStr,ceil((fillLen=intMaxLength-stringLength)/fillStr.length))).length>fillLen&&(stringFiller=stringSlice(stringFiller,0,fillLen)),IS_END?S+stringFiller:stringFiller+S)}};module.exports={start:createMethod(!1),end:createMethod(!0)}},81330:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var iterateSimple=__webpack_require__(22190);module.exports=function(set,fn,interruptible){return interruptible?iterateSimple(set.keys(),fn,!0):set.forEach(fn)}},81519:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(99029)},81697:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("customMatcher")},81984:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>utils_useIsFocusVisible});var react=__webpack_require__(96540),useTimeout=__webpack_require__(33068);let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new useTimeout.E,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function handleKeyDown(event){event.metaKey||event.altKey||event.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function isFocusVisible(event){const{target}=event;try{return target.matches(":focus-visible")}catch(error){}return hadKeyboardEvent||function focusTriggersKeyboardModality(node){const{type,tagName}=node;return!("INPUT"!==tagName||!inputTypesWhitelist[type]||node.readOnly)||"TEXTAREA"===tagName&&!node.readOnly||!!node.isContentEditable}(target)}const utils_useIsFocusVisible=function useIsFocusVisible(){const ref=react.useCallback(node=>{null!=node&&function prepare(doc){doc.addEventListener("keydown",handleKeyDown,!0),doc.addEventListener("mousedown",handlePointerDown,!0),doc.addEventListener("pointerdown",handlePointerDown,!0),doc.addEventListener("touchstart",handlePointerDown,!0),doc.addEventListener("visibilitychange",handleVisibilityChange,!0)}(node.ownerDocument)},[]),isFocusVisibleRef=react.useRef(!1);return{isFocusVisibleRef,onFocus:function handleFocusVisible(event){return!!isFocusVisible(event)&&(isFocusVisibleRef.current=!0,!0)},onBlur:function handleBlurVisible(){return!!isFocusVisibleRef.current&&(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),isFocusVisibleRef.current=!1,!0)},ref}}},82048:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),isPrototypeOf=__webpack_require__(88280),getPrototypeOf=__webpack_require__(15972),setPrototypeOf=__webpack_require__(79192),copyConstructorProperties=__webpack_require__(19595),create=__webpack_require__(58075),createNonEnumerableProperty=__webpack_require__(61626),createPropertyDescriptor=__webpack_require__(75817),installErrorCause=__webpack_require__(39259),installErrorStack=__webpack_require__(85884),iterate=__webpack_require__(24823),normalizeStringArgument=__webpack_require__(32096),TO_STRING_TAG=__webpack_require__(76264)("toStringTag"),$Error=Error,push=[].push,$AggregateError=function AggregateError(errors,message){var that,isInstance=isPrototypeOf(AggregateErrorPrototype,this);setPrototypeOf?that=setPrototypeOf(new $Error,isInstance?getPrototypeOf(this):AggregateErrorPrototype):(that=isInstance?this:create(AggregateErrorPrototype),createNonEnumerableProperty(that,TO_STRING_TAG,"Error")),void 0!==message&&createNonEnumerableProperty(that,"message",normalizeStringArgument(message)),installErrorStack(that,$AggregateError,that.stack,1),arguments.length>2&&installErrorCause(that,arguments[2]);var errorsArray=[];return iterate(errors,push,{that:errorsArray}),createNonEnumerableProperty(that,"errors",errorsArray),that};setPrototypeOf?setPrototypeOf($AggregateError,$Error):copyConstructorProperties($AggregateError,$Error,{name:!0});var AggregateErrorPrototype=$AggregateError.prototype=create($Error.prototype,{constructor:createPropertyDescriptor(1,$AggregateError),message:createPropertyDescriptor(1,""),name:createPropertyDescriptor(1,"AggregateError")});$({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError})},82159:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isCallable=__webpack_require__(62250),tryToString=__webpack_require__(4640),$TypeError=TypeError;module.exports=function(argument){if(isCallable(argument))return argument;throw new $TypeError(tryToString(argument)+" is not a function")}},82235:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isConstructor=__webpack_require__(25468),tryToString=__webpack_require__(4640),$TypeError=TypeError;module.exports=function(argument){if(isConstructor(argument))return argument;throw new $TypeError(tryToString(argument)+" is not a constructor")}},82990:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(69685);module.exports=parent},83034:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(71547).A},83269:module=>{"use strict";module.exports=function(){return!1}},83309:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(66391);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","indexOf")},83467:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var call=__webpack_require__(13930),getBuiltIn=__webpack_require__(85582),wellKnownSymbol=__webpack_require__(76264),defineBuiltIn=__webpack_require__(68055);module.exports=function(){var Symbol=getBuiltIn("Symbol"),SymbolPrototype=Symbol&&Symbol.prototype,valueOf=SymbolPrototype&&SymbolPrototype.valueOf,TO_PRIMITIVE=wellKnownSymbol("toPrimitive");SymbolPrototype&&!SymbolPrototype[TO_PRIMITIVE]&&defineBuiltIn(SymbolPrototype,TO_PRIMITIVE,function(hint){return call(valueOf,this)},{arity:1})}},83569:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var anObject=__webpack_require__(36624),isObject=__webpack_require__(46285),newPromiseCapability=__webpack_require__(56254);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},83589:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),toObject=__webpack_require__(39298),nativeKeys=__webpack_require__(2875);$({target:"Object",stat:!0,forced:__webpack_require__(98828)(function(){nativeKeys(1)})},{keys:function keys(it){return nativeKeys(toObject(it))}})},83604:()=>{},83842:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(58545),__webpack_require__(86024),__webpack_require__(94452),__webpack_require__(65546),__webpack_require__(3997),__webpack_require__(75084),__webpack_require__(32499),__webpack_require__(2596),__webpack_require__(5721),__webpack_require__(44954),__webpack_require__(44123),__webpack_require__(73377),__webpack_require__(72230),__webpack_require__(15344),__webpack_require__(51660),__webpack_require__(4610),__webpack_require__(33669),__webpack_require__(44810),__webpack_require__(93325),__webpack_require__(87024),__webpack_require__(38172),__webpack_require__(85205);var path=__webpack_require__(92046);module.exports=path.Symbol},83857:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_styleFunctionSx__WEBPACK_IMPORTED_MODULE_0__.A,extendSxProp:()=>_extendSxProp__WEBPACK_IMPORTED_MODULE_1__.A,unstable_createStyleFunctionSx:()=>_styleFunctionSx__WEBPACK_IMPORTED_MODULE_0__.k,unstable_defaultSxConfig:()=>_defaultSxConfig__WEBPACK_IMPORTED_MODULE_2__.A});var _styleFunctionSx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33571),_extendSxProp__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39599),_defaultSxConfig__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94188)},84326:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(42193);var path=__webpack_require__(92046);module.exports=path.parseInt},84411:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var NATIVE_SYMBOL=__webpack_require__(19846);module.exports=NATIVE_SYMBOL&&!!Symbol.for&&!!Symbol.keyFor},84664:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("observable")},84923:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(35953);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","splice")},84997:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(26040);module.exports=parent},85063:(module,__unused_webpack_exports,__webpack_require__)=>{var _Symbol=__webpack_require__(93071),_Symbol$asyncIterator=__webpack_require__(56934),OverloadYield=__webpack_require__(53244),regeneratorDefine=__webpack_require__(51586);module.exports=function AsyncIterator(t,e){function n(r,o,i,f){try{var c=t[r](o),u=c.value;return u instanceof OverloadYield?e.resolve(u.v).then(function(t){n("next",t,i,f)},function(t){n("throw",t,i,f)}):e.resolve(u).then(function(t){c.value=t,i(c)},function(t){return n("throw",t,i,f)})}catch(t){f(t)}}var r;this.next||(regeneratorDefine(AsyncIterator.prototype),regeneratorDefine(AsyncIterator.prototype,"function"==typeof _Symbol&&_Symbol$asyncIterator||"@asyncIterator",function(){return this})),regeneratorDefine(this,"_invoke",function(t,o,i){function f(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(f,f):f()},!0)},module.exports.__esModule=!0,module.exports.default=module.exports},85072:module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},85105:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(77852);module.exports=parent},85205:()=>{},85401:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(462);module.exports=parent},85569:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(76660)},85582:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var path=__webpack_require__(92046),globalThis=__webpack_require__(45951),isCallable=__webpack_require__(62250),aFunction=function(variable){return isCallable(variable)?variable:void 0};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(globalThis[namespace]):path[namespace]&&path[namespace][method]||globalThis[namespace]&&globalThis[namespace][method]}},85745:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),toObject=__webpack_require__(39298),lengthOfArrayLike=__webpack_require__(20575),setArrayLength=__webpack_require__(3130),doesNotExceedSafeInteger=__webpack_require__(88024);$({target:"Array",proto:!0,arity:1,forced:__webpack_require__(98828)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(error){return error instanceof TypeError}}()},{push:function push(item){var O=toObject(this),len=lengthOfArrayLike(O),argCount=arguments.length;doesNotExceedSafeInteger(len+argCount);for(var i=0;i<argCount;i++)O[len]=arguments[i],len++;return setArrayLength(O,len),len}})},85762:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),$Error=Error,replace=uncurryThis("".replace),TEST=String(new $Error("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST);module.exports=function(stack,dropEntries){if(IS_V8_OR_CHAKRA_STACK&&"string"==typeof stack&&!$Error.prepareStackTrace)for(;dropEntries--;)stack=replace(stack,V8_OR_CHAKRA_STACK_ENTRY,"");return stack}},85816:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var store=__webpack_require__(36128);module.exports=function(key,value){return store[key]||(store[key]=value||{})}},85837:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(64048);module.exports=parent},85884:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var createNonEnumerableProperty=__webpack_require__(61626),clearErrorStack=__webpack_require__(85762),ERROR_STACK_INSTALLABLE=__webpack_require__(23888),captureStackTrace=Error.captureStackTrace;module.exports=function(error,C,stack,dropEntries){ERROR_STACK_INSTALLABLE&&(captureStackTrace?captureStackTrace(error,C):createNonEnumerableProperty(error,"stack",clearErrorStack(stack,dropEntries)))}},85989:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),flattenIntoArray=__webpack_require__(6198),aCallable=__webpack_require__(82159),toObject=__webpack_require__(39298),lengthOfArrayLike=__webpack_require__(20575),arraySpeciesCreate=__webpack_require__(56968);$({target:"Array",proto:!0},{flatMap:function flatMap(callbackfn){var A,O=toObject(this),sourceLen=lengthOfArrayLike(O);return aCallable(callbackfn),(A=arraySpeciesCreate(O,0)).length=flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments.length>1?arguments[1]:void 0),A}})},86024:()=>{},86226:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(24525)},86395:module=>{"use strict";module.exports="\t\n\v\f\r \u2028\u2029\ufeff"},86450:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(93607);module.exports=parent},86481:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,BO:()=>getStyleValue,Yn:()=>getPath});var _mui_utils_capitalize__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13967),_breakpoints__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89452);function getPath(obj,path,checkVars=!0){if(!path||"string"!=typeof path)return null;if(obj&&obj.vars&&checkVars){const val=`vars.${path}`.split(".").reduce((acc,item)=>acc&&acc[item]?acc[item]:null,obj);if(null!=val)return val}return path.split(".").reduce((acc,item)=>acc&&null!=acc[item]?acc[item]:null,obj)}function getStyleValue(themeMapping,transform,propValueFinal,userValue=propValueFinal){let value;return value="function"==typeof themeMapping?themeMapping(propValueFinal):Array.isArray(themeMapping)?themeMapping[propValueFinal]||userValue:getPath(themeMapping,propValueFinal)||userValue,transform&&(value=transform(value,userValue,themeMapping)),value}const __WEBPACK_DEFAULT_EXPORT__=function style(options){const{prop,cssProperty=options.prop,themeKey,transform}=options,fn=props=>{if(null==props[prop])return null;const propValue=props[prop],themeMapping=getPath(props.theme,themeKey)||{};return(0,_breakpoints__WEBPACK_IMPORTED_MODULE_1__.NI)(props,propValue,propValueFinal=>{let value=getStyleValue(themeMapping,transform,propValueFinal);return propValueFinal===value&&"string"==typeof propValueFinal&&(value=getStyleValue(themeMapping,transform,`${prop}${"default"===propValueFinal?"":(0,_mui_utils_capitalize__WEBPACK_IMPORTED_MODULE_0__.A)(propValueFinal)}`,propValueFinal)),!1===cssProperty?value:{[cssProperty]:value}})};return fn.propTypes={},fn.filterProps=[prop],fn}},86878:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("metadataKey")},87024:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var globalThis=__webpack_require__(45951);__webpack_require__(14840)(globalThis.JSON,"JSON",!0)},87052:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),fails=__webpack_require__(98828),toIndexedObject=__webpack_require__(27374),nativeGetOwnPropertyDescriptor=__webpack_require__(13846).f,DESCRIPTORS=__webpack_require__(39447);$({target:"Object",stat:!0,forced:!DESCRIPTORS||fails(function(){nativeGetOwnPropertyDescriptor(1)}),sham:!DESCRIPTORS},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(it,key){return nativeGetOwnPropertyDescriptor(toIndexedObject(it),key)}})},87136:module=>{"use strict";module.exports=function(it){return null==it}},87152:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(32499)},87166:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(49645);__webpack_require__(91599),__webpack_require__(27939),__webpack_require__(64362),module.exports=parent},87170:(__unused_webpack_module,exports)=>{"use strict";exports.f=Object.getOwnPropertySymbols},87810:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),DESCRIPTORS=__webpack_require__(39447),defineProperties=__webpack_require__(42220).f;$({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties,sham:!DESCRIPTORS},{defineProperties})},88024:module=>{"use strict";var $TypeError=TypeError;module.exports=function(it){if(it>9007199254740991)throw $TypeError("Maximum allowed index exceeded");return it}},88280:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907);module.exports=uncurryThis({}.isPrototypeOf)},89251:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var defineProperty=__webpack_require__(74284);module.exports=function(target,name,descriptor){return defineProperty.f(target,name,descriptor)}},89452:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EU:()=>createEmptyBreakpointObject,NI:()=>handleBreakpoints,iZ:()=>mergeBreakpointsInOrder,kW:()=>resolveBreakpointValues,vf:()=>removeUnusedBreakpoints,zu:()=>values});var _mui_utils_deepmerge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11317);const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:key=>`@media (min-width:${values[key]}px)`};function handleBreakpoints(props,propValue,styleFromPropValue){const theme=props.theme||{};if(Array.isArray(propValue)){const themeBreakpoints=theme.breakpoints||defaultBreakpoints;return propValue.reduce((acc,item,index)=>(acc[themeBreakpoints.up(themeBreakpoints.keys[index])]=styleFromPropValue(propValue[index]),acc),{})}if("object"==typeof propValue){const themeBreakpoints=theme.breakpoints||defaultBreakpoints;return Object.keys(propValue).reduce((acc,breakpoint)=>{if(-1!==Object.keys(themeBreakpoints.values||values).indexOf(breakpoint)){acc[themeBreakpoints.up(breakpoint)]=styleFromPropValue(propValue[breakpoint],breakpoint)}else{const cssKey=breakpoint;acc[cssKey]=propValue[cssKey]}return acc},{})}return styleFromPropValue(propValue)}function createEmptyBreakpointObject(breakpointsInput={}){var _breakpointsInput$key;return(null==(_breakpointsInput$key=breakpointsInput.keys)?void 0:_breakpointsInput$key.reduce((acc,key)=>(acc[breakpointsInput.up(key)]={},acc),{}))||{}}function removeUnusedBreakpoints(breakpointKeys,style){return breakpointKeys.reduce((acc,key)=>{const breakpointOutput=acc[key];return(!breakpointOutput||0===Object.keys(breakpointOutput).length)&&delete acc[key],acc},style)}function mergeBreakpointsInOrder(breakpointsInput,...styles){const emptyBreakpoints=createEmptyBreakpointObject(breakpointsInput),mergedOutput=[emptyBreakpoints,...styles].reduce((prev,next)=>(0,_mui_utils_deepmerge__WEBPACK_IMPORTED_MODULE_0__.A)(prev,next),{});return removeUnusedBreakpoints(Object.keys(emptyBreakpoints),mergedOutput)}function resolveBreakpointValues({values:breakpointValues,breakpoints:themeBreakpoints,base:customBase}){const base=customBase||function computeBreakpointsBase(breakpointValues,themeBreakpoints){if("object"!=typeof breakpointValues)return{};const base={},breakpointsKeys=Object.keys(themeBreakpoints);return Array.isArray(breakpointValues)?breakpointsKeys.forEach((breakpoint,i)=>{i<breakpointValues.length&&(base[breakpoint]=!0)}):breakpointsKeys.forEach(breakpoint=>{null!=breakpointValues[breakpoint]&&(base[breakpoint]=!0)}),base}(breakpointValues,themeBreakpoints),keys=Object.keys(base);if(0===keys.length)return breakpointValues;let previous;return keys.reduce((acc,breakpoint,i)=>(Array.isArray(breakpointValues)?(acc[breakpoint]=null!=breakpointValues[i]?breakpointValues[i]:breakpointValues[previous],previous=i):"object"==typeof breakpointValues?(acc[breakpoint]=null!=breakpointValues[breakpoint]?breakpointValues[breakpoint]:breakpointValues[previous],previous=breakpoint):acc[breakpoint]=breakpointValues,acc),{})}},89453:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function formatMuiErrorMessage(code){let url="https://mui.com/production-error/?code="+code;for(let i=1;i<arguments.length;i+=1)url+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+code+"; visit "+url+" for the full message."}__webpack_require__.d(__webpack_exports__,{A:()=>formatMuiErrorMessage})},90160:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var classof=__webpack_require__(73948),$String=String;module.exports=function(argument){if("Symbol"===classof(argument))throw new TypeError("Cannot convert a Symbol value to a string");return $String(argument)}},90288:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(9433);module.exports=parent},90725:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function clamp(val,min=Number.MIN_SAFE_INTEGER,max=Number.MAX_SAFE_INTEGER){return Math.max(min,Math.min(val,max))}},90913:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(27382);module.exports=parent},91234:(module,__unused_webpack_exports,__webpack_require__)=>{var _Symbol=__webpack_require__(93071),_Symbol$iterator=__webpack_require__(4473);function _typeof(o){return module.exports=_typeof="function"==typeof _Symbol&&"symbol"==typeof _Symbol$iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof _Symbol&&o.constructor===_Symbol&&o!==_Symbol.prototype?"symbol":typeof o},module.exports.__esModule=!0,module.exports.default=module.exports,_typeof(o)}module.exports=_typeof,module.exports.__esModule=!0,module.exports.default=module.exports},91599:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(64502)},91838:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{capitalize:()=>capitalize.A,createChainedFunction:()=>utils_createChainedFunction,createSvgIcon:()=>createSvgIcon.A,debounce:()=>debounce.A,deprecatedPropType:()=>utils_deprecatedPropType,isMuiElement:()=>isMuiElement.A,ownerDocument:()=>ownerDocument.A,ownerWindow:()=>ownerWindow.A,requirePropFactory:()=>utils_requirePropFactory,setRef:()=>utils_setRef,unstable_ClassNameGenerator:()=>unstable_ClassNameGenerator,unstable_useEnhancedEffect:()=>useEnhancedEffect.A,unstable_useId:()=>useId.A,unsupportedProp:()=>utils_unsupportedProp,useControlled:()=>useControlled.A,useEventCallback:()=>useEventCallback.A,useForkRef:()=>useForkRef.A,useIsFocusVisible:()=>useIsFocusVisible.A});var ClassNameGenerator=__webpack_require__(79071),capitalize=__webpack_require__(28466);const utils_createChainedFunction=__webpack_require__(76673).A;var createSvgIcon=__webpack_require__(75003),debounce=__webpack_require__(1935);const utils_deprecatedPropType=function deprecatedPropType(validator,reason){return()=>null};var isMuiElement=__webpack_require__(18593),ownerDocument=__webpack_require__(96248),ownerWindow=__webpack_require__(93749);const utils_requirePropFactory=function requirePropFactory(componentNameInError,Component){return()=>null};const utils_setRef=__webpack_require__(17365).A;var useEnhancedEffect=__webpack_require__(2778),useId=__webpack_require__(1668);const utils_unsupportedProp=function unsupportedProp(props,propName,componentName,location,propFullName){return null};var useControlled=__webpack_require__(41381),useEventCallback=__webpack_require__(83034),useForkRef=__webpack_require__(96852),useIsFocusVisible=__webpack_require__(81984);const unstable_ClassNameGenerator={configure:generator=>{ClassNameGenerator.A.configure(generator)}}},91866:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),IS_PURE=__webpack_require__(7376),FORCED_PROMISE_CONSTRUCTOR=__webpack_require__(1759).CONSTRUCTOR,NativePromiseConstructor=__webpack_require__(55463),getBuiltIn=__webpack_require__(85582),isCallable=__webpack_require__(62250),defineBuiltIn=__webpack_require__(68055),NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype;if($({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR,real:!0},{catch:function(onRejected){return this.then(void 0,onRejected)}}),!IS_PURE&&isCallable(NativePromiseConstructor)){var method=getBuiltIn("Promise").prototype.catch;NativePromisePrototype.catch!==method&&defineBuiltIn(NativePromisePrototype,"catch",method,{unsafe:!0})}},91906:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Object",stat:!0},{setPrototypeOf:__webpack_require__(79192)})},91921:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(84326);module.exports=parent},92046:module=>{"use strict";module.exports={}},92361:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var classofRaw=__webpack_require__(45807),uncurryThis=__webpack_require__(1907);module.exports=function(fn){if("Function"===classofRaw(fn))return uncurryThis(fn)}},92425:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(11091)({target:"Array",stat:!0},{isArray:__webpack_require__(11793)})},92522:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var shared=__webpack_require__(85816),uid=__webpack_require__(6499),keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},92657:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),symmetricDifference=__webpack_require__(23763),setMethodGetKeysBeforeCloning=__webpack_require__(56030);$({target:"Set",proto:!0,real:!0,forced:!__webpack_require__(83269)("symmetricDifference")||!setMethodGetKeysBeforeCloning("symmetricDifference")},{symmetricDifference})},92659:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},93071:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(32321)},93220:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(69147);module.exports=parent},93316:module=>{"use strict";module.exports=function(obj){return{iterator:obj,next:obj.next,done:!1}}},93325:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(20366)("unscopables")},93427:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907);module.exports=uncurryThis([].slice)},93440:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var firefox=__webpack_require__(96794).match(/firefox\/(\d+)/i);module.exports=!!firefox&&+firefox[1]},93607:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(7057),__webpack_require__(57277);var path=__webpack_require__(92046);module.exports=path.Array.from},93658:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(80149);module.exports=parent},93700:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(19709);module.exports=parent},93742:module=>{"use strict";module.exports={}},93749:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(44877).A},94188:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>styleFunctionSx_defaultSxConfig});var spacing=__webpack_require__(68248),style=__webpack_require__(86481),merge=__webpack_require__(14620);const esm_compose=function compose(...styles){const handlers=styles.reduce((acc,style)=>(style.filterProps.forEach(prop=>{acc[prop]=style}),acc),{}),fn=props=>Object.keys(props).reduce((acc,prop)=>handlers[prop]?(0,merge.A)(acc,handlers[prop](props)):acc,{});return fn.propTypes={},fn.filterProps=styles.reduce((acc,style)=>acc.concat(style.filterProps),[]),fn};var breakpoints=__webpack_require__(89452);function borderTransform(value){return"number"!=typeof value?value:`${value}px solid`}function createBorderStyle(prop,transform){return(0,style.Ay)({prop,themeKey:"borders",transform})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=props=>{if(void 0!==props.borderRadius&&null!==props.borderRadius){const transformer=(0,spacing.MA)(props.theme,"shape.borderRadius",4,"borderRadius"),styleFromPropValue=propValue=>({borderRadius:(0,spacing._W)(transformer,propValue)});return(0,breakpoints.NI)(props,props.borderRadius,styleFromPropValue)}return null};borderRadius.propTypes={},borderRadius.filterProps=["borderRadius"];esm_compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=props=>{if(void 0!==props.gap&&null!==props.gap){const transformer=(0,spacing.MA)(props.theme,"spacing",8,"gap"),styleFromPropValue=propValue=>({gap:(0,spacing._W)(transformer,propValue)});return(0,breakpoints.NI)(props,props.gap,styleFromPropValue)}return null};gap.propTypes={},gap.filterProps=["gap"];const columnGap=props=>{if(void 0!==props.columnGap&&null!==props.columnGap){const transformer=(0,spacing.MA)(props.theme,"spacing",8,"columnGap"),styleFromPropValue=propValue=>({columnGap:(0,spacing._W)(transformer,propValue)});return(0,breakpoints.NI)(props,props.columnGap,styleFromPropValue)}return null};columnGap.propTypes={},columnGap.filterProps=["columnGap"];const rowGap=props=>{if(void 0!==props.rowGap&&null!==props.rowGap){const transformer=(0,spacing.MA)(props.theme,"spacing",8,"rowGap"),styleFromPropValue=propValue=>({rowGap:(0,spacing._W)(transformer,propValue)});return(0,breakpoints.NI)(props,props.rowGap,styleFromPropValue)}return null};rowGap.propTypes={},rowGap.filterProps=["rowGap"];esm_compose(gap,columnGap,rowGap,(0,style.Ay)({prop:"gridColumn"}),(0,style.Ay)({prop:"gridRow"}),(0,style.Ay)({prop:"gridAutoFlow"}),(0,style.Ay)({prop:"gridAutoColumns"}),(0,style.Ay)({prop:"gridAutoRows"}),(0,style.Ay)({prop:"gridTemplateColumns"}),(0,style.Ay)({prop:"gridTemplateRows"}),(0,style.Ay)({prop:"gridTemplateAreas"}),(0,style.Ay)({prop:"gridArea"}));function paletteTransform(value,userValue){return"grey"===userValue?userValue:value}esm_compose((0,style.Ay)({prop:"color",themeKey:"palette",transform:paletteTransform}),(0,style.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),(0,style.Ay)({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform}));function sizingTransform(value){return value<=1&&0!==value?100*value+"%":value}const width=(0,style.Ay)({prop:"width",transform:sizingTransform}),maxWidth=props=>{if(void 0!==props.maxWidth&&null!==props.maxWidth){const styleFromPropValue=propValue=>{var _props$theme,_props$theme2;const breakpoint=(null==(_props$theme=props.theme)||null==(_props$theme=_props$theme.breakpoints)||null==(_props$theme=_props$theme.values)?void 0:_props$theme[propValue])||breakpoints.zu[propValue];return breakpoint?"px"!==(null==(_props$theme2=props.theme)||null==(_props$theme2=_props$theme2.breakpoints)?void 0:_props$theme2.unit)?{maxWidth:`${breakpoint}${props.theme.breakpoints.unit}`}:{maxWidth:breakpoint}:{maxWidth:sizingTransform(propValue)}};return(0,breakpoints.NI)(props,props.maxWidth,styleFromPropValue)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=(0,style.Ay)({prop:"minWidth",transform:sizingTransform}),height=(0,style.Ay)({prop:"height",transform:sizingTransform}),maxHeight=(0,style.Ay)({prop:"maxHeight",transform:sizingTransform}),minHeight=(0,style.Ay)({prop:"minHeight",transform:sizingTransform}),styleFunctionSx_defaultSxConfig=((0,style.Ay)({prop:"size",cssProperty:"width",transform:sizingTransform}),(0,style.Ay)({prop:"size",cssProperty:"height",transform:sizingTransform}),esm_compose(width,maxWidth,minWidth,height,maxHeight,minHeight,(0,style.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:spacing.Ms},pt:{style:spacing.Ms},pr:{style:spacing.Ms},pb:{style:spacing.Ms},pl:{style:spacing.Ms},px:{style:spacing.Ms},py:{style:spacing.Ms},padding:{style:spacing.Ms},paddingTop:{style:spacing.Ms},paddingRight:{style:spacing.Ms},paddingBottom:{style:spacing.Ms},paddingLeft:{style:spacing.Ms},paddingX:{style:spacing.Ms},paddingY:{style:spacing.Ms},paddingInline:{style:spacing.Ms},paddingInlineStart:{style:spacing.Ms},paddingInlineEnd:{style:spacing.Ms},paddingBlock:{style:spacing.Ms},paddingBlockStart:{style:spacing.Ms},paddingBlockEnd:{style:spacing.Ms},m:{style:spacing.Lc},mt:{style:spacing.Lc},mr:{style:spacing.Lc},mb:{style:spacing.Lc},ml:{style:spacing.Lc},mx:{style:spacing.Lc},my:{style:spacing.Lc},margin:{style:spacing.Lc},marginTop:{style:spacing.Lc},marginRight:{style:spacing.Lc},marginBottom:{style:spacing.Lc},marginLeft:{style:spacing.Lc},marginX:{style:spacing.Lc},marginY:{style:spacing.Lc},marginInline:{style:spacing.Lc},marginInlineStart:{style:spacing.Lc},marginInlineEnd:{style:spacing.Lc},marginBlock:{style:spacing.Lc},marginBlockStart:{style:spacing.Lc},marginBlockEnd:{style:spacing.Lc},displayPrint:{cssProperty:!1,transform:value=>({"@media print":{display:value}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},94298:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var DESCRIPTORS=__webpack_require__(39447),fails=__webpack_require__(98828),uncurryThis=__webpack_require__(1907),objectGetPrototypeOf=__webpack_require__(15972),objectKeys=__webpack_require__(2875),toIndexedObject=__webpack_require__(27374),propertyIsEnumerable=uncurryThis(__webpack_require__(22574).f),push=uncurryThis([].push),IE_BUG=DESCRIPTORS&&fails(function(){var O=Object.create(null);return O[2]=2,!propertyIsEnumerable(O,2)}),createMethod=function(TO_ENTRIES){return function(it){for(var key,O=toIndexedObject(it),keys=objectKeys(O),IE_WORKAROUND=IE_BUG&&null===objectGetPrototypeOf(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS&&!(IE_WORKAROUND?key in O:propertyIsEnumerable(O,key))||push(result,TO_ENTRIES?[key,O[key]]:O[key]);return result}};module.exports={entries:createMethod(!0),values:createMethod(!1)}},94420:module=>{"use strict";module.exports=function(exec){try{return{error:!1,value:exec()}}catch(error){return{error:!0,value:error}}}},94452:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(23674),__webpack_require__(13313),__webpack_require__(10751),__webpack_require__(49721),__webpack_require__(55264)},94634:module=>{function _extends(){return module.exports=_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},module.exports.__esModule=!0,module.exports.default=module.exports,_extends.apply(null,arguments)}module.exports=_extends,module.exports.__esModule=!0,module.exports.default=module.exports},94668:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(6290);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","find")},94776:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(94452);var path=__webpack_require__(92046);module.exports=path.Object.getOwnPropertySymbols},94783:()=>{},94826:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(308),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.every;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.every?method:own}},94972:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(27777);module.exports=parent},95029:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(84923),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.splice;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.splice?method:own}},95092:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(87052);var Object=__webpack_require__(92046).Object,getOwnPropertyDescriptor=module.exports=function getOwnPropertyDescriptor(it,key){return Object.getOwnPropertyDescriptor(it,key)};Object.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor.sham=!0)},95116:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,fails=__webpack_require__(98828),isCallable=__webpack_require__(62250),isObject=__webpack_require__(46285),create=__webpack_require__(58075),getPrototypeOf=__webpack_require__(15972),defineBuiltIn=__webpack_require__(68055),wellKnownSymbol=__webpack_require__(76264),IS_PURE=__webpack_require__(7376),ITERATOR=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),!isObject(IteratorPrototype)||fails(function(){var test={};return IteratorPrototype[ITERATOR].call(test)!==test})?IteratorPrototype={}:IS_PURE&&(IteratorPrototype=create(IteratorPrototype)),isCallable(IteratorPrototype[ITERATOR])||defineBuiltIn(IteratorPrototype,ITERATOR,function(){return this}),module.exports={IteratorPrototype,BUGGY_SAFARI_ITERATORS}},95362:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),$Date=Date,thisTimeValue=uncurryThis($Date.prototype.getTime);$({target:"Date",stat:!0},{now:function now(){return thisTimeValue(new $Date)}})},95395:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),$values=__webpack_require__(94298).values;$({target:"Object",stat:!0},{values:function values(O){return $values(O)}})},95650:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),forEach=__webpack_require__(22914);$({target:"Array",proto:!0,forced:[].forEach!==forEach},{forEach})},95819:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var PROPER_FUNCTION_NAME=__webpack_require__(36833).PROPER,fails=__webpack_require__(98828),whitespaces=__webpack_require__(86395);module.exports=function(METHOD_NAME){return fails(function(){return!!whitespaces[METHOD_NAME]()||""!==""[METHOD_NAME]()||PROPER_FUNCTION_NAME&&whitespaces[METHOD_NAME].name!==METHOD_NAME})}},96248:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(32325).A},96275:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(58545);var getBuiltInPrototypeMethod=__webpack_require__(61747);module.exports=getBuiltInPrototypeMethod("Array","concat")},96319:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(22616)},96540:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__(15287)},96656:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var uncurryThis=__webpack_require__(1907),isArray=__webpack_require__(11793),isCallable=__webpack_require__(62250),classof=__webpack_require__(45807),toString=__webpack_require__(90160),push=uncurryThis([].push);module.exports=function(replacer){if(isCallable(replacer))return replacer;if(isArray(replacer)){for(var rawLength=replacer.length,keys=[],i=0;i<rawLength;i++){var element=replacer[i];"string"==typeof element?push(keys,element):"number"!=typeof element&&"Number"!==classof(element)&&"String"!==classof(element)||push(keys,toString(element))}var keysLength=keys.length,root=!0;return function(key,value){if(root)return root=!1,value;if(isArray(this))return value;for(var j=0;j<keysLength;j++)if(keys[j]===key)return value}}}},96794:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var navigator=__webpack_require__(45951).navigator,userAgent=navigator&&navigator.userAgent;module.exports=userAgent?String(userAgent):""},96796:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(12560);var classof=__webpack_require__(73948),hasOwn=__webpack_require__(49724),isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(22392),ArrayPrototype=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0};module.exports=function(it){var own=it.entries;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.entries||hasOwn(DOMIterables,classof(it))?method:own}},96835:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var $=__webpack_require__(11091),uncurryThis=__webpack_require__(1907),aCallable=__webpack_require__(82159),requireObjectCoercible=__webpack_require__(74239),iterate=__webpack_require__(24823),MapHelpers=__webpack_require__(15703),IS_PURE=__webpack_require__(7376),fails=__webpack_require__(98828),Map=MapHelpers.Map,has=MapHelpers.has,get=MapHelpers.get,set=MapHelpers.set,push=uncurryThis([].push),DOES_NOT_WORK_WITH_PRIMITIVES=IS_PURE||fails(function(){return 1!==Map.groupBy("ab",function(it){return it}).get("a").length});$({target:"Map",stat:!0,forced:IS_PURE||DOES_NOT_WORK_WITH_PRIMITIVES},{groupBy:function groupBy(items,callbackfn){requireObjectCoercible(items),aCallable(callbackfn);var map=new Map,k=0;return iterate(items,function(value){var key=callbackfn(value,k++);has(map,key)?push(get(map,key),value):set(map,key,[value])}),map}})},96852:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__(31523).A},96984:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__(49792)},97027:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(64502),__webpack_require__(99363),__webpack_require__(86024),__webpack_require__(65931),__webpack_require__(57450),__webpack_require__(36415),__webpack_require__(37380),__webpack_require__(25823),__webpack_require__(47714),__webpack_require__(7057);var path=__webpack_require__(92046);module.exports=path.Promise},97825:module=>{"use strict";module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},98059:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isPrototypeOf=__webpack_require__(88280),method=__webpack_require__(66429),ArrayPrototype=Array.prototype;module.exports=function(it){var own=it.reverse;return it===ArrayPrototype||isPrototypeOf(ArrayPrototype,it)&&own===ArrayPrototype.reverse?method:own}},98537:()=>{},98587:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}__webpack_require__.d(__webpack_exports__,{A:()=>_objectWithoutPropertiesLoose})},98828:module=>{"use strict";module.exports=function(exec){try{return!!exec()}catch(error){return!0}}},98894:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(39299);module.exports=parent},98984:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireDefault=__webpack_require__(24994);exports.A=void 0;var _createSvgIcon=_interopRequireDefault(__webpack_require__(42032)),_jsxRuntime=__webpack_require__(74848);exports.A=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},99029:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(68690);module.exports=parent},99363:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var toIndexedObject=__webpack_require__(27374),addToUnscopables=__webpack_require__(42156),Iterators=__webpack_require__(93742),InternalStateModule=__webpack_require__(64932),defineProperty=__webpack_require__(74284).f,defineIterator=__webpack_require__(60183),createIterResultObject=__webpack_require__(59550),IS_PURE=__webpack_require__(7376),DESCRIPTORS=__webpack_require__(39447),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind})},function(){var state=getInternalState(this),target=state.target,index=state.index++;if(!target||index>=target.length)return state.target=null,createIterResultObject(void 0,!0);switch(state.kind){case"keys":return createIterResultObject(index,!1);case"values":return createIterResultObject(target[index],!1)}return createIterResultObject([index,target[index]],!1)},"values");var values=Iterators.Arguments=Iterators.Array;if(addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries"),!IS_PURE&&DESCRIPTORS&&"values"!==values.name)try{defineProperty(values,"name",{value:"values"})}catch(error){}},99617:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var parent=__webpack_require__(63246);module.exports=parent},99968:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__(99363),__webpack_require__(14676),__webpack_require__(96835),__webpack_require__(86024),__webpack_require__(7057);var path=__webpack_require__(92046);module.exports=path.Map}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __webpack_require__.d(getter,{a:getter}),getter},getProto=Object.getPrototypeOf?obj=>Object.getPrototypeOf(obj):obj=>obj.__proto__,__webpack_require__.t=function(value,mode){if(1&mode&&(value=this(value)),8&mode)return value;if("object"==typeof value&&value){if(4&mode&&value.__esModule)return value;if(16&mode&&"function"==typeof value.then)return value}var ns=Object.create(null);__webpack_require__.r(ns);var def={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var current=2&mode&&value;("object"==typeof current||"function"==typeof current)&&!~leafPrototypes.indexOf(current);current=getProto(current))Object.getOwnPropertyNames(current).forEach(key=>def[key]=()=>value[key]);return def.default=()=>value,__webpack_require__.d(ns,def),ns},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.nc=void 0,(()=>{"use strict";var promise=__webpack_require__(87166);function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):promise.resolve(u).then(r,o)}function asyncToGenerator_asyncToGenerator(n){return function(){var t=this,e=arguments;return new promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}var object_assign=__webpack_require__(85401),bind=__webpack_require__(53375);function extends_extends(){var _context;return extends_extends=object_assign?bind(_context=object_assign).call(_context):function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},extends_extends.apply(null,arguments)}var get_own_property_symbols=__webpack_require__(90913),index_of=__webpack_require__(66890);function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function objectWithoutPropertiesLoose_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==index_of(e).call(e,n))continue;t[n]=r[n]}return t}(e,t);if(get_own_property_symbols){var n=get_own_property_symbols(e);for(r=0;r<n.length;r++)o=n[r],-1===index_of(t).call(t,o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var regenerator=__webpack_require__(44828),regenerator_default=__webpack_require__.n(regenerator),set_timeout=__webpack_require__(56255),set_timeout_default=__webpack_require__.n(set_timeout),trim=__webpack_require__(11265),trim_default=__webpack_require__.n(trim),some=__webpack_require__(31721),some_default=__webpack_require__.n(some),keys=__webpack_require__(50697),keys_default=__webpack_require__.n(keys),find=__webpack_require__(71426),find_default=__webpack_require__.n(find),concat=__webpack_require__(11393),concat_default=__webpack_require__.n(concat),react=(__webpack_require__(7452),__webpack_require__(96540)),react_namespaceObject=__webpack_require__.t(react,2),react_dom=__webpack_require__(40961);function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _inheritsLoose(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,_setPrototypeOf(t,o)}var prop_types=__webpack_require__(5556),prop_types_default=__webpack_require__.n(prop_types),esm_extends=__webpack_require__(58168);function isAbsolute(pathname){return"/"===pathname.charAt(0)}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()}const resolve_pathname=function resolvePathname(to,from){void 0===from&&(from="");var hasTrailingSlash,toParts=to&&to.split("/")||[],fromParts=from&&from.split("/")||[],isToAbs=to&&isAbsolute(to),isFromAbs=from&&isAbsolute(from),mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)?fromParts=toParts:toParts.length&&(fromParts.pop(),fromParts=fromParts.concat(toParts)),!fromParts.length)return"/";if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash="."===last||".."===last||""===last}else hasTrailingSlash=!1;for(var up=0,i=fromParts.length;i>=0;i--){var part=fromParts[i];"."===part?spliceOne(fromParts,i):".."===part?(spliceOne(fromParts,i),up++):up&&(spliceOne(fromParts,i),up--)}if(!mustEndAbs)for(;up--;up)fromParts.unshift("..");!mustEndAbs||""===fromParts[0]||fromParts[0]&&isAbsolute(fromParts[0])||fromParts.unshift("");var result=fromParts.join("/");return hasTrailingSlash&&"/"!==result.substr(-1)&&(result+="/"),result};function value_equal_valueOf(obj){return obj.valueOf?obj.valueOf():Object.prototype.valueOf.call(obj)}const value_equal=function valueEqual(a,b){if(a===b)return!0;if(null==a||null==b)return!1;if(Array.isArray(a))return Array.isArray(b)&&a.length===b.length&&a.every(function(item,index){return valueEqual(item,b[index])});if("object"==typeof a||"object"==typeof b){var aValue=value_equal_valueOf(a),bValue=value_equal_valueOf(b);return aValue!==a||bValue!==b?valueEqual(aValue,bValue):Object.keys(Object.assign({},a,b)).every(function(key){return valueEqual(a[key],b[key])})}return!1};function tiny_invariant_invariant(condition,message){if(!condition)throw new Error("Invariant failed")}function addLeadingSlash(path){return"/"===path.charAt(0)?path:"/"+path}function stripLeadingSlash(path){return"/"===path.charAt(0)?path.substr(1):path}function stripBasename(path,prefix){return function hasBasename(path,prefix){return 0===path.toLowerCase().indexOf(prefix.toLowerCase())&&-1!=="/?#".indexOf(path.charAt(prefix.length))}(path,prefix)?path.substr(prefix.length):path}function stripTrailingSlash(path){return"/"===path.charAt(path.length-1)?path.slice(0,-1):path}function createPath(location){var pathname=location.pathname,search=location.search,hash=location.hash,path=pathname||"/";return search&&"?"!==search&&(path+="?"===search.charAt(0)?search:"?"+search),hash&&"#"!==hash&&(path+="#"===hash.charAt(0)?hash:"#"+hash),path}function createLocation(path,state,key,currentLocation){var location;"string"==typeof path?(location=function parsePath(path){var pathname=path||"/",search="",hash="",hashIndex=pathname.indexOf("#");-1!==hashIndex&&(hash=pathname.substr(hashIndex),pathname=pathname.substr(0,hashIndex));var searchIndex=pathname.indexOf("?");return-1!==searchIndex&&(search=pathname.substr(searchIndex),pathname=pathname.substr(0,searchIndex)),{pathname,search:"?"===search?"":search,hash:"#"===hash?"":hash}}(path),location.state=state):(void 0===(location=(0,esm_extends.A)({},path)).pathname&&(location.pathname=""),location.search?"?"!==location.search.charAt(0)&&(location.search="?"+location.search):location.search="",location.hash?"#"!==location.hash.charAt(0)&&(location.hash="#"+location.hash):location.hash="",void 0!==state&&void 0===location.state&&(location.state=state));try{location.pathname=decodeURI(location.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+location.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return key&&(location.key=key),currentLocation?location.pathname?"/"!==location.pathname.charAt(0)&&(location.pathname=resolve_pathname(location.pathname,currentLocation.pathname)):location.pathname=currentLocation.pathname:location.pathname||(location.pathname="/"),location}function createTransitionManager(){var prompt=null;var listeners=[];return{setPrompt:function setPrompt(nextPrompt){return prompt=nextPrompt,function(){prompt===nextPrompt&&(prompt=null)}},confirmTransitionTo:function confirmTransitionTo(location,action,getUserConfirmation,callback){if(null!=prompt){var result="function"==typeof prompt?prompt(location,action):prompt;"string"==typeof result?"function"==typeof getUserConfirmation?getUserConfirmation(result,callback):callback(!0):callback(!1!==result)}else callback(!0)},appendListener:function appendListener(fn){var isActive=!0;function listener(){isActive&&fn.apply(void 0,arguments)}return listeners.push(listener),function(){isActive=!1,listeners=listeners.filter(function(item){return item!==listener})}},notifyListeners:function notifyListeners(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];listeners.forEach(function(listener){return listener.apply(void 0,args)})}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(message,callback){callback(window.confirm(message))}function getHistoryState(){try{return window.history.state||{}}catch(e){return{}}}function createBrowserHistory(props){void 0===props&&(props={}),canUseDOM||tiny_invariant_invariant(!1);var globalHistory=window.history,canUseHistory=function supportsHistory(){var ua=window.navigator.userAgent;return(-1===ua.indexOf("Android 2.")&&-1===ua.indexOf("Android 4.0")||-1===ua.indexOf("Mobile Safari")||-1!==ua.indexOf("Chrome")||-1!==ua.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),needsHashChangeListener=!function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}(),_props=props,_props$forceRefresh=_props.forceRefresh,forceRefresh=void 0!==_props$forceRefresh&&_props$forceRefresh,_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=void 0===_props$getUserConfirm?getConfirmation:_props$getUserConfirm,_props$keyLength=_props.keyLength,keyLength=void 0===_props$keyLength?6:_props$keyLength,basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";function getDOMLocation(historyState){var _ref=historyState||{},key=_ref.key,state=_ref.state,_window$location=window.location,path=_window$location.pathname+_window$location.search+_window$location.hash;return basename&&(path=stripBasename(path,basename)),createLocation(path,state,key)}function createKey(){return Math.random().toString(36).substr(2,keyLength)}var transitionManager=createTransitionManager();function setState(nextState){(0,esm_extends.A)(history,nextState),history.length=globalHistory.length,transitionManager.notifyListeners(history.location,history.action)}function handlePopState(event){(function isExtraneousPopstateEvent(event){return void 0===event.state&&-1===navigator.userAgent.indexOf("CriOS")})(event)||handlePop(getDOMLocation(event.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var forceNextPop=!1;function handlePop(location){if(forceNextPop)forceNextPop=!1,setState();else{transitionManager.confirmTransitionTo(location,"POP",getUserConfirmation,function(ok){ok?setState({action:"POP",location}):function revertPop(fromLocation){var toLocation=history.location,toIndex=allKeys.indexOf(toLocation.key);-1===toIndex&&(toIndex=0);var fromIndex=allKeys.indexOf(fromLocation.key);-1===fromIndex&&(fromIndex=0);var delta=toIndex-fromIndex;delta&&(forceNextPop=!0,go(delta))}(location)})}}var initialLocation=getDOMLocation(getHistoryState()),allKeys=[initialLocation.key];function createHref(location){return basename+createPath(location)}function go(n){globalHistory.go(n)}var listenerCount=0;function checkDOMListeners(delta){1===(listenerCount+=delta)&&1===delta?(window.addEventListener("popstate",handlePopState),needsHashChangeListener&&window.addEventListener("hashchange",handleHashChange)):0===listenerCount&&(window.removeEventListener("popstate",handlePopState),needsHashChangeListener&&window.removeEventListener("hashchange",handleHashChange))}var isBlocked=!1;var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref,push:function push(path,state){var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,function(ok){if(ok){var href=createHref(location),key=location.key,state=location.state;if(canUseHistory)if(globalHistory.pushState({key,state},null,href),forceRefresh)window.location.href=href;else{var prevIndex=allKeys.indexOf(history.location.key),nextKeys=allKeys.slice(0,prevIndex+1);nextKeys.push(location.key),allKeys=nextKeys,setState({action:"PUSH",location})}else window.location.href=href}})},replace:function replace(path,state){var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,function(ok){if(ok){var href=createHref(location),key=location.key,state=location.state;if(canUseHistory)if(globalHistory.replaceState({key,state},null,href),forceRefresh)window.location.replace(href);else{var prevIndex=allKeys.indexOf(history.location.key);-1!==prevIndex&&(allKeys[prevIndex]=location.key),setState({action:"REPLACE",location})}else window.location.replace(href)}})},go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(prompt){void 0===prompt&&(prompt=!1);var unblock=transitionManager.setPrompt(prompt);return isBlocked||(checkDOMListeners(1),isBlocked=!0),function(){return isBlocked&&(isBlocked=!1,checkDOMListeners(-1)),unblock()}},listen:function listen(listener){var unlisten=transitionManager.appendListener(listener);return checkDOMListeners(1),function(){checkDOMListeners(-1),unlisten()}}};return history}var HashPathCoders={hashbang:{encodePath:function encodePath(path){return"!"===path.charAt(0)?path:"!/"+stripLeadingSlash(path)},decodePath:function decodePath(path){return"!"===path.charAt(0)?path.substr(1):path}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(url){var hashIndex=url.indexOf("#");return-1===hashIndex?url:url.slice(0,hashIndex)}function getHashPath(){var href=window.location.href,hashIndex=href.indexOf("#");return-1===hashIndex?"":href.substring(hashIndex+1)}function replaceHashPath(path){window.location.replace(stripHash(window.location.href)+"#"+path)}function createHashHistory(props){void 0===props&&{},canUseDOM||tiny_invariant_invariant(!1);var globalHistory=window.history,_props=(function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}(),props),_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=void 0===_props$getUserConfirm?getConfirmation:_props$getUserConfirm,_props$hashType=_props.hashType,hashType=void 0===_props$hashType?"slash":_props$hashType,basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"",_HashPathCoders$hashT=HashPathCoders[hashType],encodePath=_HashPathCoders$hashT.encodePath,decodePath=_HashPathCoders$hashT.decodePath;function getDOMLocation(){var path=decodePath(getHashPath());return basename&&stripBasename(path,basename),createLocation(path)}var transitionManager=createTransitionManager();function setState(nextState){(0,esm_extends.A)(history,nextState),history.length=globalHistory.length,transitionManager.notifyListeners(history.location,history.action)}var forceNextPop=!1,ignorePath=null;function handleHashChange(){var path=getHashPath(),encodedPath=encodePath(path);if(path!==encodedPath)replaceHashPath(encodedPath);else{var location=getDOMLocation(),prevLocation=history.location;if(!forceNextPop&&function locationsAreEqual$$1(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash}(prevLocation,location))return;if(ignorePath===createPath(location))return;(function handlePop(location){if(forceNextPop)setState();else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){ok?setState({action,location}):function revertPop(fromLocation){var toLocation=history.location,toIndex=allPaths.lastIndexOf(createPath(toLocation));-1===toIndex&&0;var fromIndex=allPaths.lastIndexOf(createPath(fromLocation));-1===fromIndex&&0;var delta=toIndex-fromIndex;delta&&go(delta)}(location)})}})(location)}}var path=getHashPath(),encodedPath=encodePath(path);path!==encodedPath&&replaceHashPath(encodedPath);var initialLocation=getDOMLocation(),allPaths=[createPath(initialLocation)];function go(n){globalHistory.go(n)}var listenerCount=0;function checkDOMListeners(delta){1===(listenerCount+=delta)&&1===delta?window.addEventListener("hashchange",handleHashChange):0===listenerCount&&window.removeEventListener("hashchange",handleHashChange)}var isBlocked=!1;var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref:function createHref(location){var baseTag=document.querySelector("base"),href="";return baseTag&&baseTag.getAttribute("href")&&stripHash(window.location.href),href+"#"+encodePath(basename+createPath(location))},push:function push(path,state){var location=createLocation(path,void 0,void 0,history.location);transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,function(ok){if(ok){var path=createPath(location),encodedPath=encodePath(basename+path);if(getHashPath()!==encodedPath){(function pushHashPath(path){window.location.hash=path})(encodedPath);var prevIndex=allPaths.lastIndexOf(createPath(history.location)),nextPaths=allPaths.slice(0,prevIndex+1);nextPaths.push(path),setState({action:"PUSH",location})}else setState()}})},replace:function replace(path,state){var location=createLocation(path,void 0,void 0,history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,function(ok){if(ok){var path=createPath(location),encodedPath=encodePath(basename+path);getHashPath()!==encodedPath&&replaceHashPath(encodedPath);var prevIndex=allPaths.indexOf(createPath(history.location));-1!==prevIndex&&(allPaths[prevIndex]=path),setState({action:"REPLACE",location})}})},go,goBack:function goBack(){go(-1)},goForward:function goForward(){go(1)},block:function block(prompt){void 0===prompt&&!1;var unblock=transitionManager.setPrompt(prompt);return isBlocked||(checkDOMListeners(1),!0),function(){return isBlocked&&checkDOMListeners(-1),unblock()}},listen:function listen(listener){var unlisten=transitionManager.appendListener(listener);return checkDOMListeners(1),function(){checkDOMListeners(-1),unlisten()}}};return history}function clamp(n,lowerBound,upperBound){return Math.min(Math.max(n,lowerBound),upperBound)}var path_to_regexp=__webpack_require__(8505),path_to_regexp_default=__webpack_require__.n(path_to_regexp),objectWithoutPropertiesLoose=(__webpack_require__(44363),__webpack_require__(98587)),commonjsGlobal=(__webpack_require__(4146),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{});var createContext=react.createContext||function createReactContext(defaultValue,calculateChangedBits){var _Provider$childContex,_Consumer$contextType,contextProp="__create-react-context-"+function getUniqueId(){var key="__global_unique_id__";return commonjsGlobal[key]=(commonjsGlobal[key]||0)+1}()+"__",Provider=function(_React$Component){function Provider(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).emitter=function createEventEmitter(value){var handlers=[];return{on:function on(handler){handlers.push(handler)},off:function off(handler){handlers=handlers.filter(function(h){return h!==handler})},get:function get(){return value},set:function set(newValue,changedBits){value=newValue,handlers.forEach(function(handler){return handler(value,changedBits)})}}}(_this.props.value),_this}_inheritsLoose(Provider,_React$Component);var _proto=Provider.prototype;return _proto.getChildContext=function getChildContext(){var _ref;return(_ref={})[contextProp]=this.emitter,_ref},_proto.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(this.props.value!==nextProps.value){var changedBits,oldValue=this.props.value,newValue=nextProps.value;!function objectIs(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}(oldValue,newValue)?(changedBits="function"==typeof calculateChangedBits?calculateChangedBits(oldValue,newValue):1073741823,0!==(changedBits|=0)&&this.emitter.set(nextProps.value,changedBits)):changedBits=0}},_proto.render=function render(){return this.props.children},Provider}(react.Component);Provider.childContextTypes=((_Provider$childContex={})[contextProp]=prop_types_default().object.isRequired,_Provider$childContex);var Consumer=function(_React$Component2){function Consumer(){for(var _this2,_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this2=_React$Component2.call.apply(_React$Component2,[this].concat(args))||this).observedBits=void 0,_this2.state={value:_this2.getValue()},_this2.onUpdate=function(newValue,changedBits){0!==((0|_this2.observedBits)&changedBits)&&_this2.setState({value:_this2.getValue()})},_this2}_inheritsLoose(Consumer,_React$Component2);var _proto2=Consumer.prototype;return _proto2.componentWillReceiveProps=function componentWillReceiveProps(nextProps){var observedBits=nextProps.observedBits;this.observedBits=null==observedBits?1073741823:observedBits},_proto2.componentDidMount=function componentDidMount(){this.context[contextProp]&&this.context[contextProp].on(this.onUpdate);var observedBits=this.props.observedBits;this.observedBits=null==observedBits?1073741823:observedBits},_proto2.componentWillUnmount=function componentWillUnmount(){this.context[contextProp]&&this.context[contextProp].off(this.onUpdate)},_proto2.getValue=function getValue(){return this.context[contextProp]?this.context[contextProp].get():defaultValue},_proto2.render=function render(){return function onlyChild(children){return Array.isArray(children)?children[0]:children}(this.props.children)(this.state.value)},Consumer}(react.Component);return Consumer.contextTypes=((_Consumer$contextType={})[contextProp]=prop_types_default().object,_Consumer$contextType),{Provider,Consumer}},createNamedContext=function createNamedContext(name){var context=createContext();return context.displayName=name,context},historyContext=createNamedContext("Router-History"),context=createNamedContext("Router"),Router=function(_React$Component){function Router(props){var _this;return(_this=_React$Component.call(this,props)||this).state={location:props.history.location},_this._isMounted=!1,_this._pendingLocation=null,props.staticContext||(_this.unlisten=props.history.listen(function(location){_this._pendingLocation=location})),_this}_inheritsLoose(Router,_React$Component),Router.computeRootMatch=function computeRootMatch(pathname){return{path:"/",url:"/",params:{},isExact:"/"===pathname}};var _proto=Router.prototype;return _proto.componentDidMount=function componentDidMount(){var _this2=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(location){_this2._isMounted&&_this2.setState({location})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},_proto.componentWillUnmount=function componentWillUnmount(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},_proto.render=function render(){return react.createElement(context.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},react.createElement(historyContext.Provider,{children:this.props.children||null,value:this.props.history}))},Router}(react.Component);react.Component;var Lifecycle=function(_React$Component){function Lifecycle(){return _React$Component.apply(this,arguments)||this}_inheritsLoose(Lifecycle,_React$Component);var _proto=Lifecycle.prototype;return _proto.componentDidMount=function componentDidMount(){this.props.onMount&&this.props.onMount.call(this,this)},_proto.componentDidUpdate=function componentDidUpdate(prevProps){this.props.onUpdate&&this.props.onUpdate.call(this,this,prevProps)},_proto.componentWillUnmount=function componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},_proto.render=function render(){return null},Lifecycle}(react.Component);var cache={},cacheCount=0;function generatePath(path,params){return void 0===path&&(path="/"),void 0===params&&(params={}),"/"===path?path:function compilePath(path){if(cache[path])return cache[path];var generator=path_to_regexp_default().compile(path);return cacheCount<1e4&&(cache[path]=generator,cacheCount++),generator}(path)(params,{pretty:!0})}function Redirect(_ref){var computedMatch=_ref.computedMatch,to=_ref.to,_ref$push=_ref.push,push=void 0!==_ref$push&&_ref$push;return react.createElement(context.Consumer,null,function(context){context||tiny_invariant_invariant(!1);var history=context.history,staticContext=context.staticContext,method=push?history.push:history.replace,location=createLocation(computedMatch?"string"==typeof to?generatePath(to,computedMatch.params):(0,esm_extends.A)({},to,{pathname:generatePath(to.pathname,computedMatch.params)}):to);return staticContext?(method(location),null):react.createElement(Lifecycle,{onMount:function onMount(){method(location)},onUpdate:function onUpdate(self,prevProps){var prevLocation=createLocation(prevProps.to);(function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&value_equal(a.state,b.state)})(prevLocation,(0,esm_extends.A)({},location,{key:prevLocation.key}))||method(location)},to})})}var cache$1={},cacheCount$1=0;function matchPath(pathname,options){void 0===options&&(options={}),("string"==typeof options||Array.isArray(options))&&(options={path:options});var _options=options,path=_options.path,_options$exact=_options.exact,exact=void 0!==_options$exact&&_options$exact,_options$strict=_options.strict,strict=void 0!==_options$strict&&_options$strict,_options$sensitive=_options.sensitive,sensitive=void 0!==_options$sensitive&&_options$sensitive;return[].concat(path).reduce(function(matched,path){if(!path&&""!==path)return null;if(matched)return matched;var _compilePath=function compilePath$1(path,options){var cacheKey=""+options.end+options.strict+options.sensitive,pathCache=cache$1[cacheKey]||(cache$1[cacheKey]={});if(pathCache[path])return pathCache[path];var keys=[],result={regexp:path_to_regexp_default()(path,keys,options),keys};return cacheCount$1<1e4&&(pathCache[path]=result,cacheCount$1++),result}(path,{end:exact,strict,sensitive}),regexp=_compilePath.regexp,keys=_compilePath.keys,match=regexp.exec(pathname);if(!match)return null;var url=match[0],values=match.slice(1),isExact=pathname===url;return exact&&!isExact?null:{path,url:"/"===path&&""===url?"/":url,isExact,params:keys.reduce(function(memo,key,index){return memo[key.name]=values[index],memo},{})}},null)}var Route=function(_React$Component){function Route(){return _React$Component.apply(this,arguments)||this}return _inheritsLoose(Route,_React$Component),Route.prototype.render=function render(){var _this=this;return react.createElement(context.Consumer,null,function(context$1){context$1||tiny_invariant_invariant(!1);var location=_this.props.location||context$1.location,match=_this.props.computedMatch?_this.props.computedMatch:_this.props.path?matchPath(location.pathname,_this.props):context$1.match,props=(0,esm_extends.A)({},context$1,{location,match}),_this$props=_this.props,children=_this$props.children,component=_this$props.component,render=_this$props.render;return Array.isArray(children)&&function isEmptyChildren(children){return 0===react.Children.count(children)}(children)&&(children=null),react.createElement(context.Provider,{value:props},props.match?children?"function"==typeof children?children(props):children:component?react.createElement(component,props):render?render(props):null:"function"==typeof children?children(props):null)})},Route}(react.Component);function react_router_addLeadingSlash(path){return"/"===path.charAt(0)?path:"/"+path}function react_router_stripBasename(basename,location){if(!basename)return location;var base=react_router_addLeadingSlash(basename);return 0!==location.pathname.indexOf(base)?location:(0,esm_extends.A)({},location,{pathname:location.pathname.substr(base.length)})}function createURL(location){return"string"==typeof location?location:createPath(location)}function staticHandler(methodName){return function(){tiny_invariant_invariant(!1)}}function noop(){}react.Component;var Switch=function(_React$Component){function Switch(){return _React$Component.apply(this,arguments)||this}return _inheritsLoose(Switch,_React$Component),Switch.prototype.render=function render(){var _this=this;return react.createElement(context.Consumer,null,function(context){context||tiny_invariant_invariant(!1);var element,match,location=_this.props.location||context.location;return react.Children.forEach(_this.props.children,function(child){if(null==match&&react.isValidElement(child)){element=child;var path=child.props.path||child.props.from;match=path?matchPath(location.pathname,(0,esm_extends.A)({},child.props,{path})):context.match}}),match?react.cloneElement(element,{location,computedMatch:match}):null})},Switch}(react.Component);var react_router_useContext=react.useContext;function react_router_useHistory(){return react_router_useContext(historyContext)}function useLocation(){return react_router_useContext(context).location}function react_router_useParams(){var match=react_router_useContext(context).match;return match?match.params:{}}var BrowserRouter=function(_React$Component){function BrowserRouter(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).history=createBrowserHistory(_this.props),_this}return _inheritsLoose(BrowserRouter,_React$Component),BrowserRouter.prototype.render=function render(){return react.createElement(Router,{history:this.history,children:this.props.children})},BrowserRouter}(react.Component);react.Component;var resolveToLocation=function resolveToLocation(to,currentLocation){return"function"==typeof to?to(currentLocation):to},normalizeToLocation=function normalizeToLocation(to,currentLocation){return"string"==typeof to?createLocation(to,null,null,currentLocation):to},forwardRefShim=function forwardRefShim(C){return C},forwardRef=react.forwardRef;void 0===forwardRef&&(forwardRef=forwardRefShim);var LinkAnchor=forwardRef(function(_ref,forwardedRef){var innerRef=_ref.innerRef,navigate=_ref.navigate,_onClick=_ref.onClick,rest=(0,objectWithoutPropertiesLoose.A)(_ref,["innerRef","navigate","onClick"]),target=rest.target,props=(0,esm_extends.A)({},rest,{onClick:function onClick(event){try{_onClick&&_onClick(event)}catch(ex){throw event.preventDefault(),ex}event.defaultPrevented||0!==event.button||target&&"_self"!==target||function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}(event)||(event.preventDefault(),navigate())}});return props.ref=forwardRefShim!==forwardRef&&forwardedRef||innerRef,react.createElement("a",props)});var Link=forwardRef(function(_ref2,forwardedRef){var _ref2$component=_ref2.component,component=void 0===_ref2$component?LinkAnchor:_ref2$component,replace=_ref2.replace,to=_ref2.to,innerRef=_ref2.innerRef,rest=(0,objectWithoutPropertiesLoose.A)(_ref2,["component","replace","to","innerRef"]);return react.createElement(context.Consumer,null,function(context){context||tiny_invariant_invariant(!1);var history=context.history,location=normalizeToLocation(resolveToLocation(to,context.location),context.location),href=location?history.createHref(location):"",props=(0,esm_extends.A)({},rest,{href,navigate:function navigate(){var location=resolveToLocation(to,context.location),isDuplicateNavigation=createPath(context.location)===createPath(normalizeToLocation(location));(replace||isDuplicateNavigation?history.replace:history.push)(location)}});return forwardRefShim!==forwardRef?props.ref=forwardedRef||innerRef:props.innerRef=innerRef,react.createElement(component,props)})}),forwardRefShim$1=function forwardRefShim(C){return C},forwardRef$1=react.forwardRef;void 0===forwardRef$1&&(forwardRef$1=forwardRefShim$1);forwardRef$1(function(_ref,forwardedRef){var _ref$ariaCurrent=_ref["aria-current"],ariaCurrent=void 0===_ref$ariaCurrent?"page":_ref$ariaCurrent,_ref$activeClassName=_ref.activeClassName,activeClassName=void 0===_ref$activeClassName?"active":_ref$activeClassName,activeStyle=_ref.activeStyle,classNameProp=_ref.className,exact=_ref.exact,isActiveProp=_ref.isActive,locationProp=_ref.location,sensitive=_ref.sensitive,strict=_ref.strict,styleProp=_ref.style,to=_ref.to,innerRef=_ref.innerRef,rest=(0,objectWithoutPropertiesLoose.A)(_ref,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return react.createElement(context.Consumer,null,function(context){context||tiny_invariant_invariant(!1);var currentLocation=locationProp||context.location,toLocation=normalizeToLocation(resolveToLocation(to,currentLocation),currentLocation),path=toLocation.pathname,escapedPath=path&&path.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),match=escapedPath?matchPath(currentLocation.pathname,{path:escapedPath,exact,sensitive,strict}):null,isActive=!!(isActiveProp?isActiveProp(match,currentLocation):match),className="function"==typeof classNameProp?classNameProp(isActive):classNameProp,style="function"==typeof styleProp?styleProp(isActive):styleProp;isActive&&(className=function joinClassnames(){for(var _len=arguments.length,classnames=new Array(_len),_key=0;_key<_len;_key++)classnames[_key]=arguments[_key];return classnames.filter(function(i){return i}).join(" ")}(className,activeClassName),style=(0,esm_extends.A)({},style,activeStyle));var props=(0,esm_extends.A)({"aria-current":isActive&&ariaCurrent||null,className,style,to:toLocation},rest);return forwardRefShim$1!==forwardRef$1?props.ref=forwardedRef||innerRef:props.innerRef=innerRef,react.createElement(Link,props)})});var is_array=__webpack_require__(31564);var symbol=__webpack_require__(32321),get_iterator_method=__webpack_require__(99029),push=__webpack_require__(63520);var slice=__webpack_require__(64908),front_from=__webpack_require__(8980);function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _unsupportedIterableToArray(r,a){if(r){var _context;if("string"==typeof r)return _arrayLikeToArray(r,a);var t=slice(_context={}.toString.call(r)).call(_context,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?front_from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function slicedToArray_slicedToArray(r,e){return function _arrayWithHoles(r){if(is_array(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:void 0!==symbol&&get_iterator_method(r)||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(push(a).call(a,e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var object_get_own_property_symbols=__webpack_require__(26100),object_get_own_property_symbols_default=__webpack_require__.n(object_get_own_property_symbols),get_own_property_descriptor=__webpack_require__(78928),get_own_property_descriptor_default=__webpack_require__.n(get_own_property_descriptor),for_each=__webpack_require__(86226),for_each_default=__webpack_require__.n(for_each),get_own_property_descriptors=__webpack_require__(36751),get_own_property_descriptors_default=__webpack_require__.n(get_own_property_descriptors),define_properties=__webpack_require__(25110),define_properties_default=__webpack_require__.n(define_properties),define_property=__webpack_require__(53930),define_property_default=__webpack_require__.n(define_property),array_from=__webpack_require__(49763),array_from_default=__webpack_require__.n(array_from),core_js_stable_symbol=__webpack_require__(16781),core_js_stable_symbol_default=__webpack_require__.n(core_js_stable_symbol),core_js_get_iterator_method=__webpack_require__(62222),core_js_get_iterator_method_default=__webpack_require__.n(core_js_get_iterator_method),object_define_property=__webpack_require__(84997),iterator=__webpack_require__(22231);function _typeof(o){return _typeof="function"==typeof symbol&&"symbol"==typeof iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof symbol&&o.constructor===symbol&&o!==symbol.prototype?"symbol":typeof o},_typeof(o)}var to_primitive=__webpack_require__(19280);function toPropertyKey(t){var i=function toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[to_primitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}function defineProperty_defineProperty(e,r,t){return(r=toPropertyKey(r))in e?object_define_property(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var map=__webpack_require__(48079),map_default=__webpack_require__.n(map),filter=__webpack_require__(96319),filter_default=__webpack_require__.n(filter),values=__webpack_require__(57119),values_default=__webpack_require__.n(values),includes=__webpack_require__(8628),includes_default=__webpack_require__.n(includes),instance_slice=__webpack_require__(18979),instance_slice_default=__webpack_require__.n(instance_slice),array_is_array=__webpack_require__(66615),array_is_array_default=__webpack_require__.n(array_is_array),core_js_stable_map=__webpack_require__(74707),core_js_stable_map_default=__webpack_require__.n(core_js_stable_map),date_now=__webpack_require__(29550),now_default=__webpack_require__.n(date_now),entries=__webpack_require__(2457),entries_default=__webpack_require__.n(entries),set_interval=__webpack_require__(14607),set_interval_default=__webpack_require__.n(set_interval),ends_with=__webpack_require__(27124),ends_with_default=__webpack_require__.n(ends_with);const stringToByteArray$1=function(str){const out=[];let p=0;for(let i=0;i<str.length;i++){let c=str.charCodeAt(i);c<128?out[p++]=c:c<2048?(out[p++]=c>>6|192,out[p++]=63&c|128):55296==(64512&c)&&i+1<str.length&&56320==(64512&str.charCodeAt(i+1))?(c=65536+((1023&c)<<10)+(1023&str.charCodeAt(++i)),out[p++]=c>>18|240,out[p++]=c>>12&63|128,out[p++]=c>>6&63|128,out[p++]=63&c|128):(out[p++]=c>>12|224,out[p++]=c>>6&63|128,out[p++]=63&c|128)}return out},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(input,webSafe){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();const byteToCharMap=webSafe?this.byteToCharMapWebSafe_:this.byteToCharMap_,output=[];for(let i=0;i<input.length;i+=3){const byte1=input[i],haveByte2=i+1<input.length,byte2=haveByte2?input[i+1]:0,haveByte3=i+2<input.length,byte3=haveByte3?input[i+2]:0,outByte1=byte1>>2,outByte2=(3&byte1)<<4|byte2>>4;let outByte3=(15&byte2)<<2|byte3>>6,outByte4=63&byte3;haveByte3||(outByte4=64,haveByte2||(outByte3=64)),output.push(byteToCharMap[outByte1],byteToCharMap[outByte2],byteToCharMap[outByte3],byteToCharMap[outByte4])}return output.join("")},encodeString(input,webSafe){return this.HAS_NATIVE_SUPPORT&&!webSafe?btoa(input):this.encodeByteArray(stringToByteArray$1(input),webSafe)},decodeString(input,webSafe){return this.HAS_NATIVE_SUPPORT&&!webSafe?atob(input):function(bytes){const out=[];let pos=0,c=0;for(;pos<bytes.length;){const c1=bytes[pos++];if(c1<128)out[c++]=String.fromCharCode(c1);else if(c1>191&&c1<224){const c2=bytes[pos++];out[c++]=String.fromCharCode((31&c1)<<6|63&c2)}else if(c1>239&&c1<365){const u=((7&c1)<<18|(63&bytes[pos++])<<12|(63&bytes[pos++])<<6|63&bytes[pos++])-65536;out[c++]=String.fromCharCode(55296+(u>>10)),out[c++]=String.fromCharCode(56320+(1023&u))}else{const c2=bytes[pos++],c3=bytes[pos++];out[c++]=String.fromCharCode((15&c1)<<12|(63&c2)<<6|63&c3)}}return out.join("")}(this.decodeStringToByteArray(input,webSafe))},decodeStringToByteArray(input,webSafe){this.init_();const charToByteMap=webSafe?this.charToByteMapWebSafe_:this.charToByteMap_,output=[];for(let i=0;i<input.length;){const byte1=charToByteMap[input.charAt(i++)],byte2=i<input.length?charToByteMap[input.charAt(i)]:0;++i;const byte3=i<input.length?charToByteMap[input.charAt(i)]:64;++i;const byte4=i<input.length?charToByteMap[input.charAt(i)]:64;if(++i,null==byte1||null==byte2||null==byte3||null==byte4)throw new DecodeBase64StringError;const outByte1=byte1<<2|byte2>>4;if(output.push(outByte1),64!==byte3){const outByte2=byte2<<4&240|byte3>>2;if(output.push(outByte2),64!==byte4){const outByte3=byte3<<6&192|byte4;output.push(outByte3)}}}return output},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64urlEncodeWithoutPadding=function(str){return function(str){const utf8Bytes=stringToByteArray$1(str);return base64.encodeByteArray(utf8Bytes,!0)}(str).replace(/\./g,"")},base64Decode=function(str){try{return base64.decodeString(str,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}const getDefaults=()=>{try{return getGlobal().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const defaultsJsonString=process.env.__FIREBASE_DEFAULTS__;return defaultsJsonString?JSON.parse(defaultsJsonString):void 0})()||(()=>{if("undefined"==typeof document)return;let match;try{match=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const decoded=match&&base64Decode(match[1]);return decoded&&JSON.parse(decoded)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},getDefaultEmulatorHost=productName=>{var _a,_b;return null===(_b=null===(_a=getDefaults())||void 0===_a?void 0:_a.emulatorHosts)||void 0===_b?void 0:_b[productName]},index_esm2017_getDefaultEmulatorHostnameAndPort=productName=>{const host=getDefaultEmulatorHost(productName);if(!host)return;const separatorIndex=host.lastIndexOf(":");if(separatorIndex<=0||separatorIndex+1===host.length)throw new Error(`Invalid host ${host} with no separate hostname and port!`);const port=parseInt(host.substring(separatorIndex+1),10);return"["===host[0]?[host.substring(1,separatorIndex-1),port]:[host.substring(0,separatorIndex),port]},getDefaultAppConfig=()=>{var _a;return null===(_a=getDefaults())||void 0===_a?void 0:_a.config},getExperimentalSetting=name=>{var _a;return null===(_a=getDefaults())||void 0===_a?void 0:_a[`_${name}`]};class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((resolve,reject)=>{this.resolve=resolve,this.reject=reject})}wrapCallback(callback){return(error,value)=>{error?this.reject(error):this.resolve(value),"function"==typeof callback&&(this.promise.catch(()=>{}),1===callback.length?callback(error):callback(error,value))}}}function index_esm2017_isCloudWorkstation(url){try{return(url.startsWith("http://")||url.startsWith("https://")?new URL(url).hostname:url).endsWith(".cloudworkstations.dev")}catch(_a){return!1}}async function index_esm2017_pingServer(endpoint){return(await fetch(endpoint,{credentials:"include"})).ok}function createMockUserToken(token,projectId){if(token.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const project=projectId||"demo-project",iat=token.iat||0,sub=token.sub||token.user_id;if(!sub)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const payload=Object.assign({iss:`https://securetoken.google.com/${project}`,aud:project,iat,exp:iat+3600,auth_time:iat,sub,user_id:sub,firebase:{sign_in_provider:"custom",identities:{}}},token);return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(payload)),""].join(".")}const emulatorStatus={};let previouslyDismissed=!1;function index_esm2017_updateEmulatorBanner(name,isRunningEmulator){if("undefined"==typeof window||"undefined"==typeof document||!index_esm2017_isCloudWorkstation(window.location.host)||emulatorStatus[name]===isRunningEmulator||emulatorStatus[name]||previouslyDismissed)return;function prefixedId(id){return`__firebase__banner__${id}`}emulatorStatus[name]=isRunningEmulator;const summary=function getEmulatorSummary(){const summary={prod:[],emulator:[]};for(const key of Object.keys(emulatorStatus))emulatorStatus[key]?summary.emulator.push(key):summary.prod.push(key);return summary}(),showError=summary.prod.length>0;function setupCloseBtn(){const closeBtn=document.createElement("span");return closeBtn.style.cursor="pointer",closeBtn.style.marginLeft="16px",closeBtn.style.fontSize="24px",closeBtn.innerHTML=" &times;",closeBtn.onclick=()=>{previouslyDismissed=!0,function tearDown(){const element=document.getElementById("__firebase__banner");element&&element.remove()}()},closeBtn}function setupDom(){const banner=function getOrCreateEl(id){let parentDiv=document.getElementById(id),created=!1;return parentDiv||(parentDiv=document.createElement("div"),parentDiv.setAttribute("id",id),created=!0),{created,element:parentDiv}}("__firebase__banner"),firebaseTextId=prefixedId("text"),firebaseText=document.getElementById(firebaseTextId)||document.createElement("span"),learnMoreId=prefixedId("learnmore"),learnMoreLink=document.getElementById(learnMoreId)||document.createElement("a"),prependIconId=prefixedId("preprendIcon"),prependIcon=document.getElementById(prependIconId)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(banner.created){const bannerEl=banner.element;!function setupBannerStyles(bannerEl){bannerEl.style.display="flex",bannerEl.style.background="#7faaf0",bannerEl.style.position="fixed",bannerEl.style.bottom="5px",bannerEl.style.left="5px",bannerEl.style.padding=".5em",bannerEl.style.borderRadius="5px",bannerEl.style.alignItems="center"}(bannerEl),function setupLinkStyles(learnMoreLink,learnMoreId){learnMoreLink.setAttribute("id",learnMoreId),learnMoreLink.innerText="Learn more",learnMoreLink.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",learnMoreLink.setAttribute("target","__blank"),learnMoreLink.style.paddingLeft="5px",learnMoreLink.style.textDecoration="underline"}(learnMoreLink,learnMoreId);const closeBtn=setupCloseBtn();!function setupIconStyles(prependIcon,iconId){prependIcon.setAttribute("width","24"),prependIcon.setAttribute("id",iconId),prependIcon.setAttribute("height","24"),prependIcon.setAttribute("viewBox","0 0 24 24"),prependIcon.setAttribute("fill","none"),prependIcon.style.marginLeft="-6px"}(prependIcon,prependIconId),bannerEl.append(prependIcon,firebaseText,learnMoreLink,closeBtn),document.body.appendChild(bannerEl)}showError?(firebaseText.innerText="Preview backend disconnected.",prependIcon.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(prependIcon.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',firebaseText.innerText="Preview backend running in this workspace."),firebaseText.setAttribute("id",firebaseTextId)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",setupDom):setupDom()}function index_esm2017_getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isNode(){var _a;const forceEnvironment=null===(_a=getDefaults())||void 0===_a?void 0:_a.forceEnvironment;if("node"===forceEnvironment)return!0;if("browser"===forceEnvironment)return!1;try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(e){return!1}}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(e){return!1}}class FirebaseError extends Error{constructor(code,message,customData){super(message),this.code=code,this.customData=customData,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(service,serviceName,errors){this.service=service,this.serviceName=serviceName,this.errors=errors}create(code,...data){const customData=data[0]||{},fullCode=`${this.service}/${code}`,template=this.errors[code],message=template?function replaceTemplate(template,data){return template.replace(PATTERN,(_,key)=>{const value=data[key];return null!=value?String(value):`<${key}?>`})}(template,customData):"Error",fullMessage=`${this.serviceName}: ${message} (${fullCode}).`;return new FirebaseError(fullCode,fullMessage,customData)}}const PATTERN=/\{\$([^}]+)}/g;function index_esm2017_deepEqual(a,b){if(a===b)return!0;const aKeys=Object.keys(a),bKeys=Object.keys(b);for(const k of aKeys){if(!bKeys.includes(k))return!1;const aProp=a[k],bProp=b[k];if(isObject(aProp)&&isObject(bProp)){if(!index_esm2017_deepEqual(aProp,bProp))return!1}else if(aProp!==bProp)return!1}for(const k of bKeys)if(!aKeys.includes(k))return!1;return!0}function isObject(thing){return null!==thing&&"object"==typeof thing}function querystring(querystringParams){const params=[];for(const[key,value]of Object.entries(querystringParams))Array.isArray(value)?value.forEach(arrayVal=>{params.push(encodeURIComponent(key)+"="+encodeURIComponent(arrayVal))}):params.push(encodeURIComponent(key)+"="+encodeURIComponent(value));return params.length?"&"+params.join("&"):""}function querystringDecode(querystring){const obj={};return querystring.replace(/^\?/,"").split("&").forEach(token=>{if(token){const[key,value]=token.split("=");obj[decodeURIComponent(key)]=decodeURIComponent(value)}}),obj}function extractQuerystring(url){const queryStart=url.indexOf("?");if(!queryStart)return"";const fragmentStart=url.indexOf("#",queryStart);return url.substring(queryStart,fragmentStart>0?fragmentStart:void 0)}class ObserverProxy{constructor(executor,onNoObservers){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=onNoObservers,this.task.then(()=>{executor(this)}).catch(e=>{this.error(e)})}next(value){this.forEachObserver(observer=>{observer.next(value)})}error(error){this.forEachObserver(observer=>{observer.error(error)}),this.close(error)}complete(){this.forEachObserver(observer=>{observer.complete()}),this.close()}subscribe(nextOrObserver,error,complete){let observer;if(void 0===nextOrObserver&&void 0===error&&void 0===complete)throw new Error("Missing Observer.");observer=function implementsAnyMethods(obj,methods){if("object"!=typeof obj||null===obj)return!1;for(const method of methods)if(method in obj&&"function"==typeof obj[method])return!0;return!1}(nextOrObserver,["next","error","complete"])?nextOrObserver:{next:nextOrObserver,error,complete},void 0===observer.next&&(observer.next=index_esm2017_noop),void 0===observer.error&&(observer.error=index_esm2017_noop),void 0===observer.complete&&(observer.complete=index_esm2017_noop);const unsub=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?observer.error(this.finalError):observer.complete()}catch(e){}}),this.observers.push(observer),unsub}unsubscribeOne(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fn){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,fn)}sendOne(i,fn){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[i])try{fn(this.observers[i])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(err){this.finalized||(this.finalized=!0,void 0!==err&&(this.finalError=err),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function index_esm2017_noop(){}function index_esm2017_getModularInstance(service){return service&&service._delegate?service._delegate:service}class Component{constructor(name,instanceFactory,type){this.name=name,this.instanceFactory=instanceFactory,this.type=type,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(mode){return this.instantiationMode=mode,this}setMultipleInstances(multipleInstances){return this.multipleInstances=multipleInstances,this}setServiceProps(props){return this.serviceProps=props,this}setInstanceCreatedCallback(callback){return this.onInstanceCreated=callback,this}}class Provider{constructor(name,container){this.name=name,this.container=container,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(identifier){const normalizedIdentifier=this.normalizeInstanceIdentifier(identifier);if(!this.instancesDeferred.has(normalizedIdentifier)){const deferred=new Deferred;if(this.instancesDeferred.set(normalizedIdentifier,deferred),this.isInitialized(normalizedIdentifier)||this.shouldAutoInitialize())try{const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier});instance&&deferred.resolve(instance)}catch(e){}}return this.instancesDeferred.get(normalizedIdentifier).promise}getImmediate(options){var _a;const normalizedIdentifier=this.normalizeInstanceIdentifier(null==options?void 0:options.identifier),optional=null!==(_a=null==options?void 0:options.optional)&&void 0!==_a&&_a;if(!this.isInitialized(normalizedIdentifier)&&!this.shouldAutoInitialize()){if(optional)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:normalizedIdentifier})}catch(e){if(optional)return null;throw e}}getComponent(){return this.component}setComponent(component){if(component.name!==this.name)throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=component,this.shouldAutoInitialize()){if(function isComponentEager(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[instanceIdentifier,instanceDeferred]of this.instancesDeferred.entries()){const normalizedIdentifier=this.normalizeInstanceIdentifier(instanceIdentifier);try{const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier});instanceDeferred.resolve(instance)}catch(e){}}}}clearInstance(identifier="[DEFAULT]"){this.instancesDeferred.delete(identifier),this.instancesOptions.delete(identifier),this.instances.delete(identifier)}async delete(){const services=Array.from(this.instances.values());await Promise.all([...services.filter(service=>"INTERNAL"in service).map(service=>service.INTERNAL.delete()),...services.filter(service=>"_delete"in service).map(service=>service._delete())])}isComponentSet(){return null!=this.component}isInitialized(identifier="[DEFAULT]"){return this.instances.has(identifier)}getOptions(identifier="[DEFAULT]"){return this.instancesOptions.get(identifier)||{}}initialize(opts={}){const{options={}}=opts,normalizedIdentifier=this.normalizeInstanceIdentifier(opts.instanceIdentifier);if(this.isInitialized(normalizedIdentifier))throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier,options});for(const[instanceIdentifier,instanceDeferred]of this.instancesDeferred.entries()){normalizedIdentifier===this.normalizeInstanceIdentifier(instanceIdentifier)&&instanceDeferred.resolve(instance)}return instance}onInit(callback,identifier){var _a;const normalizedIdentifier=this.normalizeInstanceIdentifier(identifier),existingCallbacks=null!==(_a=this.onInitCallbacks.get(normalizedIdentifier))&&void 0!==_a?_a:new Set;existingCallbacks.add(callback),this.onInitCallbacks.set(normalizedIdentifier,existingCallbacks);const existingInstance=this.instances.get(normalizedIdentifier);return existingInstance&&callback(existingInstance,normalizedIdentifier),()=>{existingCallbacks.delete(callback)}}invokeOnInitCallbacks(instance,identifier){const callbacks=this.onInitCallbacks.get(identifier);if(callbacks)for(const callback of callbacks)try{callback(instance,identifier)}catch(_a){}}getOrInitializeService({instanceIdentifier,options={}}){let instance=this.instances.get(instanceIdentifier);if(!instance&&this.component&&(instance=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(instanceIdentifier),options}),this.instances.set(instanceIdentifier,instance),this.instancesOptions.set(instanceIdentifier,options),this.invokeOnInitCallbacks(instance,instanceIdentifier),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,instanceIdentifier,instance)}catch(_a){}return instance||null}normalizeInstanceIdentifier(identifier="[DEFAULT]"){return this.component?this.component.multipleInstances?identifier:"[DEFAULT]":identifier}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function normalizeIdentifierForFactory(identifier){return"[DEFAULT]"===identifier?void 0:identifier}class index_esm2017_ComponentContainer{constructor(name){this.name=name,this.providers=new Map}addComponent(component){const provider=this.getProvider(component.name);if(provider.isComponentSet())throw new Error(`Component ${component.name} has already been registered with ${this.name}`);provider.setComponent(component)}addOrOverwriteComponent(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)}getProvider(name){if(this.providers.has(name))return this.providers.get(name);const provider=new Provider(name,this);return this.providers.set(name,provider),provider}getProviders(){return Array.from(this.providers.values())}}const instances=[];var LogLevel;!function(LogLevel){LogLevel[LogLevel.DEBUG=0]="DEBUG",LogLevel[LogLevel.VERBOSE=1]="VERBOSE",LogLevel[LogLevel.INFO=2]="INFO",LogLevel[LogLevel.WARN=3]="WARN",LogLevel[LogLevel.ERROR=4]="ERROR",LogLevel[LogLevel.SILENT=5]="SILENT"}(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(instance,logType,...args)=>{if(logType<instance.logLevel)return;const now=(new Date).toISOString(),method=ConsoleMethod[logType];if(!method)throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);console[method](`[${now}]  ${instance.name}:`,...args)};class Logger{constructor(name){this.name=name,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances.push(this)}get logLevel(){return this._logLevel}set logLevel(val){if(!(val in LogLevel))throw new TypeError(`Invalid value "${val}" assigned to \`logLevel\``);this._logLevel=val}setLogLevel(val){this._logLevel="string"==typeof val?levelStringToEnum[val]:val}get logHandler(){return this._logHandler}set logHandler(val){if("function"!=typeof val)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=val}get userLogHandler(){return this._userLogHandler}set userLogHandler(val){this._userLogHandler=val}debug(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...args),this._logHandler(this,LogLevel.DEBUG,...args)}log(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...args),this._logHandler(this,LogLevel.VERBOSE,...args)}info(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...args),this._logHandler(this,LogLevel.INFO,...args)}warn(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...args),this._logHandler(this,LogLevel.WARN,...args)}error(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...args),this._logHandler(this,LogLevel.ERROR,...args)}}let idbProxyableTypes,cursorAdvanceMethods;const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;let idbProxyTraps={get(target,prop,receiver){if(target instanceof IDBTransaction){if("done"===prop)return transactionDoneMap.get(target);if("objectStoreNames"===prop)return target.objectStoreNames||transactionStoreNamesMap.get(target);if("store"===prop)return receiver.objectStoreNames[1]?void 0:receiver.objectStore(receiver.objectStoreNames[0])}return wrap_idb_value_wrap(target[prop])},set:(target,prop,value)=>(target[prop]=value,!0),has:(target,prop)=>target instanceof IDBTransaction&&("done"===prop||"store"===prop)||prop in target};function wrapFunction(func){return func!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(func)?function(...args){return func.apply(unwrap(this),args),wrap_idb_value_wrap(cursorRequestMap.get(this))}:function(...args){return wrap_idb_value_wrap(func.apply(unwrap(this),args))}:function(storeNames,...args){const tx=func.call(unwrap(this),storeNames,...args);return transactionStoreNamesMap.set(tx,storeNames.sort?storeNames.sort():[storeNames]),wrap_idb_value_wrap(tx)}}function transformCachableValue(value){return"function"==typeof value?wrapFunction(value):(value instanceof IDBTransaction&&function cacheDonePromiseForTransaction(tx){if(transactionDoneMap.has(tx))return;const done=new Promise((resolve,reject)=>{const unlisten=()=>{tx.removeEventListener("complete",complete),tx.removeEventListener("error",error),tx.removeEventListener("abort",error)},complete=()=>{resolve(),unlisten()},error=()=>{reject(tx.error||new DOMException("AbortError","AbortError")),unlisten()};tx.addEventListener("complete",complete),tx.addEventListener("error",error),tx.addEventListener("abort",error)});transactionDoneMap.set(tx,done)}(value),object=value,function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}().some(c=>object instanceof c)?new Proxy(value,idbProxyTraps):value);var object}function wrap_idb_value_wrap(value){if(value instanceof IDBRequest)return function promisifyRequest(request){const promise=new Promise((resolve,reject)=>{const unlisten=()=>{request.removeEventListener("success",success),request.removeEventListener("error",error)},success=()=>{resolve(wrap_idb_value_wrap(request.result)),unlisten()},error=()=>{reject(request.error),unlisten()};request.addEventListener("success",success),request.addEventListener("error",error)});return promise.then(value=>{value instanceof IDBCursor&&cursorRequestMap.set(value,request)}).catch(()=>{}),reverseTransformCache.set(promise,request),promise}(value);if(transformCache.has(value))return transformCache.get(value);const newValue=transformCachableValue(value);return newValue!==value&&(transformCache.set(value,newValue),reverseTransformCache.set(newValue,value)),newValue}const unwrap=value=>reverseTransformCache.get(value);const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(target,prop){if(!(target instanceof IDBDatabase)||prop in target||"string"!=typeof prop)return;if(cachedMethods.get(prop))return cachedMethods.get(prop);const targetFuncName=prop.replace(/FromIndex$/,""),useIndex=prop!==targetFuncName,isWrite=writeMethods.includes(targetFuncName);if(!(targetFuncName in(useIndex?IDBIndex:IDBObjectStore).prototype)||!isWrite&&!readMethods.includes(targetFuncName))return;const method=async function(storeName,...args){const tx=this.transaction(storeName,isWrite?"readwrite":"readonly");let target=tx.store;return useIndex&&(target=target.index(args.shift())),(await Promise.all([target[targetFuncName](...args),isWrite&&tx.done]))[0]};return cachedMethods.set(prop,method),method}!function replaceTraps(callback){idbProxyTraps=callback(idbProxyTraps)}(oldTraps=>({...oldTraps,get:(target,prop,receiver)=>getMethod(target,prop)||oldTraps.get(target,prop,receiver),has:(target,prop)=>!!getMethod(target,prop)||oldTraps.has(target,prop)}));class PlatformLoggerServiceImpl{constructor(container){this.container=container}getPlatformInfoString(){return this.container.getProviders().map(provider=>{if(function isVersionServiceProvider(provider){const component=provider.getComponent();return"VERSION"===(null==component?void 0:component.type)}(provider)){const service=provider.getImmediate();return`${service.library}/${service.version}`}return null}).filter(logString=>logString).join(" ")}}const name$q="@firebase/app",logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/ai",name$1="@firebase/firestore-compat",index_esm2017_name="firebase",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[index_esm2017_name]:"fire-js-all"},_apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(app,component){try{app.container.addComponent(component)}catch(e){logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app.name}`,e)}}function _registerComponent(component){const componentName=component.name;if(_components.has(componentName))return logger.debug(`There were multiple attempts to register component ${componentName}.`),!1;_components.set(componentName,component);for(const app of _apps.values())_addComponent(app,component);for(const serverApp of _serverApps.values())_addComponent(serverApp,component);return!0}function index_esm2017_getProvider(app,name){const heartbeatController=app.container.getProvider("heartbeat").getImmediate({optional:!0});return heartbeatController&&heartbeatController.triggerHeartbeat(),app.container.getProvider(name)}function index_esm2017_isFirebaseServerApp(obj){return null!=obj&&void 0!==obj.settings}const ERROR_FACTORY=new ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class FirebaseAppImpl{constructor(options,config,container){this._isDeleted=!1,this._options=Object.assign({},options),this._config=Object.assign({},config),this._name=config.name,this._automaticDataCollectionEnabled=config.automaticDataCollectionEnabled,this._container=container,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(val){this.checkDestroyed(),this._automaticDataCollectionEnabled=val}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(val){this._isDeleted=val}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}function initializeApp(_options,rawConfig={}){let options=_options;if("object"!=typeof rawConfig){rawConfig={name:rawConfig}}const config=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!0},rawConfig),name=config.name;if("string"!=typeof name||!name)throw ERROR_FACTORY.create("bad-app-name",{appName:String(name)});if(options||(options=getDefaultAppConfig()),!options)throw ERROR_FACTORY.create("no-options");const existingApp=_apps.get(name);if(existingApp){if(index_esm2017_deepEqual(options,existingApp.options)&&index_esm2017_deepEqual(config,existingApp.config))return existingApp;throw ERROR_FACTORY.create("duplicate-app",{appName:name})}const container=new index_esm2017_ComponentContainer(name);for(const component of _components.values())container.addComponent(component);const newApp=new FirebaseAppImpl(options,config,container);return _apps.set(name,newApp),newApp}function index_esm2017_getApp(name="[DEFAULT]"){const app=_apps.get(name);if(!app&&"[DEFAULT]"===name&&getDefaultAppConfig())return initializeApp();if(!app)throw ERROR_FACTORY.create("no-app",{appName:name});return app}function registerVersion(libraryKeyOrName,version,variant){var _a;let library=null!==(_a=PLATFORM_LOG_STRING[libraryKeyOrName])&&void 0!==_a?_a:libraryKeyOrName;variant&&(library+=`-${variant}`);const libraryMismatch=library.match(/\s|\//),versionMismatch=version.match(/\s|\//);if(libraryMismatch||versionMismatch){const warning=[`Unable to register library "${library}" with version "${version}":`];return libraryMismatch&&warning.push(`library name "${library}" contains illegal characters (whitespace or "/")`),libraryMismatch&&versionMismatch&&warning.push("and"),versionMismatch&&warning.push(`version name "${version}" contains illegal characters (whitespace or "/")`),void logger.warn(warning.join(" "))}_registerComponent(new Component(`${library}-version`,()=>({library,version}),"VERSION"))}const STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=function openDB(name,version,{blocked,upgrade,blocking,terminated}={}){const request=indexedDB.open(name,version),openPromise=wrap_idb_value_wrap(request);return upgrade&&request.addEventListener("upgradeneeded",event=>{upgrade(wrap_idb_value_wrap(request.result),event.oldVersion,event.newVersion,wrap_idb_value_wrap(request.transaction),event)}),blocked&&request.addEventListener("blocked",event=>blocked(event.oldVersion,event.newVersion,event)),openPromise.then(db=>{terminated&&db.addEventListener("close",()=>terminated()),blocking&&db.addEventListener("versionchange",event=>blocking(event.oldVersion,event.newVersion,event))}).catch(()=>{}),openPromise}("firebase-heartbeat-database",1,{upgrade:(db,oldVersion)=>{if(0===oldVersion)try{db.createObjectStore(STORE_NAME)}catch(e){console.warn(e)}}}).catch(e=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:e.message})})),dbPromise}async function writeHeartbeatsToIndexedDB(app,heartbeatObject){try{const tx=(await getDbPromise()).transaction(STORE_NAME,"readwrite"),objectStore=tx.objectStore(STORE_NAME);await objectStore.put(heartbeatObject,computeKey(app)),await tx.done}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const idbGetError=ERROR_FACTORY.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});logger.warn(idbGetError.message)}}}function computeKey(app){return`${app.name}!${app.options.appId}`}class HeartbeatServiceImpl{constructor(container){this.container=container,this._heartbeatsCache=null;const app=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(app),this._heartbeatsCachePromise=this._storage.read().then(result=>(this._heartbeatsCache=result,result))}async triggerHeartbeat(){var _a,_b;try{const agent=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),date=getUTCDateString();if(null==(null===(_a=this._heartbeatsCache)||void 0===_a?void 0:_a.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(_b=this._heartbeatsCache)||void 0===_b?void 0:_b.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===date||this._heartbeatsCache.heartbeats.some(singleDateHeartbeat=>singleDateHeartbeat.date===date))return;if(this._heartbeatsCache.heartbeats.push({date,agent}),this._heartbeatsCache.heartbeats.length>30){const earliestHeartbeatIdx=function getEarliestHeartbeatIdx(heartbeats){if(0===heartbeats.length)return-1;let earliestHeartbeatIdx=0,earliestHeartbeatDate=heartbeats[0].date;for(let i=1;i<heartbeats.length;i++)heartbeats[i].date<earliestHeartbeatDate&&(earliestHeartbeatDate=heartbeats[i].date,earliestHeartbeatIdx=i);return earliestHeartbeatIdx}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(earliestHeartbeatIdx,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){logger.warn(e)}}async getHeartbeatsHeader(){var _a;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(_a=this._heartbeatsCache)||void 0===_a?void 0:_a.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const date=getUTCDateString(),{heartbeatsToSend,unsentEntries}=function extractHeartbeatsForHeader(heartbeatsCache,maxSize=1024){const heartbeatsToSend=[];let unsentEntries=heartbeatsCache.slice();for(const singleDateHeartbeat of heartbeatsCache){const heartbeatEntry=heartbeatsToSend.find(hb=>hb.agent===singleDateHeartbeat.agent);if(heartbeatEntry){if(heartbeatEntry.dates.push(singleDateHeartbeat.date),countBytes(heartbeatsToSend)>maxSize){heartbeatEntry.dates.pop();break}}else if(heartbeatsToSend.push({agent:singleDateHeartbeat.agent,dates:[singleDateHeartbeat.date]}),countBytes(heartbeatsToSend)>maxSize){heartbeatsToSend.pop();break}unsentEntries=unsentEntries.slice(1)}return{heartbeatsToSend,unsentEntries}}(this._heartbeatsCache.heartbeats),headerString=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:heartbeatsToSend}));return this._heartbeatsCache.lastSentHeartbeatDate=date,unsentEntries.length>0?(this._heartbeatsCache.heartbeats=unsentEntries,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),headerString}catch(e){return logger.warn(e),""}}}function getUTCDateString(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(app){this.app=app,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!isIndexedDBAvailable()&&function validateIndexedDBOpenable(){return new Promise((resolve,reject)=>{try{let preExist=!0;const DB_CHECK_NAME="validate-browser-context-for-indexeddb-analytics-module",request=self.indexedDB.open(DB_CHECK_NAME);request.onsuccess=()=>{request.result.close(),preExist||self.indexedDB.deleteDatabase(DB_CHECK_NAME),resolve(!0)},request.onupgradeneeded=()=>{preExist=!1},request.onerror=()=>{var _a;reject((null===(_a=request.error)||void 0===_a?void 0:_a.message)||"")}}catch(error){reject(error)}})}().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const idbHeartbeatObject=await async function readHeartbeatsFromIndexedDB(app){try{const tx=(await getDbPromise()).transaction(STORE_NAME),result=await tx.objectStore(STORE_NAME).get(computeKey(app));return await tx.done,result}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const idbGetError=ERROR_FACTORY.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});logger.warn(idbGetError.message)}}}(this.app);return(null==idbHeartbeatObject?void 0:idbHeartbeatObject.heartbeats)?idbHeartbeatObject:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(heartbeatsObject){var _a;if(await this._canUseIndexedDBPromise){const existingHeartbeatsObject=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(_a=heartbeatsObject.lastSentHeartbeatDate)&&void 0!==_a?_a:existingHeartbeatsObject.lastSentHeartbeatDate,heartbeats:heartbeatsObject.heartbeats})}}async add(heartbeatsObject){var _a;if(await this._canUseIndexedDBPromise){const existingHeartbeatsObject=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(_a=heartbeatsObject.lastSentHeartbeatDate)&&void 0!==_a?_a:existingHeartbeatsObject.lastSentHeartbeatDate,heartbeats:[...existingHeartbeatsObject.heartbeats,...heartbeatsObject.heartbeats]})}}}function countBytes(heartbeatsCache){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:heartbeatsCache})).length}!function registerCoreComponents(variant){_registerComponent(new Component("platform-logger",container=>new PlatformLoggerServiceImpl(container),"PRIVATE")),_registerComponent(new Component("heartbeat",container=>new HeartbeatServiceImpl(container),"PRIVATE")),registerVersion(name$q,"0.13.2",variant),registerVersion(name$q,"0.13.2","esm2017"),registerVersion("fire-js","")}("");var Integer,Md5,bloom_blob_es2018_commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bloom_blob_es2018={};(function(){var h;function m(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(f,a,c){c||(c=0);var d=Array(16);if("string"==typeof a)for(var e=0;16>e;++e)d[e]=a.charCodeAt(c++)|a.charCodeAt(c++)<<8|a.charCodeAt(c++)<<16|a.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=a[c++]|a[c++]<<8|a[c++]<<16|a[c++]<<24;a=f.g[0],c=f.g[1],e=f.g[2];var g=f.g[3],b=a+(g^c&(e^g))+d[0]+3614090360&4294967295;b=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=(c=(e=(g=(a=c+(b<<7&4294967295|b>>>25))+((b=g+(e^a&(c^e))+d[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=e+(c^g&(a^c))+d[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=c+(a^e&(g^a))+d[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=a+(g^c&(e^g))+d[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=g+(e^a&(c^e))+d[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=e+(c^g&(a^c))+d[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=c+(a^e&(g^a))+d[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=a+(g^c&(e^g))+d[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=g+(e^a&(c^e))+d[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=e+(c^g&(a^c))+d[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=c+(a^e&(g^a))+d[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=a+(g^c&(e^g))+d[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=g+(e^a&(c^e))+d[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=e+(c^g&(a^c))+d[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=c+(a^e&(g^a))+d[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=a+(e^g&(c^e))+d[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=g+(c^e&(a^c))+d[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=e+(a^c&(g^a))+d[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=c+(g^a&(e^g))+d[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=a+(e^g&(c^e))+d[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=g+(c^e&(a^c))+d[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=e+(a^c&(g^a))+d[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=c+(g^a&(e^g))+d[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=a+(e^g&(c^e))+d[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=g+(c^e&(a^c))+d[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=e+(a^c&(g^a))+d[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=c+(g^a&(e^g))+d[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=a+(e^g&(c^e))+d[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=g+(c^e&(a^c))+d[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=e+(a^c&(g^a))+d[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=c+(g^a&(e^g))+d[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=a+(c^e^g)+d[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=g+(a^c^e)+d[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=e+(g^a^c)+d[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=c+(e^g^a)+d[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=a+(c^e^g)+d[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=g+(a^c^e)+d[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=e+(g^a^c)+d[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=c+(e^g^a)+d[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=a+(c^e^g)+d[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=g+(a^c^e)+d[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=e+(g^a^c)+d[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=c+(e^g^a)+d[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=a+(c^e^g)+d[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=g+(a^c^e)+d[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=e+(g^a^c)+d[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=c+(e^g^a)+d[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=a+(e^(c|~g))+d[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=g+(c^(a|~e))+d[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=e+(a^(g|~c))+d[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=c+(g^(e|~a))+d[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=a+(e^(c|~g))+d[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=g+(c^(a|~e))+d[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=e+(a^(g|~c))+d[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=c+(g^(e|~a))+d[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=a+(e^(c|~g))+d[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=g+(c^(a|~e))+d[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=e+(a^(g|~c))+d[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=c+(g^(e|~a))+d[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((g=(a=c+((b=a+(e^(c|~g))+d[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=g+(c^(a|~e))+d[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((e=g+((b=e+(a^(g|~c))+d[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~a))+d[9]+3951481745&4294967295,f.g[0]=f.g[0]+a&4294967295,f.g[1]=f.g[1]+(e+(b<<21&4294967295|b>>>11))&4294967295,f.g[2]=f.g[2]+e&4294967295,f.g[3]=f.g[3]+g&4294967295}function t(f,a){this.h=a;for(var c=[],d=!0,e=f.length-1;0<=e;e--){var g=0|f[e];d&&g==a||(c[e]=g,d=!1)}this.g=c}!function k(f,a){function c(){}c.prototype=a.prototype,f.D=a.prototype,f.prototype=new c,f.prototype.constructor=f,f.C=function(d,e,g){for(var b=Array(arguments.length-2),r=2;r<arguments.length;r++)b[r-2]=arguments[r];return a.prototype[e].apply(d,b)}}(m,function l(){this.blockSize=-1}),m.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},m.prototype.u=function(f,a){void 0===a&&(a=f.length);for(var c=a-this.blockSize,d=this.B,e=this.h,g=0;g<a;){if(0==e)for(;g<=c;)n(this,f,g),g+=this.blockSize;if("string"==typeof f){for(;g<a;)if(d[e++]=f.charCodeAt(g++),e==this.blockSize){n(this,d),e=0;break}}else for(;g<a;)if(d[e++]=f[g++],e==this.blockSize){n(this,d),e=0;break}}this.h=e,this.o+=a},m.prototype.v=function(){var f=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);f[0]=128;for(var a=1;a<f.length-8;++a)f[a]=0;var c=8*this.o;for(a=f.length-8;a<f.length;++a)f[a]=255&c,c/=256;for(this.u(f),f=Array(16),a=c=0;4>a;++a)for(var d=0;32>d;d+=8)f[c++]=this.g[a]>>>d&255;return f};var q={};function u(f){return-128<=f&&128>f?function p(f,a){var c=q;return Object.prototype.hasOwnProperty.call(c,f)?c[f]:c[f]=a(f)}(f,function(a){return new t([0|a],0>a?-1:0)}):new t([0|f],0>f?-1:0)}function v(f){if(isNaN(f)||!isFinite(f))return w;if(0>f)return x(v(-f));for(var a=[],c=1,d=0;f>=c;d++)a[d]=f/c|0,c*=4294967296;return new t(a,0)}var w=u(0),z=u(1),A=u(16777216);function C(f){if(0!=f.h)return!1;for(var a=0;a<f.g.length;a++)if(0!=f.g[a])return!1;return!0}function B(f){return-1==f.h}function x(f){for(var a=f.g.length,c=[],d=0;d<a;d++)c[d]=~f.g[d];return new t(c,~f.h).add(z)}function F(f,a){return f.add(x(a))}function G(f,a){for(;(65535&f[a])!=f[a];)f[a+1]+=f[a]>>>16,f[a]&=65535,a++}function H(f,a){this.g=f,this.h=a}function D(f,a){if(C(a))throw Error("division by zero");if(C(f))return new H(w,w);if(B(f))return a=D(x(f),a),new H(x(a.g),x(a.h));if(B(a))return a=D(f,x(a)),new H(x(a.g),a.h);if(30<f.g.length){if(B(f)||B(a))throw Error("slowDivide_ only works with positive integers.");for(var c=z,d=a;0>=d.l(f);)c=I(c),d=I(d);var e=J(c,1),g=J(d,1);for(d=J(d,2),c=J(c,2);!C(d);){var b=g.add(d);0>=b.l(f)&&(e=e.add(c),g=b),d=J(d,1),c=J(c,1)}return a=F(f,e.j(a)),new H(e,a)}for(e=w;0<=f.l(a);){for(c=Math.max(1,Math.floor(f.m()/a.m())),d=48>=(d=Math.ceil(Math.log(c)/Math.LN2))?1:Math.pow(2,d-48),b=(g=v(c)).j(a);B(b)||0<b.l(f);)b=(g=v(c-=d)).j(a);C(g)&&(g=z),e=e.add(g),f=F(f,b)}return new H(e,f)}function I(f){for(var a=f.g.length+1,c=[],d=0;d<a;d++)c[d]=f.i(d)<<1|f.i(d-1)>>>31;return new t(c,f.h)}function J(f,a){var c=a>>5;a%=32;for(var d=f.g.length-c,e=[],g=0;g<d;g++)e[g]=0<a?f.i(g+c)>>>a|f.i(g+c+1)<<32-a:f.i(g+c);return new t(e,f.h)}(h=t.prototype).m=function(){if(B(this))return-x(this).m();for(var f=0,a=1,c=0;c<this.g.length;c++){var d=this.i(c);f+=(0<=d?d:4294967296+d)*a,a*=4294967296}return f},h.toString=function(f){if(2>(f=f||10)||36<f)throw Error("radix out of range: "+f);if(C(this))return"0";if(B(this))return"-"+x(this).toString(f);for(var a=v(Math.pow(f,6)),c=this,d="";;){var e=D(c,a).g,g=((0<(c=F(c,e.j(a))).g.length?c.g[0]:c.h)>>>0).toString(f);if(C(c=e))return g+d;for(;6>g.length;)g="0"+g;d=g+d}},h.i=function(f){return 0>f?0:f<this.g.length?this.g[f]:this.h},h.l=function(f){return B(f=F(this,f))?-1:C(f)?0:1},h.abs=function(){return B(this)?x(this):this},h.add=function(f){for(var a=Math.max(this.g.length,f.g.length),c=[],d=0,e=0;e<=a;e++){var g=d+(65535&this.i(e))+(65535&f.i(e)),b=(g>>>16)+(this.i(e)>>>16)+(f.i(e)>>>16);d=b>>>16,g&=65535,b&=65535,c[e]=b<<16|g}return new t(c,-2147483648&c[c.length-1]?-1:0)},h.j=function(f){if(C(this)||C(f))return w;if(B(this))return B(f)?x(this).j(x(f)):x(x(this).j(f));if(B(f))return x(this.j(x(f)));if(0>this.l(A)&&0>f.l(A))return v(this.m()*f.m());for(var a=this.g.length+f.g.length,c=[],d=0;d<2*a;d++)c[d]=0;for(d=0;d<this.g.length;d++)for(var e=0;e<f.g.length;e++){var g=this.i(d)>>>16,b=65535&this.i(d),r=f.i(e)>>>16,E=65535&f.i(e);c[2*d+2*e]+=b*E,G(c,2*d+2*e),c[2*d+2*e+1]+=g*E,G(c,2*d+2*e+1),c[2*d+2*e+1]+=b*r,G(c,2*d+2*e+1),c[2*d+2*e+2]+=g*r,G(c,2*d+2*e+2)}for(d=0;d<a;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=a;d<2*a;d++)c[d]=0;return new t(c,0)},h.A=function(f){return D(this,f).h},h.and=function(f){for(var a=Math.max(this.g.length,f.g.length),c=[],d=0;d<a;d++)c[d]=this.i(d)&f.i(d);return new t(c,this.h&f.h)},h.or=function(f){for(var a=Math.max(this.g.length,f.g.length),c=[],d=0;d<a;d++)c[d]=this.i(d)|f.i(d);return new t(c,this.h|f.h)},h.xor=function(f){for(var a=Math.max(this.g.length,f.g.length),c=[],d=0;d<a;d++)c[d]=this.i(d)^f.i(d);return new t(c,this.h^f.h)},m.prototype.digest=m.prototype.v,m.prototype.reset=m.prototype.s,m.prototype.update=m.prototype.u,Md5=bloom_blob_es2018.Md5=m,t.prototype.add=t.prototype.add,t.prototype.multiply=t.prototype.j,t.prototype.modulo=t.prototype.A,t.prototype.compare=t.prototype.l,t.prototype.toNumber=t.prototype.m,t.prototype.toString=t.prototype.toString,t.prototype.getBits=t.prototype.i,t.fromNumber=v,t.fromString=function y(f,a){if(0==f.length)throw Error("number format error: empty string");if(2>(a=a||10)||36<a)throw Error("radix out of range: "+a);if("-"==f.charAt(0))return x(y(f.substring(1),a));if(0<=f.indexOf("-"))throw Error('number format error: interior "-" character');for(var c=v(Math.pow(a,8)),d=w,e=0;e<f.length;e+=8){var g=Math.min(8,f.length-e),b=parseInt(f.substring(e,e+g),a);8>g?(g=v(Math.pow(a,g)),d=d.j(g).add(v(b))):d=(d=d.j(c)).add(v(b))}return d},Integer=bloom_blob_es2018.Integer=t}).apply(void 0!==bloom_blob_es2018_commonjsGlobal?bloom_blob_es2018_commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var XhrIo,WebChannel,EventType,ErrorCode,Stat,webchannel_blob_es2018_Event,getStatEventTarget,createWebChannelTransport,webchannel_blob_es2018_commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},webchannel_blob_es2018={};(function(){var h,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){return a==Array.prototype||a==Object.prototype||(a[b]=c.value),a};var ca=function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof webchannel_blob_es2018_commonjsGlobal&&webchannel_blob_es2018_commonjsGlobal];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}(this);!function da(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}(b=b(d=c[a=a[a.length-1]]))!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}("Array.prototype.values",function(a){return a||function(){return function ea(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}return d=!0,{done:!0,value:void 0}}};return e[Symbol.iterator]=function(){return e},e}(this,function(b,c){return c})}});var fa=fa||{},k=this||self;function ha(a){var b=typeof a;return"array"==(b="object"!=b?b:a?Array.isArray(a)?"array":b:"null")||"object"==b&&"number"==typeof a.length}function n(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,d),a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja).apply(null,arguments)}function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),a.apply(this,d)}}function r(a,b){function c(){}c.prototype=b.prototype,a.aa=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Qb=function(d,e,f){for(var g=Array(arguments.length-2),m=2;m<arguments.length;m++)g[m-2]=arguments[m];return b.prototype[e].apply(d,g)}}function la(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function ma(a,b){for(let c=1;c<arguments.length;c++){const d=arguments[c];if(ha(d)){const e=a.length||0,f=d.length||0;a.length=e+f;for(let g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function t(a){return/^[\s\xa0]*$/.test(a)}function u(){var a=k.navigator;return a&&(a=a.userAgent)?a:""}function oa(a){return oa[" "](a),a}oa[" "]=function(){};var pa=!(-1==u().indexOf("Gecko")||-1!=u().toLowerCase().indexOf("webkit")&&-1==u().indexOf("Edge")||-1!=u().indexOf("Trident")||-1!=u().indexOf("MSIE")||-1!=u().indexOf("Edge"));function qa(a,b,c){for(const d in a)b.call(c,a[d],d,a)}function sa(a){const b={};for(const c in a)b[c]=a[c];return b}const ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(a,b){let c,d;for(let e=1;e<arguments.length;e++){for(c in d=arguments[e],d)a[c]=d[c];for(let f=0;f<ta.length;f++)c=ta[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function va(a){var b=1;a=a.split(":");const c=[];for(;0<b&&a.length;)c.push(a.shift()),b--;return a.length&&c.push(a.join(":")),c}function wa(a){k.setTimeout(()=>{throw a},0)}function xa(){var a=za;let b=null;return a.g&&(b=a.g,a.g=a.g.next,a.g||(a.h=null),b.next=null),b}var Ba=new class na{constructor(a,b){this.i=a,this.j=b,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new Ca,a=>a.reset());class Ca{constructor(){this.next=this.g=this.h=null}set(a,b){this.h=a,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let x,y=!1,za=new class Aa{constructor(){this.h=this.g=null}add(a,b){const c=Ba.get();c.set(a,b),this.h?this.h.next=c:this.g=c,this.h=c}},Ea=()=>{const a=k.Promise.resolve(void 0);x=()=>{a.then(Da)}};var Da=()=>{for(var a;a=xa();){try{a.h.call(a.g)}catch(c){wa(c)}var b=Ba;b.j(a),100>b.h&&(b.h++,a.next=b.g,b.g=a)}y=!1};function z(){this.s=this.s,this.C=this.C}function A(a,b){this.type=a,this.g=this.target=b,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var Fa=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const c=()=>{};k.addEventListener("test",c,b),k.removeEventListener("test",c,b)}catch(c){}return a}();function C(a,b){if(A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=b,b=a.relatedTarget){if(pa){a:{try{oa(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Ga[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&C.aa.h.call(this)}}r(C,A);var Ga={2:"touch",3:"pen",4:"mouse"};C.prototype.h=function(){C.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),Ha=0;function Ia(a,b,c,d,e){this.listener=a,this.proxy=null,this.src=b,this.type=c,this.capture=!!d,this.ha=e,this.key=++Ha,this.da=this.fa=!1}function Ja(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ka(a){this.src=a,this.g={},this.h=0}function Ma(a,b){var c=b.type;if(c in a.g){var f,d=a.g[c],e=Array.prototype.indexOf.call(d,b,void 0);(f=0<=e)&&Array.prototype.splice.call(d,e,1),f&&(Ja(b),0==a.g[c].length&&(delete a.g[c],a.h--))}}function La(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.da&&f.listener==b&&f.capture==!!c&&f.ha==d)return e}return-1}Ka.prototype.add=function(a,b,c,d,e){var f=a.toString();(a=this.g[f])||(a=this.g[f]=[],this.h++);var g=La(a,b,d,e);return-1<g?(b=a[g],c||(b.fa=!1)):((b=new Ia(b,this.src,f,!!d,e)).fa=c,a.push(b)),b};var Na="closure_lm_"+(1e6*Math.random()|0),Oa={};function Qa(a,b,c,d,e){if(d&&d.once)return Ra(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)Qa(a,b[f],c,d,e);return null}return c=Sa(c),a&&a[D]?a.K(b,c,n(d)?!!d.capture:!!d,e):Ta(a,b,c,!1,d,e)}function Ta(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=n(e)?!!e.capture:!!e,m=Ua(a);if(m||(a[Na]=m=new Ka(a)),(c=m.add(b,c,d,g,f)).proxy)return c;if(d=function Va(){function a(c){return b.call(a.src,a.listener,c)}const b=Xa;return a}(),c.proxy=d,d.src=a,d.listener=c,a.addEventListener)Fa||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Wa(b.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}return c}function Ra(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)Ra(a,b[f],c,d,e);return null}return c=Sa(c),a&&a[D]?a.L(b,c,n(d)?!!d.capture:!!d,e):Ta(a,b,c,!0,d,e)}function Ya(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Ya(a,b[f],c,d,e);else d=n(d)?!!d.capture:!!d,c=Sa(c),a&&a[D]?(a=a.i,(b=String(b).toString())in a.g&&(-1<(c=La(f=a.g[b],c,d,e))&&(Ja(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.g[b],a.h--)))):a&&(a=Ua(a))&&(b=a.g[b.toString()],a=-1,b&&(a=La(b,c,d,e)),(c=-1<a?b[a]:null)&&Za(c))}function Za(a){if("number"!=typeof a&&a&&!a.da){var b=a.src;if(b&&b[D])Ma(b.i,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Wa(c),d):b.addListener&&b.removeListener&&b.removeListener(d),(c=Ua(b))?(Ma(c,a),0==c.h&&(c.src=null,b[Na]=null)):Ja(a)}}}function Wa(a){return a in Oa?Oa[a]:Oa[a]="on"+a}function Xa(a,b){if(a.da)a=!0;else{b=new C(b,this);var c=a.listener,d=a.ha||a.src;a.fa&&Za(a),a=c.call(d,b)}return a}function Ua(a){return(a=a[Na])instanceof Ka?a:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(a){return"function"==typeof a?a:(a[$a]||(a[$a]=function(b){return a.handleEvent(b)}),a[$a])}function E(){z.call(this),this.i=new Ka(this),this.M=this,this.F=null}function F(a,b){var c,d=a.F;if(d)for(c=[];d;d=d.F)c.push(d);if(a=a.M,d=b.type||b,"string"==typeof b)b=new A(b,a);else if(b instanceof A)b.target=b.target||a;else{var e=b;ua(b=new A(d,a),e)}if(e=!0,c)for(var f=c.length-1;0<=f;f--){var g=b.g=c[f];e=ab(g,d,!0,b)&&e}if(e=ab(g=b.g=a,d,!0,b)&&e,e=ab(g,d,!1,b)&&e,c)for(f=0;f<c.length;f++)e=ab(g=b.g=c[f],d,!1,b)&&e}function ab(a,b,c,d){if(!(b=a.i.g[String(b)]))return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.da&&g.capture==c){var m=g.listener,q=g.ha||g.src;g.fa&&Ma(a.i,g),e=!1!==m.call(q,d)&&e}}return e&&!d.defaultPrevented}function bb(a,b,c){if("function"==typeof a)c&&(a=p(a,c));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=p(a.handleEvent,a)}return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)}function cb(a){a.g=bb(()=>{a.g=null,a.i&&(a.i=!1,cb(a))},a.l);const b=a.h;a.h=null,a.m.apply(null,b)}r(E,z),E.prototype[D]=!0,E.prototype.removeEventListener=function(a,b,c,d){Ya(this,a,b,c,d)},E.prototype.N=function(){if(E.aa.N.call(this),this.i){var c,a=this.i;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)Ja(d[e]);delete a.g[c],a.h--}}this.F=null},E.prototype.K=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)},E.prototype.L=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};class eb extends z{constructor(a,b){super(),this.m=a,this.l=b,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:cb(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function G(a){z.call(this),this.h=a,this.g={}}r(G,z);var fb=[];function gb(a){qa(a.g,function(b,c){this.g.hasOwnProperty(c)&&Za(b)},a),a.g={}}G.prototype.N=function(){G.aa.N.call(this),gb(this)},G.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hb=k.JSON.stringify,ib=k.JSON.parse,jb=class{stringify(a){return k.JSON.stringify(a,void 0)}parse(a){return k.JSON.parse(a,void 0)}};function kb(){}function lb(a){return a.h||(a.h=a.i())}function mb(){}kb.prototype.h=null;var H={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nb(){A.call(this,"d")}function ob(){A.call(this,"c")}r(nb,A),r(ob,A);var I={},pb=null;function qb(){return pb=pb||new E}function rb(a){A.call(this,I.La,a)}function J(a){const b=qb();F(b,new rb(b))}function sb(a,b){A.call(this,I.STAT_EVENT,a),this.stat=b}function K(a){const b=qb();F(b,new sb(b,a))}function tb(a,b){A.call(this,I.Ma,a),this.size=b}function ub(a,b){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){a()},b)}function vb(){this.g=!0}function L(a,b,c,d){a.info(function(){return"XMLHTTP TEXT ("+b+"): "+function yb(a,b){if(!a.g)return b;if(!b)return null;try{var c=JSON.parse(b);if(c)for(a=0;a<c.length;a++)if(Array.isArray(c[a])){var d=c[a];if(!(2>d.length)){var e=d[1];if(Array.isArray(e)&&!(1>e.length)){var f=e[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var g=1;g<e.length;g++)e[g]=""}}}return hb(c)}catch(m){return b}}(a,c)+(d?" "+d:"")})}I.La="serverreachability",r(rb,A),I.STAT_EVENT="statevent",r(sb,A),I.Ma="timingevent",r(tb,A),vb.prototype.xa=function(){this.g=!1},vb.prototype.info=function(){};var Cb,Ab={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Db(){}function M(a,b,c,d){this.j=a,this.i=b,this.l=c,this.R=d||1,this.U=new G(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eb}function Eb(){this.i=null,this.g="",this.h=!1}r(Db,kb),Db.prototype.g=function(){return new XMLHttpRequest},Db.prototype.i=function(){return{}},Cb=new Db;var Fb={},Gb={};function Hb(a,b,c){a.L=1,a.v=Ib(N(b)),a.m=c,a.P=!0,Jb(a,null)}function Jb(a,b){a.F=Date.now(),Kb(a),a.A=N(a.v);var c=a.A,d=a.R;Array.isArray(d)||(d=[String(d)]),Lb(c.i,"t",d),a.C=0,c=a.j.J,a.h=new Eb,a.g=Mb(a.j,c?b:null,!a.m),0<a.O&&(a.M=new eb(p(a.Y,a,a.g),a.O)),b=a.U,c=a.g,d=a.ca;var e="readystatechange";Array.isArray(e)||(e&&(fb[0]=e.toString()),e=fb);for(var f=0;f<e.length;f++){var g=Qa(c,e[f],d||b.handleEvent,!1,b.h||b);if(!g)break;b.g[g.key]=g}b=a.H?sa(a.H):{},a.m?(a.u||(a.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,b)):(a.u="GET",a.g.ea(a.A,a.u,null,b)),J(),function wb(a,b,c,d,e,f){a.info(function(){if(a.g)if(f)for(var g="",m=f.split("&"),q=0;q<m.length;q++){var l=m[q].split("=");if(1<l.length){var v=l[0];l=l[1];var w=v.split("_");g=2<=w.length&&"type"==w[1]?g+(v+"=")+l+"&":g+(v+"=redacted&")}}else g=null;else g=f;return"XMLHTTP REQ ("+d+") [attempt "+e+"]: "+b+"\n"+c+"\n"+g})}(a.i,a.u,a.A,a.l,a.R,a.m)}function Pb(a){return!!a.g&&("GET"==a.u&&2!=a.L&&a.j.Ca)}function Sb(a,b){var c=a.C,d=b.indexOf("\n",c);return-1==d?Gb:(c=Number(b.substring(c,d)),isNaN(c)?Fb:(d+=1)+c>b.length?Gb:(b=b.slice(d,d+c),a.C=d+c,b))}function Kb(a){a.S=Date.now()+a.I,Wb(a,a.I)}function Wb(a,b){if(null!=a.B)throw Error("WatchDog timer not null");a.B=ub(p(a.ba,a),b)}function Ob(a){a.B&&(k.clearTimeout(a.B),a.B=null)}function Qb(a){0==a.j.G||a.J||Ub(a.j,a)}function Q(a){Ob(a);var b=a.M;b&&"function"==typeof b.ma&&b.ma(),a.M=null,gb(a.U),a.g&&(b=a.g,a.g=null,b.abort(),b.ma())}function Rb(a,b){try{var c=a.j;if(0!=c.G&&(c.g==a||Xb(c.h,a)))if(!a.K&&Xb(c.h,a)&&3==c.G){try{var d=c.Da.g.parse(b)}catch(l){d=null}if(Array.isArray(d)&&3==d.length){var e=d;if(0==e[0]){a:if(!c.u){if(c.g){if(!(c.g.F+3e3<a.F))break a;Yb(c),Zb(c)}$b(c),K(18)}}else c.za=e[1],0<c.za-c.T&&37500>e[2]&&c.F&&0==c.v&&!c.C&&(c.C=ub(p(c.Za,c),6e3));if(1>=ac(c.h)&&c.ca){try{c.ca()}catch(l){}c.ca=void 0}}else R(c,11)}else if((a.K||c.g==a)&&Yb(c),!t(b))for(e=c.Da.g.parse(b),b=0;b<e.length;b++){let l=e[b];if(c.T=l[0],l=l[1],2==c.G)if("c"==l[0]){c.K=l[1],c.ia=l[2];const v=l[3];null!=v&&(c.la=v,c.j.info("VER="+c.la));const w=l[4];null!=w&&(c.Aa=w,c.j.info("SVER="+c.Aa));const O=l[5];null!=O&&"number"==typeof O&&0<O&&(d=1.5*O,c.L=d,c.j.info("backChannelRequestTimeoutMs_="+d)),d=c;const B=a.g;if(B){const ya=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var f=d.h;f.g||-1==ya.indexOf("spdy")&&-1==ya.indexOf("quic")&&-1==ya.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(bc(f,f.h),f.h=null))}if(d.D){const db=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;db&&(d.ya=db,S(d.I,d.D,db))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-a.F,c.j.info("Handshake RTT: "+c.R+"ms"));var g=a;if((d=c).qa=cc(d,d.J?d.ia:null,d.W),g.K){dc(d.h,g);var m=g,q=d.L;q&&(m.I=q),m.B&&(Ob(m),Kb(m)),d.g=g}else ec(d);0<c.i.length&&fc(c)}else"stop"!=l[0]&&"close"!=l[0]||R(c,7);else 3==c.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?R(c,7):gc(c):"noop"!=l[0]&&c.l&&c.l.ta(l),c.v=0)}J()}catch(l){}}M.prototype.ca=function(a){a=a.target;const b=this.M;b&&3==P(a)?b.j():this.Y(a)},M.prototype.Y=function(a){try{if(a==this.g)a:{const w=P(this.g);var b=this.g.Ba();this.g.Z();if(!(3>w)&&(3!=w||this.g&&(this.h.h||this.g.oa()||Nb(this.g)))){this.J||4!=w||7==b||J(),Ob(this);var c=this.g.Z();this.X=c;b:if(Pb(this)){var d=Nb(this.g);a="";var e=d.length,f=4==P(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Q(this),Qb(this);var g="";break b}this.h.i=new k.TextDecoder}for(b=0;b<e;b++)this.h.h=!0,a+=this.h.i.decode(d[b],{stream:!(f&&b==e-1)});d.length=0,this.h.g+=a,this.C=0,g=this.h.g}else g=this.g.oa();if(this.o=200==c,function xb(a,b,c,d,e,f,g){a.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+e+"]: "+b+"\n"+c+"\n"+f+" "+g})}(this.i,this.u,this.A,this.l,this.R,w,c),this.o){if(this.T&&!this.K){b:{if(this.g){var m,q=this.g;if((m=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t(m)){var l=m;break b}}l=null}if(!(c=l)){this.o=!1,this.s=3,K(12),Q(this),Qb(this);break a}L(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rb(this,c)}if(this.P){let B;for(c=!0;!this.J&&this.C<g.length;){if(B=Sb(this,g),B==Gb){4==w&&(this.s=4,K(14),c=!1),L(this.i,this.l,null,"[Incomplete Response]");break}if(B==Fb){this.s=4,K(15),L(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}L(this.i,this.l,B,null),Rb(this,B)}if(Pb(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=w||0!=g.length||this.h.h||(this.s=1,K(16),c=!1),this.o=this.o&&c,c){if(0<g.length&&!this.W){this.W=!0;var v=this.j;v.g==this&&v.ba&&!v.M&&(v.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Tb(v),v.M=!0,K(11))}}else L(this.i,this.l,g,"[Invalid Chunked Response]"),Q(this),Qb(this)}else L(this.i,this.l,g,null),Rb(this,g);4==w&&Q(this),this.o&&!this.J&&(4==w?Ub(this.j,this):(this.o=!1,Kb(this)))}else(function Vb(a){const b={};a=(a.g&&2<=P(a)&&a.g.getAllResponseHeaders()||"").split("\r\n");for(let d=0;d<a.length;d++){if(t(a[d]))continue;var c=va(a[d]);const e=c[0];if("string"!=typeof(c=c[1]))continue;c=c.trim();const f=b[e]||[];b[e]=f,f.push(c)}!function ra(a,b){for(const c in a)b.call(void 0,a[c],c,a)}(b,function(d){return d.join(", ")})})(this.g),400==c&&0<g.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),Q(this),Qb(this)}}}catch(w){}},M.prototype.cancel=function(){this.J=!0,Q(this)},M.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(function zb(a,b){a.info(function(){return"TIMEOUT: "+b})}(this.i,this.A),2!=this.L&&(J(),K(17)),Q(this),this.s=2,Qb(this)):Wb(this,this.S-a)};var hc=class{constructor(a,b){this.g=a,this.map=b}};function ic(a){this.l=a||10,k.PerformanceNavigationTiming?a=0<(a=k.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(k.chrome&&k.chrome.loadTimes&&k.chrome.loadTimes()&&k.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jc(a){return!!a.h||!!a.g&&a.g.size>=a.j}function ac(a){return a.h?1:a.g?a.g.size:0}function Xb(a,b){return a.h?a.h==b:!!a.g&&a.g.has(b)}function bc(a,b){a.g?a.g.add(b):a.h=b}function dc(a,b){a.h&&a.h==b?a.h=null:a.g&&a.g.has(b)&&a.g.delete(b)}function kc(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let b=a.i;for(const c of a.g.values())b=b.concat(c.D);return b}return la(a.i)}function nc(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ha(a)||"string"==typeof a)Array.prototype.forEach.call(a,b,void 0);else for(var c=function mc(a){if(a.na&&"function"==typeof a.na)return a.na();if(!a.V||"function"!=typeof a.V){if("undefined"!=typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!=typeof Set&&a instanceof Set)){if(ha(a)||"string"==typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}b=[],c=0;for(const d in a)b[c++]=d;return b}}}(a),d=function lc(a){if(a.V&&"function"==typeof a.V)return a.V();if("undefined"!=typeof Map&&a instanceof Map||"undefined"!=typeof Set&&a instanceof Set)return Array.from(a.values());if("string"==typeof a)return a.split("");if(ha(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}for(d in b=[],c=0,a)b[c++]=a[d];return b}(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}ic.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}};var oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof T){this.h=a.h,qc(this,a.j),this.o=a.o,this.g=a.g,rc(this,a.s),this.l=a.l;var b=a.i,c=new sc;c.i=b.i,b.g&&(c.g=new Map(b.g),c.h=b.h),tc(this,c),this.m=a.m}else a&&(b=String(a).match(oc))?(this.h=!1,qc(this,b[1]||"",!0),this.o=uc(b[2]||""),this.g=uc(b[3]||"",!0),rc(this,b[4]),this.l=uc(b[5]||"",!0),tc(this,b[6]||"",!0),this.m=uc(b[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}function N(a){return new T(a)}function qc(a,b,c){a.j=c?uc(b,!0):b,a.j&&(a.j=a.j.replace(/:$/,""))}function rc(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.s=b}else a.s=null}function tc(a,b,c){b instanceof sc?(a.i=b,function Ac(a,b){b&&!a.j&&(U(a),a.i=null,a.g.forEach(function(c,d){var e=d.toLowerCase();d!=e&&(Dc(this,d),Lb(this,e,c))},a)),a.j=b}(a.i,a.h)):(c||(b=vc(b,Bc)),a.i=new sc(b,a.h))}function S(a,b,c){a.i.set(b,c)}function Ib(a){return S(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function uc(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function vc(a,b,c){return"string"==typeof a?(a=encodeURI(a).replace(b,Cc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Cc(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}T.prototype.toString=function(){var a=[],b=this.j;b&&a.push(vc(b,wc,!0),":");var c=this.g;return(c||"file"==b)&&(a.push("//"),(b=this.o)&&a.push(vc(b,wc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.s)&&a.push(":",String(c))),(c=this.l)&&(this.g&&"/"!=c.charAt(0)&&a.push("/"),a.push(vc(c,"/"==c.charAt(0)?xc:yc,!0))),(c=this.i.toString())&&a.push("?",c),(c=this.m)&&a.push("#",vc(c,zc)),a.join("")};var a,wc=/[#\/\?@]/g,yc=/[#\?:]/g,xc=/[#\?]/g,Bc=/[#\?@]/g,zc=/#/g;function sc(a,b){this.h=this.g=null,this.i=a||null,this.j=!!b}function U(a){a.g||(a.g=new Map,a.h=0,a.i&&function pc(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}function Dc(a,b){U(a),b=V(a,b),a.g.has(b)&&(a.i=null,a.h-=a.g.get(b).length,a.g.delete(b))}function Ec(a,b){return U(a),b=V(a,b),a.g.has(b)}function Lb(a,b,c){Dc(a,b),0<c.length&&(a.i=null,a.g.set(V(a,b),la(c)),a.h+=c.length)}function V(a,b){return b=String(b),a.j&&(b=b.toLowerCase()),b}function W(a,b,c,d,e){try{e&&(e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null),d(c)}catch(f){}}function Hc(){this.g=new jb}function Ic(a,b,c){const d=c||"";try{nc(a,function(e,f){let g=e;n(e)&&(g=hb(e)),b.push(d+f+"="+encodeURIComponent(g))})}catch(e){throw b.push(d+"type="+encodeURIComponent("_badmap")),e}}function Jc(a){this.l=a.Ub||null,this.j=a.eb||!1}function Kc(a,b){E.call(this),this.D=a,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nc(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}function Mc(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Lc(a)}function Lc(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Oc(a){let b="";return qa(a,function(c,d){b+=d,b+=":",b+=c,b+="\r\n"}),b}function Pc(a,b,c){a:{for(d in c){var d=!1;break a}d=!0}d||(c=Oc(c),"string"==typeof a?null!=c&&encodeURIComponent(String(c)):S(a,b,c))}function X(a){E.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(h=sc.prototype).add=function(a,b){U(this),this.i=null,a=V(this,a);var c=this.g.get(a);return c||this.g.set(a,c=[]),c.push(b),this.h+=1,this},h.forEach=function(a,b){U(this),this.g.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)},h.na=function(){U(this);const a=Array.from(this.g.values()),b=Array.from(this.g.keys()),c=[];for(let d=0;d<b.length;d++){const e=a[d];for(let f=0;f<e.length;f++)c.push(b[d])}return c},h.V=function(a){U(this);let b=[];if("string"==typeof a)Ec(this,a)&&(b=b.concat(this.g.get(V(this,a))));else{a=Array.from(this.g.values());for(let c=0;c<a.length;c++)b=b.concat(a[c])}return b},h.set=function(a,b){return U(this),this.i=null,Ec(this,a=V(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[b]),this.h+=1,this},h.get=function(a,b){return a&&0<(a=this.V(a)).length?String(a[0]):b},h.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],b=Array.from(this.g.keys());for(var c=0;c<b.length;c++){var d=b[c];const f=encodeURIComponent(String(d)),g=this.V(d);for(d=0;d<g.length;d++){var e=f;""!==g[d]&&(e+="="+encodeURIComponent(String(g[d]))),a.push(e)}}return this.i=a.join("&")},r(Jc,kb),Jc.prototype.g=function(){return new Kc(this.l,this.j)},Jc.prototype.i=(a={},function(){return a}),r(Kc,E),(h=Kc.prototype).open=function(a,b){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=b,this.readyState=1,Lc(this)},h.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(b.body=a),(this.D||k).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},h.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=0},h.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==k.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nc(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))},h.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var b=a.value?a.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!a.done}))&&(this.response=this.responseText+=b)}a.done?Mc(this):Lc(this),3==this.readyState&&Nc(this)}},h.Ra=function(a){this.g&&(this.response=this.responseText=a,Mc(this))},h.Qa=function(a){this.g&&(this.response=a,Mc(this))},h.ga=function(){this.g&&Mc(this)},h.setRequestHeader=function(a,b){this.u.append(a,b)},h.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},h.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],b=this.h.entries();for(var c=b.next();!c.done;)c=c.value,a.push(c[0]+": "+c[1]),c=b.next();return a.join("\r\n")},Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}}),r(X,E);var Qc=/^https?$/i,Rc=["POST","PUT"];function Sc(a,b){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=b,a.m=5,Uc(a),Vc(a)}function Uc(a){a.A||(a.A=!0,F(a,"complete"),F(a,"error"))}function Wc(a){if(a.h&&void 0!==fa&&(!a.v[1]||4!=P(a)||2!=a.Z()))if(a.u&&4==P(a))bb(a.Ea,0,a);else if(F(a,"readystatechange"),4==P(a)){a.h=!1;try{const g=a.Z();a:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}var c;if(!(c=b)){var d;if(d=0===g){var e=String(a.D).match(oc)[1]||null;!e&&k.self&&k.self.location&&(e=k.self.location.protocol.slice(0,-1)),d=!Qc.test(e?e.toLowerCase():"")}c=d}if(c)F(a,"complete"),F(a,"success");else{a.m=6;try{var f=2<P(a)?a.g.statusText:""}catch(m){f=""}a.l=f+" ["+a.Z()+"]",Uc(a)}}finally{Vc(a)}}}function Vc(a,b){if(a.g){Tc(a);const c=a.g,d=a.v[0]?()=>{}:null;a.g=null,a.v=null,b||F(a,"ready");try{c.onreadystatechange=d}catch(e){}}}function Tc(a){a.I&&(k.clearTimeout(a.I),a.I=null)}function P(a){return a.g?a.g.readyState:0}function Nb(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}function Xc(a,b,c){return c&&c.internalChannelParams&&c.internalChannelParams[a]||b}function Yc(a){this.Aa=0,this.i=[],this.j=new vb,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xc("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xc("baseRetryDelayMs",5e3,a),this.cb=Xc("retryDelaySeedMs",1e4,a),this.Wa=Xc("forwardChannelMaxRetries",2,a),this.wa=Xc("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ic(a&&a.concurrentRequestLimit),this.Da=new Hc,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function gc(a){if(Zc(a),3==a.G){var b=a.U++,c=N(a.I);if(S(c,"SID",a.K),S(c,"RID",b),S(c,"TYPE","terminate"),$c(a,c),(b=new M(a,a.j,b)).L=2,b.v=Ib(N(c)),c=!1,k.navigator&&k.navigator.sendBeacon)try{c=k.navigator.sendBeacon(b.v.toString(),"")}catch(d){}!c&&k.Image&&((new Image).src=b.v,c=!0),c||(b.g=Mb(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Kb(b)}ad(a)}function Zb(a){a.g&&(Tb(a),a.g.cancel(),a.g=null)}function Zc(a){Zb(a),a.u&&(k.clearTimeout(a.u),a.u=null),Yb(a),a.h.cancel(),a.s&&("number"==typeof a.s&&k.clearTimeout(a.s),a.s=null)}function fc(a){if(!jc(a.h)&&!a.s){a.s=!0;var b=a.Ga;x||Ea(),y||(x(),y=!0),za.add(b,a),a.B=0}}function ed(a,b){var c;c=b?b.l:a.U++;const d=N(a.I);S(d,"SID",a.K),S(d,"RID",c),S(d,"AID",a.T),$c(a,d),a.m&&a.o&&Pc(d,a.m,a.o),c=new M(a,a.j,c,a.B+1),null===a.m&&(c.H=a.o),b&&(a.i=b.D.concat(a.i)),b=dd(a,c,1e3),c.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),bc(a.h,c),Hb(c,d,b)}function $c(a,b){a.H&&qa(a.H,function(c,d){S(b,d,c)}),a.l&&nc({},function(c,d){S(b,d,c)})}function dd(a,b,c){c=Math.min(a.i.length,c);var d=a.l?p(a.l.Na,a.l,a):null;a:{var e=a.i;let f=-1;for(;;){const g=["count="+c];-1==f?0<c?(f=e[0].g,g.push("ofs="+f)):f=0:g.push("ofs="+f);let m=!0;for(let q=0;q<c;q++){let l=e[q].g;const v=e[q].map;if(l-=f,0>l)f=Math.max(0,e[q].g-100),m=!1;else try{Ic(v,g,"req"+l+"_")}catch(w){d&&d(v)}}if(m){d=g.join("&");break a}}}return a=a.i.splice(0,c),b.D=a,d}function ec(a){if(!a.g&&!a.u){a.Y=1;var b=a.Fa;x||Ea(),y||(x(),y=!0),za.add(b,a),a.v=0}}function $b(a){return!(a.g||a.u||3<=a.v)&&(a.Y++,a.u=ub(p(a.Fa,a),cd(a,a.v)),a.v++,!0)}function Tb(a){null!=a.A&&(k.clearTimeout(a.A),a.A=null)}function fd(a){a.g=new M(a,a.j,"rpc",a.Y),null===a.m&&(a.g.H=a.o),a.g.O=0;var b=N(a.qa);S(b,"RID","rpc"),S(b,"SID",a.K),S(b,"AID",a.T),S(b,"CI",a.F?"0":"1"),!a.F&&a.ja&&S(b,"TO",a.ja),S(b,"TYPE","xmlhttp"),$c(a,b),a.m&&a.o&&Pc(b,a.m,a.o),a.L&&(a.g.I=a.L);var c=a.g;a=a.ia,c.L=1,c.v=Ib(N(b)),c.m=null,c.P=!0,Jb(c,a)}function Yb(a){null!=a.C&&(k.clearTimeout(a.C),a.C=null)}function Ub(a,b){var c=null;if(a.g==b){Yb(a),Tb(a),a.g=null;var d=2}else{if(!Xb(a.h,b))return;c=b.D,dc(a.h,b),d=1}if(0!=a.G)if(b.o)if(1==d){c=b.m?b.m.length:0,b=Date.now()-b.F;var e=a.B;F(d=qb(),new tb(d,c)),fc(a)}else ec(a);else if(3==(e=b.s)||0==e&&0<b.X||!(1==d&&function bd(a,b){return!(ac(a.h)>=a.h.j-(a.s?1:0)||(a.s?(a.i=b.D.concat(a.i),0):1==a.G||2==a.G||a.B>=(a.Va?0:a.Wa)||(a.s=ub(p(a.Ga,a,b),cd(a,a.B)),a.B++,0)))}(a,b)||2==d&&$b(a)))switch(c&&0<c.length&&(b=a.h,b.i=b.i.concat(c)),e){case 1:R(a,5);break;case 4:R(a,10);break;case 3:R(a,6);break;default:R(a,2)}}function cd(a,b){let c=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(c*=2),c*b}function R(a,b){if(a.j.info("Error code "+b),2==b){var c=p(a.fb,a),d=a.Xa;const e=!d;d=new T(d||"//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||qc(d,"https"),Ib(d),e?function Fc(a,b){const c=new vb;if(k.Image){const d=new Image;d.onload=ka(W,c,"TestLoadImage: loaded",!0,b,d),d.onerror=ka(W,c,"TestLoadImage: error",!1,b,d),d.onabort=ka(W,c,"TestLoadImage: abort",!1,b,d),d.ontimeout=ka(W,c,"TestLoadImage: timeout",!1,b,d),k.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=a}else b(!1)}(d.toString(),c):function Gc(a,b){new vb;const d=new AbortController,e=setTimeout(()=>{d.abort(),W(0,0,!1,b)},1e4);fetch(a,{signal:d.signal}).then(f=>{clearTimeout(e),f.ok?W(0,0,!0,b):W(0,0,!1,b)}).catch(()=>{clearTimeout(e),W(0,0,!1,b)})}(d.toString(),c)}else K(2);a.G=0,a.l&&a.l.sa(b),ad(a),Zc(a)}function ad(a){if(a.G=0,a.ka=[],a.l){const b=kc(a.h);0==b.length&&0==a.i.length||(ma(a.ka,b),ma(a.ka,a.i),a.h.i.length=0,la(a.i),a.i.length=0),a.l.ra()}}function cc(a,b,c){var d=c instanceof T?N(c):new T(c);if(""!=d.g)b&&(d.g=b+"."+d.g),rc(d,d.s);else{var e=k.location;d=e.protocol,b=b?b+"."+e.hostname:e.hostname,e=+e.port;var f=new T(null);d&&qc(f,d),b&&(f.g=b),e&&rc(f,e),c&&(f.l=c),d=f}return c=a.D,b=a.ya,c&&b&&S(d,c,b),S(d,"VER",a.la),$c(a,d),d}function Mb(a,b,c){if(b&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return(b=a.Ca&&!a.pa?new X(new Jc({eb:c})):new X(a.pa)).Ha(a.J),b}function gd(){}function hd(){}function Y(a,b){E.call(this),this.g=new Yc(b),this.l=a,this.h=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(a?a["X-WebChannel-Client-Profile"]=b.va:a={"X-WebChannel-Client-Profile":b.va}),this.g.S=a,(a=b&&b.Sb)&&!t(a)&&(this.g.m=a),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!t(b)&&(this.g.D=b,null!==(a=this.h)&&b in a&&(b in(a=this.h)&&delete a[b])),this.j=new Z(this)}function id(a){nb.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var b=a.__sm__;if(b){a:{for(const c in b){a=c;break a}a=void 0}(this.i=a)&&(a=this.i,b=null!==b&&a in b?b[a]:void 0),this.data=b}else this.data=a}function jd(){ob.call(this),this.status=1}function Z(a){this.g=a}(h=X.prototype).Ha=function(a){this.J=a},h.ea=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);b=b?b.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cb.g(),this.v=this.o?lb(this.o):lb(Cb),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(a),!0),this.B=!1}catch(f){return void Sc(this,f)}if(a=c||"",c=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else{if("function"!=typeof d.keys||"function"!=typeof d.get)throw Error("Unknown input type for opt_headers: "+String(d));for(const f of d.keys())c.set(f,d.get(f))}d=Array.from(c.keys()).find(f=>"content-type"==f.toLowerCase()),e=k.FormData&&a instanceof k.FormData,!(0<=Array.prototype.indexOf.call(Rc,b,void 0))||d||e||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,g]of c)this.g.setRequestHeader(f,g);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tc(this),this.u=!0,this.g.send(a),this.u=!1}catch(f){Sc(this,f)}},h.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,F(this,"complete"),F(this,"abort"),Vc(this))},h.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),X.aa.N.call(this)},h.Ea=function(){this.s||(this.B||this.u||this.j?Wc(this):this.bb())},h.bb=function(){Wc(this)},h.isActive=function(){return!!this.g},h.Z=function(){try{return 2<P(this)?this.g.status:-1}catch(a){return-1}},h.oa=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},h.Oa=function(a){if(this.g){var b=this.g.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),ib(b)}},h.Ba=function(){return this.m},h.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(h=Yc.prototype).la=8,h.G=1,h.connect=function(a,b,c,d){K(0),this.W=a,this.H=b||{},c&&void 0!==d&&(this.H.OSID=c,this.H.OAID=d),this.F=this.X,this.I=cc(this,null,this.W),fc(this)},h.Ga=function(a){if(this.s)if(this.s=null,1==this.G){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const e=new M(this,this.j,a);let f=this.o;if(this.S&&(f?(f=sa(f),ua(f,this.S)):f=this.S),null!==this.m||this.O||(e.H=f,f=null),this.P)a:{for(var b=0,c=0;c<this.i.length;c++){var d=this.i[c];if(void 0===(d="__data__"in d.map&&"string"==typeof(d=d.map.__data__)?d.length:void 0))break;if(4096<(b+=d)){b=c;break a}if(4096===b||c===this.i.length-1){b=c+1;break a}}b=1e3}else b=1e3;b=dd(this,e,b),S(c=N(this.I),"RID",a),S(c,"CVER",22),this.D&&S(c,"X-HTTP-Session-Id",this.D),$c(this,c),f&&(this.O?b="headers="+encodeURIComponent(String(Oc(f)))+"&"+b:this.m&&Pc(c,this.m,f)),bc(this.h,e),this.Ua&&S(c,"TYPE","init"),this.P?(S(c,"$req",b),S(c,"SID","null"),e.T=!0,Hb(e,c,null)):Hb(e,c,b),this.G=2}}else 3==this.G&&(a?ed(this,a):0==this.i.length||jc(this.h)||ed(this))},h.Fa=function(){if(this.u=null,fd(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ub(p(this.ab,this),a)}},h.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),Zb(this),fd(this))},h.Za=function(){null!=this.C&&(this.C=null,Zb(this),$b(this),K(19))},h.fb=function(a){a?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))},h.isActive=function(){return!!this.l&&this.l.isActive(this)},(h=gd.prototype).ua=function(){},h.ta=function(){},h.sa=function(){},h.ra=function(){},h.isActive=function(){return!0},h.Na=function(){},hd.prototype.g=function(a,b){return new Y(a,b)},r(Y,E),Y.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Y.prototype.close=function(){gc(this.g)},Y.prototype.o=function(a){var b=this.g;if("string"==typeof a){var c={};c.__data__=a,a=c}else this.u&&((c={}).__data__=hb(a),a=c);b.i.push(new hc(b.Ya++,a)),3==b.G&&fc(b)},Y.prototype.N=function(){this.g.l=null,delete this.j,gc(this.g),delete this.g,Y.aa.N.call(this)},r(id,nb),r(jd,ob),r(Z,gd),Z.prototype.ua=function(){F(this.g,"a")},Z.prototype.ta=function(a){F(this.g,new id(a))},Z.prototype.sa=function(a){F(this.g,new jd)},Z.prototype.ra=function(){F(this.g,"b")},hd.prototype.createWebChannel=hd.prototype.g,Y.prototype.send=Y.prototype.o,Y.prototype.open=Y.prototype.m,Y.prototype.close=Y.prototype.close,createWebChannelTransport=webchannel_blob_es2018.createWebChannelTransport=function(){return new hd},getStatEventTarget=webchannel_blob_es2018.getStatEventTarget=function(){return qb()},webchannel_blob_es2018_Event=webchannel_blob_es2018.Event=I,Stat=webchannel_blob_es2018.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ab.NO_ERROR=0,Ab.TIMEOUT=8,Ab.HTTP_ERROR=6,ErrorCode=webchannel_blob_es2018.ErrorCode=Ab,Bb.COMPLETE="complete",EventType=webchannel_blob_es2018.EventType=Bb,mb.EventType=H,H.OPEN="a",H.CLOSE="b",H.ERROR="c",H.MESSAGE="d",E.prototype.listen=E.prototype.K,WebChannel=webchannel_blob_es2018.WebChannel=mb,webchannel_blob_es2018.FetchXmlHttpFactory=Jc,X.prototype.listenOnce=X.prototype.L,X.prototype.getLastError=X.prototype.Ka,X.prototype.getLastErrorCode=X.prototype.Ba,X.prototype.getStatus=X.prototype.Z,X.prototype.getResponseJson=X.prototype.Oa,X.prototype.getResponseText=X.prototype.oa,X.prototype.send=X.prototype.ea,X.prototype.setWithCredentials=X.prototype.Ha,XhrIo=webchannel_blob_es2018.XhrIo=X}).apply(void 0!==webchannel_blob_es2018_commonjsGlobal?webchannel_blob_es2018_commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const F="@firebase/firestore",M="4.8.0";class User{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let x="11.10.0";const O=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return O.logLevel}function __PRIVATE_logDebug(e,...t){if(O.logLevel<=LogLevel.DEBUG){const n=t.map(__PRIVATE_argToString);O.debug(`Firestore (${x}): ${e}`,...n)}}function __PRIVATE_logError(e,...t){if(O.logLevel<=LogLevel.ERROR){const n=t.map(__PRIVATE_argToString);O.error(`Firestore (${x}): ${e}`,...n)}}function __PRIVATE_logWarn(e,...t){if(O.logLevel<=LogLevel.WARN){const n=t.map(__PRIVATE_argToString);O.warn(`Firestore (${x}): ${e}`,...n)}}function __PRIVATE_argToString(e){if("string"==typeof e)return e;try{return function __PRIVATE_formatJSON(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fail(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,__PRIVATE__fail(e,r,n)}function __PRIVATE__fail(e,t,n){let r=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw __PRIVATE_logError(r),new Error(r)}function __PRIVATE_hardAssert(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||__PRIVATE__fail(t,i,r)}function __PRIVATE_debugCast(e,t){return e}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class __PRIVATE_OAuthToken{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){__PRIVATE_hardAssert(void 0===this.o,42304);let n=this.i;const __PRIVATE_guardedChangeListener=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new __PRIVATE_Deferred,e.enqueueRetryable(()=>__PRIVATE_guardedChangeListener(this.currentUser))};const __PRIVATE_awaitNextToken=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await __PRIVATE_guardedChangeListener(this.currentUser)})},__PRIVATE_registerAuth=e=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),__PRIVATE_awaitNextToken())};this.t.onInit(e=>__PRIVATE_registerAuth(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?__PRIVATE_registerAuth(e):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new __PRIVATE_Deferred)}},0),__PRIVATE_awaitNextToken()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(__PRIVATE_hardAssert("string"==typeof t.accessToken,31837,{l:t}),new __PRIVATE_OAuthToken(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(null===e||"string"==typeof e,2055,{h:e}),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,index_esm2017_isFirebaseServerApp(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(e,t){__PRIVATE_hardAssert(void 0===this.o,3512);const onTokenChanged=e=>{null!=e.error&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>onTokenChanged(t))};const __PRIVATE_registerAppCheck=e=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>__PRIVATE_registerAppCheck(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?__PRIVATE_registerAppCheck(e):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(__PRIVATE_hardAssert("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new AppCheckToken(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function __PRIVATE_randomBytes(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}function __PRIVATE_newTextEncoder(){return new TextEncoder}class __PRIVATE_AutoId{static newId(){const t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=__PRIVATE_randomBytes(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[i]%62))}return n}}function __PRIVATE_primitiveComparator(e,t){return e<t?-1:e>t?1:0}function __PRIVATE_compareUtf8Strings(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return __PRIVATE_primitiveComparator(r,i);{const s=__PRIVATE_newTextEncoder(),o=__PRIVATE_compareByteArrays$1(s.encode(__PRIVATE_getUtf8SafeSubstring(e,n)),s.encode(__PRIVATE_getUtf8SafeSubstring(t,n)));return 0!==o?o:__PRIVATE_primitiveComparator(r,i)}}n+=r>65535?2:1}return __PRIVATE_primitiveComparator(e.length,t.length)}function __PRIVATE_getUtf8SafeSubstring(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function __PRIVATE_compareByteArrays$1(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return __PRIVATE_primitiveComparator(e[n],t[n]);return __PRIVATE_primitiveComparator(e.length,t.length)}function __PRIVATE_arrayEquals(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const B="__name__";class BasePath{constructor(e,t,n){void 0===t?t=0:t>e.length&&fail(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&fail(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===BasePath.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=BasePath.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return __PRIVATE_primitiveComparator(e.length,t.length)}static compareSegments(e,t){const n=BasePath.isNumericId(e),r=BasePath.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?BasePath.extractNumericId(e).compare(BasePath.extractNumericId(t)):__PRIVATE_compareUtf8Strings(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Integer.fromString(e.substring(4,e.length-2))}}class ResourcePath extends BasePath{construct(e,t,n){return new ResourcePath(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ResourcePath(t)}static emptyPath(){return new ResourcePath([])}}const L=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,t,n){return new FieldPath$1(e,t,n)}static isValidIdentifier(e){return L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===B}static keyField(){return new FieldPath$1([B])}static fromServerFormat(e){const t=[];let n="",r=0;const __PRIVATE_addCurrentSegment=()=>{if(0===n.length)throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new FirestoreError(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new FirestoreError(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(__PRIVATE_addCurrentSegment(),r++)}if(__PRIVATE_addCurrentSegment(),i)throw new FirestoreError(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(t)}static emptyPath(){return new FieldPath$1([])}}class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ResourcePath.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ResourcePath.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_validateNonEmptyArgument(e,t,n){if(!n)throw new FirestoreError(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function __PRIVATE_validateDocumentPath(e){if(!DocumentKey.isDocumentKey(e))throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_validateCollectionPath(e){if(DocumentKey.isDocumentKey(e))throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_isPlainObject(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function __PRIVATE_valueDescription(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function __PRIVATE_tryGetCustomObjectType(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":fail(12329,{type:typeof e})}function __PRIVATE_cast(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new FirestoreError(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(e);throw new FirestoreError(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function __PRIVATE_validatePositiveNumber(e,t){if(t<=0)throw new FirestoreError(N.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function property(e,t){const n={typeString:e};return t&&(n.value=t),n}function __PRIVATE_validateJSON(e,t){if(!__PRIVATE_isPlainObject(e))throw new FirestoreError(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new FirestoreError(N.INVALID_ARGUMENT,n);return!0}const k=-62135596800,q=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*q);return new Timestamp(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<k)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Timestamp._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(__PRIVATE_validateJSON(e,Timestamp._jsonSchema))return new Timestamp(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Timestamp._jsonSchemaVersion="firestore/timestamp/1.0",Timestamp._jsonSchema={type:property("string",Timestamp._jsonSchemaVersion),seconds:property("number"),nanoseconds:property("number")};class SnapshotVersion{static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Q=-1;class FieldIndex{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}FieldIndex.UNKNOWN_ID=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=SnapshotVersion.fromTimestamp(1e9===r?new Timestamp(n+1,0):new Timestamp(n,r));return new IndexOffset(i,DocumentKey.empty(),t)}function __PRIVATE_newIndexOffsetFromDocument(e){return new IndexOffset(e.readTime,e.key,Q)}class IndexOffset{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),Q)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),Q)}}function __PRIVATE_indexOffsetComparator(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=DocumentKey.comparator(e.documentKey,t.documentKey),0!==n?n:__PRIVATE_primitiveComparator(e.largestBatchId,t.largestBatchId))}const $="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function __PRIVATE_ignoreIfPrimaryLeaseLoss(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==$)throw e;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof PersistencePromise?t:PersistencePromise.resolve(t)}catch(e){return PersistencePromise.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):PersistencePromise.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):PersistencePromise.reject(t)}static resolve(e){return new PersistencePromise((t,n)=>{t(e)})}static reject(e){return new PersistencePromise((t,n)=>{n(e)})}static waitFor(e){return new PersistencePromise((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=PersistencePromise.resolve(!1);for(const n of e)t=t.next(e=>e?PersistencePromise.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new PersistencePromise((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let _=0;_<i;_++){const a=_;t(e[a]).next(e=>{s[a]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new PersistencePromise((n,r)=>{const process=()=>{!0===e()?t().next(()=>{process()},r):n()};process()})}}function __PRIVATE_getAndroidVersion(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function __PRIVATE_isIndexedDbTransactionError(e){return"IndexedDbTransactionError"===e.name}class __PRIVATE_ListenSequence{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}__PRIVATE_ListenSequence.ue=-1;const G=-1;function __PRIVATE_isNullOrUndefined(e){return null==e}function __PRIVATE_isNegativeZero(e){return 0===e&&1/e==-1/0}function isSafeInteger(e){return"number"==typeof e&&Number.isInteger(e)&&!__PRIVATE_isNegativeZero(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const z="";function __PRIVATE_encodeResourcePath(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=__PRIVATE_encodeSeparator(t)),t=__PRIVATE_encodeSegment(e.get(n),t);return __PRIVATE_encodeSeparator(t)}function __PRIVATE_encodeSegment(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case z:n+="";break;default:n+=r}}return n}function __PRIVATE_encodeSeparator(e){return e+z+""}const j="remoteDocuments",J="owner",Y="mutationQueues",X="mutations";const ie="documentMutations",se="remoteDocumentsV14",le="remoteDocumentGlobal",Pe="targets",de="targetDocuments",me="targetGlobal",fe="collectionParents",pe="clientMetadata",we="bundles",be="namedQueries",ve="indexConfiguration",xe="indexState",Le="indexEntries",$e="documentOverlays",je="globals",He=[Y,X,ie,j,Pe,J,me,de,pe,le,fe,we,be],Ze=[Y,X,ie,se,Pe,J,me,de,pe,le,fe,we,be,$e],Xe=Ze,et=[...Xe,ve,xe,Le];function __PRIVATE_objectSize(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function forEach(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function index_esm2017_isEmpty(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class SortedMap{constructor(e,t){this.comparator=e,this.root=t||LLRBNode.EMPTY}insert(e,t){return new SortedMap(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:LLRBNode.RED,this.left=null!=r?r:LLRBNode.EMPTY,this.right=null!=i?i:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return LLRBNode.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fail(27949);return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode.EMPTY=new class LLRBEmptyNode{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new LLRBNode(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof SortedSet))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new SortedSet(this.comparator);return t.data=e,t}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let t=new SortedSet(FieldPath$1.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new FieldMask(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function __PRIVATE_decodeBase64(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+e):e}}(e);return new ByteString(t)}static fromUint8Array(e){const t=function __PRIVATE_binaryStringFromUint8Array(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ByteString(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function __PRIVATE_encodeBase64(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function __PRIVATE_uint8ArrayFromBinaryString(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const it=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(e){if(__PRIVATE_hardAssert(!!e,39018),"string"==typeof e){let t=0;const n=it.exec(e);if(__PRIVATE_hardAssert(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:__PRIVATE_normalizeNumber(e.seconds),nanos:__PRIVATE_normalizeNumber(e.nanos)}}function __PRIVATE_normalizeNumber(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function __PRIVATE_normalizeByteString(e){return"string"==typeof e?ByteString.fromBase64String(e):ByteString.fromUint8Array(e)}const st="server_timestamp",ot="__type__",_t="__previous_value__",at="__local_write_time__";function __PRIVATE_isServerTimestamp(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ot])||void 0===n?void 0:n.stringValue)===st}function __PRIVATE_getPreviousValue(e){const t=e.mapValue.fields[_t];return __PRIVATE_isServerTimestamp(t)?__PRIVATE_getPreviousValue(t):t}function __PRIVATE_getLocalWriteTime(e){const t=__PRIVATE_normalizeTimestamp(e.mapValue.fields[at].timestampValue);return new Timestamp(t.seconds,t.nanos)}class DatabaseInfo{constructor(e,t,n,r,i,s,o,_,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=_,this.useFetchStreams=a,this.isUsingEmulator=u}}const ut="(default)";class DatabaseId{constructor(e,t){this.projectId=e,this.database=t||ut}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ut}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}const ct="__type__",lt="__max__",ht={mapValue:{fields:{__type__:{stringValue:lt}}}},Pt="__vector__",Tt="value";function __PRIVATE_typeOrder(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?__PRIVATE_isServerTimestamp(e)?4:__PRIVATE_isMaxValue(e)?9007199254740991:__PRIVATE_isVectorValue(e)?10:11:fail(28295,{value:e})}function __PRIVATE_valueEquals(e,t){if(e===t)return!0;const n=__PRIVATE_typeOrder(e);if(n!==__PRIVATE_typeOrder(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(e).isEqual(__PRIVATE_getLocalWriteTime(t));case 3:return function __PRIVATE_timestampEquals(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=__PRIVATE_normalizeTimestamp(e.timestampValue),r=__PRIVATE_normalizeTimestamp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function __PRIVATE_blobEquals(e,t){return __PRIVATE_normalizeByteString(e.bytesValue).isEqual(__PRIVATE_normalizeByteString(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function __PRIVATE_geoPointEquals(e,t){return __PRIVATE_normalizeNumber(e.geoPointValue.latitude)===__PRIVATE_normalizeNumber(t.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(e.geoPointValue.longitude)===__PRIVATE_normalizeNumber(t.geoPointValue.longitude)}(e,t);case 2:return function __PRIVATE_numberEquals(e,t){if("integerValue"in e&&"integerValue"in t)return __PRIVATE_normalizeNumber(e.integerValue)===__PRIVATE_normalizeNumber(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=__PRIVATE_normalizeNumber(e.doubleValue),r=__PRIVATE_normalizeNumber(t.doubleValue);return n===r?__PRIVATE_isNegativeZero(n)===__PRIVATE_isNegativeZero(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return __PRIVATE_arrayEquals(e.arrayValue.values||[],t.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function __PRIVATE_objectEquals(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(__PRIVATE_objectSize(n)!==__PRIVATE_objectSize(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!__PRIVATE_valueEquals(n[e],r[e])))return!1;return!0}(e,t);default:return fail(52216,{left:e})}}function __PRIVATE_arrayValueContains(e,t){return void 0!==(e.values||[]).find(e=>__PRIVATE_valueEquals(e,t))}function __PRIVATE_valueCompare(e,t){if(e===t)return 0;const n=__PRIVATE_typeOrder(e),r=__PRIVATE_typeOrder(t);if(n!==r)return __PRIVATE_primitiveComparator(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(e.booleanValue,t.booleanValue);case 2:return function __PRIVATE_compareNumbers(e,t){const n=__PRIVATE_normalizeNumber(e.integerValue||e.doubleValue),r=__PRIVATE_normalizeNumber(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return __PRIVATE_compareTimestamps(e.timestampValue,t.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(e),__PRIVATE_getLocalWriteTime(t));case 5:return __PRIVATE_compareUtf8Strings(e.stringValue,t.stringValue);case 6:return function __PRIVATE_compareBlobs(e,t){const n=__PRIVATE_normalizeByteString(e),r=__PRIVATE_normalizeByteString(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function __PRIVATE_compareReferences(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=__PRIVATE_primitiveComparator(n[e],r[e]);if(0!==t)return t}return __PRIVATE_primitiveComparator(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function __PRIVATE_compareGeoPoints(e,t){const n=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(t.latitude));return 0!==n?n:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(e.longitude),__PRIVATE_normalizeNumber(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return __PRIVATE_compareArrays(e.arrayValue,t.arrayValue);case 10:return function __PRIVATE_compareVectors(e,t){var n,r,i,s;const o=e.fields||{},_=t.fields||{},a=null===(n=o[Tt])||void 0===n?void 0:n.arrayValue,u=null===(r=_[Tt])||void 0===r?void 0:r.arrayValue,c=__PRIVATE_primitiveComparator((null===(i=null==a?void 0:a.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:__PRIVATE_compareArrays(a,u)}(e.mapValue,t.mapValue);case 11:return function __PRIVATE_compareMaps(e,t){if(e===ht.mapValue&&t===ht.mapValue)return 0;if(e===ht.mapValue)return 1;if(t===ht.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=__PRIVATE_compareUtf8Strings(r[e],s[e]);if(0!==t)return t;const o=__PRIVATE_valueCompare(n[r[e]],i[s[e]]);if(0!==o)return o}return __PRIVATE_primitiveComparator(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fail(23264,{le:n})}}function __PRIVATE_compareTimestamps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return __PRIVATE_primitiveComparator(e,t);const n=__PRIVATE_normalizeTimestamp(e),r=__PRIVATE_normalizeTimestamp(t),i=__PRIVATE_primitiveComparator(n.seconds,r.seconds);return 0!==i?i:__PRIVATE_primitiveComparator(n.nanos,r.nanos)}function __PRIVATE_compareArrays(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=__PRIVATE_valueCompare(n[e],r[e]);if(t)return t}return __PRIVATE_primitiveComparator(n.length,r.length)}function canonicalId(e){return __PRIVATE_canonifyValue(e)}function __PRIVATE_canonifyValue(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function __PRIVATE_canonifyTimestamp(e){const t=__PRIVATE_normalizeTimestamp(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function __PRIVATE_canonifyByteString(e){return __PRIVATE_normalizeByteString(e).toBase64()}(e.bytesValue):"referenceValue"in e?function __PRIVATE_canonifyReference(e){return DocumentKey.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function __PRIVATE_canonifyGeoPoint(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function __PRIVATE_canonifyArray(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=__PRIVATE_canonifyValue(r);return t+"]"}(e.arrayValue):"mapValue"in e?function __PRIVATE_canonifyMap(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${__PRIVATE_canonifyValue(e.fields[i])}`;return n+"}"}(e.mapValue):fail(61005,{value:e})}function __PRIVATE_estimateByteSize(e){switch(__PRIVATE_typeOrder(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=__PRIVATE_getPreviousValue(e);return t?16+__PRIVATE_estimateByteSize(t):16;case 5:return 2*e.stringValue.length;case 6:return __PRIVATE_normalizeByteString(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function __PRIVATE_estimateArrayByteSize(e){return(e.values||[]).reduce((e,t)=>e+__PRIVATE_estimateByteSize(t),0)}(e.arrayValue);case 10:case 11:return function __PRIVATE_estimateMapByteSize(e){let t=0;return forEach(e.fields,(e,n)=>{t+=e.length+__PRIVATE_estimateByteSize(n)}),t}(e.mapValue);default:throw fail(13486,{value:e})}}function __PRIVATE_refValue(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function isInteger(e){return!!e&&"integerValue"in e}function isArray(e){return!!e&&"arrayValue"in e}function __PRIVATE_isNullValue(e){return!!e&&"nullValue"in e}function __PRIVATE_isNanValue(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function __PRIVATE_isMapValue(e){return!!e&&"mapValue"in e}function __PRIVATE_isVectorValue(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ct])||void 0===n?void 0:n.stringValue)===Pt}function __PRIVATE_deepClone(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return forEach(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=__PRIVATE_deepClone(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=__PRIVATE_deepClone(e.arrayValue.values[n]);return t}return Object.assign({},e)}function __PRIVATE_isMaxValue(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===lt}class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!__PRIVATE_isMapValue(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(t)}setAll(e){let t=FieldPath$1.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=__PRIVATE_deepClone(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());__PRIVATE_isMapValue(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];__PRIVATE_isMapValue(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){forEach(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(e){const t=[];return forEach(e.fields,(e,n)=>{const r=new FieldPath$1([e]);if(__PRIVATE_isMapValue(n)){const e=__PRIVATE_extractFieldMask(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new FieldMask(t)}class MutableDocument{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,t,n,r){return new MutableDocument(e,1,t,SnapshotVersion.min(),n,r,0)}static newNoDocument(e,t){return new MutableDocument(e,2,t,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,t){return new MutableDocument(e,3,t,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(SnapshotVersion.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bound{constructor(e,t){this.position=e,this.inclusive=t}}function __PRIVATE_boundCompareToDocument(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?DocumentKey.comparator(DocumentKey.fromName(o.referenceValue),n.key):__PRIVATE_valueCompare(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function __PRIVATE_boundEquals(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!__PRIVATE_valueEquals(e.position[n],t.position[n]))return!1;return!0}class OrderBy{constructor(e,t="asc"){this.field=e,this.dir=t}}function __PRIVATE_orderByEquals(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Filter{}class FieldFilter extends Filter{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new __PRIVATE_KeyFieldFilter(e,t,n):"array-contains"===t?new __PRIVATE_ArrayContainsFilter(e,n):"in"===t?new __PRIVATE_InFilter(e,n):"not-in"===t?new __PRIVATE_NotInFilter(e,n):"array-contains-any"===t?new __PRIVATE_ArrayContainsAnyFilter(e,n):new FieldFilter(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new __PRIVATE_KeyFieldInFilter(e,n):new __PRIVATE_KeyFieldNotInFilter(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(__PRIVATE_valueCompare(t,this.value)):null!==t&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(t)&&this.matchesComparison(__PRIVATE_valueCompare(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new CompositeFilter(e,t)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(e){return"and"===e.op}function __PRIVATE_compositeFilterIsFlatConjunction(e){return __PRIVATE_compositeFilterIsFlat(e)&&__PRIVATE_compositeFilterIsConjunction(e)}function __PRIVATE_compositeFilterIsFlat(e){for(const t of e.filters)if(t instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(e){if(e instanceof FieldFilter)return e.field.canonicalString()+e.op.toString()+canonicalId(e.value);if(__PRIVATE_compositeFilterIsFlatConjunction(e))return e.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const t=e.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");return`${e.op}(${t})`}}function __PRIVATE_filterEquals(e,t){return e instanceof FieldFilter?function __PRIVATE_fieldFilterEquals(e,t){return t instanceof FieldFilter&&e.op===t.op&&e.field.isEqual(t.field)&&__PRIVATE_valueEquals(e.value,t.value)}(e,t):e instanceof CompositeFilter?function __PRIVATE_compositeFilterEquals(e,t){return t instanceof CompositeFilter&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&__PRIVATE_filterEquals(n,t.filters[r]),!0)}(e,t):void fail(19439)}function __PRIVATE_stringifyFilter(e){return e instanceof FieldFilter?function __PRIVATE_stringifyFieldFilter(e){return`${e.field.canonicalString()} ${e.op} ${canonicalId(e.value)}`}(e):e instanceof CompositeFilter?function __PRIVATE_stringifyCompositeFilter(e){return e.op.toString()+" {"+e.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(e):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,t,n){super(e,t,n),this.key=DocumentKey.fromName(n.referenceValue)}matches(e){const t=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(t)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,t){super(e,"in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,t){super(e,"not-in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>DocumentKey.fromName(e.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return isArray(t)&&__PRIVATE_arrayValueContains(t.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&__PRIVATE_arrayValueContains(this.value.arrayValue,t)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,t){super(e,"not-in",t)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!__PRIVATE_arrayValueContains(this.value.arrayValue,t)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!isArray(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>__PRIVATE_arrayValueContains(this.value.arrayValue,e))}}class __PRIVATE_TargetImpl{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Pe=null}}function __PRIVATE_newTarget(e,t=null,n=[],r=[],i=null,s=null,o=null){return new __PRIVATE_TargetImpl(e,t,n,r,i,s,o)}function __PRIVATE_canonifyTarget(e){const t=__PRIVATE_debugCast(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function __PRIVATE_canonifyOrderBy(e){return e.field.canonicalString()+e.dir}(e)).join(","),__PRIVATE_isNullOrUndefined(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>canonicalId(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>canonicalId(e)).join(",")),t.Pe=e}return t.Pe}function __PRIVATE_targetEquals(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!__PRIVATE_orderByEquals(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!__PRIVATE_filterEquals(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!__PRIVATE_boundEquals(e.startAt,t.startAt)&&__PRIVATE_boundEquals(e.endAt,t.endAt)}function __PRIVATE_targetIsDocumentTarget(e){return DocumentKey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class __PRIVATE_QueryImpl{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(e,t,n,r,i,s,o,_){return new __PRIVATE_QueryImpl(e,t,n,r,i,s,o,_)}function __PRIVATE_newQueryForPath(e){return new __PRIVATE_QueryImpl(e)}function __PRIVATE_queryMatchesAllDocuments(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(e){return null!==e.collectionGroup}function __PRIVATE_queryNormalizedOrderBy(e){const t=__PRIVATE_debugCast(e);if(null===t.Te){t.Te=[];const e=new Set;for(const n of t.explicitOrderBy)t.Te.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function __PRIVATE_getInequalityFilterFields(e){let t=new SortedSet(FieldPath$1.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new OrderBy(r,n))}),e.has(FieldPath$1.keyField().canonicalString())||t.Te.push(new OrderBy(FieldPath$1.keyField(),n))}return t.Te}function __PRIVATE_queryToTarget(e){const t=__PRIVATE_debugCast(e);return t.Ie||(t.Ie=__PRIVATE__queryToTarget(t,__PRIVATE_queryNormalizedOrderBy(e))),t.Ie}function __PRIVATE__queryToTarget(e,t){if("F"===e.limitType)return __PRIVATE_newTarget(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new OrderBy(e.field,t)});const n=e.endAt?new Bound(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Bound(e.startAt.position,e.startAt.inclusive):null;return __PRIVATE_newTarget(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function __PRIVATE_queryWithAddedFilter(e,t){const n=e.filters.concat([t]);return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function __PRIVATE_queryWithLimit(e,t,n){return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function __PRIVATE_queryEquals(e,t){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(e),__PRIVATE_queryToTarget(t))&&e.limitType===t.limitType}function __PRIVATE_canonifyQuery(e){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(e))}|lt:${e.limitType}`}function __PRIVATE_stringifyQuery(e){return`Query(target=${function __PRIVATE_stringifyTarget(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>__PRIVATE_stringifyFilter(e)).join(", ")}]`),__PRIVATE_isNullOrUndefined(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function __PRIVATE_stringifyOrderBy(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>canonicalId(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>canonicalId(e)).join(",")),`Target(${t})`}(__PRIVATE_queryToTarget(e))}; limitType=${e.limitType})`}function __PRIVATE_queryMatches(e,t){return t.isFoundDocument()&&function __PRIVATE_queryMatchesPathAndCollectionGroup(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):DocumentKey.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function __PRIVATE_queryMatchesOrderBy(e,t){for(const n of __PRIVATE_queryNormalizedOrderBy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function __PRIVATE_queryMatchesFilters(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function __PRIVATE_queryMatchesBounds(e,t){return!(e.startAt&&!function __PRIVATE_boundSortsBeforeDocument(e,t,n){const r=__PRIVATE_boundCompareToDocument(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,__PRIVATE_queryNormalizedOrderBy(e),t))&&!(e.endAt&&!function __PRIVATE_boundSortsAfterDocument(e,t,n){const r=__PRIVATE_boundCompareToDocument(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,__PRIVATE_queryNormalizedOrderBy(e),t))}(e,t)}function __PRIVATE_queryCollectionGroup(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function __PRIVATE_newQueryComparator(e){return(t,n)=>{let r=!1;for(const i of __PRIVATE_queryNormalizedOrderBy(e)){const e=__PRIVATE_compareDocs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(e,t,n){const r=e.field.isKeyField()?DocumentKey.comparator(t.key,n.key):function __PRIVATE_compareDocumentsByField(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?__PRIVATE_valueCompare(r,i):fail(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fail(19790,{direction:e.dir})}}class ObjectMap{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(t,n)=>{for(const[t,r]of n)e(t,r)})}isEmpty(){return index_esm2017_isEmpty(this.inner)}size(){return this.innerSize}}const Et=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return Et}const At=new SortedMap(DocumentKey.comparator);function documentMap(...e){let t=At;for(const n of e)t=t.insert(n.key,n);return t}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(e){let t=At;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(e=>e.toString(),(e,t)=>e.isEqual(t))}const Rt=new SortedMap(DocumentKey.comparator),Vt=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...e){let t=Vt;for(const n of e)t=t.add(n);return t}const mt=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return mt}function __PRIVATE_toDouble(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(t)?"-0":t}}function __PRIVATE_toInteger(e){return{integerValue:""+e}}function toNumber(e,t){return isSafeInteger(t)?__PRIVATE_toInteger(t):__PRIVATE_toDouble(e,t)}class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(e,t,n){return e instanceof __PRIVATE_ServerTimestampTransform?function serverTimestamp$1(e,t){const n={fields:{[ot]:{stringValue:st},[at]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&__PRIVATE_isServerTimestamp(t)&&(t=__PRIVATE_getPreviousValue(t)),t&&(n.fields[_t]=t),{mapValue:n}}(n,t):e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,t):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,t):function __PRIVATE_applyNumericIncrementTransformOperationToLocalView(e,t){const n=__PRIVATE_computeTransformOperationBaseValue(e,t),r=asNumber(n)+asNumber(e.Ee);return isInteger(n)&&isInteger(e.Ee)?__PRIVATE_toInteger(r):__PRIVATE_toDouble(e.serializer,r)}(e,t)}function __PRIVATE_applyTransformOperationToRemoteDocument(e,t,n){return e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,t):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,t):n}function __PRIVATE_computeTransformOperationBaseValue(e,t){return e instanceof __PRIVATE_NumericIncrementTransformOperation?function __PRIVATE_isNumber(e){return isInteger(e)||function __PRIVATE_isDouble(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(e,t){const n=__PRIVATE_coercedFieldValuesArray(t);for(const t of e.elements)n.some(e=>__PRIVATE_valueEquals(e,t))||n.push(t);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(e,t){let n=__PRIVATE_coercedFieldValuesArray(t);for(const t of e.elements)n=n.filter(e=>!__PRIVATE_valueEquals(e,t));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function asNumber(e){return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue)}function __PRIVATE_coercedFieldValuesArray(e){return isArray(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class MutationResult{constructor(e,t){this.version=e,this.transformResults=t}}class Precondition{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new __PRIVATE_DeleteMutation(e.key,Precondition.none()):new __PRIVATE_SetMutation(e.key,e.data,Precondition.none());{const n=e.data,r=ObjectValue.empty();let i=new SortedSet(FieldPath$1.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new __PRIVATE_PatchMutation(e.key,r,new FieldMask(i.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(e,t,n){e instanceof __PRIVATE_SetMutation?function __PRIVATE_setMutationApplyToRemoteDocument(e,t,n){const r=e.value.clone(),i=__PRIVATE_serverTransformResults(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof __PRIVATE_PatchMutation?function __PRIVATE_patchMutationApplyToRemoteDocument(e,t,n){if(!__PRIVATE_preconditionIsValidForDocument(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=__PRIVATE_serverTransformResults(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(__PRIVATE_getPatch(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function __PRIVATE_deleteMutationApplyToRemoteDocument(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function __PRIVATE_mutationApplyToLocalView(e,t,n,r){return e instanceof __PRIVATE_SetMutation?function __PRIVATE_setMutationApplyToLocalView(e,t,n,r){if(!__PRIVATE_preconditionIsValidForDocument(e.precondition,t))return n;const i=e.value.clone(),s=__PRIVATE_localTransformResults(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof __PRIVATE_PatchMutation?function __PRIVATE_patchMutationApplyToLocalView(e,t,n,r){if(!__PRIVATE_preconditionIsValidForDocument(e.precondition,t))return n;const i=__PRIVATE_localTransformResults(e.fieldTransforms,r,t),s=t.data;return s.setAll(__PRIVATE_getPatch(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function __PRIVATE_deleteMutationApplyToLocalView(e,t,n){return __PRIVATE_preconditionIsValidForDocument(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function __PRIVATE_mutationExtractBaseValue(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=__PRIVATE_computeTransformOperationBaseValue(r.transform,e||null);null!=i&&(null===n&&(n=ObjectValue.empty()),n.set(r.field,i))}return n||null}function __PRIVATE_mutationEquals(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function __PRIVATE_fieldTransformsAreEqual(e,t){return void 0===e&&void 0===t||!(!e||!t)&&__PRIVATE_arrayEquals(e,t,(e,t)=>function __PRIVATE_fieldTransformEquals(e,t){return e.field.isEqual(t.field)&&function __PRIVATE_transformOperationEquals(e,t){return e instanceof __PRIVATE_ArrayUnionTransformOperation&&t instanceof __PRIVATE_ArrayUnionTransformOperation||e instanceof __PRIVATE_ArrayRemoveTransformOperation&&t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(e.elements,t.elements,__PRIVATE_valueEquals):e instanceof __PRIVATE_NumericIncrementTransformOperation&&t instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(e.Ee,t.Ee):e instanceof __PRIVATE_ServerTimestampTransform&&t instanceof __PRIVATE_ServerTimestampTransform}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function __PRIVATE_serverTransformResults(e,t,n){const r=new Map;__PRIVATE_hardAssert(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,_=t.data.field(s.field);r.set(s.field,__PRIVATE_applyTransformOperationToRemoteDocument(o,_,n[i]))}return r}function __PRIVATE_localTransformResults(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,__PRIVATE_applyTransformOperationToLocalView(e,s,t))}return r}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MutationBatch{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=__PRIVATE_newMutationMap();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const _=__PRIVATE_calculateOverlayMutation(s,o);null!==_&&n.set(r.key,_),s.isValidDocument()||s.convertToNoDocument(SnapshotVersion.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(e,t)=>__PRIVATE_mutationEquals(e,t))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(e,t)=>__PRIVATE_mutationEquals(e,t))}}class MutationBatchResult{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){__PRIVATE_hardAssert(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=function __PRIVATE_documentVersionMap(){return Rt}();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new MutationBatchResult(e,t,n,r)}}class Overlay{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ExistenceFilter{constructor(e,t){this.count=e,this.unchangedNames=t}}var ft,gt;function __PRIVATE_isPermanentError(e){switch(e){case N.OK:return fail(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return fail(15467,{code:e})}}function __PRIVATE_mapCodeFromRpcCode(e){if(void 0===e)return __PRIVATE_logError("GRPC error has no .code"),N.UNKNOWN;switch(e){case ft.OK:return N.OK;case ft.CANCELLED:return N.CANCELLED;case ft.UNKNOWN:return N.UNKNOWN;case ft.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ft.INTERNAL:return N.INTERNAL;case ft.UNAVAILABLE:return N.UNAVAILABLE;case ft.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ft.NOT_FOUND:return N.NOT_FOUND;case ft.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ft.ABORTED:return N.ABORTED;case ft.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ft.DATA_LOSS:return N.DATA_LOSS;default:return fail(39323,{code:e})}}(gt=ft||(ft={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";let pt=null;const yt=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(e){const t=__PRIVATE_newTextEncoder().encode(e),n=new Md5;return n.update(t),new Uint8Array(n.digest())}function __PRIVATE_get64BitUints(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Integer([n,r],0),new Integer([i,s],0)]}class BloomFilter{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${t}`);if(n<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Integer.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Integer.fromNumber(n)));return 1===r.compare(yt)&&(r=new Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=__PRIVATE_getMd5HashValue(e),[n,r]=__PRIVATE_get64BitUints(t);for(let e=0;e<this.hashCount;e++){const t=this.pe(n,r,e);if(!this.ye(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new BloomFilter(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.fe)return;const t=__PRIVATE_getMd5HashValue(e),[n,r]=__PRIVATE_get64BitUints(t);for(let e=0;e<this.hashCount;e++){const t=this.pe(n,r,e);this.we(t)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RemoteEvent{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new RemoteEvent(SnapshotVersion.min(),r,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new TargetChange(n,t,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}class __PRIVATE_DocumentWatchChange{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class __PRIVATE_ExistenceFilterChange{constructor(e,t){this.targetId=e,this.De=t}}class __PRIVATE_WatchTargetChange{constructor(e,t,n=ByteString.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class __PRIVATE_TargetState{constructor(){this.ve=0,this.Ce=__PRIVATE_snapshotChangesMap(),this.Fe=ByteString.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=__PRIVATE_documentKeySet(),t=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fail(38017,{changeType:i})}}),new TargetChange(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=__PRIVATE_snapshotChangesMap()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,__PRIVATE_hardAssert(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.We=e,this.Ge=new Map,this.ze=__PRIVATE_mutableDocumentMap(),this.je=__PRIVATE_documentTargetMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=new SortedMap(__PRIVATE_primitiveComparator)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:fail(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(__PRIVATE_targetIsDocumentTarget(i))if(0===n){const e=new DocumentKey(i.path);this.Xe(t,e,MutableDocument.newNoDocument(e,SnapshotVersion.min()))}else __PRIVATE_hardAssert(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==pt||pt.ct(function __PRIVATE_createExistenceFilterMismatchInfoForTestingHooks(e,t,n,r,i){var s,o,_,a,u,c;const l={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(l.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(a=null===(_=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===_?void 0:_.length)&&void 0!==a?a:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),l}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=__PRIVATE_normalizeByteString(n).toUint8Array()}catch(e){if(e instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new BloomFilter(s,r,i)}catch(e){return __PRIVATE_logWarn(e instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.fe?null:o}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&__PRIVATE_targetIsDocumentTarget(i.target)){const t=new DocumentKey(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,MutableDocument.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=__PRIVATE_documentKeySet();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new RemoteEvent(e,t,this.He,this.ze,n);return this.ze=__PRIVATE_mutableDocumentMap(),this.je=__PRIVATE_documentTargetMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=new SortedMap(__PRIVATE_primitiveComparator),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new __PRIVATE_TargetState,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new SortedSet(__PRIVATE_primitiveComparator),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new __PRIVATE_TargetState),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const wt={asc:"ASCENDING",desc:"DESCENDING"},St={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bt={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function __PRIVATE_toInt32Proto(e,t){return e.useProto3Json||__PRIVATE_isNullOrUndefined(t)?t:{value:t}}function toTimestamp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function __PRIVATE_toBytes(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function __PRIVATE_toVersion(e,t){return toTimestamp(e,t.toTimestamp())}function __PRIVATE_fromVersion(e){return __PRIVATE_hardAssert(!!e,49232),SnapshotVersion.fromTimestamp(function fromTimestamp(e){const t=__PRIVATE_normalizeTimestamp(e);return new Timestamp(t.seconds,t.nanos)}(e))}function __PRIVATE_toResourceName(e,t){return __PRIVATE_toResourcePath(e,t).canonicalString()}function __PRIVATE_toResourcePath(e,t){const n=function __PRIVATE_fullyQualifiedPrefixPath(e){return new ResourcePath(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function __PRIVATE_fromResourceName(e){const t=ResourcePath.fromString(e);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(t),10190,{key:t.toString()}),t}function __PRIVATE_toName(e,t){return __PRIVATE_toResourceName(e.databaseId,t.path)}function fromName(e,t){const n=__PRIVATE_fromResourceName(t);if(n.get(1)!==e.databaseId.projectId)throw new FirestoreError(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new FirestoreError(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(n))}function __PRIVATE_toQueryPath(e,t){return __PRIVATE_toResourceName(e.databaseId,t)}function __PRIVATE_fromQueryPath(e){const t=__PRIVATE_fromResourceName(e);return 4===t.length?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(t)}function __PRIVATE_getEncodedDatabaseId(e){return new ResourcePath(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(e){return __PRIVATE_hardAssert(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function __PRIVATE_toMutationDocument(e,t,n){return{name:__PRIVATE_toName(e,t),fields:n.value.mapValue.fields}}function toMutation(e,t){let n;if(t instanceof __PRIVATE_SetMutation)n={update:__PRIVATE_toMutationDocument(e,t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation)n={delete:__PRIVATE_toName(e,t.key)};else if(t instanceof __PRIVATE_PatchMutation)n={update:__PRIVATE_toMutationDocument(e,t.key,t.data),updateMask:__PRIVATE_toDocumentMask(t.fieldMask)};else{if(!(t instanceof __PRIVATE_VerifyMutation))return fail(16599,{Rt:t.type});n={verify:__PRIVATE_toName(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function __PRIVATE_toFieldTransform(e,t){const n=t.transform;if(n instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw fail(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function __PRIVATE_toPrecondition(e,t){return void 0!==t.updateTime?{updateTime:__PRIVATE_toVersion(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fail(27497)}(e,t.precondition)),n}function __PRIVATE_toDocumentsTarget(e,t){return{documents:[__PRIVATE_toQueryPath(e,t.path)]}}function __PRIVATE_toQueryTarget(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=__PRIVATE_toQueryPath(e,i);const s=function __PRIVATE_toFilters(e){if(0!==e.length)return __PRIVATE_toFilter(CompositeFilter.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function __PRIVATE_toOrder(e){if(0!==e.length)return e.map(e=>function __PRIVATE_toPropertyOrder(e){return{field:__PRIVATE_toFieldPathReference(e.field),direction:__PRIVATE_toDirection(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const _=__PRIVATE_toInt32Proto(e,t.limit);return null!==_&&(n.structuredQuery.limit=_),t.startAt&&(n.structuredQuery.startAt=function __PRIVATE_toStartAtCursor(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function __PRIVATE_toEndAtCursor(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function __PRIVATE_convertQueryTargetToQuery(e){let t=__PRIVATE_fromQueryPath(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){__PRIVATE_hardAssert(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function __PRIVATE_fromFilters(e){const t=__PRIVATE_fromFilter(e);return t instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function __PRIVATE_fromOrder(e){return e.map(e=>function __PRIVATE_fromPropertyOrder(e){return new OrderBy(__PRIVATE_fromFieldPathReference(e.field),function __PRIVATE_fromDirection(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let _=null;n.limit&&(_=function __PRIVATE_fromInt32Proto(e){let t;return t="object"==typeof e?e.value:e,__PRIVATE_isNullOrUndefined(t)?null:t}(n.limit));let a=null;n.startAt&&(a=function __PRIVATE_fromStartAtCursor(e){const t=!!e.before,n=e.values||[];return new Bound(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function __PRIVATE_fromEndAtCursor(e){const t=!e.before,n=e.values||[];return new Bound(n,t)}(n.endAt)),__PRIVATE_newQuery(t,i,o,s,_,"F",a,u)}function __PRIVATE_fromFilter(e){return void 0!==e.unaryFilter?function __PRIVATE_fromUnaryFilter(e){switch(e.unaryFilter.op){case"IS_NAN":const t=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=__PRIVATE_fromFieldPathReference(e.unaryFilter.field);return FieldFilter.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}}(e):void 0!==e.fieldFilter?function __PRIVATE_fromFieldFilter(e){return FieldFilter.create(__PRIVATE_fromFieldPathReference(e.fieldFilter.field),function __PRIVATE_fromOperatorName(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function __PRIVATE_fromCompositeFilter(e){return CompositeFilter.create(e.compositeFilter.filters.map(e=>__PRIVATE_fromFilter(e)),function __PRIVATE_fromCompositeOperatorName(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fail(1026)}}(e.compositeFilter.op))}(e):fail(30097,{filter:e})}function __PRIVATE_toDirection(e){return wt[e]}function __PRIVATE_toOperatorName(e){return St[e]}function __PRIVATE_toCompositeOperatorName(e){return bt[e]}function __PRIVATE_toFieldPathReference(e){return{fieldPath:e.canonicalString()}}function __PRIVATE_fromFieldPathReference(e){return FieldPath$1.fromServerFormat(e.fieldPath)}function __PRIVATE_toFilter(e){return e instanceof FieldFilter?function __PRIVATE_toUnaryOrFieldFilter(e){if("=="===e.op){if(__PRIVATE_isNanValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(__PRIVATE_isNanValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(e.field),op:__PRIVATE_toOperatorName(e.op),value:e.value}}}(e):e instanceof CompositeFilter?function __PRIVATE_toCompositeFilter(e){const t=e.getFilters().map(e=>__PRIVATE_toFilter(e));return 1===t.length?t[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(e.op),filters:t}}}(e):fail(54877,{filter:e})}function __PRIVATE_toDocumentMask(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function __PRIVATE_isValidResourceName(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class TargetData{constructor(e,t,n,r,i=SnapshotVersion.min(),s=SnapshotVersion.min(),o=ByteString.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=_}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class __PRIVATE_LocalSerializer{constructor(e){this.gt=e}}function __PRIVATE_fromBundledQuery(e){const t=__PRIVATE_convertQueryTargetToQuery({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?__PRIVATE_queryWithLimit(t,t.limit,"L"):t}class __PRIVATE_FirestoreIndexValueWriter{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(__PRIVATE_normalizeNumber(e.integerValue));else if("doubleValue"in e){const n=__PRIVATE_normalizeNumber(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),__PRIVATE_isNegativeZero(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=__PRIVATE_normalizeTimestamp(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(__PRIVATE_normalizeByteString(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?__PRIVATE_isMaxValue(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):__PRIVATE_isVectorValue(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):fail(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const e of Object.keys(n))this.xt(e,t),this.Dt(n[e],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const s=Tt,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(__PRIVATE_normalizeNumber(o)),this.xt(s,t),this.Dt(i[s],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const e of n)this.Dt(e,t)}Bt(e,t){this.Ct(t,37),DocumentKey.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}__PRIVATE_FirestoreIndexValueWriter.Ut=new __PRIVATE_FirestoreIndexValueWriter;class __PRIVATE_MemoryIndexManager{constructor(){this.Dn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,t){return this.Dn.add(t),PersistencePromise.resolve()}getCollectionParents(e,t){return PersistencePromise.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return PersistencePromise.resolve()}deleteFieldIndex(e,t){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,t){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,t){return PersistencePromise.resolve(null)}getIndexType(e,t){return PersistencePromise.resolve(0)}getFieldIndexes(e,t){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,t){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,t){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,t,n){return PersistencePromise.resolve()}updateIndexEntries(e,t){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new SortedSet(ResourcePath.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}new Uint8Array(0);const Ft={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class LruParams{static withCacheSize(e){return new LruParams(e,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(41943040,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);class __PRIVATE_TargetIdGenerator{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new __PRIVATE_TargetIdGenerator(0)}static ur(){return new __PRIVATE_TargetIdGenerator(-1)}}const xt="LruGarbageCollector";function __PRIVATE_bufferEntryComparator([e,t],[n,r]){const i=__PRIVATE_primitiveComparator(e,n);return 0===i?__PRIVATE_primitiveComparator(t,r):i}class __PRIVATE_RollingSequenceNumberBuffer{constructor(e){this.Tr=e,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();__PRIVATE_bufferEntryComparator(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){__PRIVATE_logDebug(xt,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){__PRIVATE_isIndexedDbTransactionError(e)?__PRIVATE_logDebug(xt,"Ignoring IndexedDB error during garbage collection: ",e):await __PRIVATE_ignoreIfPrimaryLeaseLoss(e)}await this.Rr(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ue);const n=new __PRIVATE_RollingSequenceNumberBuffer(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Ft)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ft):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,s,o,_,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,_=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(_-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-_)+"ms\n"+`Total Duration: ${u-c}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function __PRIVATE_newLruGarbageCollector(e,t){return new __PRIVATE_LruGarbageCollectorImpl(e,t)}class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?PersistencePromise.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OverlayedDocument{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LocalDocumentsView{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&__PRIVATE_mutationApplyToLocalView(n.mutation,e,FieldMask.empty(),Timestamp.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,__PRIVATE_documentKeySet()).next(()=>t))}getLocalViewOfDocuments(e,t,n=__PRIVATE_documentKeySet()){const r=__PRIVATE_newOverlayMap();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=documentMap();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=__PRIVATE_newOverlayMap();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,__PRIVATE_documentKeySet()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=__PRIVATE_mutableDocumentMap();const s=__PRIVATE_newDocumentKeyMap(),o=function __PRIVATE_newOverlayedDocumentMap(){return __PRIVATE_newDocumentKeyMap()}();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof __PRIVATE_PatchMutation)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(o.mutation,t,o.mutation.getFieldMask(),Timestamp.now())):s.set(t.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new OverlayedDocument(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=__PRIVATE_newDocumentKeyMap();let r=new SortedMap((e,t)=>e-t),i=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||FieldMask.empty();o=i.applyToLocalView(s,o),n.set(e,o);const _=(r.get(i.batchId)||__PRIVATE_documentKeySet()).add(e);r=r.insert(i.batchId,_)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),_=r.key,a=r.value,u=__PRIVATE_newMutationMap();a.forEach(e=>{if(!i.has(e)){const r=__PRIVATE_calculateOverlayMutation(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,_,u))}return PersistencePromise.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function __PRIVATE_isDocumentQuery$1(e){return DocumentKey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):__PRIVATE_isCollectionGroupQuery(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let o=Q,_=i;return s.next(t=>PersistencePromise.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{_=_.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,_,t,__PRIVATE_documentKeySet())).next(e=>({batchId:o,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new DocumentKey(t)).next(e=>{let t=documentMap();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=documentMap();return this.indexManager.getCollectionParents(e,i).next(o=>PersistencePromise.forEach(o,o=>{const _=function __PRIVATE_asCollectionQueryAtPath(e,t){return new __PRIVATE_QueryImpl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,_,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,MutableDocument.newInvalidDocument(r)))});let n=documentMap();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&__PRIVATE_mutationApplyToLocalView(s.mutation,r,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(t,r)&&(n=n.insert(e,r))}),n})}}class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return PersistencePromise.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function __PRIVATE_fromBundleMetadata(e){return{id:e.id,version:e.version,createTime:__PRIVATE_fromVersion(e.createTime)}}(t)),PersistencePromise.resolve()}getNamedQuery(e,t){return PersistencePromise.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function __PRIVATE_fromProtoNamedQuery(e){return{name:e.name,query:__PRIVATE_fromBundledQuery(e.bundledQuery),readTime:__PRIVATE_fromVersion(e.readTime)}}(t)),PersistencePromise.resolve()}}class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.kr=new Map}getOverlay(e,t){return PersistencePromise.resolve(this.overlays.get(t))}getOverlays(e,t){const n=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),PersistencePromise.resolve()}getOverlaysForCollection(e,t,n){const r=__PRIVATE_newOverlayMap(),i=t.length+1,s=new DocumentKey(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return PersistencePromise.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new SortedMap((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=__PRIVATE_newOverlayMap(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=__PRIVATE_newOverlayMap(),_=i.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return PersistencePromise.resolve(o)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Overlay(t,n));let i=this.kr.get(t);void 0===i&&(i=__PRIVATE_documentKeySet(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,PersistencePromise.resolve()}}class __PRIVATE_ReferenceSet{constructor(){this.qr=new SortedSet(__PRIVATE_DocReference.Qr),this.$r=new SortedSet(__PRIVATE_DocReference.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new __PRIVATE_DocReference(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new __PRIVATE_DocReference(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new DocumentKey(new ResourcePath([])),n=new __PRIVATE_DocReference(t,e),r=new __PRIVATE_DocReference(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new DocumentKey(new ResourcePath([])),n=new __PRIVATE_DocReference(t,e),r=new __PRIVATE_DocReference(t,e+1);let i=__PRIVATE_documentKeySet();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new __PRIVATE_DocReference(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class __PRIVATE_DocReference{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return DocumentKey.comparator(e.key,t.key)||__PRIVATE_primitiveComparator(e.Hr,t.Hr)}static Ur(e,t){return __PRIVATE_primitiveComparator(e.Hr,t.Hr)||DocumentKey.comparator(e.key,t.key)}}class __PRIVATE_MemoryMutationQueue{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new SortedSet(__PRIVATE_DocReference.Qr)}checkEmpty(e){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MutationBatch(i,t,n,r);this.mutationQueue.push(s);for(const t of r)this.Yr=this.Yr.add(new __PRIVATE_DocReference(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return PersistencePromise.resolve(s)}lookupMutationBatch(e,t){return PersistencePromise.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return PersistencePromise.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?G:this.er-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new __PRIVATE_DocReference(t,0),r=new __PRIVATE_DocReference(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),PersistencePromise.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new SortedSet(__PRIVATE_primitiveComparator);return t.forEach(e=>{const t=new __PRIVATE_DocReference(e,0),r=new __PRIVATE_DocReference(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),PersistencePromise.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;DocumentKey.isDocumentKey(i)||(i=i.child(""));const s=new __PRIVATE_DocReference(new DocumentKey(i),0);let o=new SortedSet(__PRIVATE_primitiveComparator);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)},s),PersistencePromise.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){__PRIVATE_hardAssert(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return PersistencePromise.forEach(t.mutations,r=>{const i=new __PRIVATE_DocReference(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new __PRIVATE_DocReference(t,0),r=this.Yr.firstAfterOrEqual(n);return PersistencePromise.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.ni=e,this.docs=function __PRIVATE_documentEntryMap(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return PersistencePromise.resolve(n?n.document.mutableCopy():MutableDocument.newInvalidDocument(t))}getEntries(e,t){let n=__PRIVATE_mutableDocumentMap();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():MutableDocument.newInvalidDocument(e))}),PersistencePromise.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=__PRIVATE_mutableDocumentMap();const s=t.path,o=new DocumentKey(s.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(o);for(;_.hasNext();){const{key:e,value:{document:o}}=_.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(o),n)<=0||(r.has(o.key)||__PRIVATE_queryMatches(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return PersistencePromise.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fail(9500)}ri(e,t){return PersistencePromise.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),PersistencePromise.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.ii=new ObjectMap(e=>__PRIVATE_canonifyTarget(e),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.si=0,this.oi=new __PRIVATE_ReferenceSet,this.targetCount=0,this._i=__PRIVATE_TargetIdGenerator.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),PersistencePromise.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new __PRIVATE_TargetIdGenerator(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,t){return this.hr(t),PersistencePromise.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ii.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),PersistencePromise.waitFor(i).next(()=>r)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return PersistencePromise.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),PersistencePromise.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),PersistencePromise.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return PersistencePromise.resolve(n)}containsKey(e,t){return PersistencePromise.resolve(this.oi.containsKey(t))}}class __PRIVATE_MemoryPersistence{constructor(e,t){this.ai={},this.overlays={},this.ui=new __PRIVATE_ListenSequence(0),this.ci=!1,this.ci=!0,this.li=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.hi=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function __PRIVATE_newMemoryRemoteDocumentCache(e){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new __PRIVATE_LocalSerializer(t),this.Ti=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new __PRIVATE_MemoryMutationQueue(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const r=new __PRIVATE_MemoryTransaction(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return PersistencePromise.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Ai=new __PRIVATE_ReferenceSet,this.Ri=null}static Vi(e){return new __PRIVATE_MemoryEagerDelegate(e)}get mi(){if(this.Ri)return this.Ri;throw fail(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),PersistencePromise.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),PersistencePromise.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.mi,n=>{const r=DocumentKey.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,SnapshotVersion.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class __PRIVATE_MemoryLruDelegate{constructor(e,t){this.persistence=e,this.gi=new ObjectMap(e=>__PRIVATE_encodeResourcePath(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,t)}static Vi(e,t){return new __PRIVATE_MemoryLruDelegate(e,t)}Ii(){}di(e){return PersistencePromise.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return PersistencePromise.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?PersistencePromise.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,SnapshotVersion.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),PersistencePromise.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),PersistencePromise.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=__PRIVATE_estimateByteSize(e.data.value)),t}Sr(e,t,n){return PersistencePromise.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return PersistencePromise.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class __PRIVATE_LocalViewChanges{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=__PRIVATE_documentKeySet(),r=__PRIVATE_documentKeySet();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new __PRIVATE_LocalViewChanges(e,t.fromCache,n,r)}}class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class __PRIVATE_QueryEngine{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function __PRIVATE_getDefaultRelativeIndexReadCostPerDocument(){return isSafari()?8:__PRIVATE_getAndroidVersion(index_esm2017_getUA())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new QueryContext;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(t))):PersistencePromise.resolve())}ps(e,t){if(__PRIVATE_queryMatchesAllDocuments(t))return PersistencePromise.resolve(null);let n=__PRIVATE_queryToTarget(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=__PRIVATE_queryWithLimit(t,null,"F"),n=__PRIVATE_queryToTarget(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=__PRIVATE_documentKeySet(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ds(t,s,i,n.readTime)?this.ps(e,__PRIVATE_queryWithLimit(t,null,"F")):this.vs(e,s,t,n)}))})))}ys(e,t,n,r){return __PRIVATE_queryMatchesAllDocuments(t)||r.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.gs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ds(t,s,n,r)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),__PRIVATE_stringifyQuery(t)),this.vs(e,s,t,__PRIVATE_newIndexOffsetSuccessorFromReadTime(r,Q)).next(e=>e))})}bs(e,t){let n=new SortedSet(__PRIVATE_newQueryComparator(e));return t.forEach((t,r)=>{__PRIVATE_queryMatches(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(t)),this.gs.getDocumentsMatchingQuery(e,t,IndexOffset.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Qt="LocalStore";class __PRIVATE_LocalStoreImpl{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new SortedMap(__PRIVATE_primitiveComparator),this.Ms=new ObjectMap(e=>__PRIVATE_canonifyTarget(e),__PRIVATE_targetEquals),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function __PRIVATE_newLocalStore(e,t,n,r){return new __PRIVATE_LocalStoreImpl(e,t,n,r)}async function __PRIVATE_localStoreHandleUserChange(e,t){const n=__PRIVATE_debugCast(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=__PRIVATE_documentKeySet();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:s}))})})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e){const t=__PRIVATE_debugCast(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function __PRIVATE_populateDocumentChangeBuffer(e,t,n){let r=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=__PRIVATE_mutableDocumentMap();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(SnapshotVersion.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):__PRIVATE_logDebug(Qt,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Ls:r,ks:i}})}function __PRIVATE_localStoreGetNextMutationBatch(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=G),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function __PRIVATE_localStoreAllocateTarget(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,PersistencePromise.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new TargetData(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function __PRIVATE_localStoreReleaseTarget(e,t,n){const r=__PRIVATE_debugCast(e),i=r.Fs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(Qt,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function __PRIVATE_localStoreExecuteQuery(e,t,n){const r=__PRIVATE_debugCast(e);let i=SnapshotVersion.min(),s=__PRIVATE_documentKeySet();return r.persistence.runTransaction("Execute query","readwrite",e=>function __PRIVATE_localStoreGetTargetData(e,t,n){const r=__PRIVATE_debugCast(e),i=r.Ms.get(n);return void 0!==i?PersistencePromise.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,__PRIVATE_queryToTarget(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:SnapshotVersion.min(),n?s:__PRIVATE_documentKeySet())).next(e=>(__PRIVATE_setMaxReadTime(r,__PRIVATE_queryCollectionGroup(t),e),{documents:e,qs:s})))}function __PRIVATE_setMaxReadTime(e,t,n){let r=e.xs.get(t)||SnapshotVersion.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.Fo=new __PRIVATE_LocalClientState,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class __PRIVATE_NoopConnectivityMonitor{xo(e){}shutdown(){}}const zt="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){__PRIVATE_logDebug(zt,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){__PRIVATE_logDebug(zt,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jt=null;function __PRIVATE_generateUniqueDebugId(){return null===jt?jt=function __PRIVATE_generateInitialUniqueDebugId(){return 268435456+Math.round(2147483648*Math.random())}():jt++,"0x"+jt.toString(16)}const Jt="RestConnection",Ht={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===ut?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const s=__PRIVATE_generateUniqueDebugId(),o=this.Go(e,t.toUriEncodedString());__PRIVATE_logDebug(Jt,`Sending RPC '${e}' ${s}:`,o,n);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,r,i);const{host:a}=new URL(o),u=index_esm2017_isCloudWorkstation(a);return this.jo(e,o,_,n,u).then(t=>(__PRIVATE_logDebug(Jt,`Received RPC '${e}' ${s}: `,t),t),t=>{throw __PRIVATE_logWarn(Jt,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t})}Jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]=function __PRIVATE_getGoogApiClientValue(){return"gl-js/ fire/"+x}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Ht[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class __PRIVATE_StreamBridge{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Yt="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const s=__PRIVATE_generateUniqueDebugId();return new Promise((i,o)=>{const _=new XhrIo;_.setWithCredentials(!0),_.listenOnce(EventType.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ErrorCode.NO_ERROR:const t=_.getResponseJson();__PRIVATE_logDebug(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(Yt,`RPC '${e}' ${s} timed out`),o(new FirestoreError(N.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const n=_.getStatus();if(__PRIVATE_logDebug(Yt,`RPC '${e}' ${s} failed with status:`,n,"response text:",_.getResponseText()),n>0){let e=_.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function __PRIVATE_mapCodeFromHttpResponseErrorStatus(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(t)>=0?t:N.UNKNOWN}(t.status);o(new FirestoreError(e,t.message))}else o(new FirestoreError(N.UNKNOWN,"Server responded with status "+_.getStatus()))}else o(new FirestoreError(N.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{c_:e,streamId:s,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{__PRIVATE_logDebug(Yt,`RPC '${e}' ${s} completed.`)}});const a=JSON.stringify(r);__PRIVATE_logDebug(Yt,`RPC '${e}' ${s} sending request:`,r),_.send(t,"POST",a,n,15)})}P_(e,t,n){const r=__PRIVATE_generateUniqueDebugId(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=createWebChannelTransport(),o=getStatEventTarget(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(_.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,t,n),_.encodeInitMessageHeaders=!0;const u=i.join("");__PRIVATE_logDebug(Yt,`Creating RPC '${e}' stream ${r}: ${u}`,_);const c=s.createWebChannel(u,_);this.T_(c);let l=!1,h=!1;const P=new __PRIVATE_StreamBridge({Ho:t=>{h?__PRIVATE_logDebug(Yt,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(l||(__PRIVATE_logDebug(Yt,`Opening RPC '${e}' stream ${r} transport.`),c.open(),l=!0),__PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Yo:()=>c.close()}),__PRIVATE_unguardedEventListen=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return __PRIVATE_unguardedEventListen(c,WebChannel.EventType.OPEN,()=>{h||(__PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} transport opened.`),P.s_())}),__PRIVATE_unguardedEventListen(c,WebChannel.EventType.CLOSE,()=>{h||(h=!0,__PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} transport closed`),P.__(),this.I_(c))}),__PRIVATE_unguardedEventListen(c,WebChannel.EventType.ERROR,t=>{h||(h=!0,__PRIVATE_logWarn(Yt,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),P.__(new FirestoreError(N.UNAVAILABLE,"The operation could not be completed")))}),__PRIVATE_unguardedEventListen(c,WebChannel.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];__PRIVATE_hardAssert(!!i,16349);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){__PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function __PRIVATE_mapCodeFromRpcStatus(e){const t=ft[e];if(void 0!==t)return __PRIVATE_mapCodeFromRpcCode(t)}(t),i=o.message;void 0===n&&(n=N.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,P.__(new FirestoreError(n,i)),c.close()}else __PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} received:`,i),P.a_(i)}}),__PRIVATE_unguardedEventListen(o,webchannel_blob_es2018_Event.STAT_EVENT,t=>{t.stat===Stat.PROXY?__PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function index_esm2017_getDocument(){return"undefined"!=typeof document?document:null}function __PRIVATE_newSerializer(e){return new JsonProtoSerializer(e,!0)}class __PRIVATE_ExponentialBackoff{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Zt="PersistentStream";class __PRIVATE_PersistentStream{constructor(e,t,n,r,i,s,o,_){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new __PRIVATE_ExponentialBackoff(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(__PRIVATE_logError(t.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.b_===t&&this.W_(e,n)},t=>{e(()=>{const e=new FirestoreError(N.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return __PRIVATE_logDebug(Zt,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(__PRIVATE_logDebug(Zt,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function __PRIVATE_fromWatchChange(e,t){let n;if("targetChange"in t){t.targetChange;const r=function __PRIVATE_fromWatchTargetChangeState(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fail(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function __PRIVATE_fromBytes(e,t){return e.useProto3Json?(__PRIVATE_hardAssert(void 0===t||"string"==typeof t,58123),ByteString.fromBase64String(t||"")):(__PRIVATE_hardAssert(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ByteString.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,_=o&&function __PRIVATE_fromRpcStatus(e){const t=void 0===e.code?N.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(e.code);return new FirestoreError(t,e.message||"")}(o);n=new __PRIVATE_WatchTargetChange(r,i,s,_||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fromName(e,r.document.name),s=__PRIVATE_fromVersion(r.document.updateTime),o=r.document.createTime?__PRIVATE_fromVersion(r.document.createTime):SnapshotVersion.min(),_=new ObjectValue({mapValue:{fields:r.document.fields}}),a=MutableDocument.newFoundDocument(i,s,o,_),u=r.targetIds||[],c=r.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fromName(e,r.document),s=r.readTime?__PRIVATE_fromVersion(r.readTime):SnapshotVersion.min(),o=MutableDocument.newNoDocument(i,s),_=r.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],_,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fromName(e,r.document),s=r.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],s,i,null)}else{if(!("filter"in t))return fail(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ExistenceFilter(r,i),o=e.targetId;n=new __PRIVATE_ExistenceFilterChange(o,s)}}return n}(this.serializer,e),n=function __PRIVATE_versionFromListenResponse(e){if(!("targetChange"in e))return SnapshotVersion.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?SnapshotVersion.min():t.readTime?__PRIVATE_fromVersion(t.readTime):SnapshotVersion.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),t.addTarget=function __PRIVATE_toTarget(e,t){let n;const r=t.target;if(n=__PRIVATE_targetIsDocumentTarget(r)?{documents:__PRIVATE_toDocumentsTarget(e,r)}:{query:__PRIVATE_toQueryTarget(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=__PRIVATE_toBytes(e,t.resumeToken);const r=__PRIVATE_toInt32Proto(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(SnapshotVersion.min())>0){n.readTime=toTimestamp(e,t.snapshotVersion.toTimestamp());const r=__PRIVATE_toInt32Proto(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function __PRIVATE_toListenRequestLabels(e,t){const n=function __PRIVATE_toLabel(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),t.removeTarget=e,this.k_(t)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return __PRIVATE_hardAssert(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function __PRIVATE_fromWriteResults(e,t){return e&&e.length>0?(__PRIVATE_hardAssert(void 0!==t,14353),e.map(e=>function __PRIVATE_fromWriteResult(e,t){let n=e.updateTime?__PRIVATE_fromVersion(e.updateTime):__PRIVATE_fromVersion(t);return n.isEqual(SnapshotVersion.min())&&(n=__PRIVATE_fromVersion(t)),new MutationResult(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=__PRIVATE_fromVersion(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>toMutation(this.serializer,e))};this.k_(t)}}class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new FirestoreError(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Wo(e,__PRIVATE_toResourcePath(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new FirestoreError(N.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Jo(e,__PRIVATE_toResourcePath(t,n),r,s,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new FirestoreError(N.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(__PRIVATE_logError(t),this._a=!1):__PRIVATE_logDebug("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const Xt="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(Xt,"Restarting streams for network reachability change."),await async function __PRIVATE_restartNetwork(e){const t=__PRIVATE_debugCast(e);t.Ia.add(4),await __PRIVATE_disableNetworkInternal(t),t.Aa.set("Unknown"),t.Ia.delete(4),await __PRIVATE_enableNetworkInternal(t)}(this))})}),this.Aa=new __PRIVATE_OnlineStateTracker(n,r)}}async function __PRIVATE_enableNetworkInternal(e){if(__PRIVATE_canUseNetwork(e))for(const t of e.da)await t(!0)}async function __PRIVATE_disableNetworkInternal(e){for(const t of e.da)await t(!1)}function __PRIVATE_remoteStoreListen(e,t){const n=__PRIVATE_debugCast(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),__PRIVATE_shouldStartWatchStream(n)?__PRIVATE_startWatchStream(n):__PRIVATE_ensureWatchStream(n).x_()&&__PRIVATE_sendWatchRequest(n,t))}function __PRIVATE_remoteStoreUnlisten(e,t){const n=__PRIVATE_debugCast(e),r=__PRIVATE_ensureWatchStream(n);n.Ta.delete(t),r.x_()&&__PRIVATE_sendUnwatchRequest(n,t),0===n.Ta.size&&(r.x_()?r.B_():__PRIVATE_canUseNetwork(n)&&n.Aa.set("Unknown"))}function __PRIVATE_sendWatchRequest(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}__PRIVATE_ensureWatchStream(e).H_(t)}function __PRIVATE_sendUnwatchRequest(e,t){e.Ra.$e(t),__PRIVATE_ensureWatchStream(e).Y_(t)}function __PRIVATE_startWatchStream(e){e.Ra=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(e).start(),e.Aa.aa()}function __PRIVATE_shouldStartWatchStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWatchStream(e).M_()&&e.Ta.size>0}function __PRIVATE_canUseNetwork(e){return 0===__PRIVATE_debugCast(e).Ia.size}function __PRIVATE_cleanUpWatchStreamState(e){e.Ra=void 0}async function __PRIVATE_onWatchStreamConnected(e){e.Aa.set("Online")}async function __PRIVATE_onWatchStreamOpen(e){e.Ta.forEach((t,n)=>{__PRIVATE_sendWatchRequest(e,t)})}async function __PRIVATE_onWatchStreamClose(e,t){__PRIVATE_cleanUpWatchStreamState(e),__PRIVATE_shouldStartWatchStream(e)?(e.Aa.la(t),__PRIVATE_startWatchStream(e)):e.Aa.set("Unknown")}async function __PRIVATE_onWatchStreamChange(e,t,n){if(e.Aa.set("Online"),t instanceof __PRIVATE_WatchTargetChange&&2===t.state&&t.cause)try{await async function __PRIVATE_handleTargetError(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){__PRIVATE_logDebug(Xt,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await __PRIVATE_disableNetworkUntilRecovery(e,n)}else if(t instanceof __PRIVATE_DocumentWatchChange?e.Ra.Ye(t):t instanceof __PRIVATE_ExistenceFilterChange?e.Ra.it(t):e.Ra.et(t),!n.isEqual(SnapshotVersion.min()))try{const t=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore);n.compareTo(t)>=0&&await function __PRIVATE_raiseWatchSnapshot(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(ByteString.EMPTY_BYTE_STRING,r.snapshotVersion)),__PRIVATE_sendUnwatchRequest(e,t);const i=new TargetData(r.target,t,n,r.sequenceNumber);__PRIVATE_sendWatchRequest(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){__PRIVATE_logDebug(Xt,"Failed to raise snapshot:",t),await __PRIVATE_disableNetworkUntilRecovery(e,t)}}async function __PRIVATE_disableNetworkUntilRecovery(e,t,n){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;e.Ia.add(1),await __PRIVATE_disableNetworkInternal(e),e.Aa.set("Offline"),n||(n=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(Xt,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await __PRIVATE_enableNetworkInternal(e)})}function __PRIVATE_executeWithRecovery(e,t){return t().catch(n=>__PRIVATE_disableNetworkUntilRecovery(e,n,t))}async function __PRIVATE_fillWritePipeline(e){const t=__PRIVATE_debugCast(e),n=__PRIVATE_ensureWriteStream(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:G;for(;__PRIVATE_canAddToWritePipeline(t);)try{const e=await __PRIVATE_localStoreGetNextMutationBatch(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,__PRIVATE_addToWritePipeline(t,e)}catch(e){await __PRIVATE_disableNetworkUntilRecovery(t,e)}__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}function __PRIVATE_canAddToWritePipeline(e){return __PRIVATE_canUseNetwork(e)&&e.Pa.length<10}function __PRIVATE_addToWritePipeline(e,t){e.Pa.push(t);const n=__PRIVATE_ensureWriteStream(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function __PRIVATE_shouldStartWriteStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWriteStream(e).M_()&&e.Pa.length>0}function __PRIVATE_startWriteStream(e){__PRIVATE_ensureWriteStream(e).start()}async function __PRIVATE_onWriteStreamOpen(e){__PRIVATE_ensureWriteStream(e).na()}async function __PRIVATE_onWriteHandshakeComplete(e){const t=__PRIVATE_ensureWriteStream(e);for(const n of e.Pa)t.X_(n.mutations)}async function __PRIVATE_onMutationResult(e,t,n){const r=e.Pa.shift(),i=MutationBatchResult.from(r,t,n);await __PRIVATE_executeWithRecovery(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await __PRIVATE_fillWritePipeline(e)}async function __PRIVATE_onWriteStreamClose(e,t){t&&__PRIVATE_ensureWriteStream(e).Z_&&await async function __PRIVATE_handleWriteError(e,t){if(function __PRIVATE_isPermanentWriteError(e){return __PRIVATE_isPermanentError(e)&&e!==N.ABORTED}(t.code)){const n=e.Pa.shift();__PRIVATE_ensureWriteStream(e).N_(),await __PRIVATE_executeWithRecovery(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await __PRIVATE_fillWritePipeline(e)}}(e,t),__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}async function __PRIVATE_remoteStoreHandleCredentialChange(e,t){const n=__PRIVATE_debugCast(e);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Xt,"RemoteStore received new credentials");const r=__PRIVATE_canUseNetwork(n);n.Ia.add(3),await __PRIVATE_disableNetworkInternal(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await __PRIVATE_enableNetworkInternal(n)}async function __PRIVATE_remoteStoreApplyPrimaryState(e,t){const n=__PRIVATE_debugCast(e);t?(n.Ia.delete(2),await __PRIVATE_enableNetworkInternal(n)):t||(n.Ia.add(2),await __PRIVATE_disableNetworkInternal(n),n.Aa.set("Unknown"))}function __PRIVATE_ensureWatchStream(e){return e.Va||(e.Va=function __PRIVATE_newPersistentWatchStream(e,t,n){const r=__PRIVATE_debugCast(e);return r.ia(),new __PRIVATE_PersistentListenStream(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:__PRIVATE_onWatchStreamConnected.bind(null,e),e_:__PRIVATE_onWatchStreamOpen.bind(null,e),n_:__PRIVATE_onWatchStreamClose.bind(null,e),J_:__PRIVATE_onWatchStreamChange.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),__PRIVATE_shouldStartWatchStream(e)?__PRIVATE_startWatchStream(e):e.Aa.set("Unknown")):(await e.Va.stop(),__PRIVATE_cleanUpWatchStreamState(e))})),e.Va}function __PRIVATE_ensureWriteStream(e){return e.ma||(e.ma=function __PRIVATE_newPersistentWriteStream(e,t,n){const r=__PRIVATE_debugCast(e);return r.ia(),new __PRIVATE_PersistentWriteStream(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:__PRIVATE_onWriteStreamOpen.bind(null,e),n_:__PRIVATE_onWriteStreamClose.bind(null,e),ea:__PRIVATE_onWriteHandshakeComplete.bind(null,e),ta:__PRIVATE_onMutationResult.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await __PRIVATE_fillWritePipeline(e)):(await e.ma.stop(),e.Pa.length>0&&(__PRIVATE_logDebug(Xt,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class DelayedOperation{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new DelayedOperation(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(e,t){if(__PRIVATE_logError("AsyncQueue",`${t}: ${e}`),__PRIVATE_isIndexedDbTransactionError(e))return new FirestoreError(N.UNAVAILABLE,`${t}: ${e}`);throw e}class DocumentSet{static emptySet(e){return new DocumentSet(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||DocumentKey.comparator(t.key,n.key):(e,t)=>DocumentKey.comparator(e.key,t.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof DocumentSet))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new DocumentSet;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class __PRIVATE_DocumentChangeSet{constructor(){this.fa=new SortedMap(DocumentKey.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):fail(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class ViewSnapshot{constructor(e,t,n,r,i,s,o,_,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=_,this.hasCachedResults=a}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ViewSnapshot(e,t,DocumentSet.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class __PRIVATE_QueryListenersInfo{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function __PRIVATE_errorAllTargets(e,t){const n=__PRIVATE_debugCast(e),r=n.queries;n.queries=__PRIVATE_newQueriesObjectMap(),r.forEach((e,n)=>{for(const e of n.wa)e.onError(t)})}(this,new FirestoreError(N.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(e=>__PRIVATE_canonifyQuery(e),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(e,t){const n=__PRIVATE_debugCast(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.ba()&&(r=2):(s=new __PRIVATE_QueryListenersInfo,r=t.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=__PRIVATE_wrapInUserErrorIfRecoverable(e,`Initialization of query '${__PRIVATE_stringifyQuery(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.wa.push(t),t.va(n.onlineState),s.ya&&t.Ca(s.ya)&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}async function __PRIVATE_eventManagerUnlisten(e,t){const n=__PRIVATE_debugCast(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.wa.indexOf(t);e>=0&&(s.wa.splice(e,1),0===s.wa.length?i=t.ba()?0:1:!s.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function __PRIVATE_eventManagerOnWatchChange(e,t){const n=__PRIVATE_debugCast(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.wa)t.Ca(e)&&(r=!0);i.ya=e}}r&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}function __PRIVATE_eventManagerOnWatchError(e,t,n){const r=__PRIVATE_debugCast(e),i=r.queries.get(t);if(i)for(const e of i.wa)e.onError(n);r.queries.delete(t)}function __PRIVATE_raiseSnapshotsInSyncEvent(e){e.Da.forEach(e=>{e.next()})}var en,tn;(tn=en||(en={})).Fa="default",tn.Cache="cache";class __PRIVATE_QueryListener{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==en.Cache}}class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Xa=__PRIVATE_newQueryComparator(e),this.eu=new DocumentSet(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new __PRIVATE_DocumentChangeSet,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,a="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=__PRIVATE_queryMatches(this.query,t)?t:null,l=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let P=!1;u&&c?u.data.isEqual(c.data)?l!==h&&(n.track({type:3,doc:c}),P=!0):this.iu(u,c)||(n.track({type:2,doc:c}),P=!0,(_&&this.Xa(c,_)>0||a&&this.Xa(c,a)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),P=!0):u&&!c&&(n.track({type:1,doc:u}),P=!0,(_||a)&&(o=!0)),P&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:s,ru:n,Ds:o,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((e,t)=>function __PRIVATE_compareChangeType(e,t){const order=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{At:e})}};return order(e)-order(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const o=t&&!r?this.ou():[],_=0===this.Za.size&&this.current&&!r?1:0,a=_!==this.Ya;return this.Ya=_,0!==s.length||a?{snapshot:new ViewSnapshot(this.query,e.eu,i,s,e.mutatedKeys,0===_,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=__PRIVATE_documentKeySet(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new __PRIVATE_RemovedLimboDocument(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new __PRIVATE_AddedLimboDocument(n))}),t}uu(e){this.Ha=e.qs,this.Za=__PRIVATE_documentKeySet();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ViewSnapshot.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const nn="SyncEngine";class __PRIVATE_QueryView{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class LimboResolution{constructor(e){this.key=e,this.lu=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ObjectMap(e=>__PRIVATE_canonifyQuery(e),__PRIVATE_queryEquals),this.Tu=new Map,this.Iu=new Set,this.du=new SortedMap(DocumentKey.comparator),this.Eu=new Map,this.Au=new __PRIVATE_ReferenceSet,this.Ru={},this.Vu=new Map,this.mu=__PRIVATE_TargetIdGenerator.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function __PRIVATE_syncEngineListen(e,t,n=!0){const r=__PRIVATE_ensureWatchCallbacks(e);let i;const s=r.Pu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await __PRIVATE_allocateTargetAndMaybeListen(r,t,n,!0),i}async function __PRIVATE_triggerRemoteStoreListen(e,t){const n=__PRIVATE_ensureWatchCallbacks(e);await __PRIVATE_allocateTargetAndMaybeListen(n,t,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(e,t,n,r){const i=await __PRIVATE_localStoreAllocateTarget(e.localStore,__PRIVATE_queryToTarget(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let _;return r&&(_=await __PRIVATE_initializeViewAndComputeSnapshot(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&__PRIVATE_remoteStoreListen(e.remoteStore,i),_}async function __PRIVATE_initializeViewAndComputeSnapshot(e,t,n,r,i){e.gu=(t,n,r)=>async function __PRIVATE_applyDocChanges(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await __PRIVATE_localStoreExecuteQuery(e.localStore,t.query,!1).then(({documents:e})=>t.view.nu(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),_=t.view.applyChanges(i,e.isPrimaryClient,s,o);return __PRIVATE_updateTrackedLimbos(e,t.targetId,_._u),_.snapshot}(e,t,n,r);const s=await __PRIVATE_localStoreExecuteQuery(e.localStore,t,!0),o=new __PRIVATE_View(t,s.qs),_=o.nu(s.documents),a=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(_,e.isPrimaryClient,a);__PRIVATE_updateTrackedLimbos(e,n,u._u);const c=new __PRIVATE_QueryView(t,n,o);return e.Pu.set(t,c),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),u.snapshot}async function __PRIVATE_syncEngineUnlisten(e,t,n){const r=__PRIVATE_debugCast(e),i=r.Pu.get(t),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(e=>!__PRIVATE_queryEquals(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await __PRIVATE_localStoreReleaseTarget(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&__PRIVATE_remoteStoreUnlisten(r.remoteStore,i.targetId),__PRIVATE_removeAndCleanupTarget(r,i.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(r,i.targetId),await __PRIVATE_localStoreReleaseTarget(r.localStore,i.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(e,t){const n=__PRIVATE_debugCast(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),__PRIVATE_remoteStoreUnlisten(n.remoteStore,r.targetId))}async function __PRIVATE_syncEngineApplyRemoteEvent(e,t){const n=__PRIVATE_debugCast(e);try{const e=await function __PRIVATE_localStoreApplyRemoteEventToLocalCache(e,t){const n=__PRIVATE_debugCast(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];t.targetChanges.forEach((s,_)=>{const a=i.get(_);if(!a)return;o.push(n.hi.removeMatchingKeys(e,s.removedDocuments,_).next(()=>n.hi.addMatchingKeys(e,s.addedDocuments,_)));let u=a.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(_)?u=u.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(_,u),function __PRIVATE_shouldPersistTargetData(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(a,u,s)&&o.push(n.hi.updateTargetData(e,u))});let _=__PRIVATE_mutableDocumentMap(),a=__PRIVATE_documentKeySet();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(__PRIVATE_populateDocumentChangeBuffer(e,s,t.documentUpdates).next(e=>{_=e.Ls,a=e.ks})),!r.isEqual(SnapshotVersion.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return PersistencePromise.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,_,a)).next(()=>_)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(__PRIVATE_hardAssert(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?__PRIVATE_hardAssert(r.lu,14607):e.removedDocuments.size>0&&(__PRIVATE_hardAssert(r.lu,42227),r.lu=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e,t)}catch(e){await __PRIVATE_ignoreIfPrimaryLeaseLoss(e)}}function __PRIVATE_syncEngineApplyOnlineStateChange(e,t,n){const r=__PRIVATE_debugCast(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function __PRIVATE_eventManagerOnOnlineStateChange(e,t){const n=__PRIVATE_debugCast(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const e of n.wa)e.va(t)&&(r=!0)}),r&&__PRIVATE_raiseSnapshotsInSyncEvent(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function __PRIVATE_syncEngineRejectListen(e,t,n){const r=__PRIVATE_debugCast(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new SortedMap(DocumentKey.comparator);e=e.insert(s,MutableDocument.newNoDocument(s,SnapshotVersion.min()));const n=__PRIVATE_documentKeySet().add(s),i=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),e,n);await __PRIVATE_syncEngineApplyRemoteEvent(r,i),r.du=r.du.remove(s),r.Eu.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions(r)}else await __PRIVATE_localStoreReleaseTarget(r.localStore,t,!1).then(()=>__PRIVATE_removeAndCleanupTarget(r,t,n)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(e,t){const n=__PRIVATE_debugCast(e),r=t.batch.batchId;try{const e=await function __PRIVATE_localStoreAcknowledgeBatch(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function __PRIVATE_applyWriteToRemoteDocuments(e,t,n,r){const i=n.batch,s=i.keys();let o=PersistencePromise.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);__PRIVATE_hardAssert(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function __PRIVATE_getKeysWithTransformResults(e){let t=__PRIVATE_documentKeySet();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);__PRIVATE_processUserCallback(n,r,null),__PRIVATE_triggerPendingWritesCallbacks(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e)}catch(e){await __PRIVATE_ignoreIfPrimaryLeaseLoss(e)}}async function __PRIVATE_syncEngineRejectFailedWrite(e,t,n){const r=__PRIVATE_debugCast(e);try{const e=await function __PRIVATE_localStoreRejectBatch(e,t){const n=__PRIVATE_debugCast(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(__PRIVATE_hardAssert(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);__PRIVATE_processUserCallback(r,t,n),__PRIVATE_triggerPendingWritesCallbacks(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,e)}catch(n){await __PRIVATE_ignoreIfPrimaryLeaseLoss(n)}}function __PRIVATE_triggerPendingWritesCallbacks(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function __PRIVATE_processUserCallback(e,t,n){const r=__PRIVATE_debugCast(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function __PRIVATE_removeAndCleanupTarget(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||__PRIVATE_removeLimboTarget(e,t)})}function __PRIVATE_removeLimboTarget(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(__PRIVATE_remoteStoreUnlisten(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_updateTrackedLimbos(e,t,n){for(const r of n)r instanceof __PRIVATE_AddedLimboDocument?(e.Au.addReference(r.key,t),__PRIVATE_trackLimboChange(e,r)):r instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(nn,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||__PRIVATE_removeLimboTarget(e,r.key)):fail(19791,{yu:r})}function __PRIVATE_trackLimboChange(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(__PRIVATE_logDebug(nn,"New document in limbo: "+n),e.Iu.add(r),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_pumpEnqueuedLimboResolutions(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new DocumentKey(ResourcePath.fromString(t)),r=e.mu.next();e.Eu.set(r,new LimboResolution(n)),e.du=e.du.insert(n,r),__PRIVATE_remoteStoreListen(e.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(n.path)),r,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ue))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(e,t,n){const r=__PRIVATE_debugCast(e),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((e,_)=>{o.push(r.gu(_,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(_.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(_.targetId,i?"current":"not-current")}if(e){i.push(e);const t=__PRIVATE_LocalViewChanges.Es(_.targetId,e);s.push(t)}}))}),await Promise.all(o),r.hu.J_(i),await async function __PRIVATE_localStoreNotifyLocalViewChanges(e,t){const n=__PRIVATE_debugCast(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>PersistencePromise.forEach(t,t=>PersistencePromise.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>PersistencePromise.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(Qt,"Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Fs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(t,i)}}}(r.localStore,s))}async function __PRIVATE_syncEngineHandleCredentialChange(e,t){const n=__PRIVATE_debugCast(e);if(!n.currentUser.isEqual(t)){__PRIVATE_logDebug(nn,"User change. New user:",t.toKey());const e=await __PRIVATE_localStoreHandleUserChange(n.localStore,t);n.currentUser=t,function __PRIVATE_rejectOutstandingPendingWritesCallbacks(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new FirestoreError(N.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(n,e.Bs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(e,t){const n=__PRIVATE_debugCast(e),r=n.Eu.get(t);if(r&&r.lu)return __PRIVATE_documentKeySet().add(r.key);{let e=__PRIVATE_documentKeySet();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function __PRIVATE_ensureWatchCallbacks(e){const t=__PRIVATE_debugCast(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,t),t.hu.J_=__PRIVATE_eventManagerOnWatchChange.bind(null,t.eventManager),t.hu.pu=__PRIVATE_eventManagerOnWatchError.bind(null,t.eventManager),t}function __PRIVATE_syncEngineEnsureWriteCallbacks(e){const t=__PRIVATE_debugCast(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,t),t}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Du(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Vi,this.serializer)}bu(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(e=>__PRIVATE_MemoryLruDelegate.Vi(e,t),this.serializer)}}class OnlineComponentProvider{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function __PRIVATE_newEventManager(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const t=__PRIVATE_newSerializer(e.databaseInfo.databaseId),n=function __PRIVATE_newConnection(e){return new __PRIVATE_WebChannelConnection(e)}(e.databaseInfo);return function __PRIVATE_newDatastore(e,t,n,r){return new __PRIVATE_DatastoreImpl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function __PRIVATE_newRemoteStore(e,t,n,r,i){return new __PRIVATE_RemoteStoreImpl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,e,0),function __PRIVATE_newConnectivityMonitor(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,t){return function __PRIVATE_newSyncEngine(e,t,n,r,i,s,o){const _=new __PRIVATE_SyncEngineImpl(e,t,n,r,i,s);return o&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function __PRIVATE_remoteStoreShutdown(e){const t=__PRIVATE_debugCast(e);__PRIVATE_logDebug(Xt,"RemoteStore shutting down."),t.Ia.add(5),await __PRIVATE_disableNetworkInternal(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const rn="FirestoreClient";class FirestoreClient{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{__PRIVATE_logDebug(rn,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(__PRIVATE_logDebug(rn,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=__PRIVATE_wrapInUserErrorIfRecoverable(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(e,t){e.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(rn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await __PRIVATE_localStoreHandleUserChange(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{__PRIVATE_logWarn("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{__PRIVATE_logDebug("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{__PRIVATE_logWarn("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function __PRIVATE_setOnlineComponentProvider(e,t){e.asyncQueue.verifyOperationInProgress();const n=await __PRIVATE_ensureOfflineComponents(e);__PRIVATE_logDebug(rn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,n)),e._onlineComponents=t}async function __PRIVATE_ensureOfflineComponents(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){__PRIVATE_logDebug(rn,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function __PRIVATE_canFallbackFromIndexedDbError(e){return"FirebaseError"===e.name?e.code===N.FAILED_PRECONDITION||e.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider(e,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(rn,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(e,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return e._offlineComponents}async function __PRIVATE_ensureOnlineComponents(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(__PRIVATE_logDebug(rn,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,e._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(rn,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,new OnlineComponentProvider))),e._onlineComponents}function __PRIVATE_getSyncEngine(e){return __PRIVATE_ensureOnlineComponents(e).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(e){const t=await __PRIVATE_ensureOnlineComponents(e),n=t.eventManager;return n.onListen=__PRIVATE_syncEngineListen.bind(null,t.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,t.syncEngine),n}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(e,t,n={}){const r=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>function __PRIVATE_readDocumentViaSnapshotListener(e,t,n,r,i){const s=new __PRIVATE_AsyncObserver({next:_=>{s.Ou(),t.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(e,o));const a=_.docs.has(n);!a&&_.fromCache?i.reject(new FirestoreError(N.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&_.fromCache&&r&&"server"===r.source?i.reject(new FirestoreError(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(_)},error:e=>i.reject(e)}),o=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(n.path),s,{includeMetadataChanges:!0,ka:!0});return __PRIVATE_eventManagerListen(e,o)}(await __PRIVATE_getEventManager(e),e.asyncQueue,t,n,r)),r.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(e,t,n={}){const r=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>function __PRIVATE_executeQueryViaSnapshotListener(e,t,n,r,i){const s=new __PRIVATE_AsyncObserver({next:n=>{s.Ou(),t.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(e,o)),n.fromCache&&"server"===r.source?i.reject(new FirestoreError(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new __PRIVATE_QueryListener(n,s,{includeMetadataChanges:!0,ka:!0});return __PRIVATE_eventManagerListen(e,o)}(await __PRIVATE_getEventManager(e),e.asyncQueue,t,n,r)),r.promise}function __PRIVATE_cloneLongPollingOptions(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const sn=new Map,on="firestore.googleapis.com";class FirestoreSettingsImpl{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new FirestoreError(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=on,this.ssl=true}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new FirestoreError(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function __PRIVATE_validateIsNotUsedTogether(e,t,n,r){if(!0===t&&!0===r)throw new FirestoreError(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function __PRIVATE_validateLongPollingOptions(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new FirestoreError(N.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new FirestoreError(N.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new FirestoreError(N.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function __PRIVATE_longPollingOptionsEqual(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function __PRIVATE_makeAuthCredentialsProvider(e){if(!e)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(e.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new FirestoreError(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function __PRIVATE_removeComponents(e){const t=sn.get(e);t&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),sn.delete(e),t.terminate())}(this),Promise.resolve()}}class Query{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}toJSON(){return{type:DocumentReference._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(__PRIVATE_validateJSON(t,DocumentReference._jsonSchema))return new DocumentReference(e,n||null,new DocumentKey(ResourcePath.fromString(t.referencePath)))}}DocumentReference._jsonSchemaVersion="firestore/documentReference/1.0",DocumentReference._jsonSchema={type:property("string",DocumentReference._jsonSchemaVersion),referencePath:property("string")};class CollectionReference extends Query{constructor(e,t,n){super(e,t,__PRIVATE_newQueryForPath(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(e,t,...n){if(e=index_esm2017_getModularInstance(e),__PRIVATE_validateNonEmptyArgument("collection","path",t),e instanceof Firestore$1){const r=ResourcePath.fromString(t,...n);return __PRIVATE_validateCollectionPath(r),new CollectionReference(e,null,r)}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ResourcePath.fromString(t,...n));return __PRIVATE_validateCollectionPath(r),new CollectionReference(e.firestore,null,r)}}function doc(e,t,...n){if(e=index_esm2017_getModularInstance(e),1===arguments.length&&(t=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",t),e instanceof Firestore$1){const r=ResourcePath.fromString(t,...n);return __PRIVATE_validateDocumentPath(r),new DocumentReference(e,null,new DocumentKey(r))}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ResourcePath.fromString(t,...n));return __PRIVATE_validateDocumentPath(r),new DocumentReference(e.firestore,e instanceof CollectionReference?e.converter:null,new DocumentKey(r))}}const an="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.oc=()=>{const e=index_esm2017_getDocument();e&&__PRIVATE_logDebug(an,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=index_esm2017_getDocument();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=index_esm2017_getDocument();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new __PRIVATE_Deferred;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(an,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=DelayedOperation.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&fail(47125,{hc:__PRIVATE_getMessageOrStack(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function __PRIVATE_getMessageOrStack(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Firestore extends Firestore$1{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function index_esm2017_getFirestore(e,n){const r="object"==typeof e?e:index_esm2017_getApp(),i="string"==typeof e?e:n||ut,s=index_esm2017_getProvider(r,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=index_esm2017_getDefaultEmulatorHostnameAndPort("firestore");e&&function index_esm2017_connectFirestoreEmulator(e,t,n,r={}){var i;e=__PRIVATE_cast(e,Firestore$1);const s=index_esm2017_isCloudWorkstation(t),o=e._getSettings(),_=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;s&&(index_esm2017_pingServer(`https://${a}`),index_esm2017_updateEmulatorBanner("Firestore",!0)),o.host!==on&&o.host!==a&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:a,ssl:s,emulatorOptions:r});if(!index_esm2017_deepEqual(u,_)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=User.MOCK_USER;else{t=createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new FirestoreError(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new User(s)}e._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(t,n))}}(s,...e)}return s}function ensureFirestoreConfigured(e){if(e._terminated)throw new FirestoreError(N.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||__PRIVATE_configureFirestore(e),e._firestoreClient}function __PRIVATE_configureFirestore(e){var t,n,r;const i=e._freezeSettings(),s=function __PRIVATE_makeDatabaseInfo(e,t,n,r){return new DatabaseInfo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new FirestoreClient(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function __PRIVATE_buildComponentProvider(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(e){throw new FirestoreError(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bytes._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(__PRIVATE_validateJSON(e,Bytes._jsonSchema))return Bytes.fromBase64String(e.bytes)}}Bytes._jsonSchemaVersion="firestore/bytes/1.0",Bytes._jsonSchema={type:property("string",Bytes._jsonSchemaVersion),bytes:property("string")};class FieldPath{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new FirestoreError(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FieldValue{constructor(e){this._methodName=e}}class GeoPoint{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new FirestoreError(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:GeoPoint._jsonSchemaVersion}}static fromJSON(e){if(__PRIVATE_validateJSON(e,GeoPoint._jsonSchema))return new GeoPoint(e.latitude,e.longitude)}}GeoPoint._jsonSchemaVersion="firestore/geoPoint/1.0",GeoPoint._jsonSchema={type:property("string",GeoPoint._jsonSchemaVersion),latitude:property("number"),longitude:property("number")};class VectorValue{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function __PRIVATE_isPrimitiveArrayEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:VectorValue._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(__PRIVATE_validateJSON(e,VectorValue._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new VectorValue(e.vectorValues);throw new FirestoreError(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}VectorValue._jsonSchemaVersion="firestore/vectorValue/1.0",VectorValue._jsonSchema={type:property("string",VectorValue._jsonSchemaVersion),vectorValues:property("object")};const cn=/^__.*__$/;class ParsedSetData{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,t,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,t,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function __PRIVATE_isWrite(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{Ec:e})}}class __PRIVATE_ParseContextImpl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(__PRIVATE_isWrite(this.Ec)&&cn.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||__PRIVATE_newSerializer(e)}Dc(e,t,n,r=!1){return new __PRIVATE_ParseContextImpl({Ec:e,methodName:t,bc:n,path:FieldPath$1.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(e){const t=e._freezeSettings(),n=__PRIVATE_newSerializer(e._databaseId);return new __PRIVATE_UserDataReader(e._databaseId,!!t.ignoreUndefinedProperties,n)}function __PRIVATE_parseSetData(e,t,n,r,i,s={}){const o=e.Dc(s.merge||s.mergeFields?2:0,t,n,i);__PRIVATE_validatePlainObject("Data must be an object, but it was:",o,r);const _=__PRIVATE_parseObject(r,o);let a,u;if(s.merge)a=new FieldMask(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=__PRIVATE_fieldPathFromArgument$1(t,r,n);if(!o.contains(i))throw new FirestoreError(N.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(e,i)||e.push(i)}a=new FieldMask(e),u=o.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,u=o.fieldTransforms;return new ParsedSetData(new ObjectValue(_),a,u)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(e,t,n,r){const i=e.Dc(1,t,n);__PRIVATE_validatePlainObject("Data must be an object, but it was:",i,r);const s=[],o=ObjectValue.empty();forEach(r,(e,r)=>{const _=__PRIVATE_fieldPathFromDotSeparatedString(t,e,n);r=index_esm2017_getModularInstance(r);const a=i.gc(_);if(r instanceof __PRIVATE_DeleteFieldValueImpl)s.push(_);else{const e=__PRIVATE_parseData(r,a);null!=e&&(s.push(_),o.set(_,e))}});const _=new FieldMask(s);return new ParsedUpdateData(o,_,i.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(e,t,n,r,i,s){const o=e.Dc(1,t,n),_=[__PRIVATE_fieldPathFromArgument$1(t,r,n)],a=[i];if(s.length%2!=0)throw new FirestoreError(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)_.push(__PRIVATE_fieldPathFromArgument$1(t,s[e])),a.push(s[e+1]);const u=[],c=ObjectValue.empty();for(let e=_.length-1;e>=0;--e)if(!__PRIVATE_fieldMaskContains(u,_[e])){const t=_[e];let n=a[e];n=index_esm2017_getModularInstance(n);const r=o.gc(t);if(n instanceof __PRIVATE_DeleteFieldValueImpl)u.push(t);else{const e=__PRIVATE_parseData(n,r);null!=e&&(u.push(t),c.set(t,e))}}const l=new FieldMask(u);return new ParsedUpdateData(c,l,o.fieldTransforms)}function __PRIVATE_parseQueryValue(e,t,n,r=!1){return __PRIVATE_parseData(n,e.Dc(r?4:3,t))}function __PRIVATE_parseData(e,t){if(__PRIVATE_looksLikeJsonObject(e=index_esm2017_getModularInstance(e)))return __PRIVATE_validatePlainObject("Unsupported field value:",t,e),__PRIVATE_parseObject(e,t);if(e instanceof FieldValue)return function __PRIVATE_parseSentinelFieldValue(e,t){if(!__PRIVATE_isWrite(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function __PRIVATE_parseArray(e,t){const n=[];let r=0;for(const i of e){let e=__PRIVATE_parseData(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function __PRIVATE_parseScalarValue(e,t){if(null===(e=index_esm2017_getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return toNumber(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Timestamp.fromDate(e);return{timestampValue:toTimestamp(t.serializer,n)}}if(e instanceof Timestamp){const n=new Timestamp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:toTimestamp(t.serializer,n)}}if(e instanceof GeoPoint)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(t.serializer,e._byteString)};if(e instanceof DocumentReference){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:__PRIVATE_toResourceName(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof VectorValue)return function __PRIVATE_parseVectorValue(e,t){return{mapValue:{fields:{[ct]:{stringValue:Pt},[Tt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${__PRIVATE_valueDescription(e)}`)}(e,t)}function __PRIVATE_parseObject(e,t){const n={};return index_esm2017_isEmpty(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):forEach(e,(e,r)=>{const i=__PRIVATE_parseData(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function __PRIVATE_looksLikeJsonObject(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Timestamp||e instanceof GeoPoint||e instanceof Bytes||e instanceof DocumentReference||e instanceof FieldValue||e instanceof VectorValue)}function __PRIVATE_validatePlainObject(e,t,n){if(!__PRIVATE_looksLikeJsonObject(n)||!__PRIVATE_isPlainObject(n)){const r=__PRIVATE_valueDescription(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function __PRIVATE_fieldPathFromArgument$1(e,t,n){if((t=index_esm2017_getModularInstance(t))instanceof FieldPath)return t._internalPath;if("string"==typeof t)return __PRIVATE_fieldPathFromDotSeparatedString(e,t);throw __PRIVATE_createError("Field path arguments must be of type string or ",e,!1,void 0,n)}const ln=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(e,t,n){if(t.search(ln)>=0)throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new FieldPath(...t.split("."))._internalPath}catch(r){throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function __PRIVATE_createError(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let _=`Function ${t}() called with invalid data`;n&&(_+=" (via `toFirestore()`)"),_+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new FirestoreError(N.INVALID_ARGUMENT,_+e+a)}function __PRIVATE_fieldMaskContains(e,t){return e.some(e=>e.isEqual(t))}class DocumentSnapshot$1{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(e,t){return"string"==typeof t?__PRIVATE_fieldPathFromDotSeparatedString(e,t):t instanceof FieldPath?t._internalPath:t._delegate._internalPath}function __PRIVATE_validateHasExplicitOrderByForLimitToLast(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new FirestoreError(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(e,t,...n){let r=[];t instanceof AppliableConstraint&&r.push(t),r=r.concat(n),function __PRIVATE_validateQueryConstraintArray(e){const t=e.filter(e=>e instanceof QueryCompositeFilterConstraint).length,n=e.filter(e=>e instanceof QueryFieldFilterConstraint).length;if(t>1||t>0&&n>0)throw new FirestoreError(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new QueryFieldFilterConstraint(e,t,n)}_apply(e){const t=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,t),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,t))}_parse(e){const t=__PRIVATE_newUserDataReader(e.firestore),n=function __PRIVATE_newQueryFilter(e,t,n,r,i,s,o){let _;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){__PRIVATE_validateDisjunctiveFilterElements(o,s);const t=[];for(const n of o)t.push(__PRIVATE_parseDocumentIdValue(r,e,n));_={arrayValue:{values:t}}}else _=__PRIVATE_parseDocumentIdValue(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||__PRIVATE_validateDisjunctiveFilterElements(o,s),_=__PRIVATE_parseQueryValue(n,t,o,"in"===s||"not-in"===s);return FieldFilter.create(i,s,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QueryCompositeFilterConstraint(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:CompositeFilter.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function __PRIVATE_validateNewFilter(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)__PRIVATE_validateNewFieldFilter(n,e),n=__PRIVATE_queryWithAddedFilter(n,e)}(e._query,t),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QueryLimitConstraint extends QueryConstraint{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new QueryLimitConstraint(e,t,n)}_apply(e){return new Query(e.firestore,e.converter,__PRIVATE_queryWithLimit(e._query,this._limit,this._limitType))}}function limit(e){return __PRIVATE_validatePositiveNumber("limit",e),QueryLimitConstraint._create("limit",e,"F")}function __PRIVATE_parseDocumentIdValue(e,t,n){if("string"==typeof(n=index_esm2017_getModularInstance(n))){if(""===n)throw new FirestoreError(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(t)&&-1!==n.indexOf("/"))throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ResourcePath.fromString(n));if(!DocumentKey.isDocumentKey(r))throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return __PRIVATE_refValue(e,new DocumentKey(r))}if(n instanceof DocumentReference)return __PRIVATE_refValue(e,n._key);throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(n)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(e,t){if(!Array.isArray(e)||0===e.length)throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(e,t){const n=function __PRIVATE_findOpInsideFilters(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function __PRIVATE_conflictingOps(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new FirestoreError(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new FirestoreError(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,t="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fail(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return forEach(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Tt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>__PRIVATE_normalizeNumber(e.doubleValue));return new VectorValue(i)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=__PRIVATE_getPreviousValue(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const t=__PRIVATE_normalizeTimestamp(e);return new Timestamp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(n),9688,{name:e});const r=new DatabaseId(n.get(1),n.get(3)),i=new DocumentKey(n.popFirst(5));return r.isEqual(t)||__PRIVATE_logError(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function __PRIVATE_applyFirestoreDataConverter(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class SnapshotMetadata{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=DocumentSnapshot._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}DocumentSnapshot._jsonSchemaVersion="firestore/documentSnapshot/1.0",DocumentSnapshot._jsonSchema={type:property("string",DocumentSnapshot._jsonSchemaVersion),bundleSource:property("string","DocumentSnapshot"),bundleName:property("string"),bundle:property("string")};class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new SnapshotMetadata(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,n.key,n,new SnapshotMetadata(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function __PRIVATE_changesFromSnapshot(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new QueryDocumentSnapshot(e._firestore,e._userDataWriter,n.doc.key,n.doc,new SnapshotMetadata(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new QueryDocumentSnapshot(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SnapshotMetadata(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:__PRIVATE_resultChangeType(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=QuerySnapshot._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=__PRIVATE_AutoId.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function __PRIVATE_resultChangeType(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:e})}}function getDoc(e){e=__PRIVATE_cast(e,DocumentReference);const t=__PRIVATE_cast(e.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(t),e._key).then(n=>__PRIVATE_convertToDocSnapshot(t,e,n))}QuerySnapshot._jsonSchemaVersion="firestore/querySnapshot/1.0",QuerySnapshot._jsonSchema={type:property("string",QuerySnapshot._jsonSchemaVersion),bundleSource:property("string","QuerySnapshot"),bundleName:property("string"),bundle:property("string")};class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,t)}}function getDocs(e){e=__PRIVATE_cast(e,Query);const t=__PRIVATE_cast(e.firestore,Firestore),n=ensureFirestoreConfigured(t),r=new __PRIVATE_ExpUserDataWriter(t);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(e._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(n,e._query).then(n=>new QuerySnapshot(t,r,e,n))}function updateDoc(e,t,n,...r){e=__PRIVATE_cast(e,DocumentReference);const i=__PRIVATE_cast(e.firestore,Firestore),s=__PRIVATE_newUserDataReader(i);let o;return o="string"==typeof(t=index_esm2017_getModularInstance(t))||t instanceof FieldPath?__PRIVATE_parseUpdateVarargs(s,"updateDoc",e._key,t,n,r):__PRIVATE_parseUpdateData(s,"updateDoc",e._key,t),executeWrite(i,[o.toMutation(e._key,Precondition.exists(!0))])}function deleteDoc(e){return executeWrite(__PRIVATE_cast(e.firestore,Firestore),[new __PRIVATE_DeleteMutation(e._key,Precondition.none())])}function addDoc(e,t){const n=__PRIVATE_cast(e.firestore,Firestore),r=doc(e),i=__PRIVATE_applyFirestoreDataConverter(e.converter,t);return executeWrite(n,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Precondition.exists(!1))]).then(()=>r)}function executeWrite(e,t){return function __PRIVATE_firestoreClientWrite(e,t){const n=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>async function __PRIVATE_syncEngineWrite(e,t,n){const r=__PRIVATE_syncEngineEnsureWriteCallbacks(e);try{const e=await function __PRIVATE_localStoreWriteLocally(e,t){const n=__PRIVATE_debugCast(e),r=Timestamp.now(),i=t.reduce((e,t)=>e.add(t.key),__PRIVATE_documentKeySet());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let _=__PRIVATE_mutableDocumentMap(),a=__PRIVATE_documentKeySet();return n.Os.getEntries(e,i).next(e=>{_=e,_.forEach((e,t)=>{t.isValidDocument()||(a=a.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,_)).next(i=>{s=i;const o=[];for(const e of t){const t=__PRIVATE_mutationExtractBaseValue(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new __PRIVATE_PatchMutation(e.key,t,__PRIVATE_extractFieldMask(t.value.mapValue),Precondition.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,a);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function __PRIVATE_addMutationCallback(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new SortedMap(__PRIVATE_primitiveComparator)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(r,e.changes),await __PRIVATE_fillWritePipeline(r.remoteStore)}catch(e){const t=__PRIVATE_wrapInUserErrorIfRecoverable(e,"Failed to persist write");n.reject(t)}}(await __PRIVATE_getSyncEngine(e),t,n)),n.promise}(ensureFirestoreConfigured(e),t)}function __PRIVATE_convertToDocSnapshot(e,t,n){const r=n.docs.get(t._key),i=new __PRIVATE_ExpUserDataWriter(e);return new DocumentSnapshot(e,i,t._key,r,new SnapshotMetadata(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function __PRIVATE_registerFirestore(e,t=!0){!function __PRIVATE_setSDKVersion(e){x=e}("11.10.0"),_registerComponent(new Component("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(e.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(i,e.getProvider("app-check-internal")),function __PRIVATE_databaseIdFromApp(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new FirestoreError(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),registerVersion(F,M,e),registerVersion(F,M,"esm2017")}();class StorageError extends FirebaseError{constructor(code,message,status_=0){super(prependCode(code),`Firebase Storage: ${message} (${prependCode(code)})`),this.status_=status_,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(status){this.status_=status}_codeEquals(code){return prependCode(code)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(serverResponse){this.customData.serverResponse=serverResponse,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode,index_esm2017_ErrorCode;function prependCode(code){return"storage/"+code}function unknown(){return new StorageError(StorageErrorCode.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function invalidArgument(message){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,message)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidFormat(format,message){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+format+"': "+message)}function internalError(message){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+message)}!function(StorageErrorCode){StorageErrorCode.UNKNOWN="unknown",StorageErrorCode.OBJECT_NOT_FOUND="object-not-found",StorageErrorCode.BUCKET_NOT_FOUND="bucket-not-found",StorageErrorCode.PROJECT_NOT_FOUND="project-not-found",StorageErrorCode.QUOTA_EXCEEDED="quota-exceeded",StorageErrorCode.UNAUTHENTICATED="unauthenticated",StorageErrorCode.UNAUTHORIZED="unauthorized",StorageErrorCode.UNAUTHORIZED_APP="unauthorized-app",StorageErrorCode.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",StorageErrorCode.INVALID_CHECKSUM="invalid-checksum",StorageErrorCode.CANCELED="canceled",StorageErrorCode.INVALID_EVENT_NAME="invalid-event-name",StorageErrorCode.INVALID_URL="invalid-url",StorageErrorCode.INVALID_DEFAULT_BUCKET="invalid-default-bucket",StorageErrorCode.NO_DEFAULT_BUCKET="no-default-bucket",StorageErrorCode.CANNOT_SLICE_BLOB="cannot-slice-blob",StorageErrorCode.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",StorageErrorCode.NO_DOWNLOAD_URL="no-download-url",StorageErrorCode.INVALID_ARGUMENT="invalid-argument",StorageErrorCode.INVALID_ARGUMENT_COUNT="invalid-argument-count",StorageErrorCode.APP_DELETED="app-deleted",StorageErrorCode.INVALID_ROOT_OPERATION="invalid-root-operation",StorageErrorCode.INVALID_FORMAT="invalid-format",StorageErrorCode.INTERNAL_ERROR="internal-error",StorageErrorCode.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(StorageErrorCode||(StorageErrorCode={}));class Location{constructor(bucket,path){this.bucket=bucket,this.path_=path}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const encode=encodeURIComponent;return"/b/"+encode(this.bucket)+"/o/"+encode(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(bucketString,host){let bucketLocation;try{bucketLocation=Location.makeFromUrl(bucketString,host)}catch(e){return new Location(bucketString,"")}if(""===bucketLocation.path)return bucketLocation;throw function invalidDefaultBucket(bucket){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+bucket+"'.")}(bucketString)}static makeFromUrl(url,host){let location=null;const gsRegex=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function httpModify(loc){loc.path_=decodeURIComponent(loc.path)}const firebaseStorageHost=host.replace(/[.]/g,"\\."),groups=[{regex:gsRegex,indices:{bucket:1,path:3},postModify:function gsModify(loc){"/"===loc.path.charAt(loc.path.length-1)&&(loc.path_=loc.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${firebaseStorageHost}/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:httpModify},{regex:new RegExp(`^https?://${"firebasestorage.googleapis.com"===host?"(?:storage.googleapis.com|storage.cloud.google.com)":host}/([A-Za-z0-9.\\-_]+)/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:httpModify}];for(let i=0;i<groups.length;i++){const group=groups[i],captures=group.regex.exec(url);if(captures){const bucketValue=captures[group.indices.bucket];let pathValue=captures[group.indices.path];pathValue||(pathValue=""),location=new Location(bucketValue,pathValue),group.postModify(location);break}}if(null==location)throw function invalidUrl(url){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+url+"'.")}(url);return location}}class FailRequest{constructor(error){this.promise_=Promise.reject(error)}getPromise(){return this.promise_}cancel(_appDelete=!1){}}function isString(p){return"string"==typeof p||p instanceof String}function isNativeBlob(p){return isNativeBlobDefined()&&p instanceof Blob}function isNativeBlobDefined(){return"undefined"!=typeof Blob}function validateNumber(argument,minValue,maxValue,value){if(value<minValue)throw invalidArgument(`Invalid value for '${argument}'. Expected ${minValue} or greater.`);if(value>maxValue)throw invalidArgument(`Invalid value for '${argument}'. Expected ${maxValue} or less.`)}function makeUrl(urlPart,host,protocol){let origin=host;return null==protocol&&(origin=`https://${host}`),`${protocol}://${origin}/v0${urlPart}`}function makeQueryString(params){const encode=encodeURIComponent;let queryPart="?";for(const key in params)if(params.hasOwnProperty(key)){queryPart=queryPart+(encode(key)+"="+encode(params[key]))+"&"}return queryPart=queryPart.slice(0,-1),queryPart}function isRetryStatusCode(status,additionalRetryCodes){const isFiveHundredCode=status>=500&&status<600,isExtraRetryCode=-1!==[408,429].indexOf(status),isAdditionalRetryCode=-1!==additionalRetryCodes.indexOf(status);return isFiveHundredCode||isExtraRetryCode||isAdditionalRetryCode}!function(ErrorCode){ErrorCode[ErrorCode.NO_ERROR=0]="NO_ERROR",ErrorCode[ErrorCode.NETWORK_ERROR=1]="NETWORK_ERROR",ErrorCode[ErrorCode.ABORT=2]="ABORT"}(index_esm2017_ErrorCode||(index_esm2017_ErrorCode={}));class NetworkRequest{constructor(url_,method_,headers_,body_,successCodes_,additionalRetryCodes_,callback_,errorCallback_,timeout_,progressCallback_,connectionFactory_,retry=!0,isUsingEmulator=!1){this.url_=url_,this.method_=method_,this.headers_=headers_,this.body_=body_,this.successCodes_=successCodes_,this.additionalRetryCodes_=additionalRetryCodes_,this.callback_=callback_,this.errorCallback_=errorCallback_,this.timeout_=timeout_,this.progressCallback_=progressCallback_,this.connectionFactory_=connectionFactory_,this.retry=retry,this.isUsingEmulator=isUsingEmulator,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((resolve,reject)=>{this.resolve_=resolve,this.reject_=reject,this.start_()})}start_(){const doTheRequest=(backoffCallback,canceled)=>{if(canceled)return void backoffCallback(!1,new RequestEndStatus(!1,null,!0));const connection=this.connectionFactory_();this.pendingConnection_=connection;const progressListener=progressEvent=>{const loaded=progressEvent.loaded,total=progressEvent.lengthComputable?progressEvent.total:-1;null!==this.progressCallback_&&this.progressCallback_(loaded,total)};null!==this.progressCallback_&&connection.addUploadProgressListener(progressListener),connection.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&connection.removeUploadProgressListener(progressListener),this.pendingConnection_=null;const hitServer=connection.getErrorCode()===index_esm2017_ErrorCode.NO_ERROR,status=connection.getStatus();if(!hitServer||isRetryStatusCode(status,this.additionalRetryCodes_)&&this.retry){const wasCanceled=connection.getErrorCode()===index_esm2017_ErrorCode.ABORT;return void backoffCallback(!1,new RequestEndStatus(!1,null,wasCanceled))}const successCode=-1!==this.successCodes_.indexOf(status);backoffCallback(!0,new RequestEndStatus(successCode,connection))})},backoffDone=(requestWentThrough,status)=>{const resolve=this.resolve_,reject=this.reject_,connection=status.connection;if(status.wasSuccessCode)try{const result=this.callback_(connection,connection.getResponse());!function isJustDef(p){return void 0!==p}(result)?resolve():resolve(result)}catch(e){reject(e)}else if(null!==connection){const err=unknown();err.serverResponse=connection.getErrorText(),this.errorCallback_?reject(this.errorCallback_(connection,err)):reject(err)}else if(status.canceled){reject(this.appDelete_?appDeleted():canceled())}else{reject(retryLimitExceeded())}};this.canceled_?backoffDone(0,new RequestEndStatus(!1,null,!0)):this.backoffId_=function start(doRequest,backoffCompleteCb,timeout){let waitSeconds=1,retryTimeoutId=null,globalTimeoutId=null,hitTimeout=!1,cancelState=0;function canceled(){return 2===cancelState}let triggeredCallback=!1;function triggerCallback(...args){triggeredCallback||(triggeredCallback=!0,backoffCompleteCb.apply(null,args))}function callWithDelay(millis){retryTimeoutId=setTimeout(()=>{retryTimeoutId=null,doRequest(responseHandler,canceled())},millis)}function clearGlobalTimeout(){globalTimeoutId&&clearTimeout(globalTimeoutId)}function responseHandler(success,...args){if(triggeredCallback)return void clearGlobalTimeout();if(success)return clearGlobalTimeout(),void triggerCallback.call(null,success,...args);if(canceled()||hitTimeout)return clearGlobalTimeout(),void triggerCallback.call(null,success,...args);let waitMillis;waitSeconds<64&&(waitSeconds*=2),1===cancelState?(cancelState=2,waitMillis=0):waitMillis=1e3*(waitSeconds+Math.random()),callWithDelay(waitMillis)}let stopped=!1;function stop(wasTimeout){stopped||(stopped=!0,clearGlobalTimeout(),triggeredCallback||(null!==retryTimeoutId?(wasTimeout||(cancelState=2),clearTimeout(retryTimeoutId),callWithDelay(0)):wasTimeout||(cancelState=1)))}return callWithDelay(0),globalTimeoutId=setTimeout(()=>{hitTimeout=!0,stop(!0)},timeout),stop}(doTheRequest,backoffDone,this.timeout_)}getPromise(){return this.promise_}cancel(appDelete){this.canceled_=!0,this.appDelete_=appDelete||!1,null!==this.backoffId_&&function stop(id){id(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(wasSuccessCode,connection,canceled){this.wasSuccessCode=wasSuccessCode,this.connection=connection,this.canceled=!!canceled}}function getBlobBuilder(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function getBlob$1(...args){const BlobBuilder=getBlobBuilder();if(void 0!==BlobBuilder){const bb=new BlobBuilder;for(let i=0;i<args.length;i++)bb.append(args[i]);return bb.getBlob()}if(isNativeBlobDefined())return new Blob(args);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function decodeBase64(encoded){if("undefined"==typeof atob)throw function missingPolyFill(polyFill){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${polyFill} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(encoded)}const StringFormat_RAW="raw",StringFormat_BASE64="base64",StringFormat_BASE64URL="base64url",StringFormat_DATA_URL="data_url";class StringData{constructor(data,contentType){this.data=data,this.contentType=contentType||null}}function dataFromString(format,stringData){switch(format){case StringFormat_RAW:return new StringData(utf8Bytes_(stringData));case StringFormat_BASE64:case StringFormat_BASE64URL:return new StringData(base64Bytes_(format,stringData));case StringFormat_DATA_URL:return new StringData(function dataURLBytes_(dataUrl){const parts=new DataURLParts(dataUrl);return parts.base64?base64Bytes_(StringFormat_BASE64,parts.rest):function percentEncodedBytes_(value){let decoded;try{decoded=decodeURIComponent(value)}catch(e){throw invalidFormat(StringFormat_DATA_URL,"Malformed data URL.")}return utf8Bytes_(decoded)}(parts.rest)}(stringData),function dataURLContentType_(dataUrl){return new DataURLParts(dataUrl).contentType}(stringData))}throw unknown()}function utf8Bytes_(value){const b=[];for(let i=0;i<value.length;i++){let c=value.charCodeAt(i);if(c<=127)b.push(c);else if(c<=2047)b.push(192|c>>6,128|63&c);else if(55296==(64512&c)){if(i<value.length-1&&56320==(64512&value.charCodeAt(i+1))){c=65536|(1023&c)<<10|1023&value.charCodeAt(++i),b.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|63&c)}else b.push(239,191,189)}else 56320==(64512&c)?b.push(239,191,189):b.push(224|c>>12,128|c>>6&63,128|63&c)}return new Uint8Array(b)}function base64Bytes_(format,value){switch(format){case StringFormat_BASE64:{const hasMinus=-1!==value.indexOf("-"),hasUnder=-1!==value.indexOf("_");if(hasMinus||hasUnder){throw invalidFormat(format,"Invalid character '"+(hasMinus?"-":"_")+"' found: is it base64url encoded?")}break}case StringFormat_BASE64URL:{const hasPlus=-1!==value.indexOf("+"),hasSlash=-1!==value.indexOf("/");if(hasPlus||hasSlash){throw invalidFormat(format,"Invalid character '"+(hasPlus?"+":"/")+"' found: is it base64 encoded?")}value=value.replace(/-/g,"+").replace(/_/g,"/");break}}let bytes;try{bytes=decodeBase64(value)}catch(e){if(e.message.includes("polyfill"))throw e;throw invalidFormat(format,"Invalid character found")}const array=new Uint8Array(bytes.length);for(let i=0;i<bytes.length;i++)array[i]=bytes.charCodeAt(i);return array}class DataURLParts{constructor(dataURL){this.base64=!1,this.contentType=null;const matches=dataURL.match(/^data:([^,]+)?,/);if(null===matches)throw invalidFormat(StringFormat_DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const middle=matches[1]||null;null!=middle&&(this.base64=function endsWith(s,end){const longEnough=s.length>=end.length;if(!longEnough)return!1;return s.substring(s.length-end.length)===end}(middle,";base64"),this.contentType=this.base64?middle.substring(0,middle.length-7):middle),this.rest=dataURL.substring(dataURL.indexOf(",")+1)}}class FbsBlob{constructor(data,elideCopy){let size=0,blobType="";isNativeBlob(data)?(this.data_=data,size=data.size,blobType=data.type):data instanceof ArrayBuffer?(elideCopy?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),size=this.data_.length):data instanceof Uint8Array&&(elideCopy?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),size=data.length),this.size_=size,this.type_=blobType}size(){return this.size_}type(){return this.type_}slice(startByte,endByte){if(isNativeBlob(this.data_)){const sliced=function sliceBlob(blob,start,end){return blob.webkitSlice?blob.webkitSlice(start,end):blob.mozSlice?blob.mozSlice(start,end):blob.slice?blob.slice(start,end):null}(this.data_,startByte,endByte);return null===sliced?null:new FbsBlob(sliced)}{const slice=new Uint8Array(this.data_.buffer,startByte,endByte-startByte);return new FbsBlob(slice,!0)}}static getBlob(...args){if(isNativeBlobDefined()){const blobby=args.map(val=>val instanceof FbsBlob?val.data_:val);return new FbsBlob(getBlob$1.apply(null,blobby))}{const uint8Arrays=args.map(val=>isString(val)?dataFromString(StringFormat_RAW,val).data:val.data_);let finalLength=0;uint8Arrays.forEach(array=>{finalLength+=array.byteLength});const merged=new Uint8Array(finalLength);let index=0;return uint8Arrays.forEach(array=>{for(let i=0;i<array.length;i++)merged[index++]=array[i]}),new FbsBlob(merged,!0)}}uploadData(){return this.data_}}function jsonObjectOrNull(s){let obj;try{obj=JSON.parse(s)}catch(e){return null}return function isNonArrayObject(p){return"object"==typeof p&&!Array.isArray(p)}(obj)?obj:null}function lastComponent(path){const index=path.lastIndexOf("/",path.length-2);return-1===index?path:path.slice(index+1)}function noXform_(metadata,value){return value}class Mapping{constructor(server,local,writable,xform){this.server=server,this.local=local||server,this.writable=!!writable,this.xform=xform||noXform_}}let mappings_=null;function getMappings(){if(mappings_)return mappings_;const mappings=[];mappings.push(new Mapping("bucket")),mappings.push(new Mapping("generation")),mappings.push(new Mapping("metageneration")),mappings.push(new Mapping("name","fullPath",!0));const nameMapping=new Mapping("name");nameMapping.xform=function mappingsXformPath(_metadata,fullPath){return function xformPath(fullPath){return!isString(fullPath)||fullPath.length<2?fullPath:lastComponent(fullPath)}(fullPath)},mappings.push(nameMapping);const sizeMapping=new Mapping("size");return sizeMapping.xform=function xformSize(_metadata,size){return void 0!==size?Number(size):size},mappings.push(sizeMapping),mappings.push(new Mapping("timeCreated")),mappings.push(new Mapping("updated")),mappings.push(new Mapping("md5Hash",null,!0)),mappings.push(new Mapping("cacheControl",null,!0)),mappings.push(new Mapping("contentDisposition",null,!0)),mappings.push(new Mapping("contentEncoding",null,!0)),mappings.push(new Mapping("contentLanguage",null,!0)),mappings.push(new Mapping("contentType",null,!0)),mappings.push(new Mapping("metadata","customMetadata",!0)),mappings_=mappings,mappings_}function fromResource(service,resource,mappings){const metadata={type:"file"},len=mappings.length;for(let i=0;i<len;i++){const mapping=mappings[i];metadata[mapping.local]=mapping.xform(metadata,resource[mapping.server])}return function addRef(metadata,service){Object.defineProperty(metadata,"ref",{get:function generateRef(){const bucket=metadata.bucket,path=metadata.fullPath,loc=new Location(bucket,path);return service._makeStorageReference(loc)}})}(metadata,service),metadata}function fromResourceString(service,resourceString,mappings){const obj=jsonObjectOrNull(resourceString);if(null===obj)return null;return fromResource(service,obj,mappings)}function toResourceString(metadata,mappings){const resource={},len=mappings.length;for(let i=0;i<len;i++){const mapping=mappings[i];mapping.writable&&(resource[mapping.server]=metadata[mapping.local])}return JSON.stringify(resource)}function fromResponseString(service,bucket,resourceString){const obj=jsonObjectOrNull(resourceString);if(null===obj)return null;return function fromBackendResponse(service,bucket,resource){const listResult={prefixes:[],items:[],nextPageToken:resource.nextPageToken};if(resource.prefixes)for(const path of resource.prefixes){const pathWithoutTrailingSlash=path.replace(/\/$/,""),reference=service._makeStorageReference(new Location(bucket,pathWithoutTrailingSlash));listResult.prefixes.push(reference)}if(resource.items)for(const item of resource.items){const reference=service._makeStorageReference(new Location(bucket,item.name));listResult.items.push(reference)}return listResult}(service,bucket,obj)}class RequestInfo{constructor(url,method,handler,timeout){this.url=url,this.method=method,this.handler=handler,this.timeout=timeout,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function handlerCheck(cndn){if(!cndn)throw unknown()}function metadataHandler(service,mappings){return function handler(xhr,text){const metadata=fromResourceString(service,text,mappings);return handlerCheck(null!==metadata),metadata}}function downloadUrlHandler(service,mappings){return function handler(xhr,text){const metadata=fromResourceString(service,text,mappings);return handlerCheck(null!==metadata),function downloadUrlFromResourceString(metadata,resourceString,host,protocol){const obj=jsonObjectOrNull(resourceString);if(null===obj)return null;if(!isString(obj.downloadTokens))return null;const tokens=obj.downloadTokens;if(0===tokens.length)return null;const encode=encodeURIComponent;return tokens.split(",").map(token=>{const bucket=metadata.bucket,path=metadata.fullPath;return makeUrl("/b/"+encode(bucket)+"/o/"+encode(path),host,protocol)+makeQueryString({alt:"media",token})})[0]}(metadata,text,service.host,service._protocol)}}function sharedErrorHandler(location){return function errorHandler(xhr,err){let newErr;return newErr=401===xhr.getStatus()?xhr.getErrorText().includes("Firebase App Check token is invalid")?function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function unauthenticated(){return new StorageError(StorageErrorCode.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===xhr.getStatus()?function quotaExceeded(bucket){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(location.bucket):403===xhr.getStatus()?function unauthorized(path){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+path+"'.")}(location.path):err,newErr.status=xhr.getStatus(),newErr.serverResponse=err.serverResponse,newErr}}function objectErrorHandler(location){const shared=sharedErrorHandler(location);return function errorHandler(xhr,err){let newErr=shared(xhr,err);return 404===xhr.getStatus()&&(newErr=function objectNotFound(path){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+path+"' does not exist.")}(location.path)),newErr.serverResponse=err.serverResponse,newErr}}function getMetadata$2(service,location,mappings){const url=makeUrl(location.fullServerUrl(),service.host,service._protocol),timeout=service.maxOperationRetryTime,requestInfo=new RequestInfo(url,"GET",metadataHandler(service,mappings),timeout);return requestInfo.errorHandler=objectErrorHandler(location),requestInfo}function list$2(service,location,delimiter,pageToken,maxResults){const urlParams={};location.isRoot?urlParams.prefix="":urlParams.prefix=location.path+"/",delimiter&&delimiter.length>0&&(urlParams.delimiter=delimiter),pageToken&&(urlParams.pageToken=pageToken),maxResults&&(urlParams.maxResults=maxResults);const url=makeUrl(location.bucketOnlyServerUrl(),service.host,service._protocol),timeout=service.maxOperationRetryTime,requestInfo=new RequestInfo(url,"GET",function listHandler(service,bucket){return function handler(xhr,text){const listResult=fromResponseString(service,bucket,text);return handlerCheck(null!==listResult),listResult}}(service,location.bucket),timeout);return requestInfo.urlParams=urlParams,requestInfo.errorHandler=sharedErrorHandler(location),requestInfo}function metadataForUpload_(location,blob,metadata){const metadataClone=Object.assign({},metadata);return metadataClone.fullPath=location.path,metadataClone.size=blob.size(),metadataClone.contentType||(metadataClone.contentType=function determineContentType_(metadata,blob){return metadata&&metadata.contentType||blob&&blob.type()||"application/octet-stream"}(null,blob)),metadataClone}function multipartUpload(service,location,mappings,blob,metadata){const urlPart=location.bucketOnlyServerUrl(),headers={"X-Goog-Upload-Protocol":"multipart"};const boundary=function genBoundary(){let str="";for(let i=0;i<2;i++)str+=Math.random().toString().slice(2);return str}();headers["Content-Type"]="multipart/related; boundary="+boundary;const metadata_=metadataForUpload_(location,blob,metadata),preBlobPart="--"+boundary+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+toResourceString(metadata_,mappings)+"\r\n--"+boundary+"\r\nContent-Type: "+metadata_.contentType+"\r\n\r\n",postBlobPart="\r\n--"+boundary+"--",body=FbsBlob.getBlob(preBlobPart,blob,postBlobPart);if(null===body)throw cannotSliceBlob();const urlParams={name:metadata_.fullPath},url=makeUrl(urlPart,service.host,service._protocol),timeout=service.maxUploadRetryTime,requestInfo=new RequestInfo(url,"POST",metadataHandler(service,mappings),timeout);return requestInfo.urlParams=urlParams,requestInfo.headers=headers,requestInfo.body=body.uploadData(),requestInfo.errorHandler=sharedErrorHandler(location),requestInfo}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=index_esm2017_ErrorCode.NO_ERROR,this.sendPromise_=new Promise(resolve=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=index_esm2017_ErrorCode.ABORT,resolve()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=index_esm2017_ErrorCode.NETWORK_ERROR,resolve()}),this.xhr_.addEventListener("load",()=>{resolve()})})}send(url,method,isUsingEmulator,body,headers){if(this.sent_)throw internalError("cannot .send() more than once");if(index_esm2017_isCloudWorkstation(url)&&isUsingEmulator&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(method,url,!0),void 0!==headers)for(const key in headers)headers.hasOwnProperty(key)&&this.xhr_.setRequestHeader(key,headers[key].toString());return void 0!==body?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(header){return this.xhr_.getResponseHeader(header)}addUploadProgressListener(listener){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",listener)}removeUploadProgressListener(listener){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",listener)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}class Reference{constructor(_service,location){this._service=_service,this._location=location instanceof Location?location:Location.makeFromUrl(location,_service.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(service,location){return new Reference(service,location)}get root(){const location=new Location(this._location.bucket,"");return this._newRef(this._service,location)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const newPath=function index_esm2017_parent(path){if(0===path.length)return null;const index=path.lastIndexOf("/");return-1===index?"":path.slice(0,index)}(this._location.path);if(null===newPath)return null;const location=new Location(this._location.bucket,newPath);return new Reference(this._service,location)}_throwIfRoot(name){if(""===this._location.path)throw function invalidRootOperation(name){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+name+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(name)}}function uploadBytes$1(ref,data,metadata){ref._throwIfRoot("uploadBytes");const requestInfo=multipartUpload(ref.storage,ref._location,getMappings(),new FbsBlob(data,!0),metadata);return ref.storage.makeRequestWithTokens(requestInfo,newTextConnection).then(finalMetadata=>({metadata:finalMetadata,ref}))}function listAll$1(ref){const accumulator={prefixes:[],items:[]};return listAllHelper(ref,accumulator).then(()=>accumulator)}async function listAllHelper(ref,accumulator,pageToken){const opt={pageToken},nextPage=await list$1(ref,opt);accumulator.prefixes.push(...nextPage.prefixes),accumulator.items.push(...nextPage.items),null!=nextPage.nextPageToken&&await listAllHelper(ref,accumulator,nextPage.nextPageToken)}function list$1(ref,options){null!=options&&"number"==typeof options.maxResults&&validateNumber("options.maxResults",1,1e3,options.maxResults);const op=options||{},requestInfo=list$2(ref.storage,ref._location,"/",op.pageToken,op.maxResults);return ref.storage.makeRequestWithTokens(requestInfo,newTextConnection)}function getDownloadURL$1(ref){ref._throwIfRoot("getDownloadURL");const requestInfo=function getDownloadUrl(service,location,mappings){const url=makeUrl(location.fullServerUrl(),service.host,service._protocol),timeout=service.maxOperationRetryTime,requestInfo=new RequestInfo(url,"GET",downloadUrlHandler(service,mappings),timeout);return requestInfo.errorHandler=objectErrorHandler(location),requestInfo}(ref.storage,ref._location,getMappings());return ref.storage.makeRequestWithTokens(requestInfo,newTextConnection).then(url=>{if(null===url)throw function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return url})}function deleteObject$1(ref){ref._throwIfRoot("deleteObject");const requestInfo=function deleteObject$2(service,location){const url=makeUrl(location.fullServerUrl(),service.host,service._protocol),timeout=service.maxOperationRetryTime,requestInfo=new RequestInfo(url,"DELETE",function handler(_xhr,_text){},timeout);return requestInfo.successCodes=[200,204],requestInfo.errorHandler=objectErrorHandler(location),requestInfo}(ref.storage,ref._location);return ref.storage.makeRequestWithTokens(requestInfo,newTextConnection)}function _getChild$1(ref,childPath){const newPath=function child(path,childPath){const canonicalChildPath=childPath.split("/").filter(component=>component.length>0).join("/");return 0===path.length?canonicalChildPath:path+"/"+canonicalChildPath}(ref._location.path,childPath),location=new Location(ref._location.bucket,newPath);return new Reference(ref.storage,location)}function refFromPath(ref,path){if(ref instanceof FirebaseStorageImpl){const service=ref;if(null==service._bucket)throw function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?")}();const reference=new Reference(service,service._bucket);return null!=path?refFromPath(reference,path):reference}return void 0!==path?_getChild$1(ref,path):ref}function ref$1(serviceOrRef,pathOrUrl){if(pathOrUrl&&function isUrl(path){return/^[A-Za-z]+:\/\//.test(path)}(pathOrUrl)){if(serviceOrRef instanceof FirebaseStorageImpl)return function refFromURL(service,url){return new Reference(service,url)}(serviceOrRef,pathOrUrl);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}return refFromPath(serviceOrRef,pathOrUrl)}function extractBucket(host,config){const bucketString=null==config?void 0:config.storageBucket;return null==bucketString?null:Location.makeFromBucketSpec(bucketString,host)}class FirebaseStorageImpl{constructor(app,_authProvider,_appCheckProvider,_url,_firebaseVersion,_isUsingEmulator=!1){this.app=app,this._authProvider=_authProvider,this._appCheckProvider=_appCheckProvider,this._url=_url,this._firebaseVersion=_firebaseVersion,this._isUsingEmulator=_isUsingEmulator,this._bucket=null,this._host="firebasestorage.googleapis.com",this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_url?Location.makeFromBucketSpec(_url,this._host):extractBucket(this._host,this.app.options)}get host(){return this._host}set host(host){this._host=host,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,host):this._bucket=extractBucket(host,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(time){validateNumber("time",0,Number.POSITIVE_INFINITY,time),this._maxUploadRetryTime=time}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(time){validateNumber("time",0,Number.POSITIVE_INFINITY,time),this._maxOperationRetryTime=time}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const auth=this._authProvider.getImmediate({optional:!0});if(auth){const tokenData=await auth.getToken();if(null!==tokenData)return tokenData.accessToken}return null}async _getAppCheckToken(){if(index_esm2017_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const appCheck=this._appCheckProvider.getImmediate({optional:!0});if(appCheck){return(await appCheck.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(request=>request.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(loc){return new Reference(this,loc)}_makeRequest(requestInfo,requestFactory,authToken,appCheckToken,retry=!0){if(this._deleted)return new FailRequest(appDeleted());{const request=function makeRequest(requestInfo,appId,authToken,appCheckToken,requestFactory,firebaseVersion,retry=!0,isUsingEmulator=!1){const queryPart=makeQueryString(requestInfo.urlParams),url=requestInfo.url+queryPart,headers=Object.assign({},requestInfo.headers);return function addGmpidHeader_(headers,appId){appId&&(headers["X-Firebase-GMPID"]=appId)}(headers,appId),function addAuthHeader_(headers,authToken){null!==authToken&&authToken.length>0&&(headers.Authorization="Firebase "+authToken)}(headers,authToken),function addVersionHeader_(headers,firebaseVersion){headers["X-Firebase-Storage-Version"]="webjs/"+(null!=firebaseVersion?firebaseVersion:"AppManager")}(headers,firebaseVersion),function addAppCheckHeader_(headers,appCheckToken){null!==appCheckToken&&(headers["X-Firebase-AppCheck"]=appCheckToken)}(headers,appCheckToken),new NetworkRequest(url,requestInfo.method,headers,requestInfo.body,requestInfo.successCodes,requestInfo.additionalRetryCodes,requestInfo.handler,requestInfo.errorHandler,requestInfo.timeout,requestInfo.progressCallback,requestFactory,retry,isUsingEmulator)}(requestInfo,this._appId,authToken,appCheckToken,requestFactory,this._firebaseVersion,retry,this._isUsingEmulator);return this._requests.add(request),request.getPromise().then(()=>this._requests.delete(request),()=>this._requests.delete(request)),request}}async makeRequestWithTokens(requestInfo,requestFactory){const[authToken,appCheckToken]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(requestInfo,requestFactory,authToken,appCheckToken).getPromise()}}function uploadBytes(ref,data,metadata){return uploadBytes$1(ref=index_esm2017_getModularInstance(ref),data,metadata)}function getMetadata(ref){return function getMetadata$1(ref){ref._throwIfRoot("getMetadata");const requestInfo=getMetadata$2(ref.storage,ref._location,getMappings());return ref.storage.makeRequestWithTokens(requestInfo,newTextConnection)}(ref=index_esm2017_getModularInstance(ref))}function listAll(ref){return listAll$1(ref=index_esm2017_getModularInstance(ref))}function getDownloadURL(ref){return getDownloadURL$1(ref=index_esm2017_getModularInstance(ref))}function deleteObject(ref){return deleteObject$1(ref=index_esm2017_getModularInstance(ref))}function ref(serviceOrRef,pathOrUrl){return ref$1(serviceOrRef=index_esm2017_getModularInstance(serviceOrRef),pathOrUrl)}function index_esm2017_getStorage(app=index_esm2017_getApp(),bucketUrl){const storageInstance=index_esm2017_getProvider(app=index_esm2017_getModularInstance(app),"storage").getImmediate({identifier:bucketUrl}),emulator=index_esm2017_getDefaultEmulatorHostnameAndPort("storage");return emulator&&function connectStorageEmulator(storage,host,port,options={}){!function connectStorageEmulator$1(storage,host,port,options={}){storage.host=`${host}:${port}`;const useSsl=index_esm2017_isCloudWorkstation(host);useSsl&&(index_esm2017_pingServer(`https://${storage.host}/b`),index_esm2017_updateEmulatorBanner("Storage",!0)),storage._isUsingEmulator=!0,storage._protocol=useSsl?"https":"http";const{mockUserToken}=options;mockUserToken&&(storage._overrideAuthToken="string"==typeof mockUserToken?mockUserToken:createMockUserToken(mockUserToken,storage.app.options.projectId))}(storage,host,port,options)}(storageInstance,...emulator),storageInstance}function factory(container,{instanceIdentifier:url}){const app=container.getProvider("app").getImmediate(),authProvider=container.getProvider("auth-internal"),appCheckProvider=container.getProvider("app-check-internal");return new FirebaseStorageImpl(app,authProvider,appCheckProvider,url,"11.10.0")}!function registerStorage(){_registerComponent(new Component("storage",factory,"PUBLIC").setMultipleInstances(!0)),registerVersion("@firebase/storage","0.13.14",""),registerVersion("@firebase/storage","0.13.14","esm2017")}();var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var tslib_es6_assign=function(){return tslib_es6_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},tslib_es6_assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}Object.create;function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}Object.create;"function"==typeof SuppressedError&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),logClient=new Logger("@firebase/auth");function _logError(msg,...args){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (11.10.0): ${msg}`,...args)}function _fail(authOrCode,...rest){throw createErrorInternal(authOrCode,...rest)}function _createError(authOrCode,...rest){return createErrorInternal(authOrCode,...rest)}function _errorWithCustomMessage(auth,code,message){const errorMap=Object.assign(Object.assign({},prodErrorMap()),{[code]:message});return new ErrorFactory("auth","Firebase",errorMap).create(code,{appName:auth.name})}function _serverAppCurrentUserOperationNotSupportedError(auth){return _errorWithCustomMessage(auth,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(auth,object,instance){if(!(object instanceof instance))throw instance.name!==object.constructor.name&&_fail(auth,"argument-error"),_errorWithCustomMessage(auth,"argument-error",`Type of ${object.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(authOrCode,...rest){if("string"!=typeof authOrCode){const code=rest[0],fullParams=[...rest.slice(1)];return fullParams[0]&&(fullParams[0].appName=authOrCode.name),authOrCode._errorFactory.create(code,...fullParams)}return _DEFAULT_AUTH_ERROR_FACTORY.create(authOrCode,...rest)}function _assert(assertion,authOrCode,...rest){if(!assertion)throw createErrorInternal(authOrCode,...rest)}function debugFail(failure){const message="INTERNAL ASSERTION FAILED: "+failure;throw _logError(message),new Error(message)}function debugAssert(assertion,message){assertion||debugFail(message)}function _getCurrentUrl(){var _a;return"undefined"!=typeof self&&(null===(_a=self.location)||void 0===_a?void 0:_a.href)||""}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _getCurrentScheme(){var _a;return"undefined"!=typeof self&&(null===(_a=self.location)||void 0===_a?void 0:_a.protocol)||null}function _isOnline(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_isHttpOrHttps()||function isBrowserExtension(){const runtime="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof runtime&&void 0!==runtime.id}()||"connection"in navigator))||navigator.onLine}class Delay{constructor(shortDelay,longDelay){this.shortDelay=shortDelay,this.longDelay=longDelay,debugAssert(longDelay>shortDelay,"Short delay should be less than long delay!"),this.isMobile=function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(index_esm2017_getUA())}()||function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _emulatorUrl(config,path){debugAssert(config.emulator,"Emulator should always be set here");const{url}=config.emulator;return path?`${url}${path.startsWith("/")?path.slice(1):path}`:url}class FetchProvider{static initialize(fetchImpl,headersImpl,responseImpl){this.fetchImpl=fetchImpl,headersImpl&&(this.headersImpl=headersImpl),responseImpl&&(this.responseImpl=responseImpl)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(auth,request){return auth.tenantId&&!request.tenantId?Object.assign(Object.assign({},request),{tenantId:auth.tenantId}):request}async function _performApiRequest(auth,method,path,request,customErrorMap={}){return _performFetchWithErrorHandling(auth,customErrorMap,async()=>{let body={},params={};request&&("GET"===method?params=request:body={body:JSON.stringify(request)});const query=querystring(Object.assign({key:auth.config.apiKey},params)).slice(1),headers=await auth._getAdditionalHeaders();headers["Content-Type"]="application/json",auth.languageCode&&(headers["X-Firebase-Locale"]=auth.languageCode);const fetchArgs=Object.assign({method,headers},body);return function isCloudflareWorker(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}()||(fetchArgs.referrerPolicy="no-referrer"),auth.emulatorConfig&&index_esm2017_isCloudWorkstation(auth.emulatorConfig.host)&&(fetchArgs.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(auth,auth.config.apiHost,path,query),fetchArgs)})}async function _performFetchWithErrorHandling(auth,customErrorMap,fetchFn){auth._canInitEmulator=!1;const errorMap=Object.assign(Object.assign({},SERVER_ERROR_MAP),customErrorMap);try{const networkTimeout=new NetworkTimeout(auth),response=await Promise.race([fetchFn(),networkTimeout.promise]);networkTimeout.clearNetworkTimeout();const json=await response.json();if("needConfirmation"in json)throw _makeTaggedError(auth,"account-exists-with-different-credential",json);if(response.ok&&!("errorMessage"in json))return json;{const errorMessage=response.ok?json.errorMessage:json.error.message,[serverErrorCode,serverErrorMessage]=errorMessage.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===serverErrorCode)throw _makeTaggedError(auth,"credential-already-in-use",json);if("EMAIL_EXISTS"===serverErrorCode)throw _makeTaggedError(auth,"email-already-in-use",json);if("USER_DISABLED"===serverErrorCode)throw _makeTaggedError(auth,"user-disabled",json);const authError=errorMap[serverErrorCode]||serverErrorCode.toLowerCase().replace(/[_\s]+/g,"-");if(serverErrorMessage)throw _errorWithCustomMessage(auth,authError,serverErrorMessage);_fail(auth,authError)}}catch(e){if(e instanceof FirebaseError)throw e;_fail(auth,"network-request-failed",{message:String(e)})}}async function _performSignInRequest(auth,method,path,request,customErrorMap={}){const serverResponse=await _performApiRequest(auth,method,path,request,customErrorMap);return"mfaPendingCredential"in serverResponse&&_fail(auth,"multi-factor-auth-required",{_serverResponse:serverResponse}),serverResponse}async function _getFinalTarget(auth,host,path,query){const base=`${host}${path}?${query}`,authInternal=auth,finalTarget=authInternal.config.emulator?_emulatorUrl(auth.config,base):`${auth.config.apiScheme}://${base}`;if(CookieAuthProxiedEndpoints.includes(path)&&(await authInternal._persistenceManagerAvailable,"COOKIE"===authInternal._getPersistenceType())){return authInternal._getPersistence()._getFinalTarget(finalTarget).toString()}return finalTarget}function _parseEnforcementState(enforcementStateStr){switch(enforcementStateStr){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(auth){this.auth=auth,this.timer=null,this.promise=new Promise((_,reject)=>{this.timer=setTimeout(()=>reject(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(auth,code,response){const errorParams={appName:auth.name};response.email&&(errorParams.email=response.email),response.phoneNumber&&(errorParams.phoneNumber=response.phoneNumber);const error=_createError(auth,code,errorParams);return error.customData._tokenResponse=response,error}function isV2(grecaptcha){return void 0!==grecaptcha&&void 0!==grecaptcha.getResponse}function isEnterprise(grecaptcha){return void 0!==grecaptcha&&void 0!==grecaptcha.enterprise}class RecaptchaConfig{constructor(response){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===response.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=response.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=response.recaptchaEnforcementState}getProviderEnforcementState(providerStr){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const recaptchaEnforcementState of this.recaptchaEnforcementState)if(recaptchaEnforcementState.provider&&recaptchaEnforcementState.provider===providerStr)return _parseEnforcementState(recaptchaEnforcementState.enforcementState);return null}isProviderEnabled(providerStr){return"ENFORCE"===this.getProviderEnforcementState(providerStr)||"AUDIT"===this.getProviderEnforcementState(providerStr)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(auth,request){return _performApiRequest(auth,"GET","/v2/recaptchaConfig",_addTidIfNecessary(auth,request))}async function getAccountInfo(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:lookup",request)}function utcTimestampToDateString(utcTimestamp){if(utcTimestamp)try{const date=new Date(Number(utcTimestamp));if(!isNaN(date.getTime()))return date.toUTCString()}catch(e){}}function secondsStringToMilliseconds(seconds){return 1e3*Number(seconds)}function _parseToken(token){const[algorithm,payload,signature]=token.split(".");if(void 0===algorithm||void 0===payload||void 0===signature)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const decoded=base64Decode(payload);return decoded?JSON.parse(decoded):(_logError("Failed to decode base64 JWT payload"),null)}catch(e){return _logError("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function _tokenExpiresIn(token){const parsedToken=_parseToken(token);return _assert(parsedToken,"internal-error"),_assert(void 0!==parsedToken.exp,"internal-error"),_assert(void 0!==parsedToken.iat,"internal-error"),Number(parsedToken.exp)-Number(parsedToken.iat)}async function _logoutIfInvalidated(user,promise,bypassAuthState=!1){if(bypassAuthState)return promise;try{return await promise}catch(e){throw e instanceof FirebaseError&&function isUserInvalidated({code}){return"auth/user-disabled"===code||"auth/user-token-expired"===code}(e)&&user.auth.currentUser===user&&await user.auth.signOut(),e}}class ProactiveRefresh{constructor(user){this.user=user,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(wasError){var _a;if(wasError){const interval=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),interval}{this.errorBackoff=3e4;const interval=(null!==(_a=this.user.stsTokenManager.expirationTime)&&void 0!==_a?_a:0)-Date.now()-3e5;return Math.max(0,interval)}}schedule(wasError=!1){if(!this.isRunning)return;const interval=this.getInterval(wasError);this.timerId=setTimeout(async()=>{await this.iteration()},interval)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(createdAt,lastLoginAt){this.createdAt=createdAt,this.lastLoginAt=lastLoginAt,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(metadata){this.createdAt=metadata.createdAt,this.lastLoginAt=metadata.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _reloadWithoutSaving(user){var _a;const auth=user.auth,idToken=await user.getIdToken(),response=await _logoutIfInvalidated(user,getAccountInfo(auth,{idToken}));_assert(null==response?void 0:response.users.length,auth,"internal-error");const coreAccount=response.users[0];user._notifyReloadListener(coreAccount);const newProviderData=(null===(_a=coreAccount.providerUserInfo)||void 0===_a?void 0:_a.length)?extractProviderData(coreAccount.providerUserInfo):[],providerData=function mergeProviderData(original,newData){return[...original.filter(o=>!newData.some(n=>n.providerId===o.providerId)),...newData]}(user.providerData,newProviderData),oldIsAnonymous=user.isAnonymous,newIsAnonymous=!(user.email&&coreAccount.passwordHash||(null==providerData?void 0:providerData.length)),isAnonymous=!!oldIsAnonymous&&newIsAnonymous,updates={uid:coreAccount.localId,displayName:coreAccount.displayName||null,photoURL:coreAccount.photoUrl||null,email:coreAccount.email||null,emailVerified:coreAccount.emailVerified||!1,phoneNumber:coreAccount.phoneNumber||null,tenantId:coreAccount.tenantId||null,providerData,metadata:new UserMetadata(coreAccount.createdAt,coreAccount.lastLoginAt),isAnonymous};Object.assign(user,updates)}function extractProviderData(providers){return providers.map(_a=>{var{providerId}=_a,provider=__rest(_a,["providerId"]);return{providerId,uid:provider.rawId||"",displayName:provider.displayName||null,email:provider.email||null,phoneNumber:provider.phoneNumber||null,photoURL:provider.photoUrl||null}})}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(response){_assert(response.idToken,"internal-error"),_assert(void 0!==response.idToken,"internal-error"),_assert(void 0!==response.refreshToken,"internal-error");const expiresIn="expiresIn"in response&&void 0!==response.expiresIn?Number(response.expiresIn):_tokenExpiresIn(response.idToken);this.updateTokensAndExpiration(response.idToken,response.refreshToken,expiresIn)}updateFromIdToken(idToken){_assert(0!==idToken.length,"internal-error");const expiresIn=_tokenExpiresIn(idToken);this.updateTokensAndExpiration(idToken,null,expiresIn)}async getToken(auth,forceRefresh=!1){return forceRefresh||!this.accessToken||this.isExpired?(_assert(this.refreshToken,auth,"user-token-expired"),this.refreshToken?(await this.refresh(auth,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(auth,oldToken){const{accessToken,refreshToken,expiresIn}=await async function requestStsToken(auth,refreshToken){const response=await _performFetchWithErrorHandling(auth,{},async()=>{const body=querystring({grant_type:"refresh_token",refresh_token:refreshToken}).slice(1),{tokenApiHost,apiKey}=auth.config,url=await _getFinalTarget(auth,tokenApiHost,"/v1/token",`key=${apiKey}`),headers=await auth._getAdditionalHeaders();headers["Content-Type"]="application/x-www-form-urlencoded";const options={method:"POST",headers,body};return auth.emulatorConfig&&index_esm2017_isCloudWorkstation(auth.emulatorConfig.host)&&(options.credentials="include"),FetchProvider.fetch()(url,options)});return{accessToken:response.access_token,expiresIn:response.expires_in,refreshToken:response.refresh_token}}(auth,oldToken);this.updateTokensAndExpiration(accessToken,refreshToken,Number(expiresIn))}updateTokensAndExpiration(accessToken,refreshToken,expiresInSec){this.refreshToken=refreshToken||null,this.accessToken=accessToken||null,this.expirationTime=Date.now()+1e3*expiresInSec}static fromJSON(appName,object){const{refreshToken,accessToken,expirationTime}=object,manager=new StsTokenManager;return refreshToken&&(_assert("string"==typeof refreshToken,"internal-error",{appName}),manager.refreshToken=refreshToken),accessToken&&(_assert("string"==typeof accessToken,"internal-error",{appName}),manager.accessToken=accessToken),expirationTime&&(_assert("number"==typeof expirationTime,"internal-error",{appName}),manager.expirationTime=expirationTime),manager}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(stsTokenManager){this.accessToken=stsTokenManager.accessToken,this.refreshToken=stsTokenManager.refreshToken,this.expirationTime=stsTokenManager.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}function assertStringOrUndefined(assertion,appName){_assert("string"==typeof assertion||void 0===assertion,"internal-error",{appName})}class UserImpl{constructor(_a){var{uid,auth,stsTokenManager}=_a,opt=__rest(_a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=uid,this.auth=auth,this.stsTokenManager=stsTokenManager,this.accessToken=stsTokenManager.accessToken,this.displayName=opt.displayName||null,this.email=opt.email||null,this.emailVerified=opt.emailVerified||!1,this.phoneNumber=opt.phoneNumber||null,this.photoURL=opt.photoURL||null,this.isAnonymous=opt.isAnonymous||!1,this.tenantId=opt.tenantId||null,this.providerData=opt.providerData?[...opt.providerData]:[],this.metadata=new UserMetadata(opt.createdAt||void 0,opt.lastLoginAt||void 0)}async getIdToken(forceRefresh){const accessToken=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,forceRefresh));return _assert(accessToken,this.auth,"internal-error"),this.accessToken!==accessToken&&(this.accessToken=accessToken,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),accessToken}getIdTokenResult(forceRefresh){return async function getIdTokenResult(user,forceRefresh=!1){const userInternal=index_esm2017_getModularInstance(user),token=await userInternal.getIdToken(forceRefresh),claims=_parseToken(token);_assert(claims&&claims.exp&&claims.auth_time&&claims.iat,userInternal.auth,"internal-error");const firebase="object"==typeof claims.firebase?claims.firebase:void 0,signInProvider=null==firebase?void 0:firebase.sign_in_provider;return{claims,token,authTime:utcTimestampToDateString(secondsStringToMilliseconds(claims.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(claims.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(claims.exp)),signInProvider:signInProvider||null,signInSecondFactor:(null==firebase?void 0:firebase.sign_in_second_factor)||null}}(this,forceRefresh)}reload(){return async function reload(user){const userInternal=index_esm2017_getModularInstance(user);await _reloadWithoutSaving(userInternal),await userInternal.auth._persistUserIfCurrent(userInternal),userInternal.auth._notifyListenersIfCurrent(userInternal)}(this)}_assign(user){this!==user&&(_assert(this.uid===user.uid,this.auth,"internal-error"),this.displayName=user.displayName,this.photoURL=user.photoURL,this.email=user.email,this.emailVerified=user.emailVerified,this.phoneNumber=user.phoneNumber,this.isAnonymous=user.isAnonymous,this.tenantId=user.tenantId,this.providerData=user.providerData.map(userInfo=>Object.assign({},userInfo)),this.metadata._copy(user.metadata),this.stsTokenManager._assign(user.stsTokenManager))}_clone(auth){const newUser=new UserImpl(Object.assign(Object.assign({},this),{auth,stsTokenManager:this.stsTokenManager._clone()}));return newUser.metadata._copy(this.metadata),newUser}_onReload(callback){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=callback,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(userInfo){this.reloadListener?this.reloadListener(userInfo):this.reloadUserInfo=userInfo}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(response,reload=!1){let tokensRefreshed=!1;response.idToken&&response.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(response),tokensRefreshed=!0),reload&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),tokensRefreshed&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(index_esm2017_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const idToken=await this.getIdToken();return await _logoutIfInvalidated(this,async function deleteAccount(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:delete",request)}(this.auth,{idToken})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(userInfo=>Object.assign({},userInfo)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(auth,object){var _a,_b,_c,_d,_e,_f,_g,_h;const displayName=null!==(_a=object.displayName)&&void 0!==_a?_a:void 0,email=null!==(_b=object.email)&&void 0!==_b?_b:void 0,phoneNumber=null!==(_c=object.phoneNumber)&&void 0!==_c?_c:void 0,photoURL=null!==(_d=object.photoURL)&&void 0!==_d?_d:void 0,tenantId=null!==(_e=object.tenantId)&&void 0!==_e?_e:void 0,_redirectEventId=null!==(_f=object._redirectEventId)&&void 0!==_f?_f:void 0,createdAt=null!==(_g=object.createdAt)&&void 0!==_g?_g:void 0,lastLoginAt=null!==(_h=object.lastLoginAt)&&void 0!==_h?_h:void 0,{uid,emailVerified,isAnonymous,providerData,stsTokenManager:plainObjectTokenManager}=object;_assert(uid&&plainObjectTokenManager,auth,"internal-error");const stsTokenManager=StsTokenManager.fromJSON(this.name,plainObjectTokenManager);_assert("string"==typeof uid,auth,"internal-error"),assertStringOrUndefined(displayName,auth.name),assertStringOrUndefined(email,auth.name),_assert("boolean"==typeof emailVerified,auth,"internal-error"),_assert("boolean"==typeof isAnonymous,auth,"internal-error"),assertStringOrUndefined(phoneNumber,auth.name),assertStringOrUndefined(photoURL,auth.name),assertStringOrUndefined(tenantId,auth.name),assertStringOrUndefined(_redirectEventId,auth.name),assertStringOrUndefined(createdAt,auth.name),assertStringOrUndefined(lastLoginAt,auth.name);const user=new UserImpl({uid,auth,email,emailVerified,displayName,isAnonymous,photoURL,phoneNumber,tenantId,stsTokenManager,createdAt,lastLoginAt});return providerData&&Array.isArray(providerData)&&(user.providerData=providerData.map(userInfo=>Object.assign({},userInfo))),_redirectEventId&&(user._redirectEventId=_redirectEventId),user}static async _fromIdTokenResponse(auth,idTokenResponse,isAnonymous=!1){const stsTokenManager=new StsTokenManager;stsTokenManager.updateFromServerResponse(idTokenResponse);const user=new UserImpl({uid:idTokenResponse.localId,auth,stsTokenManager,isAnonymous});return await _reloadWithoutSaving(user),user}static async _fromGetAccountInfoResponse(auth,response,idToken){const coreAccount=response.users[0];_assert(void 0!==coreAccount.localId,"internal-error");const providerData=void 0!==coreAccount.providerUserInfo?extractProviderData(coreAccount.providerUserInfo):[],isAnonymous=!(coreAccount.email&&coreAccount.passwordHash||(null==providerData?void 0:providerData.length)),stsTokenManager=new StsTokenManager;stsTokenManager.updateFromIdToken(idToken);const user=new UserImpl({uid:coreAccount.localId,auth,stsTokenManager,isAnonymous}),updates={uid:coreAccount.localId,displayName:coreAccount.displayName||null,photoURL:coreAccount.photoUrl||null,email:coreAccount.email||null,emailVerified:coreAccount.emailVerified||!1,phoneNumber:coreAccount.phoneNumber||null,tenantId:coreAccount.tenantId||null,providerData,metadata:new UserMetadata(coreAccount.createdAt,coreAccount.lastLoginAt),isAnonymous:!(coreAccount.email&&coreAccount.passwordHash||(null==providerData?void 0:providerData.length))};return Object.assign(user,updates),user}}const instanceCache=new Map;function _getInstance(cls){debugAssert(cls instanceof Function,"Expected a class definition");let instance=instanceCache.get(cls);return instance?(debugAssert(instance instanceof cls,"Instance stored in cache mismatched with class"),instance):(instance=new cls,instanceCache.set(cls,instance),instance)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(key,value){this.storage[key]=value}async _get(key){const value=this.storage[key];return void 0===value?null:value}async _remove(key){delete this.storage[key]}_addListener(_key,_listener){}_removeListener(_key,_listener){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;function _persistenceKeyName(key,apiKey,appName){return`firebase:${key}:${apiKey}:${appName}`}class PersistenceUserManager{constructor(persistence,auth,userKey){this.persistence=persistence,this.auth=auth,this.userKey=userKey;const{config,name}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,config.apiKey,name),this.fullPersistenceKey=_persistenceKeyName("persistence",config.apiKey,name),this.boundEventHandler=auth._onStorageEvent.bind(auth),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(user){return this.persistence._set(this.fullUserKey,user.toJSON())}async getCurrentUser(){const blob=await this.persistence._get(this.fullUserKey);if(!blob)return null;if("string"==typeof blob){const response=await getAccountInfo(this.auth,{idToken:blob}).catch(()=>{});return response?UserImpl._fromGetAccountInfoResponse(this.auth,response,blob):null}return UserImpl._fromJSON(this.auth,blob)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(newPersistence){if(this.persistence===newPersistence)return;const currentUser=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=newPersistence,currentUser?this.setCurrentUser(currentUser):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(auth,persistenceHierarchy,userKey="authUser"){if(!persistenceHierarchy.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),auth,userKey);const availablePersistences=(await Promise.all(persistenceHierarchy.map(async persistence=>{if(await persistence._isAvailable())return persistence}))).filter(persistence=>persistence);let selectedPersistence=availablePersistences[0]||_getInstance(inMemoryPersistence);const key=_persistenceKeyName(userKey,auth.config.apiKey,auth.name);let userToMigrate=null;for(const persistence of persistenceHierarchy)try{const blob=await persistence._get(key);if(blob){let user;if("string"==typeof blob){const response=await getAccountInfo(auth,{idToken:blob}).catch(()=>{});if(!response)break;user=await UserImpl._fromGetAccountInfoResponse(auth,response,blob)}else user=UserImpl._fromJSON(auth,blob);persistence!==selectedPersistence&&(userToMigrate=user),selectedPersistence=persistence;break}}catch(_a){}const migrationHierarchy=availablePersistences.filter(p=>p._shouldAllowMigration);return selectedPersistence._shouldAllowMigration&&migrationHierarchy.length?(selectedPersistence=migrationHierarchy[0],userToMigrate&&await selectedPersistence._set(key,userToMigrate.toJSON()),await Promise.all(persistenceHierarchy.map(async persistence=>{if(persistence!==selectedPersistence)try{await persistence._remove(key)}catch(_a){}})),new PersistenceUserManager(selectedPersistence,auth,userKey)):new PersistenceUserManager(selectedPersistence,auth,userKey)}}function _getBrowserName(userAgent){const ua=userAgent.toLowerCase();if(ua.includes("opera/")||ua.includes("opr/")||ua.includes("opios/"))return"Opera";if(_isIEMobile(ua))return"IEMobile";if(ua.includes("msie")||ua.includes("trident/"))return"IE";if(ua.includes("edge/"))return"Edge";if(_isFirefox(ua))return"Firefox";if(ua.includes("silk/"))return"Silk";if(_isBlackBerry(ua))return"Blackberry";if(_isWebOS(ua))return"Webos";if(_isSafari(ua))return"Safari";if((ua.includes("chrome/")||_isChromeIOS(ua))&&!ua.includes("edge/"))return"Chrome";if(_isAndroid(ua))return"Android";{const re=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,matches=userAgent.match(re);if(2===(null==matches?void 0:matches.length))return matches[1]}return"Other"}function _isFirefox(ua=index_esm2017_getUA()){return/firefox\//i.test(ua)}function _isSafari(userAgent=index_esm2017_getUA()){const ua=userAgent.toLowerCase();return ua.includes("safari/")&&!ua.includes("chrome/")&&!ua.includes("crios/")&&!ua.includes("android")}function _isChromeIOS(ua=index_esm2017_getUA()){return/crios\//i.test(ua)}function _isIEMobile(ua=index_esm2017_getUA()){return/iemobile/i.test(ua)}function _isAndroid(ua=index_esm2017_getUA()){return/android/i.test(ua)}function _isBlackBerry(ua=index_esm2017_getUA()){return/blackberry/i.test(ua)}function _isWebOS(ua=index_esm2017_getUA()){return/webos/i.test(ua)}function _isIOS(ua=index_esm2017_getUA()){return/iphone|ipad|ipod/i.test(ua)||/macintosh/i.test(ua)&&/mobile/i.test(ua)}function _isIE10(){return function isIE(){const ua=index_esm2017_getUA();return ua.indexOf("MSIE ")>=0||ua.indexOf("Trident/")>=0}()&&10===document.documentMode}function _isMobileBrowser(ua=index_esm2017_getUA()){return _isIOS(ua)||_isAndroid(ua)||_isWebOS(ua)||_isBlackBerry(ua)||/windows phone/i.test(ua)||_isIEMobile(ua)}function _getClientVersion(clientPlatform,frameworks=[]){let reportedPlatform;switch(clientPlatform){case"Browser":reportedPlatform=_getBrowserName(index_esm2017_getUA());break;case"Worker":reportedPlatform=`${_getBrowserName(index_esm2017_getUA())}-${clientPlatform}`;break;default:reportedPlatform=clientPlatform}return`${reportedPlatform}/JsCore/11.10.0/${frameworks.length?frameworks.join(","):"FirebaseCore-web"}`}class AuthMiddlewareQueue{constructor(auth){this.auth=auth,this.queue=[]}pushCallback(callback,onAbort){const wrappedCallback=user=>new Promise((resolve,reject)=>{try{resolve(callback(user))}catch(e){reject(e)}});wrappedCallback.onAbort=onAbort,this.queue.push(wrappedCallback);const index=this.queue.length-1;return()=>{this.queue[index]=()=>Promise.resolve()}}async runMiddleware(nextUser){if(this.auth.currentUser===nextUser)return;const onAbortStack=[];try{for(const beforeStateCallback of this.queue)await beforeStateCallback(nextUser),beforeStateCallback.onAbort&&onAbortStack.push(beforeStateCallback.onAbort)}catch(e){onAbortStack.reverse();for(const onAbort of onAbortStack)try{onAbort()}catch(_){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class PasswordPolicyImpl{constructor(response){var _a,_b,_c,_d;const responseOptions=response.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_a=responseOptions.minPasswordLength)&&void 0!==_a?_a:6,responseOptions.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=responseOptions.maxPasswordLength),void 0!==responseOptions.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=responseOptions.containsLowercaseCharacter),void 0!==responseOptions.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=responseOptions.containsUppercaseCharacter),void 0!==responseOptions.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=responseOptions.containsNumericCharacter),void 0!==responseOptions.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=responseOptions.containsNonAlphanumericCharacter),this.enforcementState=response.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_c=null===(_b=response.allowedNonAlphanumericCharacters)||void 0===_b?void 0:_b.join(""))&&void 0!==_c?_c:"",this.forceUpgradeOnSignin=null!==(_d=response.forceUpgradeOnSignin)&&void 0!==_d&&_d,this.schemaVersion=response.schemaVersion}validatePassword(password){var _a,_b,_c,_d,_e,_f;const status={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(password,status),this.validatePasswordCharacterOptions(password,status),status.isValid&&(status.isValid=null===(_a=status.meetsMinPasswordLength)||void 0===_a||_a),status.isValid&&(status.isValid=null===(_b=status.meetsMaxPasswordLength)||void 0===_b||_b),status.isValid&&(status.isValid=null===(_c=status.containsLowercaseLetter)||void 0===_c||_c),status.isValid&&(status.isValid=null===(_d=status.containsUppercaseLetter)||void 0===_d||_d),status.isValid&&(status.isValid=null===(_e=status.containsNumericCharacter)||void 0===_e||_e),status.isValid&&(status.isValid=null===(_f=status.containsNonAlphanumericCharacter)||void 0===_f||_f),status}validatePasswordLengthOptions(password,status){const minPasswordLength=this.customStrengthOptions.minPasswordLength,maxPasswordLength=this.customStrengthOptions.maxPasswordLength;minPasswordLength&&(status.meetsMinPasswordLength=password.length>=minPasswordLength),maxPasswordLength&&(status.meetsMaxPasswordLength=password.length<=maxPasswordLength)}validatePasswordCharacterOptions(password,status){let passwordChar;this.updatePasswordCharacterOptionsStatuses(status,!1,!1,!1,!1);for(let i=0;i<password.length;i++)passwordChar=password.charAt(i),this.updatePasswordCharacterOptionsStatuses(status,passwordChar>="a"&&passwordChar<="z",passwordChar>="A"&&passwordChar<="Z",passwordChar>="0"&&passwordChar<="9",this.allowedNonAlphanumericCharacters.includes(passwordChar))}updatePasswordCharacterOptionsStatuses(status,containsLowercaseCharacter,containsUppercaseCharacter,containsNumericCharacter,containsNonAlphanumericCharacter){this.customStrengthOptions.containsLowercaseLetter&&(status.containsLowercaseLetter||(status.containsLowercaseLetter=containsLowercaseCharacter)),this.customStrengthOptions.containsUppercaseLetter&&(status.containsUppercaseLetter||(status.containsUppercaseLetter=containsUppercaseCharacter)),this.customStrengthOptions.containsNumericCharacter&&(status.containsNumericCharacter||(status.containsNumericCharacter=containsNumericCharacter)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(status.containsNonAlphanumericCharacter||(status.containsNonAlphanumericCharacter=containsNonAlphanumericCharacter))}}class AuthImpl{constructor(app,heartbeatServiceProvider,appCheckServiceProvider,config){this.app=app,this.heartbeatServiceProvider=heartbeatServiceProvider,this.appCheckServiceProvider=appCheckServiceProvider,this.config=config,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=app.name,this.clientVersion=config.sdkClientVersion,this._persistenceManagerAvailable=new Promise(resolve=>this._resolvePersistenceManagerAvailable=resolve)}_initializeWithPersistence(persistenceHierarchy,popupRedirectResolver){return popupRedirectResolver&&(this._popupRedirectResolver=_getInstance(popupRedirectResolver)),this._initializationPromise=this.queue(async()=>{var _a,_b,_c;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,persistenceHierarchy),null===(_a=this._resolvePersistenceManagerAvailable)||void 0===_a||_a.call(this),!this._deleted)){if(null===(_b=this._popupRedirectResolver)||void 0===_b?void 0:_b._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(popupRedirectResolver),this.lastNotifiedUid=(null===(_c=this.currentUser)||void 0===_c?void 0:_c.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const user=await this.assertedPersistence.getCurrentUser();return this.currentUser||user?this.currentUser&&user&&this.currentUser.uid===user.uid?(this._currentUser._assign(user),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(user,!0):void 0}async initializeCurrentUserFromIdToken(idToken){try{const response=await getAccountInfo(this,{idToken}),user=await UserImpl._fromGetAccountInfoResponse(this,response,idToken);await this.directlySetCurrentUser(user)}catch(err){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",err),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(popupRedirectResolver){var _a;if(index_esm2017_isFirebaseServerApp(this.app)){const idToken=this.app.settings.authIdToken;return idToken?new Promise(resolve=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(idToken).then(resolve,resolve))}):this.directlySetCurrentUser(null)}const previouslyStoredUser=await this.assertedPersistence.getCurrentUser();let futureCurrentUser=previouslyStoredUser,needsTocheckMiddleware=!1;if(popupRedirectResolver&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const redirectUserEventId=null===(_a=this.redirectUser)||void 0===_a?void 0:_a._redirectEventId,storedUserEventId=null==futureCurrentUser?void 0:futureCurrentUser._redirectEventId,result=await this.tryRedirectSignIn(popupRedirectResolver);redirectUserEventId&&redirectUserEventId!==storedUserEventId||!(null==result?void 0:result.user)||(futureCurrentUser=result.user,needsTocheckMiddleware=!0)}if(!futureCurrentUser)return this.directlySetCurrentUser(null);if(!futureCurrentUser._redirectEventId){if(needsTocheckMiddleware)try{await this.beforeStateQueue.runMiddleware(futureCurrentUser)}catch(e){futureCurrentUser=previouslyStoredUser,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return futureCurrentUser?this.reloadAndSetCurrentUserOrClear(futureCurrentUser):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===futureCurrentUser._redirectEventId?this.directlySetCurrentUser(futureCurrentUser):this.reloadAndSetCurrentUserOrClear(futureCurrentUser)}async tryRedirectSignIn(redirectResolver){let result=null;try{result=await this._popupRedirectResolver._completeRedirectFn(this,redirectResolver,!0)}catch(e){await this._setRedirectUser(null)}return result}async reloadAndSetCurrentUserOrClear(user){try{await _reloadWithoutSaving(user)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(user)}useDeviceLanguage(){this.languageCode=function _getUserLanguage(){if("undefined"==typeof navigator)return null;const navigatorLanguage=navigator;return navigatorLanguage.languages&&navigatorLanguage.languages[0]||navigatorLanguage.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(userExtern){if(index_esm2017_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const user=userExtern?index_esm2017_getModularInstance(userExtern):null;return user&&_assert(user.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(user&&user._clone(this))}async _updateCurrentUser(user,skipBeforeStateCallbacks=!1){if(!this._deleted)return user&&_assert(this.tenantId===user.tenantId,this,"tenant-id-mismatch"),skipBeforeStateCallbacks||await this.beforeStateQueue.runMiddleware(user),this.queue(async()=>{await this.directlySetCurrentUser(user),this.notifyAuthListeners()})}async signOut(){return index_esm2017_isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(persistence){return index_esm2017_isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(persistence))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(password){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const passwordPolicy=this._getPasswordPolicyInternal();return passwordPolicy.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):passwordPolicy.validatePassword(password)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const response=await async function _getPasswordPolicy(auth,request={}){return _performApiRequest(auth,"GET","/v2/passwordPolicy",_addTidIfNecessary(auth,request))}(this),passwordPolicy=new PasswordPolicyImpl(response);null===this.tenantId?this._projectPasswordPolicy=passwordPolicy:this._tenantPasswordPolicies[this.tenantId]=passwordPolicy}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(errorMap){this._errorFactory=new ErrorFactory("auth","Firebase",errorMap())}onAuthStateChanged(nextOrObserver,error,completed){return this.registerStateListener(this.authStateSubscription,nextOrObserver,error,completed)}beforeAuthStateChanged(callback,onAbort){return this.beforeStateQueue.pushCallback(callback,onAbort)}onIdTokenChanged(nextOrObserver,error,completed){return this.registerStateListener(this.idTokenSubscription,nextOrObserver,error,completed)}authStateReady(){return new Promise((resolve,reject)=>{if(this.currentUser)resolve();else{const unsubscribe=this.onAuthStateChanged(()=>{unsubscribe(),resolve()},reject)}})}async revokeAccessToken(token){if(this.currentUser){const request={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(request.tenantId=this.tenantId),await async function revokeToken(auth,request){return _performApiRequest(auth,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(auth,request))}(this,request)}}toJSON(){var _a;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_a=this._currentUser)||void 0===_a?void 0:_a.toJSON()}}async _setRedirectUser(user,popupRedirectResolver){const redirectManager=await this.getOrInitRedirectPersistenceManager(popupRedirectResolver);return null===user?redirectManager.removeCurrentUser():redirectManager.setCurrentUser(user)}async getOrInitRedirectPersistenceManager(popupRedirectResolver){if(!this.redirectPersistenceManager){const resolver=popupRedirectResolver&&_getInstance(popupRedirectResolver)||this._popupRedirectResolver;_assert(resolver,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(resolver._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(id){var _a,_b;return this._isInitialized&&await this.queue(async()=>{}),(null===(_a=this._currentUser)||void 0===_a?void 0:_a._redirectEventId)===id?this._currentUser:(null===(_b=this.redirectUser)||void 0===_b?void 0:_b._redirectEventId)===id?this.redirectUser:null}async _persistUserIfCurrent(user){if(user===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(user))}_notifyListenersIfCurrent(user){user===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _a,_b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const currentUid=null!==(_b=null===(_a=this.currentUser)||void 0===_a?void 0:_a.uid)&&void 0!==_b?_b:null;this.lastNotifiedUid!==currentUid&&(this.lastNotifiedUid=currentUid,this.authStateSubscription.next(this.currentUser))}registerStateListener(subscription,nextOrObserver,error,completed){if(this._deleted)return()=>{};const cb="function"==typeof nextOrObserver?nextOrObserver:nextOrObserver.next.bind(nextOrObserver);let isUnsubscribed=!1;const promise=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(promise,this,"internal-error"),promise.then(()=>{isUnsubscribed||cb(this.currentUser)}),"function"==typeof nextOrObserver){const unsubscribe=subscription.addObserver(nextOrObserver,error,completed);return()=>{isUnsubscribed=!0,unsubscribe()}}{const unsubscribe=subscription.addObserver(nextOrObserver);return()=>{isUnsubscribed=!0,unsubscribe()}}}async directlySetCurrentUser(user){this.currentUser&&this.currentUser!==user&&this._currentUser._stopProactiveRefresh(),user&&this.isProactiveRefreshEnabled&&user._startProactiveRefresh(),this.currentUser=user,user?await this.assertedPersistence.setCurrentUser(user):await this.assertedPersistence.removeCurrentUser()}queue(action){return this.operations=this.operations.then(action,action),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(framework){framework&&!this.frameworks.includes(framework)&&(this.frameworks.push(framework),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _a;const headers={"X-Client-Version":this.clientVersion};this.app.options.appId&&(headers["X-Firebase-gmpid"]=this.app.options.appId);const heartbeatsHeader=await(null===(_a=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_a?void 0:_a.getHeartbeatsHeader());heartbeatsHeader&&(headers["X-Firebase-Client"]=heartbeatsHeader);const appCheckToken=await this._getAppCheckToken();return appCheckToken&&(headers["X-Firebase-AppCheck"]=appCheckToken),headers}async _getAppCheckToken(){var _a;if(index_esm2017_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const appCheckTokenResult=await(null===(_a=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_a?void 0:_a.getToken());return(null==appCheckTokenResult?void 0:appCheckTokenResult.error)&&function _logWarn(msg,...args){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (11.10.0): ${msg}`,...args)}(`Error while retrieving App Check token: ${appCheckTokenResult.error}`),null==appCheckTokenResult?void 0:appCheckTokenResult.token}}function _castAuth(auth){return index_esm2017_getModularInstance(auth)}class Subscription{constructor(auth){this.auth=auth,this.observer=null,this.addObserver=function createSubscribe(executor,onNoObservers){const proxy=new ObserverProxy(executor,onNoObservers);return proxy.subscribe.bind(proxy)}(observer=>this.observer=observer)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _loadJS(url){return externalJSProvider.loadJS(url)}function _generateCallbackName(prefix){return`__${prefix}${Math.floor(1e6*Math.random())}`}class MockReCaptcha{constructor(auth){this.auth=auth,this.counter=1e12,this._widgets=new Map}render(container,parameters){const id=this.counter;return this._widgets.set(id,new MockWidget(container,this.auth.name,parameters||{})),this.counter++,id}reset(optWidgetId){var _a;const id=optWidgetId||1e12;null===(_a=this._widgets.get(id))||void 0===_a||_a.delete(),this._widgets.delete(id)}getResponse(optWidgetId){var _a;const id=optWidgetId||1e12;return(null===(_a=this._widgets.get(id))||void 0===_a?void 0:_a.getResponse())||""}async execute(optWidgetId){var _a;const id=optWidgetId||1e12;return null===(_a=this._widgets.get(id))||void 0===_a||_a.execute(),""}}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(callback){callback()}execute(_siteKey,_options){return Promise.resolve("token")}render(_container,_parameters){return""}}class MockGreCAPTCHA{ready(callback){callback()}execute(_siteKey,_options){return Promise.resolve("token")}render(_container,_parameters){return""}}class MockWidget{constructor(containerOrId,appName,params){this.params=params,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const container="string"==typeof containerOrId?document.getElementById(containerOrId):containerOrId;_assert(container,"argument-error",{appName}),this.container=container,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function generateRandomAlphaNumericString(len){const chars=[],allowedChars="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<len;i++)chars.push(allowedChars.charAt(Math.floor(Math.random()*allowedChars.length)));return chars.join("")}(50);const{callback,"expired-callback":expiredCallback}=this.params;if(callback)try{callback(this.responseToken)}catch(e){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,expiredCallback)try{expiredCallback()}catch(e){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}class RecaptchaEnterpriseVerifier{constructor(authExtern){this.type="recaptcha-enterprise",this.auth=_castAuth(authExtern)}async verify(action="verify",forceRefresh=!1){function retrieveRecaptchaToken(siteKey,resolve,reject){const grecaptcha=window.grecaptcha;isEnterprise(grecaptcha)?grecaptcha.enterprise.ready(()=>{grecaptcha.enterprise.execute(siteKey,{action}).then(token=>{resolve(token)}).catch(()=>{resolve("NO_RECAPTCHA")})}):reject(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new MockGreCAPTCHATopLevel).execute("siteKey",{action:"verify"})}return new Promise((resolve,reject)=>{(async function retrieveSiteKey(auth){if(!forceRefresh){if(null==auth.tenantId&&null!=auth._agentRecaptchaConfig)return auth._agentRecaptchaConfig.siteKey;if(null!=auth.tenantId&&void 0!==auth._tenantRecaptchaConfigs[auth.tenantId])return auth._tenantRecaptchaConfigs[auth.tenantId].siteKey}return new Promise(async(resolve,reject)=>{getRecaptchaConfig(auth,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(response=>{if(void 0!==response.recaptchaKey){const config=new RecaptchaConfig(response);return null==auth.tenantId?auth._agentRecaptchaConfig=config:auth._tenantRecaptchaConfigs[auth.tenantId]=config,resolve(config.siteKey)}reject(new Error("recaptcha Enterprise site key undefined"))}).catch(error=>{reject(error)})})})(this.auth).then(siteKey=>{if(!forceRefresh&&isEnterprise(window.grecaptcha))retrieveRecaptchaToken(siteKey,resolve,reject);else{if("undefined"==typeof window)return void reject(new Error("RecaptchaVerifier is only supported in browser"));let url=function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}();0!==url.length&&(url+=siteKey),_loadJS(url).then(()=>{retrieveRecaptchaToken(siteKey,resolve,reject)}).catch(error=>{reject(error)})}}).catch(error=>{reject(error)})})}}async function injectRecaptchaFields(auth,request,action,isCaptchaResp=!1,isFakeToken=!1){const verifier=new RecaptchaEnterpriseVerifier(auth);let captchaResponse;if(isFakeToken)captchaResponse="NO_RECAPTCHA";else try{captchaResponse=await verifier.verify(action)}catch(error){captchaResponse=await verifier.verify(action,!0)}const newRequest=Object.assign({},request);if("mfaSmsEnrollment"===action||"mfaSmsSignIn"===action){if("phoneEnrollmentInfo"in newRequest){const phoneNumber=newRequest.phoneEnrollmentInfo.phoneNumber,recaptchaToken=newRequest.phoneEnrollmentInfo.recaptchaToken;Object.assign(newRequest,{phoneEnrollmentInfo:{phoneNumber,recaptchaToken,captchaResponse,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in newRequest){const recaptchaToken=newRequest.phoneSignInInfo.recaptchaToken;Object.assign(newRequest,{phoneSignInInfo:{recaptchaToken,captchaResponse,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return newRequest}return isCaptchaResp?Object.assign(newRequest,{captchaResp:captchaResponse}):Object.assign(newRequest,{captchaResponse}),Object.assign(newRequest,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(newRequest,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),newRequest}async function handleRecaptchaFlow(authInstance,request,actionName,actionMethod,recaptchaAuthProvider){var _a,_b;if("EMAIL_PASSWORD_PROVIDER"===recaptchaAuthProvider){if(null===(_a=authInstance._getRecaptchaConfig())||void 0===_a?void 0:_a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const requestWithRecaptcha=await injectRecaptchaFields(authInstance,request,actionName,"getOobCode"===actionName);return actionMethod(authInstance,requestWithRecaptcha)}return actionMethod(authInstance,request).catch(async error=>{if("auth/missing-recaptcha-token"===error.code){const requestWithRecaptcha=await injectRecaptchaFields(authInstance,request,actionName,"getOobCode"===actionName);return actionMethod(authInstance,requestWithRecaptcha)}return Promise.reject(error)})}if("PHONE_PROVIDER"===recaptchaAuthProvider){if(null===(_b=authInstance._getRecaptchaConfig())||void 0===_b?void 0:_b.isProviderEnabled("PHONE_PROVIDER")){const requestWithRecaptcha=await injectRecaptchaFields(authInstance,request,actionName);return actionMethod(authInstance,requestWithRecaptcha).catch(async error=>{var _a;if("AUDIT"===(null===(_a=authInstance._getRecaptchaConfig())||void 0===_a?void 0:_a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===error.code||"auth/invalid-app-credential"===error.code)){const requestWithRecaptchaFields=await injectRecaptchaFields(authInstance,request,actionName,!1,!0);return actionMethod(authInstance,requestWithRecaptchaFields)}return Promise.reject(error)})}{const requestWithRecaptchaFields=await injectRecaptchaFields(authInstance,request,actionName,!1,!0);return actionMethod(authInstance,requestWithRecaptchaFields)}}return Promise.reject(recaptchaAuthProvider+" provider is not supported.")}async function _initializeRecaptchaConfig(auth){const authInternal=_castAuth(auth),response=await getRecaptchaConfig(authInternal,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),config=new RecaptchaConfig(response);if(null==authInternal.tenantId?authInternal._agentRecaptchaConfig=config:authInternal._tenantRecaptchaConfigs[authInternal.tenantId]=config,config.isAnyProviderEnabled()){new RecaptchaEnterpriseVerifier(authInternal).verify()}}function index_35c79a8a_connectAuthEmulator(auth,url,options){const authInternal=_castAuth(auth);_assert(/^https?:\/\//.test(url),authInternal,"invalid-emulator-scheme");const disableWarnings=!!(null==options?void 0:options.disableWarnings),protocol=extractProtocol(url),{host,port}=function extractHostAndPort(url){const protocol=extractProtocol(url),authority=/(\/\/)?([^?#/]+)/.exec(url.substr(protocol.length));if(!authority)return{host:"",port:null};const hostAndPort=authority[2].split("@").pop()||"",bracketedIPv6=/^(\[[^\]]+\])(:|$)/.exec(hostAndPort);if(bracketedIPv6){const host=bracketedIPv6[1];return{host,port:parsePort(hostAndPort.substr(host.length+1))}}{const[host,port]=hostAndPort.split(":");return{host,port:parsePort(port)}}}(url),portStr=null===port?"":`:${port}`,emulator={url:`${protocol}//${host}${portStr}/`},emulatorConfig=Object.freeze({host,port,protocol:protocol.replace(":",""),options:Object.freeze({disableWarnings})});if(!authInternal._canInitEmulator)return _assert(authInternal.config.emulator&&authInternal.emulatorConfig,authInternal,"emulator-config-failed"),void _assert(index_esm2017_deepEqual(emulator,authInternal.config.emulator)&&index_esm2017_deepEqual(emulatorConfig,authInternal.emulatorConfig),authInternal,"emulator-config-failed");authInternal.config.emulator=emulator,authInternal.emulatorConfig=emulatorConfig,authInternal.settings.appVerificationDisabledForTesting=!0,index_esm2017_isCloudWorkstation(host)?(index_esm2017_pingServer(`${protocol}//${host}${portStr}`),index_esm2017_updateEmulatorBanner("Auth",!0)):disableWarnings||function emitEmulatorWarning(){function attachBanner(){const el=document.createElement("p"),sty=el.style;el.innerText="Running in emulator mode. Do not use with production credentials.",sty.position="fixed",sty.width="100%",sty.backgroundColor="#ffffff",sty.border=".1em solid #000000",sty.color="#b50000",sty.bottom="0px",sty.left="0px",sty.margin="0px",sty.zIndex="10000",sty.textAlign="center",el.classList.add("firebase-emulator-warning"),document.body.appendChild(el)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",attachBanner):attachBanner())}()}function extractProtocol(url){const protocolEnd=url.indexOf(":");return protocolEnd<0?"":url.substr(0,protocolEnd+1)}function parsePort(portStr){if(!portStr)return null;const port=Number(portStr);return isNaN(port)?null:port}class AuthCredential{constructor(providerId,signInMethod){this.providerId=providerId,this.signInMethod=signInMethod}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_auth){return debugFail("not implemented")}_linkToIdToken(_auth,_idToken){return debugFail("not implemented")}_getReauthenticationResolver(_auth){return debugFail("not implemented")}}async function linkEmailPassword(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:signUp",request)}async function signInWithPassword(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(auth,request))}async function sendOobCode(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(auth,request))}async function sendPasswordResetEmail$1(auth,request){return sendOobCode(auth,request)}async function sendSignInLinkToEmail$1(auth,request){return sendOobCode(auth,request)}class EmailAuthCredential extends AuthCredential{constructor(_email,_password,signInMethod,_tenantId=null){super("password",signInMethod),this._email=_email,this._password=_password,this._tenantId=_tenantId}static _fromEmailAndPassword(email,password){return new EmailAuthCredential(email,password,"password")}static _fromEmailAndCode(email,oobCode,tenantId=null){return new EmailAuthCredential(email,oobCode,"emailLink",tenantId)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(json){const obj="string"==typeof json?JSON.parse(json):json;if((null==obj?void 0:obj.email)&&(null==obj?void 0:obj.password)){if("password"===obj.signInMethod)return this._fromEmailAndPassword(obj.email,obj.password);if("emailLink"===obj.signInMethod)return this._fromEmailAndCode(obj.email,obj.password,obj.tenantId)}return null}async _getIdTokenResponse(auth){switch(this.signInMethod){case"password":return handleRecaptchaFlow(auth,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",signInWithPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function signInWithEmailLink$1(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(auth,request))}(auth,{email:this._email,oobCode:this._password});default:_fail(auth,"internal-error")}}async _linkToIdToken(auth,idToken){switch(this.signInMethod){case"password":return handleRecaptchaFlow(auth,{idToken,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",linkEmailPassword,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function signInWithEmailLinkForLinking(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(auth,request))}(auth,{idToken,email:this._email,oobCode:this._password});default:_fail(auth,"internal-error")}}_getReauthenticationResolver(auth){return this._getIdTokenResponse(auth)}}async function signInWithIdp(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(auth,request))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(params){const cred=new OAuthCredential(params.providerId,params.signInMethod);return params.idToken||params.accessToken?(params.idToken&&(cred.idToken=params.idToken),params.accessToken&&(cred.accessToken=params.accessToken),params.nonce&&!params.pendingToken&&(cred.nonce=params.nonce),params.pendingToken&&(cred.pendingToken=params.pendingToken)):params.oauthToken&&params.oauthTokenSecret?(cred.accessToken=params.oauthToken,cred.secret=params.oauthTokenSecret):_fail("argument-error"),cred}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(json){const obj="string"==typeof json?JSON.parse(json):json,{providerId,signInMethod}=obj,rest=__rest(obj,["providerId","signInMethod"]);if(!providerId||!signInMethod)return null;const cred=new OAuthCredential(providerId,signInMethod);return cred.idToken=rest.idToken||void 0,cred.accessToken=rest.accessToken||void 0,cred.secret=rest.secret,cred.nonce=rest.nonce,cred.pendingToken=rest.pendingToken||null,cred}_getIdTokenResponse(auth){return signInWithIdp(auth,this.buildRequest())}_linkToIdToken(auth,idToken){const request=this.buildRequest();return request.idToken=idToken,signInWithIdp(auth,request)}_getReauthenticationResolver(auth){const request=this.buildRequest();return request.autoCreate=!1,signInWithIdp(auth,request)}buildRequest(){const request={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)request.pendingToken=this.pendingToken;else{const postBody={};this.idToken&&(postBody.id_token=this.idToken),this.accessToken&&(postBody.access_token=this.accessToken),this.secret&&(postBody.oauth_token_secret=this.secret),postBody.providerId=this.providerId,this.nonce&&!this.pendingToken&&(postBody.nonce=this.nonce),request.postBody=querystring(postBody)}return request}}async function sendPhoneVerificationCode(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(auth,request))}const VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(params){super("phone","phone"),this.params=params}static _fromVerification(verificationId,verificationCode){return new PhoneAuthCredential({verificationId,verificationCode})}static _fromTokenResponse(phoneNumber,temporaryProof){return new PhoneAuthCredential({phoneNumber,temporaryProof})}_getIdTokenResponse(auth){return async function signInWithPhoneNumber$1(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(auth,request))}(auth,this._makeVerificationRequest())}_linkToIdToken(auth,idToken){return async function linkWithPhoneNumber$1(auth,request){const response=await _performSignInRequest(auth,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(auth,request));if(response.temporaryProof)throw _makeTaggedError(auth,"account-exists-with-different-credential",response);return response}(auth,Object.assign({idToken},this._makeVerificationRequest()))}_getReauthenticationResolver(auth){return async function verifyPhoneNumberForExisting(auth,request){return _performSignInRequest(auth,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(auth,Object.assign(Object.assign({},request),{operation:"REAUTH"})),VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_)}(auth,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof,phoneNumber,verificationId,verificationCode}=this.params;return temporaryProof&&phoneNumber?{temporaryProof,phoneNumber}:{sessionInfo:verificationId,code:verificationCode}}toJSON(){const obj={providerId:this.providerId};return this.params.phoneNumber&&(obj.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(obj.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(obj.verificationCode=this.params.verificationCode),this.params.verificationId&&(obj.verificationId=this.params.verificationId),obj}static fromJSON(json){"string"==typeof json&&(json=JSON.parse(json));const{verificationId,verificationCode,phoneNumber,temporaryProof}=json;return verificationCode||verificationId||phoneNumber||temporaryProof?new PhoneAuthCredential({verificationId,verificationCode,phoneNumber,temporaryProof}):null}}class ActionCodeURL{constructor(actionLink){var _a,_b,_c,_d,_e,_f;const searchParams=querystringDecode(extractQuerystring(actionLink)),apiKey=null!==(_a=searchParams.apiKey)&&void 0!==_a?_a:null,code=null!==(_b=searchParams.oobCode)&&void 0!==_b?_b:null,operation=function parseMode(mode){switch(mode){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_c=searchParams.mode)&&void 0!==_c?_c:null);_assert(apiKey&&code&&operation,"argument-error"),this.apiKey=apiKey,this.operation=operation,this.code=code,this.continueUrl=null!==(_d=searchParams.continueUrl)&&void 0!==_d?_d:null,this.languageCode=null!==(_e=searchParams.lang)&&void 0!==_e?_e:null,this.tenantId=null!==(_f=searchParams.tenantId)&&void 0!==_f?_f:null}static parseLink(link){const actionLink=function parseDeepLink(url){const link=querystringDecode(extractQuerystring(url)).link,doubleDeepLink=link?querystringDecode(extractQuerystring(link)).deep_link_id:null,iOSDeepLink=querystringDecode(extractQuerystring(url)).deep_link_id;return(iOSDeepLink?querystringDecode(extractQuerystring(iOSDeepLink)).link:null)||iOSDeepLink||doubleDeepLink||link||url}(link);try{return new ActionCodeURL(actionLink)}catch(_a){return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(email,password){return EmailAuthCredential._fromEmailAndPassword(email,password)}static credentialWithLink(email,emailLink){const actionCodeUrl=ActionCodeURL.parseLink(emailLink);return _assert(actionCodeUrl,"argument-error"),EmailAuthCredential._fromEmailAndCode(email,actionCodeUrl.code,actionCodeUrl.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(providerId){this.providerId=providerId,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(languageCode){this.defaultLanguageCode=languageCode}setCustomParameters(customOAuthParameters){return this.customParameters=customOAuthParameters,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(scope){return this.scopes.includes(scope)||this.scopes.push(scope),this}getScopes(){return[...this.scopes]}}class OAuthProvider extends BaseOAuthProvider{static credentialFromJSON(json){const obj="string"==typeof json?JSON.parse(json):json;return _assert("providerId"in obj&&"signInMethod"in obj,"argument-error"),OAuthCredential._fromParams(obj)}credential(params){return this._credential(Object.assign(Object.assign({},params),{nonce:params.rawNonce}))}_credential(params){return _assert(params.idToken||params.accessToken,"argument-error"),OAuthCredential._fromParams(Object.assign(Object.assign({},params),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(userCredential){return OAuthProvider.oauthCredentialFromTaggedObject(userCredential)}static credentialFromError(error){return OAuthProvider.oauthCredentialFromTaggedObject(error.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{oauthIdToken,oauthAccessToken,oauthTokenSecret,pendingToken,nonce,providerId}=tokenResponse;if(!(oauthAccessToken||oauthTokenSecret||oauthIdToken||pendingToken))return null;if(!providerId)return null;try{return new OAuthProvider(providerId)._credential({idToken:oauthIdToken,accessToken:oauthAccessToken,nonce,pendingToken})}catch(e){return null}}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(accessToken){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken})}static credentialFromResult(userCredential){return FacebookAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return FacebookAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse||!("oauthAccessToken"in tokenResponse))return null;if(!tokenResponse.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(tokenResponse.oauthAccessToken)}catch(_a){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(idToken,accessToken){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken,accessToken})}static credentialFromResult(userCredential){return GoogleAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return GoogleAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{oauthIdToken,oauthAccessToken}=tokenResponse;if(!oauthIdToken&&!oauthAccessToken)return null;try{return GoogleAuthProvider.credential(oauthIdToken,oauthAccessToken)}catch(_a){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(accessToken){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken})}static credentialFromResult(userCredential){return GithubAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return GithubAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse||!("oauthAccessToken"in tokenResponse))return null;if(!tokenResponse.oauthAccessToken)return null;try{return GithubAuthProvider.credential(tokenResponse.oauthAccessToken)}catch(_a){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(token,secret){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:token,oauthTokenSecret:secret})}static credentialFromResult(userCredential){return TwitterAuthProvider.credentialFromTaggedObject(userCredential)}static credentialFromError(error){return TwitterAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{oauthAccessToken,oauthTokenSecret}=tokenResponse;if(!oauthAccessToken||!oauthTokenSecret)return null;try{return TwitterAuthProvider.credential(oauthAccessToken,oauthTokenSecret)}catch(_a){return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(params){this.user=params.user,this.providerId=params.providerId,this._tokenResponse=params._tokenResponse,this.operationType=params.operationType}static async _fromIdTokenResponse(auth,operationType,idTokenResponse,isAnonymous=!1){const user=await UserImpl._fromIdTokenResponse(auth,idTokenResponse,isAnonymous),providerId=providerIdForResponse(idTokenResponse);return new UserCredentialImpl({user,providerId,_tokenResponse:idTokenResponse,operationType})}static async _forOperation(user,operationType,response){await user._updateTokensIfNecessary(response,!0);const providerId=providerIdForResponse(response);return new UserCredentialImpl({user,providerId,_tokenResponse:response,operationType})}}function providerIdForResponse(response){return response.providerId?response.providerId:"phoneNumber"in response?"phone":null}class MultiFactorError extends FirebaseError{constructor(auth,error,operationType,user){var _a;super(error.code,error.message),this.operationType=operationType,this.user=user,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:auth.name,tenantId:null!==(_a=auth.tenantId)&&void 0!==_a?_a:void 0,_serverResponse:error.customData._serverResponse,operationType}}static _fromErrorAndOperation(auth,error,operationType,user){return new MultiFactorError(auth,error,operationType,user)}}function _processCredentialSavingMfaContextIfNecessary(auth,operationType,credential,user){return("reauthenticate"===operationType?credential._getReauthenticationResolver(auth):credential._getIdTokenResponse(auth)).catch(error=>{if("auth/multi-factor-auth-required"===error.code)throw MultiFactorError._fromErrorAndOperation(auth,error,operationType,user);throw error})}async function _link$1(user,credential,bypassAuthState=!1){const response=await _logoutIfInvalidated(user,credential._linkToIdToken(user.auth,await user.getIdToken()),bypassAuthState);return UserCredentialImpl._forOperation(user,"link",response)}async function _reauthenticate(user,credential,bypassAuthState=!1){const{auth}=user;if(index_esm2017_isFirebaseServerApp(auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth));try{const response=await _logoutIfInvalidated(user,_processCredentialSavingMfaContextIfNecessary(auth,"reauthenticate",credential,user),bypassAuthState);_assert(response.idToken,auth,"internal-error");const parsed=_parseToken(response.idToken);_assert(parsed,auth,"internal-error");const{sub:localId}=parsed;return _assert(user.uid===localId,auth,"user-mismatch"),UserCredentialImpl._forOperation(user,"reauthenticate",response)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&_fail(auth,"user-mismatch"),e}}async function _signInWithCredential(auth,credential,bypassAuthState=!1){if(index_esm2017_isFirebaseServerApp(auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth));const response=await _processCredentialSavingMfaContextIfNecessary(auth,"signIn",credential),userCredential=await UserCredentialImpl._fromIdTokenResponse(auth,"signIn",response);return bypassAuthState||await auth._updateCurrentUser(userCredential.user),userCredential}async function signInWithCredential(auth,credential){return _signInWithCredential(_castAuth(auth),credential)}function _setActionCodeSettingsOnRequest(auth,request,actionCodeSettings){var _a;_assert((null===(_a=actionCodeSettings.url)||void 0===_a?void 0:_a.length)>0,auth,"invalid-continue-uri"),_assert(void 0===actionCodeSettings.dynamicLinkDomain||actionCodeSettings.dynamicLinkDomain.length>0,auth,"invalid-dynamic-link-domain"),_assert(void 0===actionCodeSettings.linkDomain||actionCodeSettings.linkDomain.length>0,auth,"invalid-hosting-link-domain"),request.continueUrl=actionCodeSettings.url,request.dynamicLinkDomain=actionCodeSettings.dynamicLinkDomain,request.linkDomain=actionCodeSettings.linkDomain,request.canHandleCodeInApp=actionCodeSettings.handleCodeInApp,actionCodeSettings.iOS&&(_assert(actionCodeSettings.iOS.bundleId.length>0,auth,"missing-ios-bundle-id"),request.iOSBundleId=actionCodeSettings.iOS.bundleId),actionCodeSettings.android&&(_assert(actionCodeSettings.android.packageName.length>0,auth,"missing-android-pkg-name"),request.androidInstallApp=actionCodeSettings.android.installApp,request.androidMinimumVersionCode=actionCodeSettings.android.minimumVersion,request.androidPackageName=actionCodeSettings.android.packageName)}async function recachePasswordPolicy(auth){const authInternal=_castAuth(auth);authInternal._getPasswordPolicyInternal()&&await authInternal._updatePasswordPolicy()}async function sendPasswordResetEmail(auth,email,actionCodeSettings){const authInternal=_castAuth(auth),request={requestType:"PASSWORD_RESET",email,clientType:"CLIENT_TYPE_WEB"};actionCodeSettings&&_setActionCodeSettingsOnRequest(authInternal,request,actionCodeSettings),await handleRecaptchaFlow(authInternal,request,"getOobCode",sendPasswordResetEmail$1,"EMAIL_PASSWORD_PROVIDER")}function signInWithEmailAndPassword(auth,email,password){return index_esm2017_isFirebaseServerApp(auth.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth)):signInWithCredential(index_esm2017_getModularInstance(auth),EmailAuthProvider.credential(email,password)).catch(async error=>{throw"auth/password-does-not-meet-requirements"===error.code&&recachePasswordPolicy(auth),error})}async function sendSignInLinkToEmail(auth,email,actionCodeSettings){const authInternal=_castAuth(auth),request={requestType:"EMAIL_SIGNIN",email,clientType:"CLIENT_TYPE_WEB"};!function setActionCodeSettings(request,actionCodeSettings){_assert(actionCodeSettings.handleCodeInApp,authInternal,"argument-error"),actionCodeSettings&&_setActionCodeSettingsOnRequest(authInternal,request,actionCodeSettings)}(request,actionCodeSettings),await handleRecaptchaFlow(authInternal,request,"getOobCode",sendSignInLinkToEmail$1,"EMAIL_PASSWORD_PROVIDER")}function isSignInWithEmailLink(auth,emailLink){const actionCodeUrl=ActionCodeURL.parseLink(emailLink);return"EMAIL_SIGNIN"===(null==actionCodeUrl?void 0:actionCodeUrl.operation)}async function signInWithEmailLink(auth,email,emailLink){if(index_esm2017_isFirebaseServerApp(auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth));const authModular=index_esm2017_getModularInstance(auth),credential=EmailAuthProvider.credentialWithLink(email,emailLink||_getCurrentUrl());return _assert(credential._tenantId===(authModular.tenantId||null),authModular,"tenant-id-mismatch"),signInWithCredential(authModular,credential)}async function fetchSignInMethodsForEmail(auth,email){const request={identifier:email,continueUri:_isHttpOrHttps()?_getCurrentUrl():"http://localhost"},{signinMethods}=await async function createAuthUri(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(auth,request))}(index_esm2017_getModularInstance(auth),request);return signinMethods||[]}async function updateProfile(user,{displayName,photoURL:photoUrl}){if(void 0===displayName&&void 0===photoUrl)return;const userInternal=index_esm2017_getModularInstance(user),profileRequest={idToken:await userInternal.getIdToken(),displayName,photoUrl,returnSecureToken:!0},response=await _logoutIfInvalidated(userInternal,async function updateProfile$1(auth,request){return _performApiRequest(auth,"POST","/v1/accounts:update",request)}(userInternal.auth,profileRequest));userInternal.displayName=response.displayName||null,userInternal.photoURL=response.photoUrl||null;const passwordProvider=userInternal.providerData.find(({providerId})=>"password"===providerId);passwordProvider&&(passwordProvider.displayName=userInternal.displayName,passwordProvider.photoURL=userInternal.photoURL),await userInternal._updateTokensIfNecessary(response)}function signOut(auth){return index_esm2017_getModularInstance(auth).signOut()}function startEnrollPhoneMfa(auth,request){return _performApiRequest(auth,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(auth,request))}new WeakMap;class BrowserPersistenceClass{constructor(storageRetriever,type){this.storageRetriever=storageRetriever,this.type=type}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(_a){return Promise.resolve(!1)}}_set(key,value){return this.storage.setItem(key,JSON.stringify(value)),Promise.resolve()}_get(key){const json=this.storage.getItem(key);return Promise.resolve(json?JSON.parse(json):null)}_remove(key){return this.storage.removeItem(key),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(event,poll)=>this.onStorageEvent(event,poll),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(cb){for(const key of Object.keys(this.listeners)){const newValue=this.storage.getItem(key),oldValue=this.localCache[key];newValue!==oldValue&&cb(key,oldValue,newValue)}}onStorageEvent(event,poll=!1){if(!event.key)return void this.forAllChangedKeys((key,_oldValue,newValue)=>{this.notifyListeners(key,newValue)});const key=event.key;poll?this.detachListener():this.stopPolling();const triggerListeners=()=>{const storedValue=this.storage.getItem(key);(poll||this.localCache[key]!==storedValue)&&this.notifyListeners(key,storedValue)},storedValue=this.storage.getItem(key);_isIE10()&&storedValue!==event.newValue&&event.newValue!==event.oldValue?setTimeout(triggerListeners,10):triggerListeners()}notifyListeners(key,value){this.localCache[key]=value;const listeners=this.listeners[key];if(listeners)for(const listener of Array.from(listeners))listener(value?JSON.parse(value):value)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((key,oldValue,newValue)=>{this.onStorageEvent(new StorageEvent("storage",{key,oldValue,newValue}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(key,listener){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[key]||(this.listeners[key]=new Set,this.localCache[key]=this.storage.getItem(key)),this.listeners[key].add(listener)}_removeListener(key,listener){this.listeners[key]&&(this.listeners[key].delete(listener),0===this.listeners[key].size&&delete this.listeners[key]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(key,value){await super._set(key,value),this.localCache[key]=JSON.stringify(value)}async _get(key){const value=await super._get(key);return this.localCache[key]=JSON.stringify(value),value}async _remove(key){await super._remove(key),delete this.localCache[key]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;function getDocumentCookie(name){var _a,_b;const escapedName=name.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),matcher=RegExp(`${escapedName}=([^;]+)`);return null!==(_b=null===(_a=document.cookie.match(matcher))||void 0===_a?void 0:_a[1])&&void 0!==_b?_b:null}function getCookieName(key){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${key.split(":")[3]}`}class CookiePersistence{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(originalUrl){if(void 0===typeof window)return originalUrl;const url=new URL(`${window.location.origin}/__cookies__`);return url.searchParams.set("finalTarget",originalUrl),url}async _isAvailable(){var _a;return!("boolean"==typeof isSecureContext&&!isSecureContext)&&("undefined"!=typeof navigator&&"undefined"!=typeof document&&(null===(_a=navigator.cookieEnabled)||void 0===_a||_a))}async _set(_key,_value){}async _get(key){if(!this._isAvailable())return null;const name=getCookieName(key);if(window.cookieStore){const cookie=await window.cookieStore.get(name);return null==cookie?void 0:cookie.value}return getDocumentCookie(name)}async _remove(key){if(!this._isAvailable())return;if(!await this._get(key))return;const name=getCookieName(key);document.cookie=`${name}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(key,listener){if(!this._isAvailable())return;const name=getCookieName(key);if(window.cookieStore){const cb=event=>{const changedCookie=event.changed.find(change=>change.name===name);changedCookie&&listener(changedCookie.value);event.deleted.find(change=>change.name===name)&&listener(null)},unsubscribe=()=>window.cookieStore.removeEventListener("change",cb);return this.listenerUnsubscribes.set(listener,unsubscribe),window.cookieStore.addEventListener("change",cb)}let lastValue=getDocumentCookie(name);const interval=setInterval(()=>{const currentValue=getDocumentCookie(name);currentValue!==lastValue&&(listener(currentValue),lastValue=currentValue)},1e3);this.listenerUnsubscribes.set(listener,()=>clearInterval(interval))}_removeListener(_key,listener){const unsubscribe=this.listenerUnsubscribes.get(listener);unsubscribe&&(unsubscribe(),this.listenerUnsubscribes.delete(listener))}}CookiePersistence.type="COOKIE";class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_key,_listener){}_removeListener(_key,_listener){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;class Receiver{constructor(eventTarget){this.eventTarget=eventTarget,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(eventTarget){const existingInstance=this.receivers.find(receiver=>receiver.isListeningto(eventTarget));if(existingInstance)return existingInstance;const newInstance=new Receiver(eventTarget);return this.receivers.push(newInstance),newInstance}isListeningto(eventTarget){return this.eventTarget===eventTarget}async handleEvent(event){const messageEvent=event,{eventId,eventType,data}=messageEvent.data,handlers=this.handlersMap[eventType];if(!(null==handlers?void 0:handlers.size))return;messageEvent.ports[0].postMessage({status:"ack",eventId,eventType});const promises=Array.from(handlers).map(async handler=>handler(messageEvent.origin,data)),response=await function _allSettled(promises){return Promise.all(promises.map(async promise=>{try{return{fulfilled:!0,value:await promise}}catch(reason){return{fulfilled:!1,reason}}}))}(promises);messageEvent.ports[0].postMessage({status:"done",eventId,eventType,response})}_subscribe(eventType,eventHandler){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[eventType]||(this.handlersMap[eventType]=new Set),this.handlersMap[eventType].add(eventHandler)}_unsubscribe(eventType,eventHandler){this.handlersMap[eventType]&&eventHandler&&this.handlersMap[eventType].delete(eventHandler),eventHandler&&0!==this.handlersMap[eventType].size||delete this.handlersMap[eventType],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _generateEventId(prefix="",digits=10){let random="";for(let i=0;i<digits;i++)random+=Math.floor(10*Math.random());return prefix+random}Receiver.receivers=[];class Sender{constructor(target){this.target=target,this.handlers=new Set}removeMessageHandler(handler){handler.messageChannel&&(handler.messageChannel.port1.removeEventListener("message",handler.onMessage),handler.messageChannel.port1.close()),this.handlers.delete(handler)}async _send(eventType,data,timeout=50){const messageChannel="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!messageChannel)throw new Error("connection_unavailable");let completionTimer,handler;return new Promise((resolve,reject)=>{const eventId=_generateEventId("",20);messageChannel.port1.start();const ackTimer=setTimeout(()=>{reject(new Error("unsupported_event"))},timeout);handler={messageChannel,onMessage(event){const messageEvent=event;if(messageEvent.data.eventId===eventId)switch(messageEvent.data.status){case"ack":clearTimeout(ackTimer),completionTimer=setTimeout(()=>{reject(new Error("timeout"))},3e3);break;case"done":clearTimeout(completionTimer),resolve(messageEvent.data.response);break;default:clearTimeout(ackTimer),clearTimeout(completionTimer),reject(new Error("invalid_response"))}}},this.handlers.add(handler),messageChannel.port1.addEventListener("message",handler.onMessage),this.target.postMessage({eventType,eventId,data},[messageChannel.port2])}).finally(()=>{handler&&this.removeMessageHandler(handler)})}}function _window(){return window}function _isWorker(){return void 0!==_window().WorkerGlobalScope&&"function"==typeof _window().importScripts}const DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(request){this.request=request}toPromise(){return new Promise((resolve,reject)=>{this.request.addEventListener("success",()=>{resolve(this.request.result)}),this.request.addEventListener("error",()=>{reject(this.request.error)})})}}function getObjectStore(db,isReadWrite){return db.transaction(["firebaseLocalStorage"],isReadWrite?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function _openDatabase(){const request=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((resolve,reject)=>{request.addEventListener("error",()=>{reject(request.error)}),request.addEventListener("upgradeneeded",()=>{const db=request.result;try{db.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){reject(e)}}),request.addEventListener("success",async()=>{const db=request.result;db.objectStoreNames.contains("firebaseLocalStorage")?resolve(db):(db.close(),await function _deleteDatabase(){const request=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new DBPromise(request).toPromise()}(),resolve(await _openDatabase()))})})}async function _putObject(db,key,value){const request=getObjectStore(db,!0).put({[DB_DATA_KEYPATH]:key,value});return new DBPromise(request).toPromise()}function _deleteObject(db,key){const request=getObjectStore(db,!0).delete(key);return new DBPromise(request).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _openDatabase()),this.db}async _withRetries(op){let numAttempts=0;for(;;)try{const db=await this._openDb();return await op(db)}catch(e){if(numAttempts++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(function _getWorkerGlobalScope(){return _isWorker()?self:null}()),this.receiver._subscribe("keyChanged",async(_origin,data)=>({keyProcessed:(await this._poll()).includes(data.key)})),this.receiver._subscribe("ping",async(_origin,_data)=>["keyChanged"])}async initializeSender(){var _a,_b;if(this.activeServiceWorker=await async function _getActiveServiceWorker(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(_a){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const results=await this.sender._send("ping",{},800);results&&(null===(_a=results[0])||void 0===_a?void 0:_a.fulfilled)&&(null===(_b=results[0])||void 0===_b?void 0:_b.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(key){if(this.sender&&this.activeServiceWorker&&function _getServiceWorkerController(){var _a;return(null===(_a=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===_a?void 0:_a.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key},this.serviceWorkerReceiverAvailable?800:50)}catch(_a){}}async _isAvailable(){try{if(!indexedDB)return!1;const db=await _openDatabase();return await _putObject(db,"__sak","1"),await _deleteObject(db,"__sak"),!0}catch(_a){}return!1}async _withPendingWrite(write){this.pendingWrites++;try{await write()}finally{this.pendingWrites--}}async _set(key,value){return this._withPendingWrite(async()=>(await this._withRetries(db=>_putObject(db,key,value)),this.localCache[key]=value,this.notifyServiceWorker(key)))}async _get(key){const obj=await this._withRetries(db=>async function getObject(db,key){const request=getObjectStore(db,!1).get(key),data=await new DBPromise(request).toPromise();return void 0===data?null:data.value}(db,key));return this.localCache[key]=obj,obj}async _remove(key){return this._withPendingWrite(async()=>(await this._withRetries(db=>_deleteObject(db,key)),delete this.localCache[key],this.notifyServiceWorker(key)))}async _poll(){const result=await this._withRetries(db=>{const getAllRequest=getObjectStore(db,!1).getAll();return new DBPromise(getAllRequest).toPromise()});if(!result)return[];if(0!==this.pendingWrites)return[];const keys=[],keysInResult=new Set;if(0!==result.length)for(const{fbase_key:key,value}of result)keysInResult.add(key),JSON.stringify(this.localCache[key])!==JSON.stringify(value)&&(this.notifyListeners(key,value),keys.push(key));for(const localKey of Object.keys(this.localCache))this.localCache[localKey]&&!keysInResult.has(localKey)&&(this.notifyListeners(localKey,null),keys.push(localKey));return keys}notifyListeners(key,newValue){this.localCache[key]=newValue;const listeners=this.listeners[key];if(listeners)for(const listener of Array.from(listeners))listener(newValue)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(key,listener){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[key]||(this.listeners[key]=new Set,this._get(key)),this.listeners[key].add(listener)}_removeListener(key,listener){this.listeners[key]&&(this.listeners[key].delete(listener),0===this.listeners[key].size&&delete this.listeners[key]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;function startSignInPhoneMfa(auth,request){return _performApiRequest(auth,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(auth,request))}const _JSLOAD_CALLBACK=_generateCallbackName("rcb"),NETWORK_TIMEOUT_DELAY=new Delay(3e4,6e4);class ReCaptchaLoaderImpl{constructor(){var _a;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(_a=_window().grecaptcha)||void 0===_a?void 0:_a.render)}load(auth,hl=""){return _assert(function isHostLanguageValid(hl){return hl.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(hl)}(hl),auth,"argument-error"),this.shouldResolveImmediately(hl)&&isV2(_window().grecaptcha)?Promise.resolve(_window().grecaptcha):new Promise((resolve,reject)=>{const networkTimeout=_window().setTimeout(()=>{reject(_createError(auth,"network-request-failed"))},NETWORK_TIMEOUT_DELAY.get());_window()[_JSLOAD_CALLBACK]=()=>{_window().clearTimeout(networkTimeout),delete _window()[_JSLOAD_CALLBACK];const recaptcha=_window().grecaptcha;if(!recaptcha||!isV2(recaptcha))return void reject(_createError(auth,"internal-error"));const render=recaptcha.render;recaptcha.render=(container,params)=>{const widgetId=render(container,params);return this.counter++,widgetId},this.hostLanguage=hl,resolve(recaptcha)};_loadJS(`${function _recaptchaV2ScriptUrl(){return externalJSProvider.recaptchaV2Script}()}?${querystring({onload:_JSLOAD_CALLBACK,render:"explicit",hl})}`).catch(()=>{clearTimeout(networkTimeout),reject(_createError(auth,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(hl){var _a;return!!(null===(_a=_window().grecaptcha)||void 0===_a?void 0:_a.render)&&(hl===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class MockReCaptchaLoaderImpl{async load(auth){return new MockReCaptcha(auth)}clearedOneInstance(){}}const DEFAULT_PARAMS={theme:"light",type:"image"};class RecaptchaVerifier{constructor(authExtern,containerOrId,parameters=Object.assign({},DEFAULT_PARAMS)){this.parameters=parameters,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_castAuth(authExtern),this.isInvisible="invisible"===this.parameters.size,_assert("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const container="string"==typeof containerOrId?document.getElementById(containerOrId):containerOrId;_assert(container,this.auth,"argument-error"),this.container=container,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MockReCaptchaLoaderImpl:new ReCaptchaLoaderImpl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const id=await this.render(),recaptcha=this.getAssertedRecaptcha(),response=recaptcha.getResponse(id);return response||new Promise(resolve=>{const tokenChange=token=>{token&&(this.tokenChangeListeners.delete(tokenChange),resolve(token))};this.tokenChangeListeners.add(tokenChange),this.isInvisible&&recaptcha.execute(id)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(node=>{this.container.removeChild(node)})}validateStartingState(){_assert(!this.parameters.sitekey,this.auth,"argument-error"),_assert(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_assert("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(existing){return token=>{if(this.tokenChangeListeners.forEach(listener=>listener(token)),"function"==typeof existing)existing(token);else if("string"==typeof existing){const globalFunc=_window()[existing];"function"==typeof globalFunc&&globalFunc(token)}}}assertNotDestroyed(){_assert(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let container=this.container;if(!this.isInvisible){const guaranteedEmpty=document.createElement("div");container.appendChild(guaranteedEmpty),container=guaranteedEmpty}this.widgetId=this.getAssertedRecaptcha().render(container,this.parameters)}return this.widgetId}async init(){_assert(_isHttpOrHttps()&&!_isWorker(),this.auth,"internal-error"),await function domReady(){let resolver=null;return new Promise(resolve=>{"complete"!==document.readyState?(resolver=()=>resolve(),window.addEventListener("load",resolver)):resolve()}).catch(e=>{throw resolver&&window.removeEventListener("load",resolver),e})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const siteKey=await async function getRecaptchaParams(auth){return(await _performApiRequest(auth,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);_assert(siteKey,this.auth,"internal-error"),this.parameters.sitekey=siteKey}getAssertedRecaptcha(){return _assert(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ConfirmationResultImpl{constructor(verificationId,onConfirmation){this.verificationId=verificationId,this.onConfirmation=onConfirmation}confirm(verificationCode){const authCredential=PhoneAuthCredential._fromVerification(this.verificationId,verificationCode);return this.onConfirmation(authCredential)}}async function signInWithPhoneNumber(auth,phoneNumber,appVerifier){if(index_esm2017_isFirebaseServerApp(auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth));const authInternal=_castAuth(auth),verificationId=await _verifyPhoneNumber(authInternal,phoneNumber,index_esm2017_getModularInstance(appVerifier));return new ConfirmationResultImpl(verificationId,cred=>signInWithCredential(authInternal,cred))}async function _verifyPhoneNumber(auth,options,verifier){var _a;if(!auth._getRecaptchaConfig())try{await _initializeRecaptchaConfig(auth)}catch(error){}try{let phoneInfoOptions;if(phoneInfoOptions="string"==typeof options?{phoneNumber:options}:options,"session"in phoneInfoOptions){const session=phoneInfoOptions.session;if("phoneNumber"in phoneInfoOptions){_assert("enroll"===session.type,auth,"internal-error");const startPhoneMfaEnrollmentRequest={idToken:session.credential,phoneEnrollmentInfo:{phoneNumber:phoneInfoOptions.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},startPhoneMfaEnrollmentResponse=handleRecaptchaFlow(auth,startPhoneMfaEnrollmentRequest,"mfaSmsEnrollment",async(authInstance,request)=>{if("NO_RECAPTCHA"===request.phoneEnrollmentInfo.captchaResponse){_assert("recaptcha"===(null==verifier?void 0:verifier.type),authInstance,"argument-error");return startEnrollPhoneMfa(authInstance,await injectRecaptchaV2Token(authInstance,request,verifier))}return startEnrollPhoneMfa(authInstance,request)},"PHONE_PROVIDER");return(await startPhoneMfaEnrollmentResponse.catch(error=>Promise.reject(error))).phoneSessionInfo.sessionInfo}{_assert("signin"===session.type,auth,"internal-error");const mfaEnrollmentId=(null===(_a=phoneInfoOptions.multiFactorHint)||void 0===_a?void 0:_a.uid)||phoneInfoOptions.multiFactorUid;_assert(mfaEnrollmentId,auth,"missing-multi-factor-info");const startPhoneMfaSignInRequest={mfaPendingCredential:session.credential,mfaEnrollmentId,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},startPhoneMfaSignInResponse=handleRecaptchaFlow(auth,startPhoneMfaSignInRequest,"mfaSmsSignIn",async(authInstance,request)=>{if("NO_RECAPTCHA"===request.phoneSignInInfo.captchaResponse){_assert("recaptcha"===(null==verifier?void 0:verifier.type),authInstance,"argument-error");return startSignInPhoneMfa(authInstance,await injectRecaptchaV2Token(authInstance,request,verifier))}return startSignInPhoneMfa(authInstance,request)},"PHONE_PROVIDER");return(await startPhoneMfaSignInResponse.catch(error=>Promise.reject(error))).phoneResponseInfo.sessionInfo}}{const sendPhoneVerificationCodeRequest={phoneNumber:phoneInfoOptions.phoneNumber,clientType:"CLIENT_TYPE_WEB"},sendPhoneVerificationCodeResponse=handleRecaptchaFlow(auth,sendPhoneVerificationCodeRequest,"sendVerificationCode",async(authInstance,request)=>{if("NO_RECAPTCHA"===request.captchaResponse){_assert("recaptcha"===(null==verifier?void 0:verifier.type),authInstance,"argument-error");return sendPhoneVerificationCode(authInstance,await injectRecaptchaV2Token(authInstance,request,verifier))}return sendPhoneVerificationCode(authInstance,request)},"PHONE_PROVIDER");return(await sendPhoneVerificationCodeResponse.catch(error=>Promise.reject(error))).sessionInfo}}finally{null==verifier||verifier._reset()}}async function injectRecaptchaV2Token(auth,request,recaptchaV2Verifier){_assert("recaptcha"===recaptchaV2Verifier.type,auth,"argument-error");const recaptchaV2Token=await recaptchaV2Verifier.verify();_assert("string"==typeof recaptchaV2Token,auth,"argument-error");const newRequest=Object.assign({},request);if("phoneEnrollmentInfo"in newRequest){const phoneNumber=newRequest.phoneEnrollmentInfo.phoneNumber,captchaResponse=newRequest.phoneEnrollmentInfo.captchaResponse,clientType=newRequest.phoneEnrollmentInfo.clientType,recaptchaVersion=newRequest.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(newRequest,{phoneEnrollmentInfo:{phoneNumber,recaptchaToken:recaptchaV2Token,captchaResponse,clientType,recaptchaVersion}}),newRequest}if("phoneSignInInfo"in newRequest){const captchaResponse=newRequest.phoneSignInInfo.captchaResponse,clientType=newRequest.phoneSignInInfo.clientType,recaptchaVersion=newRequest.phoneSignInInfo.recaptchaVersion;return Object.assign(newRequest,{phoneSignInInfo:{recaptchaToken:recaptchaV2Token,captchaResponse,clientType,recaptchaVersion}}),newRequest}return Object.assign(newRequest,{recaptchaToken:recaptchaV2Token}),newRequest}class PhoneAuthProvider{constructor(auth){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=_castAuth(auth)}verifyPhoneNumber(phoneOptions,applicationVerifier){return _verifyPhoneNumber(this.auth,phoneOptions,index_esm2017_getModularInstance(applicationVerifier))}static credential(verificationId,verificationCode){return PhoneAuthCredential._fromVerification(verificationId,verificationCode)}static credentialFromResult(userCredential){const credential=userCredential;return PhoneAuthProvider.credentialFromTaggedObject(credential)}static credentialFromError(error){return PhoneAuthProvider.credentialFromTaggedObject(error.customData||{})}static credentialFromTaggedObject({_tokenResponse:tokenResponse}){if(!tokenResponse)return null;const{phoneNumber,temporaryProof}=tokenResponse;return phoneNumber&&temporaryProof?PhoneAuthCredential._fromTokenResponse(phoneNumber,temporaryProof):null}}function _withDefaultResolver(auth,resolverOverride){return resolverOverride?_getInstance(resolverOverride):(_assert(auth._popupRedirectResolver,auth,"argument-error"),auth._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(params){super("custom","custom"),this.params=params}_getIdTokenResponse(auth){return signInWithIdp(auth,this._buildIdpRequest())}_linkToIdToken(auth,idToken){return signInWithIdp(auth,this._buildIdpRequest(idToken))}_getReauthenticationResolver(auth){return signInWithIdp(auth,this._buildIdpRequest())}_buildIdpRequest(idToken){const request={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return idToken&&(request.idToken=idToken),request}}function _signIn(params){return _signInWithCredential(params.auth,new IdpCredential(params),params.bypassAuthState)}function _reauth(params){const{auth,user}=params;return _assert(user,auth,"internal-error"),_reauthenticate(user,new IdpCredential(params),params.bypassAuthState)}async function _link(params){const{auth,user}=params;return _assert(user,auth,"internal-error"),_link$1(user,new IdpCredential(params),params.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(auth,filter,resolver,user,bypassAuthState=!1){this.auth=auth,this.resolver=resolver,this.user=user,this.bypassAuthState=bypassAuthState,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(filter)?filter:[filter]}execute(){return new Promise(async(resolve,reject)=>{this.pendingPromise={resolve,reject};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(event){const{urlResponse,sessionId,postBody,tenantId,error,type}=event;if(error)return void this.reject(error);const params={auth:this.auth,requestUri:urlResponse,sessionId,tenantId:tenantId||void 0,postBody:postBody||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(type)(params))}catch(e){this.reject(e)}}onError(error){this.reject(error)}getIdpTask(type){switch(type){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(cred){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(cred),this.unregisterAndCleanUp()}reject(error){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(error),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(auth,provider,resolver){if(index_esm2017_isFirebaseServerApp(auth.app))return Promise.reject(_createError(auth,"operation-not-supported-in-this-environment"));const authInternal=_castAuth(auth);_assertInstanceOf(auth,provider,FederatedAuthProvider);const resolverInternal=_withDefaultResolver(authInternal,resolver);return new PopupOperation(authInternal,"signInViaPopup",provider,resolverInternal).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(auth,filter,provider,resolver,user){super(auth,filter,resolver,user),this.provider=provider,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const result=await this.execute();return _assert(result,this.auth,"internal-error"),result}async onExecution(){debugAssert(1===this.filter.length,"Popup operations only handle one event");const eventId=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],eventId),this.authWindow.associatedEvent=eventId,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,isSupported=>{isSupported||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var _a;return(null===(_a=this.authWindow)||void 0===_a?void 0:_a.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const poll=()=>{var _a,_b;(null===(_b=null===(_a=this.authWindow)||void 0===_a?void 0:_a.window)||void 0===_b?void 0:_b.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(poll,_POLL_WINDOW_CLOSE_TIMEOUT.get())};poll()}}PopupOperation.currentPopupAction=null;const redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(auth,resolver,bypassAuthState=!1){super(auth,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],resolver,void 0,bypassAuthState),this.eventId=null}async execute(){let readyOutcome=redirectOutcomeMap.get(this.auth._key());if(!readyOutcome){try{const hasPendingRedirect=await async function _getAndClearPendingRedirectStatus(resolver,auth){const key=pendingRedirectKey(auth),persistence=resolverPersistence(resolver);if(!await persistence._isAvailable())return!1;const hasPendingRedirect="true"===await persistence._get(key);return await persistence._remove(key),hasPendingRedirect}(this.resolver,this.auth),result=hasPendingRedirect?await super.execute():null;readyOutcome=()=>Promise.resolve(result)}catch(e){readyOutcome=()=>Promise.reject(e)}redirectOutcomeMap.set(this.auth._key(),readyOutcome)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),readyOutcome()}async onAuthEvent(event){if("signInViaRedirect"===event.type)return super.onAuthEvent(event);if("unknown"!==event.type){if(event.eventId){const user=await this.auth._redirectUserForId(event.eventId);if(user)return this.user=user,super.onAuthEvent(event);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _overrideRedirectResult(auth,result){redirectOutcomeMap.set(auth._key(),result)}function resolverPersistence(resolver){return _getInstance(resolver._redirectPersistence)}function pendingRedirectKey(auth){return _persistenceKeyName("pendingRedirect",auth.config.apiKey,auth.name)}async function _getRedirectResult(auth,resolverExtern,bypassAuthState=!1){if(index_esm2017_isFirebaseServerApp(auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth));const authInternal=_castAuth(auth),resolver=_withDefaultResolver(authInternal,resolverExtern),action=new RedirectAction(authInternal,resolver,bypassAuthState),result=await action.execute();return result&&!bypassAuthState&&(delete result.user._redirectEventId,await authInternal._persistUserIfCurrent(result.user),await authInternal._setRedirectUser(null,resolverExtern)),result}class AuthEventManager{constructor(auth){this.auth=auth,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(authEventConsumer){this.consumers.add(authEventConsumer),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,authEventConsumer)&&(this.sendToConsumer(this.queuedRedirectEvent,authEventConsumer),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(authEventConsumer){this.consumers.delete(authEventConsumer)}onEvent(event){if(this.hasEventBeenHandled(event))return!1;let handled=!1;return this.consumers.forEach(consumer=>{this.isEventForConsumer(event,consumer)&&(handled=!0,this.sendToConsumer(event,consumer),this.saveEventToCache(event))}),this.hasHandledPotentialRedirect||!function isRedirectEvent(event){switch(event.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(event);default:return!1}}(event)||(this.hasHandledPotentialRedirect=!0,handled||(this.queuedRedirectEvent=event,handled=!0)),handled}sendToConsumer(event,consumer){var _a;if(event.error&&!isNullRedirectEvent(event)){const code=(null===(_a=event.error.code)||void 0===_a?void 0:_a.split("auth/")[1])||"internal-error";consumer.onError(_createError(this.auth,code))}else consumer.onAuthEvent(event)}isEventForConsumer(event,consumer){const eventIdMatches=null===consumer.eventId||!!event.eventId&&event.eventId===consumer.eventId;return consumer.filter.includes(event.type)&&eventIdMatches}hasEventBeenHandled(event){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(event))}saveEventToCache(event){this.cachedEventUids.add(eventUid(event)),this.lastProcessedEventTime=Date.now()}}function eventUid(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(v=>v).join("-")}function isNullRedirectEvent({type,error}){return"unknown"===type&&"auth/no-auth-event"===(null==error?void 0:error.code)}const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(auth){if(auth.config.emulator)return;const{authorizedDomains}=await async function _getProjectConfig(auth,request={}){return _performApiRequest(auth,"GET","/v1/projects",request)}(auth);for(const domain of authorizedDomains)try{if(matchDomain(domain))return}catch(_a){}_fail(auth,"unauthorized-domain")}function matchDomain(expected){const currentUrl=_getCurrentUrl(),{protocol,hostname}=new URL(currentUrl);if(expected.startsWith("chrome-extension://")){const ceUrl=new URL(expected);return""===ceUrl.hostname&&""===hostname?"chrome-extension:"===protocol&&expected.replace("chrome-extension://","")===currentUrl.replace("chrome-extension://",""):"chrome-extension:"===protocol&&ceUrl.hostname===hostname}if(!HTTP_REGEX.test(protocol))return!1;if(IP_ADDRESS_REGEX.test(expected))return hostname===expected;const escapedDomainPattern=expected.replace(/\./g,"\\.");return new RegExp("^(.+\\."+escapedDomainPattern+"|"+escapedDomainPattern+")$","i").test(hostname)}const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const beacon=_window().___jsl;if(null==beacon?void 0:beacon.H)for(const hint of Object.keys(beacon.H))if(beacon.H[hint].r=beacon.H[hint].r||[],beacon.H[hint].L=beacon.H[hint].L||[],beacon.H[hint].r=[...beacon.H[hint].L],beacon.CP)for(let i=0;i<beacon.CP.length;i++)beacon.CP[i]=null}function loadGapi(auth){return new Promise((resolve,reject)=>{var _a,_b,_c;function loadGapiIframe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{resolve(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),reject(_createError(auth,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(null===(_b=null===(_a=_window().gapi)||void 0===_a?void 0:_a.iframes)||void 0===_b?void 0:_b.Iframe)resolve(gapi.iframes.getContext());else{if(!(null===(_c=_window().gapi)||void 0===_c?void 0:_c.load)){const cbName=_generateCallbackName("iframefcb");return _window()[cbName]=()=>{gapi.load?loadGapiIframe():reject(_createError(auth,"network-request-failed"))},_loadJS(`${function _gapiScriptUrl(){return externalJSProvider.gapiScript}()}?onload=${cbName}`).catch(e=>reject(e))}loadGapiIframe()}}).catch(error=>{throw cachedGApiLoader=null,error})}let cachedGApiLoader=null;const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(auth){const config=auth.config;_assert(config.authDomain,auth,"auth-domain-config-required");const url=config.emulator?_emulatorUrl(config,"emulator/auth/iframe"):`https://${auth.config.authDomain}/__/auth/iframe`,params={apiKey:config.apiKey,appName:auth.name,v:"11.10.0"},eid=EID_FROM_APIHOST.get(auth.config.apiHost);eid&&(params.eid=eid);const frameworks=auth._getFrameworks();return frameworks.length&&(params.fw=frameworks.join(",")),`${url}?${querystring(params).slice(1)}`}async function _openIframe(auth){const context=await function _loadGapi(auth){return cachedGApiLoader=cachedGApiLoader||loadGapi(auth),cachedGApiLoader}(auth),gapi=_window().gapi;return _assert(gapi,auth,"internal-error"),context.open({where:document.body,url:getIframeUrl(auth),messageHandlersFilter:gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},iframe=>new Promise(async(resolve,reject)=>{await iframe.restyle({setHideOnLeave:!1});const networkError=_createError(auth,"network-request-failed"),networkErrorTimer=_window().setTimeout(()=>{reject(networkError)},PING_TIMEOUT.get());function clearTimerAndResolve(){_window().clearTimeout(networkErrorTimer),resolve(iframe)}iframe.ping(clearTimerAndResolve).then(clearTimerAndResolve,()=>{reject(networkError)})}))}const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(window){this.window=window,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _open(auth,url,name,width=500,height=600){const top=Math.max((window.screen.availHeight-height)/2,0).toString(),left=Math.max((window.screen.availWidth-width)/2,0).toString();let target="";const options=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:width.toString(),height:height.toString(),top,left}),ua=index_esm2017_getUA().toLowerCase();name&&(target=_isChromeIOS(ua)?"_blank":name),_isFirefox(ua)&&(url=url||"http://localhost",options.scrollbars="yes");const optionsString=Object.entries(options).reduce((accum,[key,value])=>`${accum}${key}=${value},`,"");if(function _isIOSStandalone(ua=index_esm2017_getUA()){var _a;return _isIOS(ua)&&!!(null===(_a=window.navigator)||void 0===_a?void 0:_a.standalone)}(ua)&&"_self"!==target)return function openAsNewWindowIOS(url,target){const el=document.createElement("a");el.href=url,el.target=target;const click=document.createEvent("MouseEvent");click.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),el.dispatchEvent(click)}(url||"",target),new AuthPopup(null);const newWin=window.open(url||"",target,optionsString);_assert(newWin,auth,"popup-blocked");try{newWin.focus()}catch(e){}return new AuthPopup(newWin)}const FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(auth,provider,authType,redirectUrl,eventId,additionalParams){_assert(auth.config.authDomain,auth,"auth-domain-config-required"),_assert(auth.config.apiKey,auth,"invalid-api-key");const params={apiKey:auth.config.apiKey,appName:auth.name,authType,redirectUrl,v:"11.10.0",eventId};if(provider instanceof FederatedAuthProvider){provider.setDefaultLanguage(auth.languageCode),params.providerId=provider.providerId||"",function isEmpty(obj){for(const key in obj)if(Object.prototype.hasOwnProperty.call(obj,key))return!1;return!0}(provider.getCustomParameters())||(params.customParameters=JSON.stringify(provider.getCustomParameters()));for(const[key,value]of Object.entries(additionalParams||{}))params[key]=value}if(provider instanceof BaseOAuthProvider){const scopes=provider.getScopes().filter(scope=>""!==scope);scopes.length>0&&(params.scopes=scopes.join(","))}auth.tenantId&&(params.tid=auth.tenantId);const paramsDict=params;for(const key of Object.keys(paramsDict))void 0===paramsDict[key]&&delete paramsDict[key];const appCheckToken=await auth._getAppCheckToken(),appCheckTokenFragment=appCheckToken?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(appCheckToken)}`:"";return`${function getHandlerBase({config}){if(!config.emulator)return`https://${config.authDomain}/__/auth/handler`;return _emulatorUrl(config,"emulator/auth/handler")}(auth)}?${querystring(paramsDict).slice(1)}${appCheckTokenFragment}`}const browserPopupRedirectResolver=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(auth,provider,authType,eventId){var _a;debugAssert(null===(_a=this.eventManagers[auth._key()])||void 0===_a?void 0:_a.manager,"_initialize() not called before _openPopup()");return _open(auth,await _getRedirectUrl(auth,provider,authType,_getCurrentUrl(),eventId),_generateEventId())}async _openRedirect(auth,provider,authType,eventId){await this._originValidation(auth);return function _setWindowLocation(url){_window().location.href=url}(await _getRedirectUrl(auth,provider,authType,_getCurrentUrl(),eventId)),new Promise(()=>{})}_initialize(auth){const key=auth._key();if(this.eventManagers[key]){const{manager,promise}=this.eventManagers[key];return manager?Promise.resolve(manager):(debugAssert(promise,"If manager is not set, promise should be"),promise)}const promise=this.initAndGetManager(auth);return this.eventManagers[key]={promise},promise.catch(()=>{delete this.eventManagers[key]}),promise}async initAndGetManager(auth){const iframe=await _openIframe(auth),manager=new AuthEventManager(auth);return iframe.register("authEvent",iframeEvent=>{_assert(null==iframeEvent?void 0:iframeEvent.authEvent,auth,"invalid-auth-event");return{status:manager.onEvent(iframeEvent.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[auth._key()]={manager},this.iframes[auth._key()]=iframe,manager}_isIframeWebStorageSupported(auth,cb){this.iframes[auth._key()].send("webStorageSupport",{type:"webStorageSupport"},result=>{var _a;const isSupported=null===(_a=null==result?void 0:result[0])||void 0===_a?void 0:_a.webStorageSupport;void 0!==isSupported&&cb(!!isSupported),_fail(auth,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(auth){const key=auth._key();return this.originValidationPromises[key]||(this.originValidationPromises[key]=_validateOrigin(auth)),this.originValidationPromises[key]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}};class AuthInterop{constructor(auth){this.auth=auth,this.internalListeners=new Map}getUid(){var _a;return this.assertAuthConfigured(),(null===(_a=this.auth.currentUser)||void 0===_a?void 0:_a.uid)||null}async getToken(forceRefresh){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(forceRefresh)}}addAuthTokenListener(listener){if(this.assertAuthConfigured(),this.internalListeners.has(listener))return;const unsubscribe=this.auth.onIdTokenChanged(user=>{listener((null==user?void 0:user.stsTokenManager.accessToken)||null)});this.internalListeners.set(listener,unsubscribe),this.updateProactiveRefresh()}removeAuthTokenListener(listener){this.assertAuthConfigured();const unsubscribe=this.internalListeners.get(listener);unsubscribe&&(this.internalListeners.delete(listener),unsubscribe(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||300;let lastPostedIdToken=null;function index_35c79a8a_getAuth(app=index_esm2017_getApp()){const provider=index_esm2017_getProvider(app,"auth");if(provider.isInitialized())return provider.getImmediate();const auth=function initializeAuth(app,deps){const provider=index_esm2017_getProvider(app,"auth");if(provider.isInitialized()){const auth=provider.getImmediate();if(index_esm2017_deepEqual(provider.getOptions(),null!=deps?deps:{}))return auth;_fail(auth,"already-initialized")}return provider.initialize({options:deps})}(app,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),authTokenSyncPath=getExperimentalSetting("authTokenSyncURL");if(authTokenSyncPath&&"boolean"==typeof isSecureContext&&isSecureContext){const authTokenSyncUrl=new URL(authTokenSyncPath,location.origin);if(location.origin===authTokenSyncUrl.origin){const mintCookie=(url=authTokenSyncUrl.toString(),async user=>{const idTokenResult=user&&await user.getIdTokenResult(),idTokenAge=idTokenResult&&((new Date).getTime()-Date.parse(idTokenResult.issuedAtTime))/1e3;if(idTokenAge&&idTokenAge>authIdTokenMaxAge)return;const idToken=null==idTokenResult?void 0:idTokenResult.token;lastPostedIdToken!==idToken&&(lastPostedIdToken=idToken,await fetch(url,{method:idToken?"POST":"DELETE",headers:idToken?{Authorization:`Bearer ${idToken}`}:{}}))});!function beforeAuthStateChanged(auth,callback,onAbort){return index_esm2017_getModularInstance(auth).beforeAuthStateChanged(callback,onAbort)}(auth,mintCookie,()=>mintCookie(auth.currentUser)),function onIdTokenChanged(auth,nextOrObserver,error,completed){return index_esm2017_getModularInstance(auth).onIdTokenChanged(nextOrObserver,error,completed)}(auth,user=>mintCookie(user))}}var url;const authEmulatorHost=getDefaultEmulatorHost("auth");return authEmulatorHost&&index_35c79a8a_connectAuthEmulator(auth,`http://${authEmulatorHost}`),auth}!function _setExternalJSProvider(p){externalJSProvider=p}({loadJS:url=>new Promise((resolve,reject)=>{const el=document.createElement("script");el.setAttribute("src",url),el.onload=resolve,el.onerror=e=>{const error=_createError("internal-error");error.customData=e,reject(error)},el.type="text/javascript",el.charset="UTF-8",function getScriptParentElement(){var _a,_b;return null!==(_b=null===(_a=document.getElementsByTagName("head"))||void 0===_a?void 0:_a[0])&&void 0!==_b?_b:document}().appendChild(el)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function registerAuth(clientPlatform){_registerComponent(new Component("auth",(container,{options:deps})=>{const app=container.getProvider("app").getImmediate(),heartbeatServiceProvider=container.getProvider("heartbeat"),appCheckServiceProvider=container.getProvider("app-check-internal"),{apiKey,authDomain}=app.options;_assert(apiKey&&!apiKey.includes(":"),"invalid-api-key",{appName:app.name});const config={apiKey,authDomain,clientPlatform,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(clientPlatform)},authInstance=new AuthImpl(app,heartbeatServiceProvider,appCheckServiceProvider,config);return function _initializeAuthInstance(auth,deps){const persistence=(null==deps?void 0:deps.persistence)||[],hierarchy=(Array.isArray(persistence)?persistence:[persistence]).map(_getInstance);(null==deps?void 0:deps.errorMap)&&auth._updateErrorMap(deps.errorMap),auth._initializeWithPersistence(hierarchy,null==deps?void 0:deps.popupRedirectResolver)}(authInstance,deps),authInstance},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((container,_instanceIdentifier,_instance)=>{container.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",container=>(auth=>new AuthInterop(auth))(_castAuth(container.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion("@firebase/auth","1.10.8",function getVersionForPlatform(clientPlatform){switch(clientPlatform){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(clientPlatform)),registerVersion("@firebase/auth","1.10.8","esm2017")}("Browser");class ContextProvider{constructor(app,authProvider,messagingProvider,appCheckProvider){this.app=app,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,index_esm2017_isFirebaseServerApp(app)&&app.settings.appCheckToken&&(this.serverAppAppCheckToken=app.settings.appCheckToken),this.auth=authProvider.getImmediate({optional:!0}),this.messaging=messagingProvider.getImmediate({optional:!0}),this.auth||authProvider.get().then(auth=>this.auth=auth,()=>{}),this.messaging||messagingProvider.get().then(messaging=>this.messaging=messaging,()=>{}),this.appCheck||null==appCheckProvider||appCheckProvider.get().then(appCheck=>this.appCheck=appCheck,()=>{})}async getAuthToken(){if(this.auth)try{const token=await this.auth.getToken();return null==token?void 0:token.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(limitedUseAppCheckTokens){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const result=limitedUseAppCheckTokens?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return result.error?null:result.token}return null}async getContext(limitedUseAppCheckTokens){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(limitedUseAppCheckTokens)}}}class FunctionsService{constructor(app,authProvider,messagingProvider,appCheckProvider,regionOrCustomDomain="us-central1",fetchImpl=(...args)=>fetch(...args)){this.app=app,this.fetchImpl=fetchImpl,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(app,authProvider,messagingProvider,appCheckProvider),this.cancelAllRequests=new Promise(resolve=>{this.deleteService=()=>Promise.resolve(resolve())});try{const url=new URL(regionOrCustomDomain);this.customDomain=url.origin+("/"===url.pathname?"":url.pathname),this.region="us-central1"}catch(e){this.customDomain=null,this.region=regionOrCustomDomain}}_delete(){return this.deleteService()}_url(name){const projectId=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${projectId}/${this.region}/${name}`}return null!==this.customDomain?`${this.customDomain}/${name}`:`https://${this.region}-${projectId}.cloudfunctions.net/${name}`}}!function registerFunctions(variant){_registerComponent(new Component("functions",(container,{instanceIdentifier:regionOrCustomDomain})=>{const app=container.getProvider("app").getImmediate(),authProvider=container.getProvider("auth-internal"),messagingProvider=container.getProvider("messaging-internal"),appCheckProvider=container.getProvider("app-check-internal");return new FunctionsService(app,authProvider,messagingProvider,appCheckProvider,regionOrCustomDomain)},"PUBLIC").setMultipleInstances(!0)),registerVersion("@firebase/functions","0.12.9",variant),registerVersion("@firebase/functions","0.12.9","esm2017")}();registerVersion("firebase","11.10.0","app");var json_stringify=__webpack_require__(85569),stringify_default=__webpack_require__.n(json_stringify),core_js_stable_url=__webpack_require__(96984),url_default=__webpack_require__.n(core_js_stable_url),object_entries=__webpack_require__(38573),object_entries_default=__webpack_require__.n(object_entries);function api_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var _context0,_context1,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context0=api_ownKeys(Object(t),!0)).call(_context0,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context1=api_ownKeys(Object(t))).call(_context1,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}function apiRequest(_x,_x2){return _apiRequest.apply(this,arguments)}function _apiRequest(){return _apiRequest=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(auth,path){var _fireengineConfig,_context,options,basePath,url,idToken,headers,requestOptions,_t,_args=arguments;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(options=_args.length>2&&void 0!==_args[2]?_args[2]:{},basePath=(null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig?void 0:_fireengineConfig.basePath)||"",url=concat_default()(_context="".concat(basePath)).call(_context,path),idToken=null,null==auth||!auth.currentUser){_context2.next=4;break}return _context2.prev=1,_context2.next=2,auth.currentUser.getIdToken();case 2:idToken=_context2.sent,_context2.next=4;break;case 3:_context2.prev=3,_t=_context2.catch(1),console.error("Failed to get ID token:",_t);case 4:return headers=_objectSpread({},options.headers),options.skipContentType||options.body instanceof FormData||(headers["Content-Type"]="application/json"),idToken&&(headers.Authorization="Bearer ".concat(idToken)),requestOptions={method:options.method||"GET",headers,credentials:"include"},options.body&&"GET"!==options.method&&(options.body instanceof FormData?requestOptions.body=options.body:requestOptions.body="string"==typeof options.body?options.body:stringify_default()(options.body)),_context2.abrupt("return",fetch(url,requestOptions));case 5:case"end":return _context2.stop()}},_callee,null,[[1,3]])})),_apiRequest.apply(this,arguments)}function apiRequestJson(_x3,_x4){return _apiRequestJson.apply(this,arguments)}function _apiRequestJson(){return _apiRequestJson=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(auth,path){var options,response,_context3,error,_args2=arguments;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return options=_args2.length>2&&void 0!==_args2[2]?_args2[2]:{},_context4.next=1,apiRequest(auth,path,options);case 1:if((response=_context4.sent).ok){_context4.next=3;break}return _context4.next=2,response.text();case 2:throw error=_context4.sent,new Error(concat_default()(_context3="API request failed: ".concat(response.status," - ")).call(_context3,error));case 3:return _context4.abrupt("return",response.json());case 4:case"end":return _context4.stop()}},_callee2)})),_apiRequestJson.apply(this,arguments)}function apiGet(_x5,_x6,_x7){return _apiGet.apply(this,arguments)}function _apiGet(){return _apiGet=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(auth,path,params){var url,_context5;return regenerator_default().wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return url=new(url_default())(path,window.location.origin),params&&for_each_default()(_context5=object_entries_default()(params)).call(_context5,function(_ref){var _ref2=slicedToArray_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];null!=value&&url.searchParams.set(key,String(value))}),_context6.abrupt("return",apiRequestJson(auth,url.pathname+url.search,{method:"GET"}));case 1:case"end":return _context6.stop()}},_callee3)})),_apiGet.apply(this,arguments)}function apiPost(_x8,_x9,_x0){return _apiPost.apply(this,arguments)}function _apiPost(){return _apiPost=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(auth,path,body){return regenerator_default().wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",apiRequestJson(auth,path,{method:"POST",body}));case 1:case"end":return _context7.stop()}},_callee4)})),_apiPost.apply(this,arguments)}function apiPut(_x1,_x10,_x11){return _apiPut.apply(this,arguments)}function _apiPut(){return _apiPut=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(auth,path,body){return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",apiRequestJson(auth,path,{method:"PUT",body}));case 1:case"end":return _context8.stop()}},_callee5)})),_apiPut.apply(this,arguments)}function apiDelete(_x12,_x13){return _apiDelete.apply(this,arguments)}function _apiDelete(){return(_apiDelete=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee6(auth,path){return regenerator_default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",apiRequestJson(auth,path,{method:"DELETE"}));case 1:case"end":return _context9.stop()}},_callee6)}))).apply(this,arguments)}function _createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function firebase_utils_unsupportedIterableToArray(r,a){if(r){var _context23;if("string"==typeof r)return firebase_utils_arrayLikeToArray(r,a);var t=instance_slice_default()(_context23={}.toString.call(r)).call(_context23,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?firebase_utils_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function firebase_utils_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function firebase_utils_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function firebase_utils_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context21,_context22,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context21=firebase_utils_ownKeys(Object(t),!0)).call(_context21,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context22=firebase_utils_ownKeys(Object(t))).call(_context22,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var app=null,getAuthenticatedFirestore=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var auth,db,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(auth=index_35c79a8a_getAuth(),db=index_esm2017_getFirestore(),!auth.currentUser){_context.next=4;break}return _context.prev=1,_context.next=2,auth.currentUser.getIdToken(!0);case 2:_context.next=4;break;case 3:_context.prev=3,_t=_context.catch(1),console.error("Error refreshing authentication token:",_t);case 4:return _context.abrupt("return",db);case 5:case"end":return _context.stop()}},_callee,null,[[1,3]])}));return function getAuthenticatedFirestore(){return _ref.apply(this,arguments)}}(),getDocuments=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(collectionPath){var options,_context2,db,baseCollection,firestoreQuery,querySnapshot,documents,filteredDocuments,searchTerm,auth,params,response,_t2,_t3,_args2=arguments;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(options=_args2.length>2?_args2[2]:void 0,!(_args2.length>1&&void 0!==_args2[1]&&_args2[1])){_context5.next=6;break}return _context5.prev=1,_context5.next=2,getAuthenticatedFirestore();case 2:return db=_context5.sent,baseCollection=collection(db,collectionPath),firestoreQuery=null!=options&&options.limit?query(baseCollection,limit(options.limit)):baseCollection,_context5.next=3,getDocs(firestoreQuery);case 3:if(querySnapshot=_context5.sent,documents=map_default()(_context2=querySnapshot.docs).call(_context2,function(doc){return firebase_utils_objectSpread({id:doc.id},doc.data())}),filteredDocuments=documents,null!=options&&options.search&&(searchTerm=options.search.toLowerCase(),filteredDocuments=filter_default()(documents).call(documents,function(doc){var _context3;return some_default()(_context3=values_default()(doc)).call(_context3,function(value){var _context4;return includes_default()(_context4=String(value).toLowerCase()).call(_context4,searchTerm)})})),null!=options&&options.offset&&(filteredDocuments=instance_slice_default()(filteredDocuments).call(filteredDocuments,options.offset)),void 0===(null==options?void 0:options.limit)&&void 0===(null==options?void 0:options.offset)){_context5.next=4;break}return _context5.abrupt("return",{documents:filteredDocuments,totalCount:filteredDocuments.length,hasMore:filteredDocuments.length===(null==options?void 0:options.limit)});case 4:return _context5.abrupt("return",filteredDocuments);case 5:throw _context5.prev=5,_t2=_context5.catch(1),console.error("Error fetching documents for ".concat(collectionPath,":"),_t2),_t2;case 6:return _context5.prev=6,auth=index_35c79a8a_getAuth(),params={collectionPath},void 0!==(null==options?void 0:options.limit)&&(params.limit=options.limit),void 0!==(null==options?void 0:options.offset)&&(params.offset=options.offset),null!=options&&options.search&&(params.search=options.search),_context5.next=7,apiGet(auth,"/api/firestore/documents",params);case 7:if("string"!=typeof(response=_context5.sent)||!includes_default()(response).call(response,"<!DOCTYPE html>")){_context5.next=8;break}throw console.error("Received HTML instead of JSON from API. This likely means the API route is not being properly matched."),new Error("Received HTML instead of JSON from API. Route configuration issue.");case 8:if(!array_is_array_default()(response)){_context5.next=9;break}return _context5.abrupt("return",response);case 9:if(!response||!array_is_array_default()(response.documents)){_context5.next=10;break}return _context5.abrupt("return",response.documents);case 10:return _context5.abrupt("return",[]);case 11:_context5.next=13;break;case 12:throw _context5.prev=12,_t3=_context5.catch(6),console.error("Error fetching documents for ".concat(collectionPath," via API:"),_t3),_t3.response&&console.error("Status: ".concat(_t3.response.status,", Data:"),_t3.response.data),_t3;case 13:case"end":return _context5.stop()}},_callee2,null,[[1,5],[6,12]])}));return function getDocuments(_x){return _ref2.apply(this,arguments)}}(),firebase_utils_getDocument=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(collectionPath,documentId){var db,docRef,docSnapshot,auth,response,_t4,_t5,_args3=arguments;return regenerator_default().wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!(_args3.length>2&&void 0!==_args3[2]&&_args3[2])){_context6.next=6;break}return _context6.prev=1,_context6.next=2,getAuthenticatedFirestore();case 2:return db=_context6.sent,docRef=doc(db,collectionPath,documentId),_context6.next=3,getDoc(docRef);case 3:if((docSnapshot=_context6.sent).exists()){_context6.next=4;break}throw new Error("Document not found");case 4:return _context6.abrupt("return",firebase_utils_objectSpread({id:docSnapshot.id},docSnapshot.data()));case 5:throw _context6.prev=5,_t4=_context6.catch(1),console.error("Error fetching document ".concat(documentId,":"),_t4),_t4;case 6:return _context6.prev=6,auth=index_35c79a8a_getAuth(),_context6.next=7,apiGet(auth,"/api/firestore/document",{collectionPath,documentId});case 7:return response=_context6.sent,_context6.abrupt("return",response);case 8:throw _context6.prev=8,_t5=_context6.catch(6),console.error("Error fetching document ".concat(documentId," via API:"),_t5),_t5;case 9:case"end":return _context6.stop()}},_callee3,null,[[1,5],[6,8]])}));return function getDocument(_x2,_x3){return _ref3.apply(this,arguments)}}(),addDocument=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(collectionPath,data){var db,docRef,auth,response,_t6,_t7,_args4=arguments;return regenerator_default().wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(!(_args4.length>2&&void 0!==_args4[2]&&_args4[2])){_context7.next=5;break}return _context7.prev=1,_context7.next=2,getAuthenticatedFirestore();case 2:return db=_context7.sent,_context7.next=3,addDoc(collection(db,collectionPath),data);case 3:return docRef=_context7.sent,_context7.abrupt("return",firebase_utils_objectSpread({id:docRef.id},data));case 4:throw _context7.prev=4,_t6=_context7.catch(1),console.error("Error adding document to ".concat(collectionPath,":"),_t6),_t6;case 5:return _context7.prev=5,auth=index_35c79a8a_getAuth(),_context7.next=6,apiPost(auth,"/api/firestore/document",{collectionPath,data});case 6:return response=_context7.sent,_context7.abrupt("return",response);case 7:throw _context7.prev=7,_t7=_context7.catch(5),console.error("Error adding document to ".concat(collectionPath," via API:"),_t7),_t7;case 8:case"end":return _context7.stop()}},_callee4,null,[[1,4],[5,7]])}));return function addDocument(_x4,_x5){return _ref4.apply(this,arguments)}}(),updateDocument=function(){var _ref5=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(collectionPath,documentId,data){var db,docRef,auth,response,_t8,_t9,_args5=arguments;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!(_args5.length>3&&void 0!==_args5[3]&&_args5[3])){_context8.next=5;break}return _context8.prev=1,_context8.next=2,getAuthenticatedFirestore();case 2:return db=_context8.sent,docRef=doc(db,collectionPath,documentId),_context8.next=3,updateDoc(docRef,data);case 3:return _context8.abrupt("return",firebase_utils_objectSpread({id:documentId},data));case 4:throw _context8.prev=4,_t8=_context8.catch(1),console.error("Error updating document ".concat(documentId,":"),_t8),_t8;case 5:return _context8.prev=5,auth=index_35c79a8a_getAuth(),_context8.next=6,apiPut(auth,"/api/firestore/document",{collectionPath,documentId,data});case 6:return response=_context8.sent,_context8.abrupt("return",response);case 7:throw _context8.prev=7,_t9=_context8.catch(5),console.error("Error updating document ".concat(documentId," via API:"),_t9),_t9;case 8:case"end":return _context8.stop()}},_callee5,null,[[1,4],[5,7]])}));return function updateDocument(_x6,_x7,_x8){return _ref5.apply(this,arguments)}}(),deleteDocument=function(){var _ref6=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee6(collectionPath,documentId){var db,docRef,auth,response,_t0,_t1,_args6=arguments;return regenerator_default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(!(_args6.length>2&&void 0!==_args6[2]&&_args6[2])){_context9.next=5;break}return _context9.prev=1,_context9.next=2,getAuthenticatedFirestore();case 2:return db=_context9.sent,docRef=doc(db,collectionPath,documentId),_context9.next=3,deleteDoc(docRef);case 3:return _context9.abrupt("return",{success:!0});case 4:throw _context9.prev=4,_t0=_context9.catch(1),console.error("Error deleting document ".concat(documentId,":"),_t0),_t0;case 5:return _context9.prev=5,auth=index_35c79a8a_getAuth(),_context9.next=6,apiDelete(auth,"/firestore/document?collectionPath="+encodeURIComponent(collectionPath)+"&documentId="+encodeURIComponent(documentId));case 6:return response=_context9.sent,_context9.abrupt("return",response);case 7:throw _context9.prev=7,_t1=_context9.catch(5),console.error("Error deleting document ".concat(documentId," via API:"),_t1),_t1;case 8:case"end":return _context9.stop()}},_callee6,null,[[1,4],[5,7]])}));return function deleteDocument(_x9,_x0){return _ref6.apply(this,arguments)}}(),getStorage=function getStorage(){return index_esm2017_getStorage()},urlCache=new(core_js_stable_map_default());set_interval_default()(function cleanupCache(){var _step,now=now_default()(),_iterator=_createForOfIteratorHelper(entries_default()(urlCache).call(urlCache));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=slicedToArray_slicedToArray(_step.value,2),key=_step$value[0];now>=_step$value[1].expires&&urlCache.delete(key)}}catch(err){_iterator.e(err)}finally{_iterator.f()}},6e5);var getFreshDownloadURL=function(){var _ref7=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee7(storagePath){var useFirestoreAccessRules,cached,downloadURL,storage,storageRef,auth,response,_t10,_args7=arguments;return regenerator_default().wrap(function(_context0){for(;;)switch(_context0.prev=_context0.next){case 0:if(useFirestoreAccessRules=_args7.length>1&&void 0!==_args7[1]&&_args7[1],!((cached=urlCache.get(storagePath))&&now_default()()<cached.expires)){_context0.next=1;break}return _context0.abrupt("return",cached.url);case 1:if(_context0.prev=1,!useFirestoreAccessRules){_context0.next=3;break}return storage=getStorage(),storageRef=ref(storage,storagePath),_context0.next=2,getDownloadURL(storageRef);case 2:downloadURL=_context0.sent,_context0.next=6;break;case 3:return auth=index_35c79a8a_getAuth(),_context0.next=4,apiGet(auth,"/api/storage/download-url",{filePath:storagePath});case 4:if((response=_context0.sent).success){_context0.next=5;break}throw new Error(response.error||"Failed to get download URL");case 5:downloadURL=response.downloadURL;case 6:return urlCache.set(storagePath,{url:downloadURL,expires:now_default()()+3e6}),_context0.abrupt("return",downloadURL);case 7:return _context0.prev=7,_t10=_context0.catch(1),console.error("Error getting download URL for ".concat(storagePath,":"),_t10),_context0.abrupt("return",null);case 8:case"end":return _context0.stop()}},_callee7,null,[[1,7]])}));return function getFreshDownloadURL(_x1){return _ref7.apply(this,arguments)}}(),listStorageItems=function(){var _ref8=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee8(){var path,storage,storageRef,result,items,_iterator2,_step2,prefix,_iterator3,_step3,item,_context1,_context10,metadata,downloadURL,auth,response,_items,filteredItems,_t11,_t12,_t13,_t14,_args8=arguments;return regenerator_default().wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:if(path=_args8.length>0&&void 0!==_args8[0]?_args8[0]:"",!(!(_args8.length>1&&void 0!==_args8[1])||_args8[1])){_context13.next=16;break}return _context13.prev=1,storage=getStorage(),storageRef=ref(storage,path),_context13.next=2,listAll(storageRef);case 2:result=_context13.sent,items=[],_iterator2=_createForOfIteratorHelper(result.prefixes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)prefix=_step2.value,items.push({name:prefix.name,fullPath:prefix.fullPath,isFolder:!0})}catch(err){_iterator2.e(err)}finally{_iterator2.f()}_iterator3=_createForOfIteratorHelper(result.items),_context13.prev=3,_iterator3.s();case 4:if((_step3=_iterator3.n()).done){_context13.next=11;break}return item=_step3.value,_context13.prev=5,_context13.next=6,getMetadata(item);case 6:return metadata=_context13.sent,_context13.next=7,getDownloadURL(item);case 7:if(downloadURL=_context13.sent,!(!item.name||""===trim_default()(_context1=item.name).call(_context1)||0===item.name.length||0===metadata.size&&ends_with_default()(_context10=item.fullPath).call(_context10,"/")||0===metadata.size&&"application/x-www-form-urlencoded;charset=UTF-8"===metadata.contentType)){_context13.next=8;break}return _context13.abrupt("continue",10);case 8:items.push({name:item.name,fullPath:item.fullPath,isFolder:!1,size:metadata.size,timeCreated:metadata.timeCreated,contentType:metadata.contentType,downloadURL}),_context13.next=10;break;case 9:_context13.prev=9,_t11=_context13.catch(5),console.error("Error loading metadata for ".concat(item.name,":"),_t11),items.push({name:item.name,fullPath:item.fullPath,isFolder:!1});case 10:_context13.next=4;break;case 11:_context13.next=13;break;case 12:_context13.prev=12,_t12=_context13.catch(3),_iterator3.e(_t12);case 13:return _context13.prev=13,_iterator3.f(),_context13.finish(13);case 14:return _context13.abrupt("return",items);case 15:throw _context13.prev=15,_t13=_context13.catch(1),console.error("Error listing storage items via SDK:",_t13),_t13;case 16:return _context13.prev=16,auth=index_35c79a8a_getAuth(),_context13.next=17,apiGet(auth,"/api/storage/list",{path});case 17:return response=_context13.sent,_items=response.items||[],filteredItems=filter_default()(_items).call(_items,function(item){var _context11,_context12;return!(!item.name||""===trim_default()(_context11=item.name).call(_context11)||0===item.name.length||0===item.size&&item.fullPath&&ends_with_default()(_context12=item.fullPath).call(_context12,"/")||0===item.size&&"application/x-www-form-urlencoded;charset=UTF-8"===item.contentType)}),_context13.abrupt("return",filteredItems);case 18:throw _context13.prev=18,_t14=_context13.catch(16),console.error("Error listing storage items via API:",_t14),_t14;case 19:case"end":return _context13.stop()}},_callee8,null,[[1,15],[3,12,13,14],[5,9],[16,18]])}));return function listStorageItems(){return _ref8.apply(this,arguments)}}(),uploadStorageFiles=function(){var _ref9=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee9(files){var path,storage,results,i,_context14,file,fileName,filePath,fileRef,auth,formData,_i,response,_context15,error,_t15,_t16,_args9=arguments;return regenerator_default().wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:if(path=_args9.length>1&&void 0!==_args9[1]?_args9[1]:"",!(!(_args9.length>2&&void 0!==_args9[2])||_args9[2])){_context16.next=7;break}_context16.prev=1,storage=getStorage(),results=[],i=0;case 2:if(!(i<files.length)){_context16.next=5;break}return file=files[i],fileName=file.name,filePath=path?concat_default()(_context14="".concat(path,"/")).call(_context14,fileName):fileName,fileRef=ref(storage,filePath),_context16.next=3,uploadBytes(fileRef,file);case 3:results.push({name:fileName,path:filePath,success:!0});case 4:i++,_context16.next=2;break;case 5:return _context16.abrupt("return",{success:!0,results});case 6:throw _context16.prev=6,_t15=_context16.catch(1),console.error("Error uploading files via SDK:",_t15),_t15;case 7:for(_context16.prev=7,auth=index_35c79a8a_getAuth(),(formData=new FormData).append("path",path),_i=0;_i<files.length;_i++)formData.append("files",files[_i]);return _context16.next=8,apiRequest(auth,"/api/storage/upload",{method:"POST",body:formData,skipContentType:!0});case 8:if((response=_context16.sent).ok){_context16.next=10;break}return _context16.next=9,response.text();case 9:throw error=_context16.sent,new Error(concat_default()(_context15="Upload failed: ".concat(response.status," - ")).call(_context15,error));case 10:return _context16.abrupt("return",response.json());case 11:throw _context16.prev=11,_t16=_context16.catch(7),console.error("Error uploading files via API:",_t16),_t16;case 12:case"end":return _context16.stop()}},_callee9,null,[[1,6],[7,11]])}));return function uploadStorageFiles(_x10){return _ref9.apply(this,arguments)}}(),createStorageFolder=function(){var _ref0=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee0(folderPath){var storage,placeholderPath,placeholderRef,emptyBlob,auth,response,_t17,_t18,_args0=arguments;return regenerator_default().wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:if(!(!(_args0.length>1&&void 0!==_args0[1])||_args0[1])){_context17.next=4;break}return _context17.prev=1,storage=getStorage(),placeholderPath="".concat(folderPath,"/.fireengine-folder"),placeholderRef=ref(storage,placeholderPath),emptyBlob=new Blob([""],{type:"text/plain"}),_context17.next=2,uploadBytes(placeholderRef,emptyBlob);case 2:return _context17.abrupt("return",{success:!0,folderPath});case 3:throw _context17.prev=3,_t17=_context17.catch(1),console.error("Error creating folder via SDK:",_t17),_t17;case 4:return _context17.prev=4,auth=index_35c79a8a_getAuth(),_context17.next=5,apiPost(auth,"/api/storage/folder",{folderPath});case 5:return response=_context17.sent,_context17.abrupt("return",response);case 6:throw _context17.prev=6,_t18=_context17.catch(4),console.error("Error creating folder via API:",_t18),_t18;case 7:case"end":return _context17.stop()}},_callee0,null,[[1,3],[4,6]])}));return function createStorageFolder(_x11){return _ref0.apply(this,arguments)}}(),moveStorageFile=function(){var _ref1=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee1(sourcePath,destinationPath){var storage,sourceRef,destRef,downloadURL,response,blob,auth,_response,_t19,_t20,_args1=arguments;return regenerator_default().wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:if(!(!(_args1.length>2&&void 0!==_args1[2])||_args1[2])){_context18.next=8;break}return _context18.prev=1,storage=getStorage(),sourceRef=ref(storage,sourcePath),destRef=ref(storage,destinationPath),_context18.next=2,getDownloadURL(sourceRef);case 2:return downloadURL=_context18.sent,_context18.next=3,fetch(downloadURL);case 3:return response=_context18.sent,_context18.next=4,response.blob();case 4:return blob=_context18.sent,_context18.next=5,uploadBytes(destRef,blob);case 5:return _context18.next=6,deleteObject(sourceRef);case 6:return _context18.abrupt("return",{success:!0,sourcePath,destinationPath});case 7:throw _context18.prev=7,_t19=_context18.catch(1),console.error("Error moving file via SDK:",_t19),_t19;case 8:return _context18.prev=8,auth=index_35c79a8a_getAuth(),_context18.next=9,apiPost(auth,"/api/storage/move",{sourcePath,destinationPath});case 9:return _response=_context18.sent,_context18.abrupt("return",_response);case 10:throw _context18.prev=10,_t20=_context18.catch(8),console.error("Error moving file via API:",_t20),_t20;case 11:case"end":return _context18.stop()}},_callee1,null,[[1,7],[8,10]])}));return function moveStorageFile(_x12,_x13){return _ref1.apply(this,arguments)}}(),deleteStorageFile=function(){var _ref10=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee10(filePath){var storage,fileRef,auth,response,_context19,error,_t21,_t22,_args10=arguments;return regenerator_default().wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:if(!(!(_args10.length>1&&void 0!==_args10[1])||_args10[1])){_context20.next=4;break}return _context20.prev=1,storage=getStorage(),fileRef=ref(storage,filePath),_context20.next=2,deleteObject(fileRef);case 2:return _context20.abrupt("return",{success:!0});case 3:throw _context20.prev=3,_t21=_context20.catch(1),console.error("Error deleting file via SDK:",_t21),_t21;case 4:return _context20.prev=4,auth=index_35c79a8a_getAuth(),_context20.next=5,apiRequest(auth,"/api/storage/file",{method:"DELETE",body:{filePath}});case 5:if((response=_context20.sent).ok){_context20.next=7;break}return _context20.next=6,response.text();case 6:throw error=_context20.sent,new Error(concat_default()(_context19="Delete failed: ".concat(response.status," - ")).call(_context19,error));case 7:return _context20.abrupt("return",response.json());case 8:throw _context20.prev=8,_t22=_context20.catch(4),console.error("Error deleting file via API:",_t22),_t22;case 9:case"end":return _context20.stop()}},_callee10,null,[[1,3],[4,8]])}));return function deleteStorageFile(_x14){return _ref10.apply(this,arguments)}}();const app_context=react.createContext(null);const app_provider=function AppProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),appInitialized=_useState2[0],setAppInitialized=_useState2[1],config=window.fireengineConfig,init=(0,react.useCallback)(function(){!1!==config.isConfigured?(!function initializeFirebase(config){app||(app=initializeApp(config))}(config.webappConfig),setAppInitialized(!0)):setAppInitialized(!0)},[config]);return(0,react.useEffect)(function(){init()},[init]),react.createElement(app_context.Provider,{value:{config,appInitialized}},children)};var app_hooks_useApp=function useApp(){return(0,react.useContext)(app_context)},reduce=__webpack_require__(73363),reduce_default=__webpack_require__.n(reduce);var IntlContext=react.createContext(null),injectIntl_Provider=(IntlContext.Consumer,IntlContext.Provider),Context=IntlContext;var ErrorKind,TYPE,SKELETON_TYPE;function utils_invariant(condition,message,Err){if(void 0===Err&&(Err=Error),!condition)throw new Err(message)}function isLiteralElement(el){return el.type===TYPE.literal}function isArgumentElement(el){return el.type===TYPE.argument}function isNumberElement(el){return el.type===TYPE.number}function isDateElement(el){return el.type===TYPE.date}function isTimeElement(el){return el.type===TYPE.time}function isSelectElement(el){return el.type===TYPE.select}function isPluralElement(el){return el.type===TYPE.plural}function isPoundElement(el){return el.type===TYPE.pound}function isTagElement(el){return el.type===TYPE.tag}function isNumberSkeleton(el){return!(!el||"object"!=typeof el||el.type!==SKELETON_TYPE.number)}function isDateTimeSkeleton(el){return!(!el||"object"!=typeof el||el.type!==SKELETON_TYPE.dateTime)}!function(ErrorKind){ErrorKind[ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",ErrorKind[ErrorKind.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",ErrorKind[ErrorKind.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",ErrorKind[ErrorKind.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",ErrorKind[ErrorKind.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",ErrorKind[ErrorKind.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",ErrorKind[ErrorKind.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",ErrorKind[ErrorKind.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",ErrorKind[ErrorKind.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",ErrorKind[ErrorKind.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",ErrorKind[ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",ErrorKind[ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",ErrorKind[ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",ErrorKind[ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",ErrorKind[ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",ErrorKind[ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",ErrorKind[ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",ErrorKind[ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",ErrorKind[ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",ErrorKind[ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",ErrorKind[ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",ErrorKind[ErrorKind.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",ErrorKind[ErrorKind.INVALID_TAG=23]="INVALID_TAG",ErrorKind[ErrorKind.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",ErrorKind[ErrorKind.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",ErrorKind[ErrorKind.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(ErrorKind||(ErrorKind={})),function(TYPE){TYPE[TYPE.literal=0]="literal",TYPE[TYPE.argument=1]="argument",TYPE[TYPE.number=2]="number",TYPE[TYPE.date=3]="date",TYPE[TYPE.time=4]="time",TYPE[TYPE.select=5]="select",TYPE[TYPE.plural=6]="plural",TYPE[TYPE.pound=7]="pound",TYPE[TYPE.tag=8]="tag"}(TYPE||(TYPE={})),function(SKELETON_TYPE){SKELETON_TYPE[SKELETON_TYPE.number=0]="number",SKELETON_TYPE[SKELETON_TYPE.dateTime=1]="dateTime"}(SKELETON_TYPE||(SKELETON_TYPE={}));var SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,DATE_TIME_REGEX=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function parseDateTimeSkeleton(skeleton){var result={};return skeleton.replace(DATE_TIME_REGEX,function(match){var len=match.length;switch(match[0]){case"G":result.era=4===len?"long":5===len?"narrow":"short";break;case"y":result.year=2===len?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":result.month=["numeric","2-digit","short","long","narrow"][len-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":result.day=["numeric","2-digit"][len-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":result.weekday=4===len?"short":5===len?"narrow":"short";break;case"e":if(len<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");result.weekday=["short","long","narrow","short"][len-4];break;case"c":if(len<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");result.weekday=["short","long","narrow","short"][len-4];break;case"a":result.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":result.hourCycle="h12",result.hour=["numeric","2-digit"][len-1];break;case"H":result.hourCycle="h23",result.hour=["numeric","2-digit"][len-1];break;case"K":result.hourCycle="h11",result.hour=["numeric","2-digit"][len-1];break;case"k":result.hourCycle="h24",result.hour=["numeric","2-digit"][len-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":result.minute=["numeric","2-digit"][len-1];break;case"s":result.second=["numeric","2-digit"][len-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":result.timeZoneName=len<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),result}var regex_generated_WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function icuUnitToEcma(unit){return unit.replace(/^(.*?)-/,"")}var FRACTION_PRECISION_REGEX=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,SIGNIFICANT_PRECISION_REGEX=/^(@+)?(\+|#+)?[rs]?$/g,INTEGER_WIDTH_REGEX=/(\*)(0+)|(#+)(0+)|(0+)/g,CONCISE_INTEGER_WIDTH_REGEX=/^(0+)$/;function parseSignificantPrecision(str){var result={};return"r"===str[str.length-1]?result.roundingPriority="morePrecision":"s"===str[str.length-1]&&(result.roundingPriority="lessPrecision"),str.replace(SIGNIFICANT_PRECISION_REGEX,function(_,g1,g2){return"string"!=typeof g2?(result.minimumSignificantDigits=g1.length,result.maximumSignificantDigits=g1.length):"+"===g2?result.minimumSignificantDigits=g1.length:"#"===g1[0]?result.maximumSignificantDigits=g1.length:(result.minimumSignificantDigits=g1.length,result.maximumSignificantDigits=g1.length+("string"==typeof g2?g2.length:0)),""}),result}function parseSign(str){switch(str){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function parseConciseScientificAndEngineeringStem(stem){var result;if("E"===stem[0]&&"E"===stem[1]?(result={notation:"engineering"},stem=stem.slice(2)):"E"===stem[0]&&(result={notation:"scientific"},stem=stem.slice(1)),result){var signDisplay=stem.slice(0,2);if("+!"===signDisplay?(result.signDisplay="always",stem=stem.slice(2)):"+?"===signDisplay&&(result.signDisplay="exceptZero",stem=stem.slice(2)),!CONCISE_INTEGER_WIDTH_REGEX.test(stem))throw new Error("Malformed concise eng/scientific notation");result.minimumIntegerDigits=stem.length}return result}function parseNotationOptions(opt){var signOpts=parseSign(opt);return signOpts||{}}function parseNumberSkeleton(tokens){for(var result={},_i=0,tokens_1=tokens;_i<tokens_1.length;_i++){var token=tokens_1[_i];switch(token.stem){case"percent":case"%":result.style="percent";continue;case"%x100":result.style="percent",result.scale=100;continue;case"currency":result.style="currency",result.currency=token.options[0];continue;case"group-off":case",_":result.useGrouping=!1;continue;case"precision-integer":case".":result.maximumFractionDigits=0;continue;case"measure-unit":case"unit":result.style="unit",result.unit=icuUnitToEcma(token.options[0]);continue;case"compact-short":case"K":result.notation="compact",result.compactDisplay="short";continue;case"compact-long":case"KK":result.notation="compact",result.compactDisplay="long";continue;case"scientific":result=tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({},result),{notation:"scientific"}),token.options.reduce(function(all,opt){return tslib_es6_assign(tslib_es6_assign({},all),parseNotationOptions(opt))},{}));continue;case"engineering":result=tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({},result),{notation:"engineering"}),token.options.reduce(function(all,opt){return tslib_es6_assign(tslib_es6_assign({},all),parseNotationOptions(opt))},{}));continue;case"notation-simple":result.notation="standard";continue;case"unit-width-narrow":result.currencyDisplay="narrowSymbol",result.unitDisplay="narrow";continue;case"unit-width-short":result.currencyDisplay="code",result.unitDisplay="short";continue;case"unit-width-full-name":result.currencyDisplay="name",result.unitDisplay="long";continue;case"unit-width-iso-code":result.currencyDisplay="symbol";continue;case"scale":result.scale=parseFloat(token.options[0]);continue;case"integer-width":if(token.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");token.options[0].replace(INTEGER_WIDTH_REGEX,function(_,g1,g2,g3,g4,g5){if(g1)result.minimumIntegerDigits=g2.length;else{if(g3&&g4)throw new Error("We currently do not support maximum integer digits");if(g5)throw new Error("We currently do not support exact integer digits")}return""});continue}if(CONCISE_INTEGER_WIDTH_REGEX.test(token.stem))result.minimumIntegerDigits=token.stem.length;else if(FRACTION_PRECISION_REGEX.test(token.stem)){if(token.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");token.stem.replace(FRACTION_PRECISION_REGEX,function(_,g1,g2,g3,g4,g5){return"*"===g2?result.minimumFractionDigits=g1.length:g3&&"#"===g3[0]?result.maximumFractionDigits=g3.length:g4&&g5?(result.minimumFractionDigits=g4.length,result.maximumFractionDigits=g4.length+g5.length):(result.minimumFractionDigits=g1.length,result.maximumFractionDigits=g1.length),""});var opt=token.options[0];"w"===opt?result=tslib_es6_assign(tslib_es6_assign({},result),{trailingZeroDisplay:"stripIfInteger"}):opt&&(result=tslib_es6_assign(tslib_es6_assign({},result),parseSignificantPrecision(opt)))}else if(SIGNIFICANT_PRECISION_REGEX.test(token.stem))result=tslib_es6_assign(tslib_es6_assign({},result),parseSignificantPrecision(token.stem));else{var signOpts=parseSign(token.stem);signOpts&&(result=tslib_es6_assign(tslib_es6_assign({},result),signOpts));var conciseScientificAndEngineeringOpts=parseConciseScientificAndEngineeringStem(token.stem);conciseScientificAndEngineeringOpts&&(result=tslib_es6_assign(tslib_es6_assign({},result),conciseScientificAndEngineeringOpts))}}return result}var _a,timeData={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function getDefaultHourSymbolFromLocale(locale){var hourCycle=locale.hourCycle;if(void 0===hourCycle&&locale.hourCycles&&locale.hourCycles.length&&(hourCycle=locale.hourCycles[0]),hourCycle)switch(hourCycle){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var regionTag,languageTag=locale.language;return"root"!==languageTag&&(regionTag=locale.maximize().region),(timeData[regionTag||""]||timeData[languageTag||""]||timeData["".concat(languageTag,"-001")]||timeData["001"])[0]}var SPACE_SEPARATOR_START_REGEX=new RegExp("^".concat(SPACE_SEPARATOR_REGEX.source,"*")),SPACE_SEPARATOR_END_REGEX=new RegExp("".concat(SPACE_SEPARATOR_REGEX.source,"*$"));function parser_createLocation(start,end){return{start,end}}var hasNativeStartsWith=!!String.prototype.startsWith,hasNativeFromCodePoint=!!String.fromCodePoint,hasNativeFromEntries=!!Object.fromEntries,hasNativeCodePointAt=!!String.prototype.codePointAt,hasTrimStart=!!String.prototype.trimStart,hasTrimEnd=!!String.prototype.trimEnd,parser_isSafeInteger=!!Number.isSafeInteger?Number.isSafeInteger:function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n&&Math.abs(n)<=9007199254740991},REGEX_SUPPORTS_U_AND_Y=!0;try{REGEX_SUPPORTS_U_AND_Y="a"===(null===(_a=RE("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===_a?void 0:_a[0])}catch(_){REGEX_SUPPORTS_U_AND_Y=!1}var matchIdentifierAtIndex,startsWith=hasNativeStartsWith?function startsWith(s,search,position){return s.startsWith(search,position)}:function startsWith(s,search,position){return s.slice(position,position+search.length)===search},fromCodePoint=hasNativeFromCodePoint?String.fromCodePoint:function fromCodePoint(){for(var codePoints=[],_i=0;_i<arguments.length;_i++)codePoints[_i]=arguments[_i];for(var code,elements="",length=codePoints.length,i=0;length>i;){if((code=codePoints[i++])>1114111)throw RangeError(code+" is not a valid code point");elements+=code<65536?String.fromCharCode(code):String.fromCharCode(55296+((code-=65536)>>10),code%1024+56320)}return elements},fromEntries=hasNativeFromEntries?Object.fromEntries:function fromEntries(entries){for(var obj={},_i=0,entries_1=entries;_i<entries_1.length;_i++){var _a=entries_1[_i],k=_a[0],v=_a[1];obj[k]=v}return obj},codePointAt=hasNativeCodePointAt?function codePointAt(s,index){return s.codePointAt(index)}:function codePointAt(s,index){var size=s.length;if(!(index<0||index>=size)){var second,first=s.charCodeAt(index);return first<55296||first>56319||index+1===size||(second=s.charCodeAt(index+1))<56320||second>57343?first:second-56320+(first-55296<<10)+65536}},trimStart=hasTrimStart?function trimStart(s){return s.trimStart()}:function trimStart(s){return s.replace(SPACE_SEPARATOR_START_REGEX,"")},trimEnd=hasTrimEnd?function trimEnd(s){return s.trimEnd()}:function trimEnd(s){return s.replace(SPACE_SEPARATOR_END_REGEX,"")};function RE(s,flag){return new RegExp(s,flag)}if(REGEX_SUPPORTS_U_AND_Y){var IDENTIFIER_PREFIX_RE_1=RE("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");matchIdentifierAtIndex=function matchIdentifierAtIndex(s,index){var _a;return IDENTIFIER_PREFIX_RE_1.lastIndex=index,null!==(_a=IDENTIFIER_PREFIX_RE_1.exec(s)[1])&&void 0!==_a?_a:""}}else matchIdentifierAtIndex=function matchIdentifierAtIndex(s,index){for(var match=[];;){var c=codePointAt(s,index);if(void 0===c||_isWhiteSpace(c)||_isPatternSyntax(c))break;match.push(c),index+=c>=65536?2:1}return fromCodePoint.apply(void 0,match)};var Parser=function(){function Parser(message,options){void 0===options&&(options={}),this.message=message,this.position={offset:0,line:1,column:1},this.ignoreTag=!!options.ignoreTag,this.locale=options.locale,this.requiresOtherClause=!!options.requiresOtherClause,this.shouldParseSkeletons=!!options.shouldParseSkeletons}return Parser.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},Parser.prototype.parseMessage=function(nestingLevel,parentArgType,expectingCloseTag){for(var elements=[];!this.isEOF();){var char=this.char();if(123===char){if((result=this.parseArgument(nestingLevel,expectingCloseTag)).err)return result;elements.push(result.val)}else{if(125===char&&nestingLevel>0)break;if(35!==char||"plural"!==parentArgType&&"selectordinal"!==parentArgType){if(60===char&&!this.ignoreTag&&47===this.peek()){if(expectingCloseTag)break;return this.error(ErrorKind.UNMATCHED_CLOSING_TAG,parser_createLocation(this.clonePosition(),this.clonePosition()))}if(60===char&&!this.ignoreTag&&_isAlpha(this.peek()||0)){if((result=this.parseTag(nestingLevel,parentArgType)).err)return result;elements.push(result.val)}else{var result;if((result=this.parseLiteral(nestingLevel,parentArgType)).err)return result;elements.push(result.val)}}else{var position=this.clonePosition();this.bump(),elements.push({type:TYPE.pound,location:parser_createLocation(position,this.clonePosition())})}}}return{val:elements,err:null}},Parser.prototype.parseTag=function(nestingLevel,parentArgType){var startPosition=this.clonePosition();this.bump();var tagName=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:TYPE.literal,value:"<".concat(tagName,"/>"),location:parser_createLocation(startPosition,this.clonePosition())},err:null};if(this.bumpIf(">")){var childrenResult=this.parseMessage(nestingLevel+1,parentArgType,!0);if(childrenResult.err)return childrenResult;var children=childrenResult.val,endTagStartPosition=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!_isAlpha(this.char()))return this.error(ErrorKind.INVALID_TAG,parser_createLocation(endTagStartPosition,this.clonePosition()));var closingTagNameStartPosition=this.clonePosition();return tagName!==this.parseTagName()?this.error(ErrorKind.UNMATCHED_CLOSING_TAG,parser_createLocation(closingTagNameStartPosition,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:TYPE.tag,value:tagName,children,location:parser_createLocation(startPosition,this.clonePosition())},err:null}:this.error(ErrorKind.INVALID_TAG,parser_createLocation(endTagStartPosition,this.clonePosition())))}return this.error(ErrorKind.UNCLOSED_TAG,parser_createLocation(startPosition,this.clonePosition()))}return this.error(ErrorKind.INVALID_TAG,parser_createLocation(startPosition,this.clonePosition()))},Parser.prototype.parseTagName=function(){var startOffset=this.offset();for(this.bump();!this.isEOF()&&_isPotentialElementNameChar(this.char());)this.bump();return this.message.slice(startOffset,this.offset())},Parser.prototype.parseLiteral=function(nestingLevel,parentArgType){for(var start=this.clonePosition(),value="";;){var parseQuoteResult=this.tryParseQuote(parentArgType);if(parseQuoteResult)value+=parseQuoteResult;else{var parseUnquotedResult=this.tryParseUnquoted(nestingLevel,parentArgType);if(parseUnquotedResult)value+=parseUnquotedResult;else{var parseLeftAngleResult=this.tryParseLeftAngleBracket();if(!parseLeftAngleResult)break;value+=parseLeftAngleResult}}}var location=parser_createLocation(start,this.clonePosition());return{val:{type:TYPE.literal,value,location},err:null}},Parser.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&function _isAlphaOrSlash(codepoint){return _isAlpha(codepoint)||47===codepoint}(this.peek()||0)?null:(this.bump(),"<")},Parser.prototype.tryParseQuote=function(parentArgType){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===parentArgType||"selectordinal"===parentArgType)break;return null;default:return null}this.bump();var codePoints=[this.char()];for(this.bump();!this.isEOF();){var ch=this.char();if(39===ch){if(39!==this.peek()){this.bump();break}codePoints.push(39),this.bump()}else codePoints.push(ch);this.bump()}return fromCodePoint.apply(void 0,codePoints)},Parser.prototype.tryParseUnquoted=function(nestingLevel,parentArgType){if(this.isEOF())return null;var ch=this.char();return 60===ch||123===ch||35===ch&&("plural"===parentArgType||"selectordinal"===parentArgType)||125===ch&&nestingLevel>0?null:(this.bump(),fromCodePoint(ch))},Parser.prototype.parseArgument=function(nestingLevel,expectingCloseTag){var openingBracePosition=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,parser_createLocation(openingBracePosition,this.clonePosition()));if(125===this.char())return this.bump(),this.error(ErrorKind.EMPTY_ARGUMENT,parser_createLocation(openingBracePosition,this.clonePosition()));var value=this.parseIdentifierIfPossible().value;if(!value)return this.error(ErrorKind.MALFORMED_ARGUMENT,parser_createLocation(openingBracePosition,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,parser_createLocation(openingBracePosition,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:TYPE.argument,value,location:parser_createLocation(openingBracePosition,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,parser_createLocation(openingBracePosition,this.clonePosition())):this.parseArgumentOptions(nestingLevel,expectingCloseTag,value,openingBracePosition);default:return this.error(ErrorKind.MALFORMED_ARGUMENT,parser_createLocation(openingBracePosition,this.clonePosition()))}},Parser.prototype.parseIdentifierIfPossible=function(){var startingPosition=this.clonePosition(),startOffset=this.offset(),value=matchIdentifierAtIndex(this.message,startOffset),endOffset=startOffset+value.length;return this.bumpTo(endOffset),{value,location:parser_createLocation(startingPosition,this.clonePosition())}},Parser.prototype.parseArgumentOptions=function(nestingLevel,expectingCloseTag,value,openingBracePosition){var _a,typeStartPosition=this.clonePosition(),argType=this.parseIdentifierIfPossible().value,typeEndPosition=this.clonePosition();switch(argType){case"":return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE,parser_createLocation(typeStartPosition,typeEndPosition));case"number":case"date":case"time":this.bumpSpace();var styleAndLocation=null;if(this.bumpIf(",")){this.bumpSpace();var styleStartPosition=this.clonePosition();if((result=this.parseSimpleArgStyleIfPossible()).err)return result;if(0===(style=trimEnd(result.val)).length)return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE,parser_createLocation(this.clonePosition(),this.clonePosition()));styleAndLocation={style,styleLocation:parser_createLocation(styleStartPosition,this.clonePosition())}}if((argCloseResult=this.tryParseArgumentClose(openingBracePosition)).err)return argCloseResult;var location_1=parser_createLocation(openingBracePosition,this.clonePosition());if(styleAndLocation&&startsWith(null==styleAndLocation?void 0:styleAndLocation.style,"::",0)){var skeleton=trimStart(styleAndLocation.style.slice(2));if("number"===argType)return(result=this.parseNumberSkeletonFromString(skeleton,styleAndLocation.styleLocation)).err?result:{val:{type:TYPE.number,value,location:location_1,style:result.val},err:null};if(0===skeleton.length)return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON,location_1);var dateTimePattern=skeleton;this.locale&&(dateTimePattern=function getBestPattern(skeleton,locale){for(var skeletonCopy="",patternPos=0;patternPos<skeleton.length;patternPos++){var patternChar=skeleton.charAt(patternPos);if("j"===patternChar){for(var extraLength=0;patternPos+1<skeleton.length&&skeleton.charAt(patternPos+1)===patternChar;)extraLength++,patternPos++;var hourLen=1+(1&extraLength),dayPeriodLen=extraLength<2?1:3+(extraLength>>1),hourChar=getDefaultHourSymbolFromLocale(locale);for("H"!=hourChar&&"k"!=hourChar||(dayPeriodLen=0);dayPeriodLen-- >0;)skeletonCopy+="a";for(;hourLen-- >0;)skeletonCopy=hourChar+skeletonCopy}else skeletonCopy+="J"===patternChar?"H":patternChar}return skeletonCopy}(skeleton,this.locale));var style={type:SKELETON_TYPE.dateTime,pattern:dateTimePattern,location:styleAndLocation.styleLocation,parsedOptions:this.shouldParseSkeletons?parseDateTimeSkeleton(dateTimePattern):{}};return{val:{type:"date"===argType?TYPE.date:TYPE.time,value,location:location_1,style},err:null}}return{val:{type:"number"===argType?TYPE.number:"date"===argType?TYPE.date:TYPE.time,value,location:location_1,style:null!==(_a=null==styleAndLocation?void 0:styleAndLocation.style)&&void 0!==_a?_a:null},err:null};case"plural":case"selectordinal":case"select":var typeEndPosition_1=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,parser_createLocation(typeEndPosition_1,tslib_es6_assign({},typeEndPosition_1)));this.bumpSpace();var identifierAndLocation=this.parseIdentifierIfPossible(),pluralOffset=0;if("select"!==argType&&"offset"===identifierAndLocation.value){if(!this.bumpIf(":"))return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,parser_createLocation(this.clonePosition(),this.clonePosition()));var result;if(this.bumpSpace(),(result=this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return result;this.bumpSpace(),identifierAndLocation=this.parseIdentifierIfPossible(),pluralOffset=result.val}var argCloseResult,optionsResult=this.tryParsePluralOrSelectOptions(nestingLevel,argType,expectingCloseTag,identifierAndLocation);if(optionsResult.err)return optionsResult;if((argCloseResult=this.tryParseArgumentClose(openingBracePosition)).err)return argCloseResult;var location_2=parser_createLocation(openingBracePosition,this.clonePosition());return"select"===argType?{val:{type:TYPE.select,value,options:fromEntries(optionsResult.val),location:location_2},err:null}:{val:{type:TYPE.plural,value,options:fromEntries(optionsResult.val),offset:pluralOffset,pluralType:"plural"===argType?"cardinal":"ordinal",location:location_2},err:null};default:return this.error(ErrorKind.INVALID_ARGUMENT_TYPE,parser_createLocation(typeStartPosition,typeEndPosition))}},Parser.prototype.tryParseArgumentClose=function(openingBracePosition){return this.isEOF()||125!==this.char()?this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,parser_createLocation(openingBracePosition,this.clonePosition())):(this.bump(),{val:!0,err:null})},Parser.prototype.parseSimpleArgStyleIfPossible=function(){for(var nestedBraces=0,startPosition=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var apostrophePosition=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,parser_createLocation(apostrophePosition,this.clonePosition()));this.bump();break;case 123:nestedBraces+=1,this.bump();break;case 125:if(!(nestedBraces>0))return{val:this.message.slice(startPosition.offset,this.offset()),err:null};nestedBraces-=1;break;default:this.bump()}}return{val:this.message.slice(startPosition.offset,this.offset()),err:null}},Parser.prototype.parseNumberSkeletonFromString=function(skeleton,location){var tokens=[];try{tokens=function parseNumberSkeletonFromString(skeleton){if(0===skeleton.length)throw new Error("Number skeleton cannot be empty");for(var stringTokens=skeleton.split(regex_generated_WHITE_SPACE_REGEX).filter(function(x){return x.length>0}),tokens=[],_i=0,stringTokens_1=stringTokens;_i<stringTokens_1.length;_i++){var stemAndOptions=stringTokens_1[_i].split("/");if(0===stemAndOptions.length)throw new Error("Invalid number skeleton");for(var stem=stemAndOptions[0],options=stemAndOptions.slice(1),_a=0,options_1=options;_a<options_1.length;_a++)if(0===options_1[_a].length)throw new Error("Invalid number skeleton");tokens.push({stem,options})}return tokens}(skeleton)}catch(e){return this.error(ErrorKind.INVALID_NUMBER_SKELETON,location)}return{val:{type:SKELETON_TYPE.number,tokens,location,parsedOptions:this.shouldParseSkeletons?parseNumberSkeleton(tokens):{}},err:null}},Parser.prototype.tryParsePluralOrSelectOptions=function(nestingLevel,parentArgType,expectCloseTag,parsedFirstIdentifier){for(var _a,hasOtherClause=!1,options=[],parsedSelectors=new Set,selector=parsedFirstIdentifier.value,selectorLocation=parsedFirstIdentifier.location;;){if(0===selector.length){var startPosition=this.clonePosition();if("select"===parentArgType||!this.bumpIf("="))break;var result=this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(result.err)return result;selectorLocation=parser_createLocation(startPosition,this.clonePosition()),selector=this.message.slice(startPosition.offset,this.offset())}if(parsedSelectors.has(selector))return this.error("select"===parentArgType?ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,selectorLocation);"other"===selector&&(hasOtherClause=!0),this.bumpSpace();var openingBracePosition=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===parentArgType?ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,parser_createLocation(this.clonePosition(),this.clonePosition()));var fragmentResult=this.parseMessage(nestingLevel+1,parentArgType,expectCloseTag);if(fragmentResult.err)return fragmentResult;var argCloseResult=this.tryParseArgumentClose(openingBracePosition);if(argCloseResult.err)return argCloseResult;options.push([selector,{value:fragmentResult.val,location:parser_createLocation(openingBracePosition,this.clonePosition())}]),parsedSelectors.add(selector),this.bumpSpace(),selector=(_a=this.parseIdentifierIfPossible()).value,selectorLocation=_a.location}return 0===options.length?this.error("select"===parentArgType?ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,parser_createLocation(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!hasOtherClause?this.error(ErrorKind.MISSING_OTHER_CLAUSE,parser_createLocation(this.clonePosition(),this.clonePosition())):{val:options,err:null}},Parser.prototype.tryParseDecimalInteger=function(expectNumberError,invalidNumberError){var sign=1,startingPosition=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(sign=-1);for(var hasDigits=!1,decimal=0;!this.isEOF();){var ch=this.char();if(!(ch>=48&&ch<=57))break;hasDigits=!0,decimal=10*decimal+(ch-48),this.bump()}var location=parser_createLocation(startingPosition,this.clonePosition());return hasDigits?parser_isSafeInteger(decimal*=sign)?{val:decimal,err:null}:this.error(invalidNumberError,location):this.error(expectNumberError,location)},Parser.prototype.offset=function(){return this.position.offset},Parser.prototype.isEOF=function(){return this.offset()===this.message.length},Parser.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},Parser.prototype.char=function(){var offset=this.position.offset;if(offset>=this.message.length)throw Error("out of bound");var code=codePointAt(this.message,offset);if(void 0===code)throw Error("Offset ".concat(offset," is at invalid UTF-16 code unit boundary"));return code},Parser.prototype.error=function(kind,location){return{val:null,err:{kind,message:this.message,location}}},Parser.prototype.bump=function(){if(!this.isEOF()){var code=this.char();10===code?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=code<65536?1:2)}},Parser.prototype.bumpIf=function(prefix){if(startsWith(this.message,prefix,this.offset())){for(var i=0;i<prefix.length;i++)this.bump();return!0}return!1},Parser.prototype.bumpUntil=function(pattern){var currentOffset=this.offset(),index=this.message.indexOf(pattern,currentOffset);return index>=0?(this.bumpTo(index),!0):(this.bumpTo(this.message.length),!1)},Parser.prototype.bumpTo=function(targetOffset){if(this.offset()>targetOffset)throw Error("targetOffset ".concat(targetOffset," must be greater than or equal to the current offset ").concat(this.offset()));for(targetOffset=Math.min(targetOffset,this.message.length);;){var offset=this.offset();if(offset===targetOffset)break;if(offset>targetOffset)throw Error("targetOffset ".concat(targetOffset," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},Parser.prototype.bumpSpace=function(){for(;!this.isEOF()&&_isWhiteSpace(this.char());)this.bump()},Parser.prototype.peek=function(){if(this.isEOF())return null;var code=this.char(),offset=this.offset(),nextCode=this.message.charCodeAt(offset+(code>=65536?2:1));return null!=nextCode?nextCode:null},Parser}();function _isAlpha(codepoint){return codepoint>=97&&codepoint<=122||codepoint>=65&&codepoint<=90}function _isPotentialElementNameChar(c){return 45===c||46===c||c>=48&&c<=57||95===c||c>=97&&c<=122||c>=65&&c<=90||183==c||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=893||c>=895&&c<=8191||c>=8204&&c<=8205||c>=8255&&c<=8256||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}function _isWhiteSpace(c){return c>=9&&c<=13||32===c||133===c||c>=8206&&c<=8207||8232===c||8233===c}function _isPatternSyntax(c){return c>=33&&c<=35||36===c||c>=37&&c<=39||40===c||41===c||42===c||43===c||44===c||45===c||c>=46&&c<=47||c>=58&&c<=59||c>=60&&c<=62||c>=63&&c<=64||91===c||92===c||93===c||94===c||96===c||123===c||124===c||125===c||126===c||161===c||c>=162&&c<=165||166===c||167===c||169===c||171===c||172===c||174===c||176===c||177===c||182===c||187===c||191===c||215===c||247===c||c>=8208&&c<=8213||c>=8214&&c<=8215||8216===c||8217===c||8218===c||c>=8219&&c<=8220||8221===c||8222===c||8223===c||c>=8224&&c<=8231||c>=8240&&c<=8248||8249===c||8250===c||c>=8251&&c<=8254||c>=8257&&c<=8259||8260===c||8261===c||8262===c||c>=8263&&c<=8273||8274===c||8275===c||c>=8277&&c<=8286||c>=8592&&c<=8596||c>=8597&&c<=8601||c>=8602&&c<=8603||c>=8604&&c<=8607||8608===c||c>=8609&&c<=8610||8611===c||c>=8612&&c<=8613||8614===c||c>=8615&&c<=8621||8622===c||c>=8623&&c<=8653||c>=8654&&c<=8655||c>=8656&&c<=8657||8658===c||8659===c||8660===c||c>=8661&&c<=8691||c>=8692&&c<=8959||c>=8960&&c<=8967||8968===c||8969===c||8970===c||8971===c||c>=8972&&c<=8991||c>=8992&&c<=8993||c>=8994&&c<=9e3||9001===c||9002===c||c>=9003&&c<=9083||9084===c||c>=9085&&c<=9114||c>=9115&&c<=9139||c>=9140&&c<=9179||c>=9180&&c<=9185||c>=9186&&c<=9254||c>=9255&&c<=9279||c>=9280&&c<=9290||c>=9291&&c<=9311||c>=9472&&c<=9654||9655===c||c>=9656&&c<=9664||9665===c||c>=9666&&c<=9719||c>=9720&&c<=9727||c>=9728&&c<=9838||9839===c||c>=9840&&c<=10087||10088===c||10089===c||10090===c||10091===c||10092===c||10093===c||10094===c||10095===c||10096===c||10097===c||10098===c||10099===c||10100===c||10101===c||c>=10132&&c<=10175||c>=10176&&c<=10180||10181===c||10182===c||c>=10183&&c<=10213||10214===c||10215===c||10216===c||10217===c||10218===c||10219===c||10220===c||10221===c||10222===c||10223===c||c>=10224&&c<=10239||c>=10240&&c<=10495||c>=10496&&c<=10626||10627===c||10628===c||10629===c||10630===c||10631===c||10632===c||10633===c||10634===c||10635===c||10636===c||10637===c||10638===c||10639===c||10640===c||10641===c||10642===c||10643===c||10644===c||10645===c||10646===c||10647===c||10648===c||c>=10649&&c<=10711||10712===c||10713===c||10714===c||10715===c||c>=10716&&c<=10747||10748===c||10749===c||c>=10750&&c<=11007||c>=11008&&c<=11055||c>=11056&&c<=11076||c>=11077&&c<=11078||c>=11079&&c<=11084||c>=11085&&c<=11123||c>=11124&&c<=11125||c>=11126&&c<=11157||11158===c||c>=11159&&c<=11263||c>=11776&&c<=11777||11778===c||11779===c||11780===c||11781===c||c>=11782&&c<=11784||11785===c||11786===c||11787===c||11788===c||11789===c||c>=11790&&c<=11798||11799===c||c>=11800&&c<=11801||11802===c||11803===c||11804===c||11805===c||c>=11806&&c<=11807||11808===c||11809===c||11810===c||11811===c||11812===c||11813===c||11814===c||11815===c||11816===c||11817===c||c>=11818&&c<=11822||11823===c||c>=11824&&c<=11833||c>=11834&&c<=11835||c>=11836&&c<=11839||11840===c||11841===c||11842===c||c>=11843&&c<=11855||c>=11856&&c<=11857||11858===c||c>=11859&&c<=11903||c>=12289&&c<=12291||12296===c||12297===c||12298===c||12299===c||12300===c||12301===c||12302===c||12303===c||12304===c||12305===c||c>=12306&&c<=12307||12308===c||12309===c||12310===c||12311===c||12312===c||12313===c||12314===c||12315===c||12316===c||12317===c||c>=12318&&c<=12319||12320===c||12336===c||64830===c||64831===c||c>=65093&&c<=65094}function pruneLocation(els){els.forEach(function(el){if(delete el.location,isSelectElement(el)||isPluralElement(el))for(var k in el.options)delete el.options[k].location,pruneLocation(el.options[k].value);else isNumberElement(el)&&isNumberSkeleton(el.style)||(isDateElement(el)||isTimeElement(el))&&isDateTimeSkeleton(el.style)?delete el.style.location:isTagElement(el)&&pruneLocation(el.children)})}function parse(message,opts){void 0===opts&&(opts={}),opts=tslib_es6_assign({shouldParseSkeletons:!0,requiresOtherClause:!0},opts);var result=new Parser(message,opts).parse();if(result.err){var error=SyntaxError(ErrorKind[result.err.kind]);throw error.location=result.err.location,error.originalMessage=result.err.message,error}return(null==opts?void 0:opts.captureLocation)||pruneLocation(result.val),result.val}function memoize(fn,options){var cache=options&&options.cache?options.cache:cacheDefault,serializer=options&&options.serializer?options.serializer:serializerDefault;return(options&&options.strategy?options.strategy:strategyDefault)(fn,{cache,serializer})}function monadic(fn,cache,serializer,arg){var cacheKey=function isPrimitive(value){return null==value||"number"==typeof value||"boolean"==typeof value}(arg)?arg:serializer(arg),computedValue=cache.get(cacheKey);return void 0===computedValue&&(computedValue=fn.call(this,arg),cache.set(cacheKey,computedValue)),computedValue}function variadic(fn,cache,serializer){var args=Array.prototype.slice.call(arguments,3),cacheKey=serializer(args),computedValue=cache.get(cacheKey);return void 0===computedValue&&(computedValue=fn.apply(this,args),cache.set(cacheKey,computedValue)),computedValue}function assemble(fn,context,strategy,cache,serialize){return strategy.bind(context,fn,cache,serialize)}function strategyDefault(fn,options){return assemble(fn,this,1===fn.length?monadic:variadic,options.cache.create(),options.serializer)}var serializerDefault=function(){return JSON.stringify(arguments)};function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.get=function(key){return this.cache[key]},ObjectWithoutPrototypeCache.prototype.set=function(key,value){this.cache[key]=value};var error_ErrorCode,cacheDefault={create:function create(){return new ObjectWithoutPrototypeCache}},strategies={variadic:function strategyVariadic(fn,options){return assemble(fn,this,variadic,options.cache.create(),options.serializer)},monadic:function strategyMonadic(fn,options){return assemble(fn,this,monadic,options.cache.create(),options.serializer)}};!function(ErrorCode){ErrorCode.MISSING_VALUE="MISSING_VALUE",ErrorCode.INVALID_VALUE="INVALID_VALUE",ErrorCode.MISSING_INTL_API="MISSING_INTL_API"}(error_ErrorCode||(error_ErrorCode={}));var PART_TYPE,FormatError=function(_super){function FormatError(msg,code,originalMessage){var _this=_super.call(this,msg)||this;return _this.code=code,_this.originalMessage=originalMessage,_this}return __extends(FormatError,_super),FormatError.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},FormatError}(Error),InvalidValueError=function(_super){function InvalidValueError(variableId,value,options,originalMessage){return _super.call(this,'Invalid values for "'.concat(variableId,'": "').concat(value,'". Options are "').concat(Object.keys(options).join('", "'),'"'),error_ErrorCode.INVALID_VALUE,originalMessage)||this}return __extends(InvalidValueError,_super),InvalidValueError}(FormatError),InvalidValueTypeError=function(_super){function InvalidValueTypeError(value,type,originalMessage){return _super.call(this,'Value for "'.concat(value,'" must be of type ').concat(type),error_ErrorCode.INVALID_VALUE,originalMessage)||this}return __extends(InvalidValueTypeError,_super),InvalidValueTypeError}(FormatError),MissingValueError=function(_super){function MissingValueError(variableId,originalMessage){return _super.call(this,'The intl string context variable "'.concat(variableId,'" was not provided to the string "').concat(originalMessage,'"'),error_ErrorCode.MISSING_VALUE,originalMessage)||this}return __extends(MissingValueError,_super),MissingValueError}(FormatError);function isFormatXMLElementFn(el){return"function"==typeof el}function formatToParts(els,locales,formatters,formats,values,currentPluralValue,originalMessage){if(1===els.length&&isLiteralElement(els[0]))return[{type:PART_TYPE.literal,value:els[0].value}];for(var result=[],_i=0,els_1=els;_i<els_1.length;_i++){var el=els_1[_i];if(isLiteralElement(el))result.push({type:PART_TYPE.literal,value:el.value});else if(isPoundElement(el))"number"==typeof currentPluralValue&&result.push({type:PART_TYPE.literal,value:formatters.getNumberFormat(locales).format(currentPluralValue)});else{var varName=el.value;if(!values||!(varName in values))throw new MissingValueError(varName,originalMessage);var value=values[varName];if(isArgumentElement(el))value&&"string"!=typeof value&&"number"!=typeof value||(value="string"==typeof value||"number"==typeof value?String(value):""),result.push({type:"string"==typeof value?PART_TYPE.literal:PART_TYPE.object,value});else if(isDateElement(el)){var style="string"==typeof el.style?formats.date[el.style]:isDateTimeSkeleton(el.style)?el.style.parsedOptions:void 0;result.push({type:PART_TYPE.literal,value:formatters.getDateTimeFormat(locales,style).format(value)})}else if(isTimeElement(el)){style="string"==typeof el.style?formats.time[el.style]:isDateTimeSkeleton(el.style)?el.style.parsedOptions:formats.time.medium;result.push({type:PART_TYPE.literal,value:formatters.getDateTimeFormat(locales,style).format(value)})}else if(isNumberElement(el)){(style="string"==typeof el.style?formats.number[el.style]:isNumberSkeleton(el.style)?el.style.parsedOptions:void 0)&&style.scale&&(value*=style.scale||1),result.push({type:PART_TYPE.literal,value:formatters.getNumberFormat(locales,style).format(value)})}else{if(isTagElement(el)){var children=el.children,value_1=el.value,formatFn=values[value_1];if(!isFormatXMLElementFn(formatFn))throw new InvalidValueTypeError(value_1,"function",originalMessage);var chunks=formatFn(formatToParts(children,locales,formatters,formats,values,currentPluralValue).map(function(p){return p.value}));Array.isArray(chunks)||(chunks=[chunks]),result.push.apply(result,chunks.map(function(c){return{type:"string"==typeof c?PART_TYPE.literal:PART_TYPE.object,value:c}}))}if(isSelectElement(el)){if(!(opt=el.options[value]||el.options.other))throw new InvalidValueError(el.value,value,Object.keys(el.options),originalMessage);result.push.apply(result,formatToParts(opt.value,locales,formatters,formats,values))}else if(isPluralElement(el)){var opt;if(!(opt=el.options["=".concat(value)])){if(!Intl.PluralRules)throw new FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',error_ErrorCode.MISSING_INTL_API,originalMessage);var rule=formatters.getPluralRules(locales,{type:el.pluralType}).select(value-(el.offset||0));opt=el.options[rule]||el.options.other}if(!opt)throw new InvalidValueError(el.value,value,Object.keys(el.options),originalMessage);result.push.apply(result,formatToParts(opt.value,locales,formatters,formats,values,value-(el.offset||0)))}else;}}}return function mergeLiteral(parts){return parts.length<2?parts:parts.reduce(function(all,part){var lastPart=all[all.length-1];return lastPart&&lastPart.type===PART_TYPE.literal&&part.type===PART_TYPE.literal?lastPart.value+=part.value:all.push(part),all},[])}(result)}function mergeConfigs(defaultConfig,configs){return configs?Object.keys(defaultConfig).reduce(function(all,k){return all[k]=function mergeConfig(c1,c2){return c2?tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({},c1||{}),c2||{}),Object.keys(c1).reduce(function(all,k){return all[k]=tslib_es6_assign(tslib_es6_assign({},c1[k]),c2[k]||{}),all},{})):c1}(defaultConfig[k],configs[k]),all},tslib_es6_assign({},defaultConfig)):defaultConfig}function createFastMemoizeCache(store){return{create:function(){return{get:function(key){return store[key]},set:function(key,value){store[key]=value}}}}}!function(PART_TYPE){PART_TYPE[PART_TYPE.literal=0]="literal",PART_TYPE[PART_TYPE.object=1]="object"}(PART_TYPE||(PART_TYPE={}));var IntlErrorCode,IntlMessageFormat=function(){function IntlMessageFormat(message,locales,overrideFormats,opts){var _this=this;if(void 0===locales&&(locales=IntlMessageFormat.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(values){var parts=_this.formatToParts(values);if(1===parts.length)return parts[0].value;var result=parts.reduce(function(all,part){return all.length&&part.type===PART_TYPE.literal&&"string"==typeof all[all.length-1]?all[all.length-1]+=part.value:all.push(part.value),all},[]);return result.length<=1?result[0]||"":result},this.formatToParts=function(values){return formatToParts(_this.ast,_this.locales,_this.formatters,_this.formats,values,void 0,_this.message)},this.resolvedOptions=function(){return{locale:_this.resolvedLocale.toString()}},this.getAst=function(){return _this.ast},this.locales=locales,this.resolvedLocale=IntlMessageFormat.resolveLocale(locales),"string"==typeof message){if(this.message=message,!IntlMessageFormat.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=IntlMessageFormat.__parse(message,{ignoreTag:null==opts?void 0:opts.ignoreTag,locale:this.resolvedLocale})}else this.ast=message;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mergeConfigs(IntlMessageFormat.formats,overrideFormats),this.formatters=opts&&opts.formatters||function createDefaultFormatters(cache){return void 0===cache&&(cache={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:memoize(function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new((_a=Intl.NumberFormat).bind.apply(_a,__spreadArray([void 0],args,!1)))},{cache:createFastMemoizeCache(cache.number),strategy:strategies.variadic}),getDateTimeFormat:memoize(function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new((_a=Intl.DateTimeFormat).bind.apply(_a,__spreadArray([void 0],args,!1)))},{cache:createFastMemoizeCache(cache.dateTime),strategy:strategies.variadic}),getPluralRules:memoize(function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new((_a=Intl.PluralRules).bind.apply(_a,__spreadArray([void 0],args,!1)))},{cache:createFastMemoizeCache(cache.pluralRules),strategy:strategies.variadic})}}(this.formatterCache)}return Object.defineProperty(IntlMessageFormat,"defaultLocale",{get:function(){return IntlMessageFormat.memoizedDefaultLocale||(IntlMessageFormat.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),IntlMessageFormat.memoizedDefaultLocale},enumerable:!1,configurable:!0}),IntlMessageFormat.memoizedDefaultLocale=null,IntlMessageFormat.resolveLocale=function(locales){var supportedLocales=Intl.NumberFormat.supportedLocalesOf(locales);return supportedLocales.length>0?new Intl.Locale(supportedLocales[0]):new Intl.Locale("string"==typeof locales?locales:locales[0])},IntlMessageFormat.__parse=parse,IntlMessageFormat.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},IntlMessageFormat}();!function(IntlErrorCode){IntlErrorCode.FORMAT_ERROR="FORMAT_ERROR",IntlErrorCode.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",IntlErrorCode.INVALID_CONFIG="INVALID_CONFIG",IntlErrorCode.MISSING_DATA="MISSING_DATA",IntlErrorCode.MISSING_TRANSLATION="MISSING_TRANSLATION"}(IntlErrorCode||(IntlErrorCode={}));var IntlError=function(_super){function IntlError(code,message,exception){var _this=this,err=exception?exception instanceof Error?exception:new Error(String(exception)):void 0;return(_this=_super.call(this,"[@formatjs/intl Error ".concat(code,"] ").concat(message," \n").concat(err?"\n".concat(err.message,"\n").concat(err.stack):""))||this).code=code,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_this,IntlError),_this}return __extends(IntlError,_super),IntlError}(Error),UnsupportedFormatterError=function(_super){function UnsupportedFormatterError(message,exception){return _super.call(this,IntlErrorCode.UNSUPPORTED_FORMATTER,message,exception)||this}return __extends(UnsupportedFormatterError,_super),UnsupportedFormatterError}(IntlError),InvalidConfigError=function(_super){function InvalidConfigError(message,exception){return _super.call(this,IntlErrorCode.INVALID_CONFIG,message,exception)||this}return __extends(InvalidConfigError,_super),InvalidConfigError}(IntlError),MissingDataError=function(_super){function MissingDataError(message,exception){return _super.call(this,IntlErrorCode.MISSING_DATA,message,exception)||this}return __extends(MissingDataError,_super),MissingDataError}(IntlError),IntlFormatError=function(_super){function IntlFormatError(message,locale,exception){return _super.call(this,IntlErrorCode.FORMAT_ERROR,"".concat(message," \nLocale: ").concat(locale,"\n"),exception)||this}return __extends(IntlFormatError,_super),IntlFormatError}(IntlError),MessageFormatError=function(_super){function MessageFormatError(message,locale,descriptor,exception){var _this=_super.call(this,"".concat(message," \nMessageID: ").concat(null==descriptor?void 0:descriptor.id,"\nDefault Message: ").concat(null==descriptor?void 0:descriptor.defaultMessage,"\nDescription: ").concat(null==descriptor?void 0:descriptor.description," \n"),locale,exception)||this;return _this.descriptor=descriptor,_this}return __extends(MessageFormatError,_super),MessageFormatError}(IntlFormatError),MissingTranslationError=function(_super){function MissingTranslationError(descriptor,locale){var _this=_super.call(this,IntlErrorCode.MISSING_TRANSLATION,'Missing message: "'.concat(descriptor.id,'" for locale "').concat(locale,'", using ').concat(descriptor.defaultMessage?"default message":"id"," as fallback."))||this;return _this.descriptor=descriptor,_this}return __extends(MissingTranslationError,_super),MissingTranslationError}(IntlError);function filterProps(props,allowlist,defaults){return void 0===defaults&&(defaults={}),allowlist.reduce(function(filtered,name){return name in props?filtered[name]=props[name]:name in defaults&&(filtered[name]=defaults[name]),filtered},{})}var DEFAULT_INTL_CONFIG={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(error){0},onWarn:function(warning){0}};function utils_createFastMemoizeCache(store){return{create:function(){return{get:function(key){return store[key]},set:function(key,value){store[key]=value}}}}}function getNamedFormat(formats,type,name,onError){var format,formatType=formats&&formats[type];if(formatType&&(format=formatType[name]),format)return format;onError(new UnsupportedFormatterError("No ".concat(type," format named: ").concat(name)))}function utils_invariantIntlContext(intl){utils_invariant(intl,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var utils_DEFAULT_INTL_CONFIG=tslib_es6_assign(tslib_es6_assign({},DEFAULT_INTL_CONFIG),{textComponent:react.Fragment});function shallowEqual(objA,objB){if(objA===objB)return!0;if(!objA||!objB)return!1;var aKeys=Object.keys(objA),bKeys=Object.keys(objB),len=aKeys.length;if(bKeys.length!==len)return!1;for(var i=0;i<len;i++){var key=aKeys[i];if(objA[key]!==objB[key]||!Object.prototype.hasOwnProperty.call(objB,key))return!1}return!0}function setTimeZoneInOptions(opts,timeZone){return Object.keys(opts).reduce(function(all,k){return all[k]=tslib_es6_assign({timeZone},opts[k]),all},{})}function deepMergeOptions(opts1,opts2){return Object.keys(tslib_es6_assign(tslib_es6_assign({},opts1),opts2)).reduce(function(all,k){return all[k]=tslib_es6_assign(tslib_es6_assign({},opts1[k]||{}),opts2[k]||{}),all},{})}function deepMergeFormatsAndSetTimeZone(f1,timeZone){if(!timeZone)return f1;var mfFormats=IntlMessageFormat.formats;return tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({},mfFormats),f1),{date:deepMergeOptions(setTimeZoneInOptions(mfFormats.date,timeZone),setTimeZoneInOptions(f1.date||{},timeZone)),time:deepMergeOptions(setTimeZoneInOptions(mfFormats.time,timeZone),setTimeZoneInOptions(f1.time||{},timeZone))})}function formatMessage(_a,state,messageDescriptor,values,opts){var locale=_a.locale,formats=_a.formats,messages=_a.messages,defaultLocale=_a.defaultLocale,defaultFormats=_a.defaultFormats,fallbackOnEmptyString=_a.fallbackOnEmptyString,onError=_a.onError,timeZone=_a.timeZone,defaultRichTextElements=_a.defaultRichTextElements;void 0===messageDescriptor&&(messageDescriptor={id:""});var msgId=messageDescriptor.id,defaultMessage=messageDescriptor.defaultMessage;utils_invariant(!!msgId,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var id=String(msgId),message=messages&&Object.prototype.hasOwnProperty.call(messages,id)&&messages[id];if(Array.isArray(message)&&1===message.length&&message[0].type===TYPE.literal)return message[0].value;if(!values&&message&&"string"==typeof message&&!defaultRichTextElements)return message.replace(/'\{(.*?)\}'/gi,"{$1}");if(values=tslib_es6_assign(tslib_es6_assign({},defaultRichTextElements),values||{}),formats=deepMergeFormatsAndSetTimeZone(formats,timeZone),defaultFormats=deepMergeFormatsAndSetTimeZone(defaultFormats,timeZone),!message){if(!1===fallbackOnEmptyString&&""===message)return message;if((!defaultMessage||locale&&locale.toLowerCase()!==defaultLocale.toLowerCase())&&onError(new MissingTranslationError(messageDescriptor,locale)),defaultMessage)try{return state.getMessageFormat(defaultMessage,defaultLocale,defaultFormats,opts).format(values)}catch(e){return onError(new MessageFormatError('Error formatting default message for: "'.concat(id,'", rendering default message verbatim'),locale,messageDescriptor,e)),"string"==typeof defaultMessage?defaultMessage:id}return id}try{return state.getMessageFormat(message,locale,formats,tslib_es6_assign({formatters:state},opts||{})).format(values)}catch(e){onError(new MessageFormatError('Error formatting message: "'.concat(id,'", using ').concat(defaultMessage?"default message":"id"," as fallback."),locale,messageDescriptor,e))}if(defaultMessage)try{return state.getMessageFormat(defaultMessage,defaultLocale,defaultFormats,opts).format(values)}catch(e){onError(new MessageFormatError('Error formatting the default message for: "'.concat(id,'", rendering message verbatim'),locale,messageDescriptor,e))}return"string"==typeof message?message:"string"==typeof defaultMessage?defaultMessage:id}var NUMBER_FORMAT_OPTIONS=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function getFormatter(_a,getNumberFormat,options){var locale=_a.locale,formats=_a.formats,onError=_a.onError;void 0===options&&(options={});var format=options.format,defaults=format&&getNamedFormat(formats,"number",format,onError)||{};return getNumberFormat(locale,filterProps(options,NUMBER_FORMAT_OPTIONS,defaults))}function formatNumber(config,getNumberFormat,value,options){void 0===options&&(options={});try{return getFormatter(config,getNumberFormat,options).format(value)}catch(e){config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting number.",e))}return String(value)}function formatNumberToParts(config,getNumberFormat,value,options){void 0===options&&(options={});try{return getFormatter(config,getNumberFormat,options).formatToParts(value)}catch(e){config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting number.",e))}return[]}var RELATIVE_TIME_FORMAT_OPTIONS=["numeric","style"];function formatRelativeTime(config,getRelativeTimeFormat,value,unit,options){void 0===options&&(options={}),unit||(unit="second"),Intl.RelativeTimeFormat||config.onError(new FormatError('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',error_ErrorCode.MISSING_INTL_API));try{return function relativeTime_getFormatter(_a,getRelativeTimeFormat,options){var locale=_a.locale,formats=_a.formats,onError=_a.onError;void 0===options&&(options={});var format=options.format,defaults=!!format&&getNamedFormat(formats,"relative",format,onError)||{};return getRelativeTimeFormat(locale,filterProps(options,RELATIVE_TIME_FORMAT_OPTIONS,defaults))}(config,getRelativeTimeFormat,options).format(value,unit)}catch(e){config.onError(new IntlFormatError("Error formatting relative time.",config.locale,e))}return String(value)}var DATE_TIME_FORMAT_OPTIONS=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function dateTime_getFormatter(_a,type,getDateTimeFormat,options){var locale=_a.locale,formats=_a.formats,onError=_a.onError,timeZone=_a.timeZone;void 0===options&&(options={});var format=options.format,defaults=tslib_es6_assign(tslib_es6_assign({},timeZone&&{timeZone}),format&&getNamedFormat(formats,type,format,onError)),filteredOptions=filterProps(options,DATE_TIME_FORMAT_OPTIONS,defaults);return"time"!==type||filteredOptions.hour||filteredOptions.minute||filteredOptions.second||filteredOptions.timeStyle||filteredOptions.dateStyle||(filteredOptions=tslib_es6_assign(tslib_es6_assign({},filteredOptions),{hour:"numeric",minute:"numeric"})),getDateTimeFormat(locale,filteredOptions)}function formatDate(config,getDateTimeFormat){for(var _a=[],_i=2;_i<arguments.length;_i++)_a[_i-2]=arguments[_i];var value=_a[0],_b=_a[1],options=void 0===_b?{}:_b,date="string"==typeof value?new Date(value||0):value;try{return dateTime_getFormatter(config,"date",getDateTimeFormat,options).format(date)}catch(e){config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting date.",e))}return String(date)}function formatTime(config,getDateTimeFormat){for(var _a=[],_i=2;_i<arguments.length;_i++)_a[_i-2]=arguments[_i];var value=_a[0],_b=_a[1],options=void 0===_b?{}:_b,date="string"==typeof value?new Date(value||0):value;try{return dateTime_getFormatter(config,"time",getDateTimeFormat,options).format(date)}catch(e){config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting time.",e))}return String(date)}function formatDateTimeRange(config,getDateTimeFormat){for(var _a=[],_i=2;_i<arguments.length;_i++)_a[_i-2]=arguments[_i];var from=_a[0],to=_a[1],_b=_a[2],options=void 0===_b?{}:_b,timeZone=config.timeZone,locale=config.locale,onError=config.onError,filteredOptions=filterProps(options,DATE_TIME_FORMAT_OPTIONS,timeZone?{timeZone}:{});try{return getDateTimeFormat(locale,filteredOptions).formatRange(from,to)}catch(e){onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting date time range.",e))}return String(from)}function formatDateToParts(config,getDateTimeFormat){for(var _a=[],_i=2;_i<arguments.length;_i++)_a[_i-2]=arguments[_i];var value=_a[0],_b=_a[1],options=void 0===_b?{}:_b,date="string"==typeof value?new Date(value||0):value;try{return dateTime_getFormatter(config,"date",getDateTimeFormat,options).formatToParts(date)}catch(e){config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting date.",e))}return[]}function formatTimeToParts(config,getDateTimeFormat){for(var _a=[],_i=2;_i<arguments.length;_i++)_a[_i-2]=arguments[_i];var value=_a[0],_b=_a[1],options=void 0===_b?{}:_b,date="string"==typeof value?new Date(value||0):value;try{return dateTime_getFormatter(config,"time",getDateTimeFormat,options).formatToParts(date)}catch(e){config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting time.",e))}return[]}var PLURAL_FORMAT_OPTIONS=["localeMatcher","type"];function formatPlural(_a,getPluralRules,value,options){var locale=_a.locale,onError=_a.onError;void 0===options&&(options={}),Intl.PluralRules||onError(new FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',error_ErrorCode.MISSING_INTL_API));var filteredOptions=filterProps(options,PLURAL_FORMAT_OPTIONS);try{return getPluralRules(locale,filteredOptions).select(value)}catch(e){onError(new IntlFormatError("Error formatting plural.",locale,e))}return"other"}var LIST_FORMAT_OPTIONS=["localeMatcher","type","style"],now=Date.now();function formatList(opts,getListFormat,values,options){void 0===options&&(options={});var results=formatListToParts(opts,getListFormat,values,options).reduce(function(all,el){var val=el.value;return"string"!=typeof val?all.push(val):"string"==typeof all[all.length-1]?all[all.length-1]+=val:all.push(val),all},[]);return 1===results.length?results[0]:results}function formatListToParts(_a,getListFormat,values,options){var locale=_a.locale,onError=_a.onError;void 0===options&&(options={}),Intl.ListFormat||onError(new FormatError('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',error_ErrorCode.MISSING_INTL_API));var filteredOptions=filterProps(options,LIST_FORMAT_OPTIONS);try{var richValues_1={},serializedValues=values.map(function(v,i){if("object"==typeof v){var id=function generateToken(i){return"".concat(now,"_").concat(i,"_").concat(now)}(i);return richValues_1[id]=v,id}return String(v)});return getListFormat(locale,filteredOptions).formatToParts(serializedValues).map(function(part){return"literal"===part.type?part:tslib_es6_assign(tslib_es6_assign({},part),{value:richValues_1[part.value]||part.value})})}catch(e){onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting list.",e))}return values}var DISPLAY_NAMES_OPTONS=["localeMatcher","style","type","fallback"];function formatDisplayName(_a,getDisplayNames,value,options){var locale=_a.locale,onError=_a.onError;Intl.DisplayNames||onError(new FormatError('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',error_ErrorCode.MISSING_INTL_API));var filteredOptions=filterProps(options,DISPLAY_NAMES_OPTONS);try{return getDisplayNames(locale,filteredOptions).of(value)}catch(e){onError(new IntlError(IntlErrorCode.FORMAT_ERROR,"Error formatting display name.",e))}}function verifyConfigMessages(config){config.onWarn&&config.defaultRichTextElements&&function messagesContainString(messages){return"string"==typeof(messages?messages[Object.keys(messages)[0]]:void 0)}(config.messages||{})&&config.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function createIntl(config,cache){var formatters=function createFormatters(cache){void 0===cache&&(cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var RelativeTimeFormat=Intl.RelativeTimeFormat,ListFormat=Intl.ListFormat,DisplayNames=Intl.DisplayNames,getDateTimeFormat=memoize(function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new((_a=Intl.DateTimeFormat).bind.apply(_a,__spreadArray([void 0],args,!1)))},{cache:utils_createFastMemoizeCache(cache.dateTime),strategy:strategies.variadic}),getNumberFormat=memoize(function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new((_a=Intl.NumberFormat).bind.apply(_a,__spreadArray([void 0],args,!1)))},{cache:utils_createFastMemoizeCache(cache.number),strategy:strategies.variadic}),getPluralRules=memoize(function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new((_a=Intl.PluralRules).bind.apply(_a,__spreadArray([void 0],args,!1)))},{cache:utils_createFastMemoizeCache(cache.pluralRules),strategy:strategies.variadic});return{getDateTimeFormat,getNumberFormat,getMessageFormat:memoize(function(message,locales,overrideFormats,opts){return new IntlMessageFormat(message,locales,overrideFormats,tslib_es6_assign({formatters:{getNumberFormat,getDateTimeFormat,getPluralRules}},opts||{}))},{cache:utils_createFastMemoizeCache(cache.message),strategy:strategies.variadic}),getRelativeTimeFormat:memoize(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new(RelativeTimeFormat.bind.apply(RelativeTimeFormat,__spreadArray([void 0],args,!1)))},{cache:utils_createFastMemoizeCache(cache.relativeTime),strategy:strategies.variadic}),getPluralRules,getListFormat:memoize(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new(ListFormat.bind.apply(ListFormat,__spreadArray([void 0],args,!1)))},{cache:utils_createFastMemoizeCache(cache.list),strategy:strategies.variadic}),getDisplayNames:memoize(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return new(DisplayNames.bind.apply(DisplayNames,__spreadArray([void 0],args,!1)))},{cache:utils_createFastMemoizeCache(cache.displayNames),strategy:strategies.variadic})}}(cache),resolvedConfig=tslib_es6_assign(tslib_es6_assign({},DEFAULT_INTL_CONFIG),config),locale=resolvedConfig.locale,defaultLocale=resolvedConfig.defaultLocale,onError=resolvedConfig.onError;return locale?!Intl.NumberFormat.supportedLocalesOf(locale).length&&onError?onError(new MissingDataError('Missing locale data for locale: "'.concat(locale,'" in Intl.NumberFormat. Using default locale: "').concat(defaultLocale,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(locale).length&&onError&&onError(new MissingDataError('Missing locale data for locale: "'.concat(locale,'" in Intl.DateTimeFormat. Using default locale: "').concat(defaultLocale,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(onError&&onError(new InvalidConfigError('"locale" was not configured, using "'.concat(defaultLocale,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),resolvedConfig.locale=resolvedConfig.defaultLocale||"en"),verifyConfigMessages(resolvedConfig),tslib_es6_assign(tslib_es6_assign({},resolvedConfig),{formatters,formatNumber:formatNumber.bind(null,resolvedConfig,formatters.getNumberFormat),formatNumberToParts:formatNumberToParts.bind(null,resolvedConfig,formatters.getNumberFormat),formatRelativeTime:formatRelativeTime.bind(null,resolvedConfig,formatters.getRelativeTimeFormat),formatDate:formatDate.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatDateToParts:formatDateToParts.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatTime:formatTime.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatDateTimeRange:formatDateTimeRange.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatTimeToParts:formatTimeToParts.bind(null,resolvedConfig,formatters.getDateTimeFormat),formatPlural:formatPlural.bind(null,resolvedConfig,formatters.getPluralRules),formatMessage:formatMessage.bind(null,resolvedConfig,formatters),$t:formatMessage.bind(null,resolvedConfig,formatters),formatList:formatList.bind(null,resolvedConfig,formatters.getListFormat),formatListToParts:formatListToParts.bind(null,resolvedConfig,formatters.getListFormat),formatDisplayName:formatDisplayName.bind(null,resolvedConfig,formatters.getDisplayNames)})}function processIntlConfig(config){return{locale:config.locale,timeZone:config.timeZone,fallbackOnEmptyString:config.fallbackOnEmptyString,formats:config.formats,textComponent:config.textComponent,messages:config.messages,defaultLocale:config.defaultLocale,defaultFormats:config.defaultFormats,onError:config.onError,onWarn:config.onWarn,wrapRichTextChunksInFragment:config.wrapRichTextChunksInFragment,defaultRichTextElements:config.defaultRichTextElements}}function assignUniqueKeysToFormatXMLElementFnArgument(values){return values?Object.keys(values).reduce(function(acc,k){var v=values[k];return acc[k]=isFormatXMLElementFn(v)?function assignUniqueKeysToParts(formatXMLElementFn){return function(parts){return formatXMLElementFn(react.Children.toArray(parts))}}(v):v,acc},{}):values}var provider_formatMessage=function(config,formatters,descriptor,rawValues){for(var rest=[],_i=4;_i<arguments.length;_i++)rest[_i-4]=arguments[_i];var values=assignUniqueKeysToFormatXMLElementFnArgument(rawValues),chunks=formatMessage.apply(void 0,__spreadArray([config,formatters,descriptor,values],rest,!1));return Array.isArray(chunks)?react.Children.toArray(chunks):chunks},provider_createIntl=function(_a,cache){var rawDefaultRichTextElements=_a.defaultRichTextElements,config=__rest(_a,["defaultRichTextElements"]),defaultRichTextElements=assignUniqueKeysToFormatXMLElementFnArgument(rawDefaultRichTextElements),coreIntl=createIntl(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({},utils_DEFAULT_INTL_CONFIG),config),{defaultRichTextElements}),cache);return tslib_es6_assign(tslib_es6_assign({},coreIntl),{formatMessage:provider_formatMessage.bind(null,{locale:coreIntl.locale,timeZone:coreIntl.timeZone,fallbackOnEmptyString:coreIntl.fallbackOnEmptyString,formats:coreIntl.formats,defaultLocale:coreIntl.defaultLocale,defaultFormats:coreIntl.defaultFormats,messages:coreIntl.messages,onError:coreIntl.onError,defaultRichTextElements},coreIntl.formatters)})},provider_IntlProvider=function(_super){function IntlProvider(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},_this.state={cache:_this.cache,intl:provider_createIntl(processIntlConfig(_this.props),_this.cache),prevConfig:processIntlConfig(_this.props)},_this}return __extends(IntlProvider,_super),IntlProvider.getDerivedStateFromProps=function(props,_a){var prevConfig=_a.prevConfig,cache=_a.cache,config=processIntlConfig(props);return shallowEqual(prevConfig,config)?null:{intl:provider_createIntl(config,cache),prevConfig:config}},IntlProvider.prototype.render=function(){return utils_invariantIntlContext(this.state.intl),react.createElement(injectIntl_Provider,{value:this.state.intl},this.props.children)},IntlProvider.displayName="IntlProvider",IntlProvider.defaultProps=utils_DEFAULT_INTL_CONFIG,IntlProvider}(react.PureComponent);const provider=provider_IntlProvider;function intl_provider_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function intl_provider_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context3,_context4,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context3=intl_provider_ownKeys(Object(t),!0)).call(_context3,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context4=intl_provider_ownKeys(Object(t))).call(_context4,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var _flattenMessages=function flattenMessages(nestedMessages){var _context,prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return reduce_default()(_context=keys_default()(nestedMessages)).call(_context,function(messages,key){var _context2,value=nestedMessages[key],prefixedKey=prefix?concat_default()(_context2="".concat(prefix,".")).call(_context2,key):key;return intl_provider_objectSpread(intl_provider_objectSpread({},messages),"string"==typeof value?defineProperty_defineProperty({},prefixedKey,value):_flattenMessages(value,prefixedKey))},{})};const intl_provider=function IntlProvider(_ref2){var children=_ref2.children,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),messages=_useState2[0],setMessages=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1];return(0,react.useEffect)(function(){fetch("locales/en.json").then(function(response){return response.json()}).then(function(data){setMessages(_flattenMessages(data))}).catch(function(err){console.warn("Error loading locale data",err)}).finally(function(){setLoading(!1)})},[]),loading||!messages?react.createElement(react.Fragment,null):react.createElement(provider,{locale:"en",defaultLocale:"en",messages},children)},auth_context=react.createContext(null);function auth_provider_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function auth_provider_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context4,_context5,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context4=auth_provider_ownKeys(Object(t),!0)).call(_context4,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context5=auth_provider_ownKeys(Object(t))).call(_context5,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}const auth_provider=function AuthProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),auth=_useState2[0],setAuth=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(null),2),authError=_useState4[0],setAuthError=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),user=_useState6[0],setUser=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!0),2),authenticating=_useState8[0],setAuthenticating=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),isAuthenticated=_useState0[0],setIsAuthenticated=_useState0[1],appInitialized=app_hooks_useApp().appInitialized,enhanceUserWithClaims=(0,react.useCallback)(function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(firebaseUser){var tokenResult,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(firebaseUser){_context.next=1;break}return _context.abrupt("return",null);case 1:return _context.prev=1,_context.next=2,firebaseUser.getIdTokenResult();case 2:return tokenResult=_context.sent,_context.abrupt("return",auth_provider_objectSpread(auth_provider_objectSpread({},firebaseUser),{},{customClaims:tokenResult.claims}));case 3:return _context.prev=3,_t=_context.catch(1),console.error("Error fetching custom claims:",_t),_context.abrupt("return",auth_provider_objectSpread(auth_provider_objectSpread({},firebaseUser),{},{customClaims:{}}));case 4:case"end":return _context.stop()}},_callee,null,[[1,3]])}));return function(_x){return _ref2.apply(this,arguments)}}(),[]),refreshUserClaims=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var enhancedUser,_t2;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null==auth||!auth.currentUser){_context2.next=5;break}return _context2.prev=1,_context2.next=2,auth.currentUser.getIdToken(!0);case 2:return _context2.next=3,enhanceUserWithClaims(auth.currentUser);case 3:enhancedUser=_context2.sent,setUser(enhancedUser),_context2.next=5;break;case 4:_context2.prev=4,_t2=_context2.catch(1),console.error("Error refreshing user claims:",_t2);case 5:case"end":return _context2.stop()}},_callee2,null,[[1,4]])})),[auth,enhanceUserWithClaims]),init=(0,react.useCallback)(function(){try{if(auth){var currentUser=auth.currentUser;currentUser&&enhanceUserWithClaims(currentUser).then(function(enhancedUser){setUser(enhancedUser),setIsAuthenticated(!0),setAuthenticating(!1)});var unsubscribe=function onAuthStateChanged(auth,nextOrObserver,error,completed){return index_esm2017_getModularInstance(auth).onAuthStateChanged(nextOrObserver,error,completed)}(auth,function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(u){var enhancedUser;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!u){_context3.next=2;break}return _context3.next=1,enhanceUserWithClaims(u);case 1:enhancedUser=_context3.sent,setUser(enhancedUser),setIsAuthenticated(!0),_context3.next=3;break;case 2:setUser(null),setIsAuthenticated(!1);case 3:setAuthenticating(!1);case 4:case"end":return _context3.stop()}},_callee3)}));return function(_x2){return _ref4.apply(this,arguments)}}()),timeoutId=set_timeout_default()(function(){setAuthenticating(!1)},1e3);return function(){unsubscribe(),clearTimeout(timeoutId)}}}catch(e){var error=e;console.error("Auth initialization error:",error),setAuthError(error.message),setAuthenticating(!1)}},[auth,enhanceUserWithClaims]);return(0,react.useEffect)(function(){auth&&init()},[auth,init]),(0,react.useEffect)(function(){if(appInitialized)try{setAuth(index_35c79a8a_getAuth())}catch(error){var e=error;console.error("Error initializing Firebase Auth:",e),setAuthError(e.message),setAuthenticating(!1)}},[appInitialized]),react.createElement(auth_context.Provider,{value:{auth,authError,user,authenticating,isAuthenticated,refreshUserClaims}},children)};var auth_hooks_useAuth=function useAuth(){return(0,react.useContext)(auth_context)};function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(is_array(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if(void 0!==symbol&&null!=get_iterator_method(r)||null!=r["@@iterator"])return front_from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const roles_context=react.createContext(null),schema_context=react.createContext(null);var hasLoadedSchema=!1,cachedSchema=null,loadPromise=null;const schema_provider=function SchemaProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)(cachedSchema),2),schema=_useState2[0],setSchema=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!hasLoadedSchema),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState6[0],setError=_useState6[1],_useApp=app_hooks_useApp(),appInitialized=_useApp.appInitialized,_useAuth=(_useApp.config,auth_hooks_useAuth()),user=_useAuth.user,authenticating=_useAuth.authenticating,isAuthenticated=_useAuth.isAuthenticated,auth=_useAuth.auth,loadSchema=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(appInitialized){_context2.next=1;break}return _context2.abrupt("return");case 1:if(!authenticating){_context2.next=2;break}return _context2.abrupt("return");case 2:if(!hasLoadedSchema||!cachedSchema){_context2.next=3;break}return setSchema(cachedSchema),setLoading(!1),_context2.abrupt("return");case 3:if(!loadPromise){_context2.next=5;break}return _context2.next=4,loadPromise;case 4:return setSchema(cachedSchema),setLoading(!1),_context2.abrupt("return");case 5:if(isAuthenticated&&user){_context2.next=6;break}return setSchema(null),setLoading(!1),setError("Authentication required to load schema"),_context2.abrupt("return");case 6:return loadPromise=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var schemaResponse,loadedSchema,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setLoading(!0),setError(null),_context.next=1,apiGet(auth,"/api/schema");case 1:schemaResponse=_context.sent,loadedSchema=schemaResponse.collections&&schemaResponse.layers&&"object"===_typeof(schemaResponse.collections)?{collections:schemaResponse.collections,meta:schemaResponse.meta||{},layers:schemaResponse.layers}:schemaResponse.collections&&"object"===_typeof(schemaResponse.collections)?{collections:schemaResponse.collections,meta:schemaResponse.meta||{},layers:{autoDetected:{},codeOverrides:{},guiOverrides:{}}}:{collections:schemaResponse,meta:{},layers:{autoDetected:{},codeOverrides:{},guiOverrides:{}}},cachedSchema=loadedSchema,hasLoadedSchema=!0,setSchema(loadedSchema),_context.next=3;break;case 2:_context.prev=2,_t=_context.catch(0),console.error("Error loading schema:",_t),setError(_t instanceof Error?_t.message:"Failed to load schema"),setSchema(null),cachedSchema=null,hasLoadedSchema=!1;case 3:return _context.prev=3,setLoading(!1),loadPromise=null,_context.finish(3);case 4:case"end":return _context.stop()}},_callee,null,[[0,2,3,4]])}))(),_context2.next=7,loadPromise;case 7:case"end":return _context2.stop()}},_callee2)}));return function loadSchema(){return _ref2.apply(this,arguments)}}(),refreshSchema=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(){var _result$schema,_result$schema2,_result$schema3,result,loadedSchema,_loadedSchema,_loadedSchema2;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(isAuthenticated&&user){_context3.next=1;break}throw new Error("Authentication required to refresh schema");case 1:return hasLoadedSchema=!1,cachedSchema=null,loadPromise=null,_context3.next=2,apiPost(auth,"/api/schema/refresh");case 2:result=_context3.sent,null!==(_result$schema=result.schema)&&void 0!==_result$schema&&_result$schema.collections&&null!==(_result$schema2=result.schema)&&void 0!==_result$schema2&&_result$schema2.layers&&"object"===_typeof(result.schema.collections)?(loadedSchema={collections:result.schema.collections,meta:result.schema.meta||{},layers:result.schema.layers},setSchema(loadedSchema),cachedSchema=loadedSchema,hasLoadedSchema=!0):null!==(_result$schema3=result.schema)&&void 0!==_result$schema3&&_result$schema3.collections&&"object"===_typeof(result.schema.collections)?(_loadedSchema={collections:result.schema.collections,meta:result.schema.meta||{},layers:{autoDetected:{},codeOverrides:{},guiOverrides:{}}},setSchema(_loadedSchema),cachedSchema=_loadedSchema,hasLoadedSchema=!0):result.schema&&(_loadedSchema2={collections:result.schema,meta:{},layers:{autoDetected:{},codeOverrides:{},guiOverrides:{}}},setSchema(_loadedSchema2),cachedSchema=_loadedSchema2,hasLoadedSchema=!0);case 3:case"end":return _context3.stop()}},_callee3)}));return function refreshSchema(){return _ref4.apply(this,arguments)}}();return(0,react.useEffect)(function(){appInitialized&&!authenticating&&loadSchema()},[appInitialized,authenticating,isAuthenticated,null==user?void 0:user.uid]),react.createElement(schema_context.Provider,{value:{schema,loading,error,refreshSchema}},children)};var useSchema=function useSchema(){return(0,react.useContext)(schema_context)};const metadata_context=(0,react.createContext)(void 0);const metadata_provider=function MetadataProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),metadata=_useState2[0],setMetadata=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState6[0],setError=_useState6[1],_useAuth=auth_hooks_useAuth(),user=_useAuth.user,authenticating=_useAuth.authenticating,isAuthenticated=_useAuth.isAuthenticated,auth=_useAuth.auth,loadMetadata=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var response_data,metaDocs,metadataMap,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!authenticating){_context.next=1;break}return _context.abrupt("return");case 1:if(isAuthenticated&&user){_context.next=2;break}return setMetadata(null),setLoading(!1),_context.abrupt("return");case 2:return setLoading(!0),setError(null),_context.prev=3,_context.next=4,apiGet(auth,"/api/firestore/documents",{collectionPath:"_fireengineMeta"});case 4:response_data=_context.sent,metaDocs=[],response_data.documents&&array_is_array_default()(response_data.documents)?metaDocs=response_data.documents:array_is_array_default()(response_data)&&(metaDocs=response_data),metadataMap=reduce_default()(metaDocs).call(metaDocs,function(acc,doc){return acc[doc.id]=doc,acc},{}),setMetadata(metadataMap),_context.next=6;break;case 5:_context.prev=5,_t=_context.catch(3),console.error("Error loading metadata:",_t),setError(_t instanceof Error?_t.message:"Failed to load metadata"),setMetadata({});case 6:return _context.prev=6,setLoading(!1),_context.finish(6);case 7:case"end":return _context.stop()}},_callee,null,[[3,5,6,7]])})),[authenticating,isAuthenticated,user]),refetchMetadata=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=1,loadMetadata();case 1:case"end":return _context2.stop()}},_callee2)})),[loadMetadata]);return(0,react.useEffect)(function(){loadMetadata()},[loadMetadata]),react.createElement(metadata_context.Provider,{value:{metadata,loading,error,refetchMetadata}},children)};var useMetadata=function useMetadata(){var context=(0,react.useContext)(metadata_context);if(void 0===context)throw new Error("useMetadata must be used within a MetadataProvider");return context};const license_context=react.createContext(null);var license_types_PricingPlan=function(PricingPlan){return PricingPlan.FREE="free",PricingPlan.PRO="pro",PricingPlan}({}),DEFAULT_FEATURE_FLAGS=defineProperty_defineProperty(defineProperty_defineProperty({},license_types_PricingPlan.FREE,{advancedAuth:!1,schemaOverrides:!1,customFieldTypes:!1,customRoles:!1,advancedPermissions:!1,unlimitedUsers:!1,unlimitedStorage:!1,analytics:!1,auditLogs:!1,prioritySupport:!1,apiAccess:!1,webhooks:!1,customBranding:!1,whiteLabel:!1}),license_types_PricingPlan.PRO,{advancedAuth:!0,schemaOverrides:!0,customFieldTypes:!0,customRoles:!0,advancedPermissions:!0,unlimitedUsers:!0,unlimitedStorage:!0,analytics:!0,auditLogs:!0,prioritySupport:!0,apiAccess:!0,webhooks:!0,customBranding:!0,whiteLabel:!0}),FREE_PLAN_LIMITS={maxUsers:1,maxStorageGB:1,maxCollections:10,maxDocumentsPerCollection:1e3};const license_provider=function LicenseProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),license=_useState2[0],setLicense=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState6[0],setError=_useState6[1],_useAuth=auth_hooks_useAuth(),user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated,auth=_useAuth.auth,_useApp=app_hooks_useApp(),config=_useApp.config,appInitialized=_useApp.appInitialized,loadLicense=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var mockLicense,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(appInitialized&&isAuthenticated&&user){_context.next=1;break}return setLicense(null),setLoading(!1),_context.abrupt("return");case 1:return _context.prev=1,setLoading(!0),setError(null),_context.next=2,getMockLicense(user.uid);case 2:mockLicense=_context.sent,setLicense(mockLicense),_context.next=4;break;case 3:_context.prev=3,_t=_context.catch(1),console.error("Error loading license:",_t),setError(_t instanceof Error?_t.message:"Failed to load license"),setLicense(createFreeLicense());case 4:return _context.prev=4,setLoading(!1),_context.finish(4);case 5:case"end":return _context.stop()}},_callee,null,[[1,3,4,5]])})),[appInitialized,isAuthenticated,user]),getMockLicense=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(userId){var _localData$subscripti,localData,subscription,isPro,features,_t2;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=1,apiGet(auth,"/api/billing/subscription");case 1:if(localData=_context2.sent,null!==(_localData$subscripti=localData.subscription)&&void 0!==_localData$subscripti&&_localData$subscripti.id){_context2.next=2;break}return _context2.abrupt("return",createFreeLicense());case 2:return subscription=localData.subscription,isPro="pro"===subscription.plan,features=isPro?{advancedAuth:!0,customRoles:!0,schemaOverrides:!0,apiAccess:!0,unlimitedUsers:!0,unlimitedStorage:!0,analytics:!0,auditLogs:!0,prioritySupport:!0,customBranding:!0,whiteLabel:!0}:{advancedAuth:!1,customRoles:!1,schemaOverrides:!1,apiAccess:!1,unlimitedUsers:!1,unlimitedStorage:!1,analytics:!1,auditLogs:!1,prioritySupport:!1,customBranding:!1,whiteLabel:!1},_context2.abrupt("return",{plan:"pro"===subscription.plan?license_types_PricingPlan.PRO:license_types_PricingPlan.FREE,features,isActive:"active"===subscription.status,expiresAt:subscription.validUntil?new Date(subscription.validUntil):void 0,organizationId:userId,subscriptionId:subscription.id,customLimits:isPro?{maxUsers:-1,maxStorageGB:-1,maxCollections:-1}:FREE_PLAN_LIMITS});case 3:return _context2.prev=3,_t2=_context2.catch(0),console.warn("License validation failed, falling back to local mode:",_t2),_context2.abrupt("return",createFreeLicense());case 4:case"end":return _context2.stop()}},_callee2,null,[[0,3]])}));return function getMockLicense(_x){return _ref3.apply(this,arguments)}}(),createFreeLicense=function createFreeLicense(){return{plan:license_types_PricingPlan.FREE,features:DEFAULT_FEATURE_FLAGS[license_types_PricingPlan.FREE],isActive:!0,organizationId:null==user?void 0:user.uid,customLimits:FREE_PLAN_LIMITS}},hasFeature=(0,react.useCallback)(function(feature){return license&&license.isActive&&license.features[feature]||!1},[license]),isPlan=(0,react.useCallback)(function(plan){return(null==license?void 0:license.plan)===plan||!1},[license]),refreshLicense=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(){return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=1,loadLicense();case 1:case"end":return _context3.stop()}},_callee3)})),[loadLicense]),canUseAdvancedAuth=(0,react.useCallback)(function(){return hasFeature("advancedAuth")},[hasFeature]),canCreateCustomRoles=(0,react.useCallback)(function(){return hasFeature("customRoles")},[hasFeature]),canUseSchemaOverrides=(0,react.useCallback)(function(){return hasFeature("schemaOverrides")},[hasFeature]),canViewSchema=(0,react.useCallback)(function(){var _user$customClaims;return!(!user||!license)&&(!(null==config||!config.ownerEmail||user.email!==config.ownerEmail)||"admin"===(null===(_user$customClaims=user.customClaims)||void 0===_user$customClaims?void 0:_user$customClaims.role))},[user,license,config]),canAccessAPI=(0,react.useCallback)(function(){return hasFeature("apiAccess")},[hasFeature]),canUpgrade=(0,react.useCallback)(function(){var _user$customClaims2;return!(!user||!license)&&(!(null==config||!config.ownerEmail||user.email!==config.ownerEmail)||"admin"===(null===(_user$customClaims2=user.customClaims)||void 0===_user$customClaims2?void 0:_user$customClaims2.role))},[user,license,config]),getUserLimit=(0,react.useCallback)(function(){var _license$customLimits;return license?license.features.unlimitedUsers?-1:(null===(_license$customLimits=license.customLimits)||void 0===_license$customLimits?void 0:_license$customLimits.maxUsers)||FREE_PLAN_LIMITS.maxUsers:0},[license]),getStorageLimit=(0,react.useCallback)(function(){var _license$customLimits2;return license?license.features.unlimitedStorage?-1:(null===(_license$customLimits2=license.customLimits)||void 0===_license$customLimits2?void 0:_license$customLimits2.maxStorageGB)||FREE_PLAN_LIMITS.maxStorageGB:0},[license]),getCollectionLimit=(0,react.useCallback)(function(){var _license$customLimits3;return license?(null===(_license$customLimits3=license.customLimits)||void 0===_license$customLimits3?void 0:_license$customLimits3.maxCollections)||FREE_PLAN_LIMITS.maxCollections:0},[license]),canAddMoreUsers=(0,react.useCallback)(function(currentUserCount){var limit=getUserLimit();return-1===limit||currentUserCount<limit},[getUserLimit]),isUpgradeRequired=(0,react.useCallback)(function(feature){return!hasFeature(feature)},[hasFeature]),getPlanDisplayName=(0,react.useCallback)(function(){if(!license)return"Unknown";switch(license.plan){case license_types_PricingPlan.FREE:return"Free";case license_types_PricingPlan.PRO:return"Pro";default:return"Unknown"}},[license]);return(0,react.useEffect)(function(){loadLicense()},[loadLicense]),react.createElement(license_context.Provider,{value:{license,loading,error,hasFeature,isPlan,refreshLicense,canUseAdvancedAuth,canCreateCustomRoles,canUseSchemaOverrides,canViewSchema,canAccessAPI,canUpgrade,getUserLimit,getStorageLimit,getCollectionLimit,canAddMoreUsers,isUpgradeRequired,getPlanDisplayName}},children)};var license_hooks_useLicense=function useLicense(){var context=(0,react.useContext)(license_context);if(!context)throw new Error("useLicense must be used within a LicenseProvider");return context},starts_with=__webpack_require__(165),starts_with_default=__webpack_require__.n(starts_with);function permissions_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function permissions_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context8,_context9,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context8=permissions_ownKeys(Object(t),!0)).call(_context8,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context9=permissions_ownKeys(Object(t))).call(_context9,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var getEffectiveRole=function getEffectiveRole(user,ownerEmail){var _user$customClaims;return ownerEmail&&user.email===ownerEmail?"admin":(null===(_user$customClaims=user.customClaims)||void 0===_user$customClaims?void 0:_user$customClaims.role)||""},isOwner=function isOwner(user,ownerEmail){return Boolean(ownerEmail&&user.email===ownerEmail)},getUserRolePermissions=function getUserRolePermissions(user,roles,ownerEmail){var effectiveRole=function getValidatedEffectiveRole(user,ownerEmail,availableRoles){var role=getEffectiveRole(user,ownerEmail);if(ownerEmail&&user.email===ownerEmail)return role;if(!role||!availableRoles)return role;var roleExists=some_default()(availableRoles).call(availableRoles,function(r){return r.id===role});return roleExists?role:""}(user,ownerEmail,roles);if(!effectiveRole)return null;var role=find_default()(roles).call(roles,function(r){return r.id===effectiveRole});return(null==role?void 0:role.permissions)||null},permissions_hasPermission=function hasPermission(user,resource,action,roles,ownerEmail){var _permissions$content$;if(isOwner(user,ownerEmail))return!0;var permissions=getUserRolePermissions(user,roles,ownerEmail);if(!permissions)return!1;if("system:users"===resource||"system:roles"===resource||"system:assets"===resource||"system:settings"===resource){var resourcePermission=permissions[resource.replace("system:","")];return(null==resourcePermission?void 0:resourcePermission[action])||!1}var hasContentPermission=(null===(_permissions$content$=permissions.content[resource])||void 0===_permissions$content$?void 0:_permissions$content$[action])||!1;if(!hasContentPermission){var effectiveRole=getEffectiveRole(user,ownerEmail);("admin"===effectiveRole||"editor"===effectiveRole||"viewer"===effectiveRole&&"read"===action)&&(hasContentPermission=!0)}return hasContentPermission},canAccessCollection=function canAccessCollection(user,collection,action,roles,ownerEmail){return permissions_hasPermission(user,collection,action,roles,ownerEmail)},getPredefinedRoles=function getPredefinedRoles(schema){var _context3,_context,collectionsPermissions={};if(null!=schema&&schema.collections&&"object"===_typeof(schema.collections))for_each_default()(_context=keys_default()(schema.collections)).call(_context,function(collection){"_meta"===collection||starts_with_default()(collection).call(collection,"_fireengine")||(collectionsPermissions[collection]={read:!0,write:!0})});else if(schema&&"object"===_typeof(schema)){var _context2;for_each_default()(_context2=keys_default()(schema)).call(_context2,function(key){"collections"===key||"meta"===key||"layers"===key||"_meta"===key||starts_with_default()(key).call(key,"_fireengine")||(collectionsPermissions[key]={read:!0,write:!0})})}return[{id:"admin",name:"Admin",description:"Full access to everything",permissions:{content:collectionsPermissions,assets:{read:!0,write:!0},users:{read:!0,write:!0},roles:{read:!0,write:!0},settings:{read:!0,write:!0}},predefined:!0},{id:"editor",name:"Editor",description:"Read and write access to content and assets",permissions:{content:collectionsPermissions,assets:{read:!0,write:!0},users:{read:!1,write:!1},roles:{read:!1,write:!1},settings:{read:!1,write:!1}},predefined:!0},{id:"viewer",name:"Viewer",description:"Read-only access to content and assets",permissions:{content:reduce_default()(_context3=keys_default()(collectionsPermissions)).call(_context3,function(acc,collection){return permissions_objectSpread(permissions_objectSpread({},acc),{},defineProperty_defineProperty({},collection,{read:!0,write:!1}))},{}),assets:{read:!0,write:!1},users:{read:!1,write:!1},roles:{read:!1,write:!1},settings:{read:!1,write:!1}},predefined:!0}]};const roles_provider=function RolesProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),roles=_useState2[0],setRoles=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState6[0],setError=_useState6[1],_useAuth=auth_hooks_useAuth(),user=_useAuth.user,authenticating=_useAuth.authenticating,isAuthenticated=_useAuth.isAuthenticated,config=app_hooks_useApp().config,_useSchema=useSchema(),schema=_useSchema.schema,schemaLoading=_useSchema.loading,_useMetadata=useMetadata(),metadata=_useMetadata.metadata,metadataLoading=_useMetadata.loading,canCreateCustomRoles=license_hooks_useLicense().canCreateCustomRoles;return(0,react.useEffect)(function(){var loadRoles=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var rolesToSet,predefinedRoles,rolesDoc,customRoles;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!authenticating){_context.next=1;break}return _context.abrupt("return");case 1:if(!schemaLoading&&schema&&!metadataLoading){_context.next=2;break}return _context.abrupt("return");case 2:if(isAuthenticated&&user){_context.next=3;break}return setRoles([]),setLoading(!1),_context.abrupt("return");case 3:setLoading(!0),setError(null);try{rolesToSet=[],predefinedRoles=getPredefinedRoles(schema),rolesToSet.push.apply(rolesToSet,_toConsumableArray(predefinedRoles)),canCreateCustomRoles()&&(rolesDoc=null==metadata?void 0:metadata.roles,customRoles=(null==rolesDoc?void 0:rolesDoc.customRoles)||[],rolesToSet.push.apply(rolesToSet,_toConsumableArray(customRoles))),setRoles(rolesToSet)}catch(err){console.error("Error loading roles:",err),setError(err instanceof Error?err.message:"Failed to load roles"),setRoles([])}finally{setLoading(!1)}case 4:case"end":return _context.stop()}},_callee)}));return function loadRoles(){return _ref2.apply(this,arguments)}}();loadRoles()},[null==config?void 0:config.useFirestoreAccessRules,authenticating,isAuthenticated,user,schema,schemaLoading,metadata,metadataLoading,canCreateCustomRoles]),react.createElement(roles_context.Provider,{value:{roles,loading,error}},children)};var _refreshMeta,roles_hooks_useRoles=function useRoles(){return(0,react.useContext)(roles_context)};const meta_context=(0,react.createContext)({customFields:{},loading:!0,error:null,refreshMeta:(_refreshMeta=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}},_callee)})),function refreshMeta(){return _refreshMeta.apply(this,arguments)})});const meta_provider=function MetaProvider(_ref){var children=_ref.children,_useState2=slicedToArray_slicedToArray((0,react.useState)({}),2),customFields=_useState2[0],setCustomFields=_useState2[1],_useSchema=useSchema(),schema=_useSchema.schema,schemaLoading=_useSchema.loading,schemaError=_useSchema.error;(0,react.useEffect)(function(){var _schema$meta;null!=schema&&null!==(_schema$meta=schema.meta)&&void 0!==_schema$meta&&_schema$meta._customFields?setCustomFields(schema.meta._customFields):setCustomFields({})},[schema]);var refreshMeta=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}},_callee)}));return function refreshMeta(){return _ref2.apply(this,arguments)}}();return react.createElement(meta_context.Provider,{value:{customFields,loading:schemaLoading,error:schemaError,refreshMeta}},children)};var useMeta=function useMeta(){var context=(0,react.useContext)(meta_context);if(!context)throw new Error("useMeta must be used within a MetaProvider");return context},createTheme=__webpack_require__(76544),createTheme_createTheme=__webpack_require__(58749),emotion_element_f0de968e_browser_esm=__webpack_require__(24684);const useThemeWithoutDefault=function useTheme(defaultTheme=null){const contextTheme=react.useContext(emotion_element_f0de968e_browser_esm.T);return!contextTheme||function isObjectEmpty(obj){return 0===Object.keys(obj).length}(contextTheme)?defaultTheme:contextTheme},systemDefaultTheme=(0,createTheme_createTheme.A)();const esm_useTheme=function useTheme_useTheme(defaultTheme=systemDefaultTheme){return useThemeWithoutDefault(defaultTheme)};var defaultTheme=__webpack_require__(22765),identifier=__webpack_require__(58312);function styles_useTheme_useTheme(){const theme=esm_useTheme(defaultTheme.A);return theme[identifier.A]||theme}const useTheme_ThemeContext=react.createContext(null);function useTheme_useTheme_useTheme(){return react.useContext(useTheme_ThemeContext)}const nested="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var jsx_runtime=__webpack_require__(74848);const ThemeProvider_ThemeProvider=function ThemeProvider(props){const{children,theme:localTheme}=props,outerTheme=useTheme_useTheme_useTheme(),theme=react.useMemo(()=>{const output=null===outerTheme?localTheme:function mergeOuterLocalTheme(outerTheme,localTheme){if("function"==typeof localTheme)return localTheme(outerTheme);return(0,esm_extends.A)({},outerTheme,localTheme)}(outerTheme,localTheme);return null!=output&&(output[nested]=null!==outerTheme),output},[localTheme,outerTheme]);return(0,jsx_runtime.jsx)(useTheme_ThemeContext.Provider,{value:theme,children})},_excluded=["value"],RtlContext=react.createContext();const useRtl=()=>{const value=react.useContext(RtlContext);return null!=value&&value},esm_RtlProvider=function RtlProvider(_ref){let{value}=_ref,props=(0,objectWithoutPropertiesLoose.A)(_ref,_excluded);return(0,jsx_runtime.jsx)(RtlContext.Provider,(0,esm_extends.A)({value:null==value||value},props))};var DefaultPropsProvider=__webpack_require__(72221),useEnhancedEffect=__webpack_require__(21529),useId=__webpack_require__(34661),styled_engine=__webpack_require__(22532),GlobalStyles=__webpack_require__(39940);function wrapGlobalLayer(styles){const serialized=(0,styled_engine.internal_serializeStyles)(styles);return styles!==serialized&&serialized.styles?(serialized.styles.match(/^@layer\s+[^{]*$/)||(serialized.styles=`@layer global{${serialized.styles}}`),serialized):styles}const esm_GlobalStyles_GlobalStyles=function GlobalStyles_GlobalStyles({styles,themeId,defaultTheme={}}){const upperTheme=esm_useTheme(defaultTheme),resolvedTheme=themeId&&upperTheme[themeId]||upperTheme;let globalStyles="function"==typeof styles?styles(resolvedTheme):styles;return resolvedTheme.modularCssLayers&&(globalStyles=Array.isArray(globalStyles)?globalStyles.map(styleArg=>wrapGlobalLayer("function"==typeof styleArg?styleArg(resolvedTheme):styleArg)):wrapGlobalLayer(globalStyles)),(0,jsx_runtime.jsx)(GlobalStyles.A,{styles:globalStyles})};const EMPTY_THEME={};function useThemeScoping(themeId,upperTheme,localTheme,isPrivate=!1){return react.useMemo(()=>{const resolvedTheme=themeId&&upperTheme[themeId]||upperTheme;if("function"==typeof localTheme){const mergedTheme=localTheme(resolvedTheme),result=themeId?(0,esm_extends.A)({},upperTheme,{[themeId]:mergedTheme}):mergedTheme;return isPrivate?()=>result:result}return themeId?(0,esm_extends.A)({},upperTheme,{[themeId]:localTheme}):(0,esm_extends.A)({},upperTheme,localTheme)},[themeId,upperTheme,localTheme,isPrivate])}const esm_ThemeProvider_ThemeProvider=function ThemeProvider_ThemeProvider_ThemeProvider(props){const{children,theme:localTheme,themeId}=props,upperTheme=useThemeWithoutDefault(EMPTY_THEME),upperPrivateTheme=useTheme_useTheme_useTheme()||EMPTY_THEME,engineTheme=useThemeScoping(themeId,upperTheme,localTheme),privateTheme=useThemeScoping(themeId,upperPrivateTheme,localTheme,!0),rtlValue="rtl"===engineTheme.direction,layerOrder=function useLayerOrder(theme){const upperTheme=useThemeWithoutDefault(),id=(0,useId.A)()||"",{modularCssLayers}=theme;let layerOrder="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return layerOrder=modularCssLayers&&null===upperTheme?"string"==typeof modularCssLayers?modularCssLayers.replace(/mui(?!\.)/g,layerOrder):`@layer ${layerOrder};`:"",(0,useEnhancedEffect.A)(()=>{const head=document.querySelector("head");if(!head)return;const firstChild=head.firstChild;if(layerOrder){var _firstChild$hasAttrib;if(firstChild&&null!=(_firstChild$hasAttrib=firstChild.hasAttribute)&&_firstChild$hasAttrib.call(firstChild,"data-mui-layer-order")&&firstChild.getAttribute("data-mui-layer-order")===id)return;const styleElement=document.createElement("style");styleElement.setAttribute("data-mui-layer-order",id),styleElement.textContent=layerOrder,head.prepend(styleElement)}else{var _head$querySelector;null==(_head$querySelector=head.querySelector(`style[data-mui-layer-order="${id}"]`))||_head$querySelector.remove()}},[layerOrder,id]),layerOrder?(0,jsx_runtime.jsx)(esm_GlobalStyles_GlobalStyles,{styles:layerOrder}):null}(engineTheme);return(0,jsx_runtime.jsx)(ThemeProvider_ThemeProvider,{theme:privateTheme,children:(0,jsx_runtime.jsx)(emotion_element_f0de968e_browser_esm.T.Provider,{value:engineTheme,children:(0,jsx_runtime.jsx)(esm_RtlProvider,{value:rtlValue,children:(0,jsx_runtime.jsxs)(DefaultPropsProvider.A,{value:null==engineTheme?void 0:engineTheme.components,children:[layerOrder,children]})})})})},ThemeProvider_excluded=["theme"];function styles_ThemeProvider_ThemeProvider(_ref){let{theme:themeInput}=_ref,props=(0,objectWithoutPropertiesLoose.A)(_ref,ThemeProvider_excluded);const scopedTheme=themeInput[identifier.A];let finalTheme=scopedTheme||themeInput;return"function"!=typeof themeInput&&(scopedTheme&&!scopedTheme.vars?finalTheme=(0,esm_extends.A)({},scopedTheme,{vars:null}):themeInput&&!themeInput.vars&&(finalTheme=(0,esm_extends.A)({},themeInput,{vars:null}))),(0,jsx_runtime.jsx)(esm_ThemeProvider_ThemeProvider,(0,esm_extends.A)({},props,{themeId:scopedTheme?identifier.A:void 0,theme:finalTheme}))}var url_search_params=__webpack_require__(66512),url_search_params_default=__webpack_require__.n(url_search_params);function useIntl(){var intl=react.useContext(Context);return utils_invariantIntlContext(intl),intl}function message_FormattedMessage(props){var intl=useIntl(),formatMessage=intl.formatMessage,_a=intl.textComponent,Text=void 0===_a?react.Fragment:_a,id=props.id,description=props.description,defaultMessage=props.defaultMessage,values=props.values,children=props.children,_b=props.tagName,Component=void 0===_b?Text:_b,nodes=formatMessage({id,description,defaultMessage},values,{ignoreTag:props.ignoreTag});return"function"==typeof children?children(Array.isArray(nodes)?nodes:[nodes]):Component?react.createElement(Component,null,react.Children.toArray(nodes)):react.createElement(react.Fragment,null,nodes)}message_FormattedMessage.displayName="FormattedMessage";var MemoizedFormattedMessage=react.memo(message_FormattedMessage,function areEqual(prevProps,nextProps){var values=prevProps.values,otherProps=__rest(prevProps,["values"]),nextValues=nextProps.values,nextOtherProps=__rest(nextProps,["values"]);return shallowEqual(nextValues,values)&&shallowEqual(otherProps,nextOtherProps)});MemoizedFormattedMessage.displayName="MemoizedFormattedMessage";const message=MemoizedFormattedMessage;var clsx=__webpack_require__(34164),composeClasses=__webpack_require__(75659),styled=__webpack_require__(11848),DefaultPropsProvider_DefaultPropsProvider=__webpack_require__(25669),createSvgIcon=__webpack_require__(75003);const Person=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var generateUtilityClasses=__webpack_require__(38413),generateUtilityClass_generateUtilityClass=__webpack_require__(31609);function getAvatarUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiAvatar",slot)}(0,generateUtilityClasses.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var useForkRef=__webpack_require__(31523);const isHostComponent_isHostComponent=function isHostComponent(element){return"string"==typeof element};const appendOwnerState_appendOwnerState=function appendOwnerState(elementType,otherProps,ownerState){return void 0===elementType||isHostComponent_isHostComponent(elementType)?otherProps:(0,esm_extends.A)({},otherProps,{ownerState:(0,esm_extends.A)({},otherProps.ownerState,ownerState)})};const resolveComponentProps_resolveComponentProps=function resolveComponentProps(componentProps,ownerState,slotState){return"function"==typeof componentProps?componentProps(ownerState,slotState):componentProps};const extractEventHandlers_extractEventHandlers=function extractEventHandlers(object,excludeKeys=[]){if(void 0===object)return{};const result={};return Object.keys(object).filter(prop=>prop.match(/^on[A-Z]/)&&"function"==typeof object[prop]&&!excludeKeys.includes(prop)).forEach(prop=>{result[prop]=object[prop]}),result};const omitEventHandlers_omitEventHandlers=function omitEventHandlers(object){if(void 0===object)return{};const result={};return Object.keys(object).filter(prop=>!(prop.match(/^on[A-Z]/)&&"function"==typeof object[prop])).forEach(prop=>{result[prop]=object[prop]}),result};const mergeSlotProps_mergeSlotProps=function mergeSlotProps(parameters){const{getSlotProps,additionalProps,externalSlotProps,externalForwardedProps,className}=parameters;if(!getSlotProps){const joinedClasses=(0,clsx.A)(null==additionalProps?void 0:additionalProps.className,className,null==externalForwardedProps?void 0:externalForwardedProps.className,null==externalSlotProps?void 0:externalSlotProps.className),mergedStyle=(0,esm_extends.A)({},null==additionalProps?void 0:additionalProps.style,null==externalForwardedProps?void 0:externalForwardedProps.style,null==externalSlotProps?void 0:externalSlotProps.style),props=(0,esm_extends.A)({},additionalProps,externalForwardedProps,externalSlotProps);return joinedClasses.length>0&&(props.className=joinedClasses),Object.keys(mergedStyle).length>0&&(props.style=mergedStyle),{props,internalRef:void 0}}const eventHandlers=extractEventHandlers_extractEventHandlers((0,esm_extends.A)({},externalForwardedProps,externalSlotProps)),componentsPropsWithoutEventHandlers=omitEventHandlers_omitEventHandlers(externalSlotProps),otherPropsWithoutEventHandlers=omitEventHandlers_omitEventHandlers(externalForwardedProps),internalSlotProps=getSlotProps(eventHandlers),joinedClasses=(0,clsx.A)(null==internalSlotProps?void 0:internalSlotProps.className,null==additionalProps?void 0:additionalProps.className,className,null==externalForwardedProps?void 0:externalForwardedProps.className,null==externalSlotProps?void 0:externalSlotProps.className),mergedStyle=(0,esm_extends.A)({},null==internalSlotProps?void 0:internalSlotProps.style,null==additionalProps?void 0:additionalProps.style,null==externalForwardedProps?void 0:externalForwardedProps.style,null==externalSlotProps?void 0:externalSlotProps.style),props=(0,esm_extends.A)({},internalSlotProps,additionalProps,otherPropsWithoutEventHandlers,componentsPropsWithoutEventHandlers);return joinedClasses.length>0&&(props.className=joinedClasses),Object.keys(mergedStyle).length>0&&(props.style=mergedStyle),{props,internalRef:internalSlotProps.ref}},useSlot_excluded=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],_excluded2=["component","slots","slotProps"],_excluded3=["component"];function useSlot(name,parameters){const{className,elementType:initialElementType,ownerState,externalForwardedProps,getSlotOwnerState,internalForwardedProps}=parameters,useSlotPropsParams=(0,objectWithoutPropertiesLoose.A)(parameters,useSlot_excluded),{component:rootComponent,slots={[name]:void 0},slotProps={[name]:void 0}}=externalForwardedProps,other=(0,objectWithoutPropertiesLoose.A)(externalForwardedProps,_excluded2),elementType=slots[name]||initialElementType,resolvedComponentsProps=resolveComponentProps_resolveComponentProps(slotProps[name],ownerState),_mergeSlotProps=mergeSlotProps_mergeSlotProps((0,esm_extends.A)({className},useSlotPropsParams,{externalForwardedProps:"root"===name?other:void 0,externalSlotProps:resolvedComponentsProps})),{props:{component:slotComponent},internalRef}=_mergeSlotProps,mergedProps=(0,objectWithoutPropertiesLoose.A)(_mergeSlotProps.props,_excluded3),ref=(0,useForkRef.A)(internalRef,null==resolvedComponentsProps?void 0:resolvedComponentsProps.ref,parameters.ref),slotOwnerState=getSlotOwnerState?getSlotOwnerState(mergedProps):{},finalOwnerState=(0,esm_extends.A)({},ownerState,slotOwnerState),LeafComponent="root"===name?slotComponent||rootComponent:slotComponent,props=appendOwnerState_appendOwnerState(elementType,(0,esm_extends.A)({},"root"===name&&!rootComponent&&!slots[name]&&internalForwardedProps,"root"!==name&&!slots[name]&&internalForwardedProps,mergedProps,LeafComponent&&{as:LeafComponent},{ref}),finalOwnerState);return Object.keys(slotOwnerState).forEach(propName=>{delete props[propName]}),[elementType,props]}const Avatar_excluded=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],AvatarRoot=(0,styled.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],ownerState.colorDefault&&styles.colorDefault]}})(({theme})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:theme.typography.fontFamily,fontSize:theme.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(theme.vars||theme).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,esm_extends.A)({color:(theme.vars||theme).palette.background.default},theme.vars?{backgroundColor:theme.vars.palette.Avatar.defaultBg}:(0,esm_extends.A)({backgroundColor:theme.palette.grey[400]},theme.applyStyles("dark",{backgroundColor:theme.palette.grey[600]})))}]})),AvatarImg=(0,styled.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(props,styles)=>styles.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),AvatarFallback=(0,styled.Ay)(Person,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(props,styles)=>styles.fallback})({width:"75%",height:"75%"});const Avatar=react.forwardRef(function Avatar(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiAvatar"}),{alt,children:childrenProp,className,component="div",slots={},slotProps={},imgProps,sizes,src,srcSet,variant="circular"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Avatar_excluded);let children=null;const loaded=function useLoaded({crossOrigin,referrerPolicy,src,srcSet}){const[loaded,setLoaded]=react.useState(!1);return react.useEffect(()=>{if(!src&&!srcSet)return;setLoaded(!1);let active=!0;const image=new Image;return image.onload=()=>{active&&setLoaded("loaded")},image.onerror=()=>{active&&setLoaded("error")},image.crossOrigin=crossOrigin,image.referrerPolicy=referrerPolicy,image.src=src,srcSet&&(image.srcset=srcSet),()=>{active=!1}},[crossOrigin,referrerPolicy,src,srcSet]),loaded}((0,esm_extends.A)({},imgProps,{src,srcSet})),hasImg=src||srcSet,hasImgNotFailing=hasImg&&"error"!==loaded,ownerState=(0,esm_extends.A)({},props,{colorDefault:!hasImgNotFailing,component,variant}),classes=(ownerState=>{const{classes,variant,colorDefault}=ownerState,slots={root:["root",variant,colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,composeClasses.A)(slots,getAvatarUtilityClass,classes)})(ownerState),[ImgSlot,imgSlotProps]=useSlot("img",{className:classes.img,elementType:AvatarImg,externalForwardedProps:{slots,slotProps:{img:(0,esm_extends.A)({},imgProps,slotProps.img)}},additionalProps:{alt,src,srcSet,sizes},ownerState});return children=hasImgNotFailing?(0,jsx_runtime.jsx)(ImgSlot,(0,esm_extends.A)({},imgSlotProps)):childrenProp||0===childrenProp?childrenProp:hasImg&&alt?alt[0]:(0,jsx_runtime.jsx)(AvatarFallback,{ownerState,className:classes.fallback}),(0,jsx_runtime.jsx)(AvatarRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other,{children}))}),Avatar_Avatar=Avatar;const material_GlobalStyles_GlobalStyles=function GlobalStyles_GlobalStyles_GlobalStyles(props){return(0,jsx_runtime.jsx)(esm_GlobalStyles_GlobalStyles,(0,esm_extends.A)({},props,{defaultTheme:defaultTheme.A,themeId:identifier.A}))},html=(theme,enableColorScheme)=>(0,esm_extends.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},enableColorScheme&&!theme.vars&&{colorScheme:theme.palette.mode}),body=theme=>(0,esm_extends.A)({color:(theme.vars||theme).palette.text.primary},theme.typography.body1,{backgroundColor:(theme.vars||theme).palette.background.default,"@media print":{backgroundColor:(theme.vars||theme).palette.common.white}});const CssBaseline_CssBaseline=function CssBaseline(inProps){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCssBaseline"}),{children,enableColorScheme=!1}=props;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(material_GlobalStyles_GlobalStyles,{styles:theme=>((theme,enableColorScheme=!1)=>{var _theme$components;const colorSchemeStyles={};enableColorScheme&&theme.colorSchemes&&Object.entries(theme.colorSchemes).forEach(([key,scheme])=>{var _scheme$palette;colorSchemeStyles[theme.getColorSchemeSelector(key).replace(/\s*&/,"")]={colorScheme:null==(_scheme$palette=scheme.palette)?void 0:_scheme$palette.mode}});let defaultStyles=(0,esm_extends.A)({html:html(theme,enableColorScheme),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:theme.typography.fontWeightBold},body:(0,esm_extends.A)({margin:0},body(theme),{"&::backdrop":{backgroundColor:(theme.vars||theme).palette.background.default}})},colorSchemeStyles);const themeOverrides=null==(_theme$components=theme.components)||null==(_theme$components=_theme$components.MuiCssBaseline)?void 0:_theme$components.styleOverrides;return themeOverrides&&(defaultStyles=[defaultStyles,themeOverrides]),defaultStyles})(theme,enableColorScheme)}),children]})};var styleFunctionSx=__webpack_require__(33571),extendSxProp=__webpack_require__(39599);const createBox_excluded=["className","component"];var ClassNameGenerator=__webpack_require__(79071);const Box_boxClasses=(0,generateUtilityClasses.A)("MuiBox",["root"]),Box_defaultTheme=(0,createTheme.A)(),Box_Box=function createBox(options={}){const{themeId,defaultTheme,defaultClassName="MuiBox-root",generateClassName}=options,BoxRoot=(0,styled_engine.default)("div",{shouldForwardProp:prop=>"theme"!==prop&&"sx"!==prop&&"as"!==prop})(styleFunctionSx.A),Box=react.forwardRef(function Box(inProps,ref){const theme=esm_useTheme(defaultTheme),_extendSxProp=(0,extendSxProp.A)(inProps),{className,component="div"}=_extendSxProp,other=(0,objectWithoutPropertiesLoose.A)(_extendSxProp,createBox_excluded);return(0,jsx_runtime.jsx)(BoxRoot,(0,esm_extends.A)({as:component,ref,className:(0,clsx.A)(className,generateClassName?generateClassName(defaultClassName):defaultClassName),theme:themeId&&theme[themeId]||theme},other))});return Box}({themeId:identifier.A,defaultTheme:Box_defaultTheme,defaultClassName:Box_boxClasses.root,generateClassName:ClassNameGenerator.A.generate}),material_Box_Box=Box_Box;var LockOutlined=__webpack_require__(5012),capitalize=__webpack_require__(28466);function getTypographyUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTypography",slot)}(0,generateUtilityClasses.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Typography_excluded=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],TypographyRoot=(0,styled.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.variant&&styles[ownerState.variant],"inherit"!==ownerState.align&&styles[`align${(0,capitalize.A)(ownerState.align)}`],ownerState.noWrap&&styles.noWrap,ownerState.gutterBottom&&styles.gutterBottom,ownerState.paragraph&&styles.paragraph]}})(({theme,ownerState})=>(0,esm_extends.A)({margin:0},"inherit"===ownerState.variant&&{font:"inherit"},"inherit"!==ownerState.variant&&theme.typography[ownerState.variant],"inherit"!==ownerState.align&&{textAlign:ownerState.align},ownerState.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ownerState.gutterBottom&&{marginBottom:"0.35em"},ownerState.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Typography_Typography=react.forwardRef(function Typography(inProps,ref){const themeProps=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTypography"}),color=(color=>colorTransformations[color]||color)(themeProps.color),props=(0,extendSxProp.A)((0,esm_extends.A)({},themeProps,{color})),{align="inherit",className,component,gutterBottom=!1,noWrap=!1,paragraph=!1,variant="body1",variantMapping=defaultVariantMapping}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Typography_excluded),ownerState=(0,esm_extends.A)({},props,{align,color,className,component,gutterBottom,noWrap,paragraph,variant,variantMapping}),Component=component||(paragraph?"p":variantMapping[variant]||defaultVariantMapping[variant])||"span",classes=(ownerState=>{const{align,gutterBottom,noWrap,paragraph,variant,classes}=ownerState,slots={root:["root",variant,"inherit"!==ownerState.align&&`align${(0,capitalize.A)(align)}`,gutterBottom&&"gutterBottom",noWrap&&"noWrap",paragraph&&"paragraph"]};return(0,composeClasses.A)(slots,getTypographyUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(TypographyRoot,(0,esm_extends.A)({as:Component,ref,ownerState,className:(0,clsx.A)(classes.root,className)},other))}),material_Typography_Typography=Typography_Typography;var capitalize_capitalize=__webpack_require__(13967),resolveProps=__webpack_require__(47379);function getThemeProps(params){const{theme,name,props}=params;return theme&&theme.components&&theme.components[name]&&theme.components[name].defaultProps?(0,resolveProps.A)(theme.components[name].defaultProps,props):props}function useThemeProps({props,name,defaultTheme,themeId}){let theme=esm_useTheme(defaultTheme);themeId&&(theme=theme[themeId]||theme);return getThemeProps({theme,name,props})}var deepmerge=__webpack_require__(11317);const createStyled_excluded=["ownerState"],createStyled_excluded2=["variants"],createStyled_excluded3=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function shouldForwardProp(prop){return"ownerState"!==prop&&"theme"!==prop&&"sx"!==prop&&"as"!==prop}function shallowLayer(serialized,layerName){return layerName&&serialized&&"object"==typeof serialized&&serialized.styles&&!serialized.styles.startsWith("@layer")&&(serialized.styles=`@layer ${layerName}{${String(serialized.styles)}}`),serialized}const createStyled_systemDefaultTheme=(0,createTheme_createTheme.A)(),lowercaseFirstLetter=string=>string?string.charAt(0).toLowerCase()+string.slice(1):string;function resolveTheme({defaultTheme,theme,themeId}){return function createStyled_isEmpty(obj){return 0===Object.keys(obj).length}(theme)?defaultTheme:theme[themeId]||theme}function defaultOverridesResolver(slot){return slot?(props,styles)=>styles[slot]:null}function processStyleArg(callableStyle,_ref,layerName){let{ownerState}=_ref,props=(0,objectWithoutPropertiesLoose.A)(_ref,createStyled_excluded);const resolvedStylesArg="function"==typeof callableStyle?callableStyle((0,esm_extends.A)({ownerState},props)):callableStyle;if(Array.isArray(resolvedStylesArg))return resolvedStylesArg.flatMap(resolvedStyle=>processStyleArg(resolvedStyle,(0,esm_extends.A)({ownerState},props),layerName));if(resolvedStylesArg&&"object"==typeof resolvedStylesArg&&Array.isArray(resolvedStylesArg.variants)){const{variants=[]}=resolvedStylesArg;let result=(0,objectWithoutPropertiesLoose.A)(resolvedStylesArg,createStyled_excluded2);return variants.forEach(variant=>{let isMatch=!0;if("function"==typeof variant.props?isMatch=variant.props((0,esm_extends.A)({ownerState},props,ownerState)):Object.keys(variant.props).forEach(key=>{(null==ownerState?void 0:ownerState[key])!==variant.props[key]&&props[key]!==variant.props[key]&&(isMatch=!1)}),isMatch){Array.isArray(result)||(result=[result]);const variantStyle="function"==typeof variant.style?variant.style((0,esm_extends.A)({ownerState},props,ownerState)):variant.style;result.push(layerName?shallowLayer((0,styled_engine.internal_serializeStyles)(variantStyle),layerName):variantStyle)}}),result}return layerName?shallowLayer((0,styled_engine.internal_serializeStyles)(resolvedStylesArg),layerName):resolvedStylesArg}const styled_styled=function createStyled(input={}){const{themeId,defaultTheme=createStyled_systemDefaultTheme,rootShouldForwardProp=shouldForwardProp,slotShouldForwardProp=shouldForwardProp}=input,systemSx=props=>(0,styleFunctionSx.A)((0,esm_extends.A)({},props,{theme:resolveTheme((0,esm_extends.A)({},props,{defaultTheme,themeId}))}));return systemSx.__mui_systemSx=!0,(tag,inputOptions={})=>{(0,styled_engine.internal_processStyles)(tag,styles=>styles.filter(style=>!(null!=style&&style.__mui_systemSx)));const{name:componentName,slot:componentSlot,skipVariantsResolver:inputSkipVariantsResolver,skipSx:inputSkipSx,overridesResolver=defaultOverridesResolver(lowercaseFirstLetter(componentSlot))}=inputOptions,options=(0,objectWithoutPropertiesLoose.A)(inputOptions,createStyled_excluded3),layerName=componentName&&componentName.startsWith("Mui")||componentSlot?"components":"custom",skipVariantsResolver=void 0!==inputSkipVariantsResolver?inputSkipVariantsResolver:componentSlot&&"Root"!==componentSlot&&"root"!==componentSlot||!1,skipSx=inputSkipSx||!1;let shouldForwardPropOption=shouldForwardProp;"Root"===componentSlot||"root"===componentSlot?shouldForwardPropOption=rootShouldForwardProp:componentSlot?shouldForwardPropOption=slotShouldForwardProp:function isStringTag(tag){return"string"==typeof tag&&tag.charCodeAt(0)>96}(tag)&&(shouldForwardPropOption=void 0);const defaultStyledResolver=(0,styled_engine.default)(tag,(0,esm_extends.A)({shouldForwardProp:shouldForwardPropOption,label:undefined},options)),transformStyleArg=stylesArg=>"function"==typeof stylesArg&&stylesArg.__emotion_real!==stylesArg||(0,deepmerge.Q)(stylesArg)?props=>{const theme=resolveTheme({theme:props.theme,defaultTheme,themeId});return processStyleArg(stylesArg,(0,esm_extends.A)({},props,{theme}),theme.modularCssLayers?layerName:void 0)}:stylesArg,muiStyledResolver=(styleArg,...expressions)=>{let transformedStyleArg=transformStyleArg(styleArg);const expressionsWithDefaultTheme=expressions?expressions.map(transformStyleArg):[];componentName&&overridesResolver&&expressionsWithDefaultTheme.push(props=>{const theme=resolveTheme((0,esm_extends.A)({},props,{defaultTheme,themeId}));if(!theme.components||!theme.components[componentName]||!theme.components[componentName].styleOverrides)return null;const styleOverrides=theme.components[componentName].styleOverrides,resolvedStyleOverrides={};return Object.entries(styleOverrides).forEach(([slotKey,slotStyle])=>{resolvedStyleOverrides[slotKey]=processStyleArg(slotStyle,(0,esm_extends.A)({},props,{theme}),theme.modularCssLayers?"theme":void 0)}),overridesResolver(props,resolvedStyleOverrides)}),componentName&&!skipVariantsResolver&&expressionsWithDefaultTheme.push(props=>{var _theme$components;const theme=resolveTheme((0,esm_extends.A)({},props,{defaultTheme,themeId}));return processStyleArg({variants:null==theme||null==(_theme$components=theme.components)||null==(_theme$components=_theme$components[componentName])?void 0:_theme$components.variants},(0,esm_extends.A)({},props,{theme}),theme.modularCssLayers?"theme":void 0)}),skipSx||expressionsWithDefaultTheme.push(systemSx);const numOfCustomFnsApplied=expressionsWithDefaultTheme.length-expressions.length;if(Array.isArray(styleArg)&&numOfCustomFnsApplied>0){const placeholders=new Array(numOfCustomFnsApplied).fill("");transformedStyleArg=[...styleArg,...placeholders],transformedStyleArg.raw=[...styleArg.raw,...placeholders]}const Component=defaultStyledResolver(transformedStyleArg,...expressionsWithDefaultTheme);return tag.muiName&&(Component.muiName=tag.muiName),Component};return defaultStyledResolver.withConfig&&(muiStyledResolver.withConfig=defaultStyledResolver.withConfig),muiStyledResolver}}(),esm_styled=styled_styled,createContainer_excluded=["className","component","disableGutters","fixed","maxWidth","classes"],createContainer_defaultTheme=(0,createTheme_createTheme.A)(),defaultCreateStyledComponent=esm_styled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`maxWidth${(0,capitalize_capitalize.A)(String(ownerState.maxWidth))}`],ownerState.fixed&&styles.fixed,ownerState.disableGutters&&styles.disableGutters]}}),useThemePropsDefault=inProps=>useThemeProps({props:inProps,name:"MuiContainer",defaultTheme:createContainer_defaultTheme});const Container=function createContainer(options={}){const{createStyledComponent=defaultCreateStyledComponent,useThemeProps=useThemePropsDefault,componentName="MuiContainer"}=options,ContainerRoot=createStyledComponent(({theme,ownerState})=>(0,esm_extends.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!ownerState.disableGutters&&{paddingLeft:theme.spacing(2),paddingRight:theme.spacing(2),[theme.breakpoints.up("sm")]:{paddingLeft:theme.spacing(3),paddingRight:theme.spacing(3)}}),({theme,ownerState})=>ownerState.fixed&&Object.keys(theme.breakpoints.values).reduce((acc,breakpointValueKey)=>{const breakpoint=breakpointValueKey,value=theme.breakpoints.values[breakpoint];return 0!==value&&(acc[theme.breakpoints.up(breakpoint)]={maxWidth:`${value}${theme.breakpoints.unit}`}),acc},{}),({theme,ownerState})=>(0,esm_extends.A)({},"xs"===ownerState.maxWidth&&{[theme.breakpoints.up("xs")]:{maxWidth:Math.max(theme.breakpoints.values.xs,444)}},ownerState.maxWidth&&"xs"!==ownerState.maxWidth&&{[theme.breakpoints.up(ownerState.maxWidth)]:{maxWidth:`${theme.breakpoints.values[ownerState.maxWidth]}${theme.breakpoints.unit}`}})),Container=react.forwardRef(function Container(inProps,ref){const props=useThemeProps(inProps),{className,component="div",disableGutters=!1,fixed=!1,maxWidth="lg"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,createContainer_excluded),ownerState=(0,esm_extends.A)({},props,{component,disableGutters,fixed,maxWidth}),classes=((ownerState,componentName)=>{const{classes,fixed,disableGutters,maxWidth}=ownerState,slots={root:["root",maxWidth&&`maxWidth${(0,capitalize_capitalize.A)(String(maxWidth))}`,fixed&&"fixed",disableGutters&&"disableGutters"]};return(0,composeClasses.A)(slots,slot=>(0,generateUtilityClass_generateUtilityClass.Ay)(componentName,slot),classes)})(ownerState,componentName);return(0,jsx_runtime.jsx)(ContainerRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other))});return Container}({createStyledComponent:(0,styled.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`maxWidth${(0,capitalize.A)(String(ownerState.maxWidth))}`],ownerState.fixed&&styles.fixed,ownerState.disableGutters&&styles.disableGutters]}}),useThemeProps:inProps=>(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiContainer"})}),Container_Container=Container,useSlotProps_excluded=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const useSlotProps_useSlotProps=function useSlotProps(parameters){var _parameters$additiona;const{elementType,externalSlotProps,ownerState,skipResolvingSlotProps=!1}=parameters,rest=(0,objectWithoutPropertiesLoose.A)(parameters,useSlotProps_excluded),resolvedComponentsProps=skipResolvingSlotProps?{}:resolveComponentProps_resolveComponentProps(externalSlotProps,ownerState),{props:mergedProps,internalRef}=mergeSlotProps_mergeSlotProps((0,esm_extends.A)({},rest,{externalSlotProps:resolvedComponentsProps})),ref=(0,useForkRef.A)(internalRef,null==resolvedComponentsProps?void 0:resolvedComponentsProps.ref,null==(_parameters$additiona=parameters.additionalProps)?void 0:_parameters$additiona.ref);return appendOwnerState_appendOwnerState(elementType,(0,esm_extends.A)({},mergedProps,{ref}),ownerState)};var debounce=__webpack_require__(1935);let cachedType;function detectScrollType(){if(cachedType)return cachedType;const dummy=document.createElement("div"),container=document.createElement("div");return container.style.width="10px",container.style.height="1px",dummy.appendChild(container),dummy.dir="rtl",dummy.style.fontSize="14px",dummy.style.width="4px",dummy.style.height="1px",dummy.style.position="absolute",dummy.style.top="-1000px",dummy.style.overflow="scroll",document.body.appendChild(dummy),cachedType="reverse",dummy.scrollLeft>0?cachedType="default":(dummy.scrollLeft=1,0===dummy.scrollLeft&&(cachedType="negative")),document.body.removeChild(dummy),cachedType}function getNormalizedScrollLeft(element,direction){const scrollLeft=element.scrollLeft;if("rtl"!==direction)return scrollLeft;switch(detectScrollType()){case"negative":return element.scrollWidth-element.clientWidth+scrollLeft;case"reverse":return element.scrollWidth-element.clientWidth-scrollLeft;default:return scrollLeft}}function easeInOutSin(time){return(1+Math.sin(Math.PI*time-Math.PI/2))/2}var utils_useEnhancedEffect=__webpack_require__(2778),ownerWindow=__webpack_require__(93749);const ScrollbarSize_excluded=["onChange"],ScrollbarSize_styles={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const KeyboardArrowLeft=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KeyboardArrowRight=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var utils_useForkRef=__webpack_require__(96852),useEventCallback=__webpack_require__(83034),useIsFocusVisible=__webpack_require__(81984);const TransitionGroupContext=react.createContext(null);function getChildMapping(children,mapFn){var result=Object.create(null);return children&&react.Children.map(children,function(c){return c}).forEach(function(child){result[child.key]=function mapper(child){return mapFn&&(0,react.isValidElement)(child)?mapFn(child):child}(child)}),result}function getProp(child,prop,props){return null!=props[prop]?props[prop]:child.props[prop]}function getNextChildMapping(nextProps,prevChildMapping,onExited){var nextChildMapping=getChildMapping(nextProps.children),children=function mergeChildMappings(prev,next){function getValueForKey(key){return key in next?next[key]:prev[key]}prev=prev||{},next=next||{};var i,nextKeysPending=Object.create(null),pendingKeys=[];for(var prevKey in prev)prevKey in next?pendingKeys.length&&(nextKeysPending[prevKey]=pendingKeys,pendingKeys=[]):pendingKeys.push(prevKey);var childMapping={};for(var nextKey in next){if(nextKeysPending[nextKey])for(i=0;i<nextKeysPending[nextKey].length;i++){var pendingNextKey=nextKeysPending[nextKey][i];childMapping[nextKeysPending[nextKey][i]]=getValueForKey(pendingNextKey)}childMapping[nextKey]=getValueForKey(nextKey)}for(i=0;i<pendingKeys.length;i++)childMapping[pendingKeys[i]]=getValueForKey(pendingKeys[i]);return childMapping}(prevChildMapping,nextChildMapping);return Object.keys(children).forEach(function(key){var child=children[key];if((0,react.isValidElement)(child)){var hasPrev=key in prevChildMapping,hasNext=key in nextChildMapping,prevChild=prevChildMapping[key],isLeaving=(0,react.isValidElement)(prevChild)&&!prevChild.props.in;!hasNext||hasPrev&&!isLeaving?hasNext||!hasPrev||isLeaving?hasNext&&hasPrev&&(0,react.isValidElement)(prevChild)&&(children[key]=(0,react.cloneElement)(child,{onExited:onExited.bind(null,child),in:prevChild.props.in,exit:getProp(child,"exit",nextProps),enter:getProp(child,"enter",nextProps)})):children[key]=(0,react.cloneElement)(child,{in:!1}):children[key]=(0,react.cloneElement)(child,{onExited:onExited.bind(null,child),in:!0,exit:getProp(child,"exit",nextProps),enter:getProp(child,"enter",nextProps)})}}),children}var TransitionGroup_values=Object.values||function(obj){return Object.keys(obj).map(function(k){return obj[k]})},TransitionGroup=function(_React$Component){function TransitionGroup(props,context){var _this,handleExited=(_this=_React$Component.call(this,props,context)||this).handleExited.bind(function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(_this));return _this.state={contextValue:{isMounting:!0},handleExited,firstRender:!0},_this}_inheritsLoose(TransitionGroup,_React$Component);var _proto=TransitionGroup.prototype;return _proto.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},_proto.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(nextProps,_ref){var props,onExited,prevChildMapping=_ref.children,handleExited=_ref.handleExited;return{children:_ref.firstRender?(props=nextProps,onExited=handleExited,getChildMapping(props.children,function(child){return(0,react.cloneElement)(child,{onExited:onExited.bind(null,child),in:!0,appear:getProp(child,"appear",props),enter:getProp(child,"enter",props),exit:getProp(child,"exit",props)})})):getNextChildMapping(nextProps,prevChildMapping,handleExited),firstRender:!1}},_proto.handleExited=function handleExited(child,node){var currentChildMapping=getChildMapping(this.props.children);child.key in currentChildMapping||(child.props.onExited&&child.props.onExited(node),this.mounted&&this.setState(function(state){var children=(0,esm_extends.A)({},state.children);return delete children[child.key],{children}}))},_proto.render=function render(){var _this$props=this.props,Component=_this$props.component,childFactory=_this$props.childFactory,props=(0,objectWithoutPropertiesLoose.A)(_this$props,["component","childFactory"]),contextValue=this.state.contextValue,children=TransitionGroup_values(this.state.children).map(childFactory);return delete props.appear,delete props.enter,delete props.exit,null===Component?react.createElement(TransitionGroupContext.Provider,{value:contextValue},children):react.createElement(TransitionGroupContext.Provider,{value:contextValue},react.createElement(Component,props,children))},TransitionGroup}(react.Component);TransitionGroup.propTypes={},TransitionGroup.defaultProps={component:"div",childFactory:function childFactory(child){return child}};const esm_TransitionGroup=TransitionGroup;var emotion_react_browser_esm=__webpack_require__(17437),useTimeout=__webpack_require__(33068);const ButtonBase_Ripple=function Ripple(props){const{className,classes,pulsate=!1,rippleX,rippleY,rippleSize,in:inProp,onExited,timeout}=props,[leaving,setLeaving]=react.useState(!1),rippleClassName=(0,clsx.A)(className,classes.ripple,classes.rippleVisible,pulsate&&classes.ripplePulsate),rippleStyles={width:rippleSize,height:rippleSize,top:-rippleSize/2+rippleY,left:-rippleSize/2+rippleX},childClassName=(0,clsx.A)(classes.child,leaving&&classes.childLeaving,pulsate&&classes.childPulsate);return inProp||leaving||setLeaving(!0),react.useEffect(()=>{if(!inProp&&null!=onExited){const timeoutId=setTimeout(onExited,timeout);return()=>{clearTimeout(timeoutId)}}},[onExited,inProp,timeout]),(0,jsx_runtime.jsx)("span",{className:rippleClassName,style:rippleStyles,children:(0,jsx_runtime.jsx)("span",{className:childClassName})})};const ButtonBase_touchRippleClasses=(0,generateUtilityClasses.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),TouchRipple_excluded=["center","classes","className"];let TouchRipple_t,_t2,_t3,_t4,_=t=>t;const enterKeyframe=(0,emotion_react_browser_esm.i7)(TouchRipple_t||(TouchRipple_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=(0,emotion_react_browser_esm.i7)(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=(0,emotion_react_browser_esm.i7)(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=(0,styled.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=(0,styled.Ay)(ButtonBase_Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ButtonBase_touchRippleClasses.rippleVisible,enterKeyframe,550,({theme})=>theme.transitions.easing.easeInOut,ButtonBase_touchRippleClasses.ripplePulsate,({theme})=>theme.transitions.duration.shorter,ButtonBase_touchRippleClasses.child,ButtonBase_touchRippleClasses.childLeaving,exitKeyframe,550,({theme})=>theme.transitions.easing.easeInOut,ButtonBase_touchRippleClasses.childPulsate,pulsateKeyframe,({theme})=>theme.transitions.easing.easeInOut),TouchRipple=react.forwardRef(function TouchRipple(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTouchRipple"}),{center:centerProp=!1,classes={},className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TouchRipple_excluded),[ripples,setRipples]=react.useState([]),nextKey=react.useRef(0),rippleCallback=react.useRef(null);react.useEffect(()=>{rippleCallback.current&&(rippleCallback.current(),rippleCallback.current=null)},[ripples]);const ignoringMouseDown=react.useRef(!1),startTimer=(0,useTimeout.A)(),startTimerCommit=react.useRef(null),container=react.useRef(null),startCommit=react.useCallback(params=>{const{pulsate,rippleX,rippleY,rippleSize,cb}=params;setRipples(oldRipples=>[...oldRipples,(0,jsx_runtime.jsx)(TouchRippleRipple,{classes:{ripple:(0,clsx.A)(classes.ripple,ButtonBase_touchRippleClasses.ripple),rippleVisible:(0,clsx.A)(classes.rippleVisible,ButtonBase_touchRippleClasses.rippleVisible),ripplePulsate:(0,clsx.A)(classes.ripplePulsate,ButtonBase_touchRippleClasses.ripplePulsate),child:(0,clsx.A)(classes.child,ButtonBase_touchRippleClasses.child),childLeaving:(0,clsx.A)(classes.childLeaving,ButtonBase_touchRippleClasses.childLeaving),childPulsate:(0,clsx.A)(classes.childPulsate,ButtonBase_touchRippleClasses.childPulsate)},timeout:550,pulsate,rippleX,rippleY,rippleSize},nextKey.current)]),nextKey.current+=1,rippleCallback.current=cb},[classes]),start=react.useCallback((event={},options={},cb=()=>{})=>{const{pulsate=!1,center=centerProp||options.pulsate,fakeElement=!1}=options;if("mousedown"===(null==event?void 0:event.type)&&ignoringMouseDown.current)return void(ignoringMouseDown.current=!1);"touchstart"===(null==event?void 0:event.type)&&(ignoringMouseDown.current=!0);const element=fakeElement?null:container.current,rect=element?element.getBoundingClientRect():{width:0,height:0,left:0,top:0};let rippleX,rippleY,rippleSize;if(center||void 0===event||0===event.clientX&&0===event.clientY||!event.clientX&&!event.touches)rippleX=Math.round(rect.width/2),rippleY=Math.round(rect.height/2);else{const{clientX,clientY}=event.touches&&event.touches.length>0?event.touches[0]:event;rippleX=Math.round(clientX-rect.left),rippleY=Math.round(clientY-rect.top)}if(center)rippleSize=Math.sqrt((2*rect.width**2+rect.height**2)/3),rippleSize%2==0&&(rippleSize+=1);else{const sizeX=2*Math.max(Math.abs((element?element.clientWidth:0)-rippleX),rippleX)+2,sizeY=2*Math.max(Math.abs((element?element.clientHeight:0)-rippleY),rippleY)+2;rippleSize=Math.sqrt(sizeX**2+sizeY**2)}null!=event&&event.touches?null===startTimerCommit.current&&(startTimerCommit.current=()=>{startCommit({pulsate,rippleX,rippleY,rippleSize,cb})},startTimer.start(80,()=>{startTimerCommit.current&&(startTimerCommit.current(),startTimerCommit.current=null)})):startCommit({pulsate,rippleX,rippleY,rippleSize,cb})},[centerProp,startCommit,startTimer]),pulsate=react.useCallback(()=>{start({},{pulsate:!0})},[start]),stop=react.useCallback((event,cb)=>{if(startTimer.clear(),"touchend"===(null==event?void 0:event.type)&&startTimerCommit.current)return startTimerCommit.current(),startTimerCommit.current=null,void startTimer.start(0,()=>{stop(event,cb)});startTimerCommit.current=null,setRipples(oldRipples=>oldRipples.length>0?oldRipples.slice(1):oldRipples),rippleCallback.current=cb},[startTimer]);return react.useImperativeHandle(ref,()=>({pulsate,start,stop}),[pulsate,start,stop]),(0,jsx_runtime.jsx)(TouchRippleRoot,(0,esm_extends.A)({className:(0,clsx.A)(ButtonBase_touchRippleClasses.root,classes.root,className),ref:container},other,{children:(0,jsx_runtime.jsx)(esm_TransitionGroup,{component:null,exit:!0,children:ripples})}))}),ButtonBase_TouchRipple=TouchRipple;function getButtonBaseUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiButtonBase",slot)}const ButtonBase_buttonBaseClasses=(0,generateUtilityClasses.A)("MuiButtonBase",["root","disabled","focusVisible"]),ButtonBase_excluded=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ButtonBaseRoot=(0,styled.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(props,styles)=>styles.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ButtonBase_buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=react.forwardRef(function ButtonBase(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiButtonBase"}),{action,centerRipple=!1,children,className,component="button",disabled=!1,disableRipple=!1,disableTouchRipple=!1,focusRipple=!1,LinkComponent="a",onBlur,onClick,onContextMenu,onDragLeave,onFocus,onFocusVisible,onKeyDown,onKeyUp,onMouseDown,onMouseLeave,onMouseUp,onTouchEnd,onTouchMove,onTouchStart,tabIndex=0,TouchRippleProps,touchRippleRef,type}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ButtonBase_excluded),buttonRef=react.useRef(null),rippleRef=react.useRef(null),handleRippleRef=(0,utils_useForkRef.A)(rippleRef,touchRippleRef),{isFocusVisibleRef,onFocus:handleFocusVisible,onBlur:handleBlurVisible,ref:focusVisibleRef}=(0,useIsFocusVisible.A)(),[focusVisible,setFocusVisible]=react.useState(!1);disabled&&focusVisible&&setFocusVisible(!1),react.useImperativeHandle(action,()=>({focusVisible:()=>{setFocusVisible(!0),buttonRef.current.focus()}}),[]);const[mountedState,setMountedState]=react.useState(!1);react.useEffect(()=>{setMountedState(!0)},[]);const enableTouchRipple=mountedState&&!disableRipple&&!disabled;function useRippleHandler(rippleAction,eventCallback,skipRippleAction=disableTouchRipple){return(0,useEventCallback.A)(event=>{eventCallback&&eventCallback(event);return!skipRippleAction&&rippleRef.current&&rippleRef.current[rippleAction](event),!0})}react.useEffect(()=>{focusVisible&&focusRipple&&!disableRipple&&mountedState&&rippleRef.current.pulsate()},[disableRipple,focusRipple,focusVisible,mountedState]);const handleMouseDown=useRippleHandler("start",onMouseDown),handleContextMenu=useRippleHandler("stop",onContextMenu),handleDragLeave=useRippleHandler("stop",onDragLeave),handleMouseUp=useRippleHandler("stop",onMouseUp),handleMouseLeave=useRippleHandler("stop",event=>{focusVisible&&event.preventDefault(),onMouseLeave&&onMouseLeave(event)}),handleTouchStart=useRippleHandler("start",onTouchStart),handleTouchEnd=useRippleHandler("stop",onTouchEnd),handleTouchMove=useRippleHandler("stop",onTouchMove),handleBlur=useRippleHandler("stop",event=>{handleBlurVisible(event),!1===isFocusVisibleRef.current&&setFocusVisible(!1),onBlur&&onBlur(event)},!1),handleFocus=(0,useEventCallback.A)(event=>{buttonRef.current||(buttonRef.current=event.currentTarget),handleFocusVisible(event),!0===isFocusVisibleRef.current&&(setFocusVisible(!0),onFocusVisible&&onFocusVisible(event)),onFocus&&onFocus(event)}),isNonNativeButton=()=>{const button=buttonRef.current;return component&&"button"!==component&&!("A"===button.tagName&&button.href)},keydownRef=react.useRef(!1),handleKeyDown=(0,useEventCallback.A)(event=>{focusRipple&&!keydownRef.current&&focusVisible&&rippleRef.current&&" "===event.key&&(keydownRef.current=!0,rippleRef.current.stop(event,()=>{rippleRef.current.start(event)})),event.target===event.currentTarget&&isNonNativeButton()&&" "===event.key&&event.preventDefault(),onKeyDown&&onKeyDown(event),event.target===event.currentTarget&&isNonNativeButton()&&"Enter"===event.key&&!disabled&&(event.preventDefault(),onClick&&onClick(event))}),handleKeyUp=(0,useEventCallback.A)(event=>{focusRipple&&" "===event.key&&rippleRef.current&&focusVisible&&!event.defaultPrevented&&(keydownRef.current=!1,rippleRef.current.stop(event,()=>{rippleRef.current.pulsate(event)})),onKeyUp&&onKeyUp(event),onClick&&event.target===event.currentTarget&&isNonNativeButton()&&" "===event.key&&!event.defaultPrevented&&onClick(event)});let ComponentProp=component;"button"===ComponentProp&&(other.href||other.to)&&(ComponentProp=LinkComponent);const buttonProps={};"button"===ComponentProp?(buttonProps.type=void 0===type?"button":type,buttonProps.disabled=disabled):(other.href||other.to||(buttonProps.role="button"),disabled&&(buttonProps["aria-disabled"]=disabled));const handleRef=(0,utils_useForkRef.A)(ref,focusVisibleRef,buttonRef);const ownerState=(0,esm_extends.A)({},props,{centerRipple,component,disabled,disableRipple,disableTouchRipple,focusRipple,tabIndex,focusVisible}),classes=(ownerState=>{const{disabled,focusVisible,focusVisibleClassName,classes}=ownerState,slots={root:["root",disabled&&"disabled",focusVisible&&"focusVisible"]},composedClasses=(0,composeClasses.A)(slots,getButtonBaseUtilityClass,classes);return focusVisible&&focusVisibleClassName&&(composedClasses.root+=` ${focusVisibleClassName}`),composedClasses})(ownerState);return(0,jsx_runtime.jsxs)(ButtonBaseRoot,(0,esm_extends.A)({as:ComponentProp,className:(0,clsx.A)(classes.root,className),ownerState,onBlur:handleBlur,onClick,onContextMenu:handleContextMenu,onFocus:handleFocus,onKeyDown:handleKeyDown,onKeyUp:handleKeyUp,onMouseDown:handleMouseDown,onMouseLeave:handleMouseLeave,onMouseUp:handleMouseUp,onDragLeave:handleDragLeave,onTouchEnd:handleTouchEnd,onTouchMove:handleTouchMove,onTouchStart:handleTouchStart,ref:handleRef,tabIndex:disabled?-1:tabIndex,type},buttonProps,other,{children:[children,enableTouchRipple?(0,jsx_runtime.jsx)(ButtonBase_TouchRipple,(0,esm_extends.A)({ref:handleRippleRef,center:centerRipple},TouchRippleProps)):null]}))}),ButtonBase_ButtonBase=ButtonBase;function getTabScrollButtonUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTabScrollButton",slot)}const TabScrollButton_tabScrollButtonClasses=(0,generateUtilityClasses.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),TabScrollButton_excluded=["className","slots","slotProps","direction","orientation","disabled"],TabScrollButtonRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.orientation&&styles[ownerState.orientation]]}})(({ownerState})=>(0,esm_extends.A)({width:40,flexShrink:0,opacity:.8,[`&.${TabScrollButton_tabScrollButtonClasses.disabled}`]:{opacity:0}},"vertical"===ownerState.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${ownerState.isRtl?-90:90}deg)`}})),TabScrollButton=react.forwardRef(function TabScrollButton(inProps,ref){var _slots$StartScrollBut,_slots$EndScrollButto;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTabScrollButton"}),{className,slots={},slotProps={},direction}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TabScrollButton_excluded),isRtl=useRtl(),ownerState=(0,esm_extends.A)({isRtl},props),classes=(ownerState=>{const{classes,orientation,disabled}=ownerState,slots={root:["root",orientation,disabled&&"disabled"]};return(0,composeClasses.A)(slots,getTabScrollButtonUtilityClass,classes)})(ownerState),StartButtonIcon=null!=(_slots$StartScrollBut=slots.StartScrollButtonIcon)?_slots$StartScrollBut:KeyboardArrowLeft,EndButtonIcon=null!=(_slots$EndScrollButto=slots.EndScrollButtonIcon)?_slots$EndScrollButto:KeyboardArrowRight,startButtonIconProps=useSlotProps_useSlotProps({elementType:StartButtonIcon,externalSlotProps:slotProps.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState}),endButtonIconProps=useSlotProps_useSlotProps({elementType:EndButtonIcon,externalSlotProps:slotProps.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState});return(0,jsx_runtime.jsx)(TabScrollButtonRoot,(0,esm_extends.A)({component:"div",className:(0,clsx.A)(classes.root,className),ref,role:null,ownerState,tabIndex:null},other,{children:"left"===direction?(0,jsx_runtime.jsx)(StartButtonIcon,(0,esm_extends.A)({},startButtonIconProps)):(0,jsx_runtime.jsx)(EndButtonIcon,(0,esm_extends.A)({},endButtonIconProps))}))}),TabScrollButton_TabScrollButton=TabScrollButton;function getTabsUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTabs",slot)}const Tabs_tabsClasses=(0,generateUtilityClasses.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var ownerDocument=__webpack_require__(96248);const Tabs_excluded=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nextItem=(list,item)=>list===item?list.firstChild:item&&item.nextElementSibling?item.nextElementSibling:list.firstChild,previousItem=(list,item)=>list===item?list.lastChild:item&&item.previousElementSibling?item.previousElementSibling:list.lastChild,moveFocus=(list,currentFocus,traversalFunction)=>{let wrappedOnce=!1,nextFocus=traversalFunction(list,currentFocus);for(;nextFocus;){if(nextFocus===list.firstChild){if(wrappedOnce)return;wrappedOnce=!0}const nextFocusDisabled=nextFocus.disabled||"true"===nextFocus.getAttribute("aria-disabled");if(nextFocus.hasAttribute("tabindex")&&!nextFocusDisabled)return void nextFocus.focus();nextFocus=traversalFunction(list,nextFocus)}},TabsRoot=(0,styled.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${Tabs_tabsClasses.scrollButtons}`]:styles.scrollButtons},{[`& .${Tabs_tabsClasses.scrollButtons}`]:ownerState.scrollButtonsHideMobile&&styles.scrollButtonsHideMobile},styles.root,ownerState.vertical&&styles.vertical]}})(({ownerState,theme})=>(0,esm_extends.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},ownerState.vertical&&{flexDirection:"column"},ownerState.scrollButtonsHideMobile&&{[`& .${Tabs_tabsClasses.scrollButtons}`]:{[theme.breakpoints.down("sm")]:{display:"none"}}})),TabsScroller=(0,styled.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.scroller,ownerState.fixed&&styles.fixed,ownerState.hideScrollbar&&styles.hideScrollbar,ownerState.scrollableX&&styles.scrollableX,ownerState.scrollableY&&styles.scrollableY]}})(({ownerState})=>(0,esm_extends.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},ownerState.fixed&&{overflowX:"hidden",width:"100%"},ownerState.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},ownerState.scrollableX&&{overflowX:"auto",overflowY:"hidden"},ownerState.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),FlexContainer=(0,styled.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.flexContainer,ownerState.vertical&&styles.flexContainerVertical,ownerState.centered&&styles.centered]}})(({ownerState})=>(0,esm_extends.A)({display:"flex"},ownerState.vertical&&{flexDirection:"column"},ownerState.centered&&{justifyContent:"center"})),TabsIndicator=(0,styled.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(props,styles)=>styles.indicator})(({ownerState,theme})=>(0,esm_extends.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:theme.transitions.create()},"primary"===ownerState.indicatorColor&&{backgroundColor:(theme.vars||theme).palette.primary.main},"secondary"===ownerState.indicatorColor&&{backgroundColor:(theme.vars||theme).palette.secondary.main},ownerState.vertical&&{height:"100%",width:2,right:0})),TabsScrollbarSize=(0,styled.Ay)(function ScrollbarSize(props){const{onChange}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ScrollbarSize_excluded),scrollbarHeight=react.useRef(),nodeRef=react.useRef(null),setMeasurements=()=>{scrollbarHeight.current=nodeRef.current.offsetHeight-nodeRef.current.clientHeight};return(0,utils_useEnhancedEffect.A)(()=>{const handleResize=(0,debounce.A)(()=>{const prevHeight=scrollbarHeight.current;setMeasurements(),prevHeight!==scrollbarHeight.current&&onChange(scrollbarHeight.current)}),containerWindow=(0,ownerWindow.A)(nodeRef.current);return containerWindow.addEventListener("resize",handleResize),()=>{handleResize.clear(),containerWindow.removeEventListener("resize",handleResize)}},[onChange]),react.useEffect(()=>{setMeasurements(),onChange(scrollbarHeight.current)},[onChange]),(0,jsx_runtime.jsx)("div",(0,esm_extends.A)({style:ScrollbarSize_styles},other,{ref:nodeRef}))})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),defaultIndicatorStyle={};const Tabs=react.forwardRef(function Tabs(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTabs"}),theme=styles_useTheme_useTheme(),isRtl=useRtl(),{"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,action,centered=!1,children:childrenProp,className,component="div",allowScrollButtonsMobile=!1,indicatorColor="primary",onChange,orientation="horizontal",ScrollButtonComponent=TabScrollButton_TabScrollButton,scrollButtons="auto",selectionFollowsFocus,slots={},slotProps={},TabIndicatorProps={},TabScrollButtonProps={},textColor="primary",value,variant="standard",visibleScrollbar=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Tabs_excluded),scrollable="scrollable"===variant,vertical="vertical"===orientation,scrollStart=vertical?"scrollTop":"scrollLeft",start=vertical?"top":"left",end=vertical?"bottom":"right",clientSize=vertical?"clientHeight":"clientWidth",size=vertical?"height":"width",ownerState=(0,esm_extends.A)({},props,{component,allowScrollButtonsMobile,indicatorColor,orientation,vertical,scrollButtons,textColor,variant,visibleScrollbar,fixed:!scrollable,hideScrollbar:scrollable&&!visibleScrollbar,scrollableX:scrollable&&!vertical,scrollableY:scrollable&&vertical,centered:centered&&!scrollable,scrollButtonsHideMobile:!allowScrollButtonsMobile}),classes=(ownerState=>{const{vertical,fixed,hideScrollbar,scrollableX,scrollableY,centered,scrollButtonsHideMobile,classes}=ownerState,slots={root:["root",vertical&&"vertical"],scroller:["scroller",fixed&&"fixed",hideScrollbar&&"hideScrollbar",scrollableX&&"scrollableX",scrollableY&&"scrollableY"],flexContainer:["flexContainer",vertical&&"flexContainerVertical",centered&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",scrollButtonsHideMobile&&"scrollButtonsHideMobile"],scrollableX:[scrollableX&&"scrollableX"],hideScrollbar:[hideScrollbar&&"hideScrollbar"]};return(0,composeClasses.A)(slots,getTabsUtilityClass,classes)})(ownerState),startScrollButtonIconProps=useSlotProps_useSlotProps({elementType:slots.StartScrollButtonIcon,externalSlotProps:slotProps.startScrollButtonIcon,ownerState}),endScrollButtonIconProps=useSlotProps_useSlotProps({elementType:slots.EndScrollButtonIcon,externalSlotProps:slotProps.endScrollButtonIcon,ownerState});const[mounted,setMounted]=react.useState(!1),[indicatorStyle,setIndicatorStyle]=react.useState(defaultIndicatorStyle),[displayStartScroll,setDisplayStartScroll]=react.useState(!1),[displayEndScroll,setDisplayEndScroll]=react.useState(!1),[updateScrollObserver,setUpdateScrollObserver]=react.useState(!1),[scrollerStyle,setScrollerStyle]=react.useState({overflow:"hidden",scrollbarWidth:0}),valueToIndex=new Map,tabsRef=react.useRef(null),tabListRef=react.useRef(null),getTabsMeta=()=>{const tabsNode=tabsRef.current;let tabsMeta,tabMeta;if(tabsNode){const rect=tabsNode.getBoundingClientRect();tabsMeta={clientWidth:tabsNode.clientWidth,scrollLeft:tabsNode.scrollLeft,scrollTop:tabsNode.scrollTop,scrollLeftNormalized:getNormalizedScrollLeft(tabsNode,isRtl?"rtl":"ltr"),scrollWidth:tabsNode.scrollWidth,top:rect.top,bottom:rect.bottom,left:rect.left,right:rect.right}}if(tabsNode&&!1!==value){const children=tabListRef.current.children;if(children.length>0){const tab=children[valueToIndex.get(value)];0,tabMeta=tab?tab.getBoundingClientRect():null}}return{tabsMeta,tabMeta}},updateIndicatorState=(0,useEventCallback.A)(()=>{const{tabsMeta,tabMeta}=getTabsMeta();let startIndicator,startValue=0;if(vertical)startIndicator="top",tabMeta&&tabsMeta&&(startValue=tabMeta.top-tabsMeta.top+tabsMeta.scrollTop);else if(startIndicator=isRtl?"right":"left",tabMeta&&tabsMeta){const correction=isRtl?tabsMeta.scrollLeftNormalized+tabsMeta.clientWidth-tabsMeta.scrollWidth:tabsMeta.scrollLeft;startValue=(isRtl?-1:1)*(tabMeta[startIndicator]-tabsMeta[startIndicator]+correction)}const newIndicatorStyle={[startIndicator]:startValue,[size]:tabMeta?tabMeta[size]:0};if(isNaN(indicatorStyle[startIndicator])||isNaN(indicatorStyle[size]))setIndicatorStyle(newIndicatorStyle);else{const dStart=Math.abs(indicatorStyle[startIndicator]-newIndicatorStyle[startIndicator]),dSize=Math.abs(indicatorStyle[size]-newIndicatorStyle[size]);(dStart>=1||dSize>=1)&&setIndicatorStyle(newIndicatorStyle)}}),scroll=(scrollValue,{animation=!0}={})=>{animation?function animate(property,element,to,options={},cb=()=>{}){const{ease=easeInOutSin,duration=300}=options;let start=null;const from=element[property];let cancelled=!1;const cancel=()=>{cancelled=!0},step=timestamp=>{if(cancelled)return void cb(new Error("Animation cancelled"));null===start&&(start=timestamp);const time=Math.min(1,(timestamp-start)/duration);element[property]=ease(time)*(to-from)+from,time>=1?requestAnimationFrame(()=>{cb(null)}):requestAnimationFrame(step)};return from===to?(cb(new Error("Element already at target position")),cancel):(requestAnimationFrame(step),cancel)}(scrollStart,tabsRef.current,scrollValue,{duration:theme.transitions.duration.standard}):tabsRef.current[scrollStart]=scrollValue},moveTabsScroll=delta=>{let scrollValue=tabsRef.current[scrollStart];vertical?scrollValue+=delta:(scrollValue+=delta*(isRtl?-1:1),scrollValue*=isRtl&&"reverse"===detectScrollType()?-1:1),scroll(scrollValue)},getScrollSize=()=>{const containerSize=tabsRef.current[clientSize];let totalSize=0;const children=Array.from(tabListRef.current.children);for(let i=0;i<children.length;i+=1){const tab=children[i];if(totalSize+tab[clientSize]>containerSize){0===i&&(totalSize=containerSize);break}totalSize+=tab[clientSize]}return totalSize},handleStartScrollClick=()=>{moveTabsScroll(-1*getScrollSize())},handleEndScrollClick=()=>{moveTabsScroll(getScrollSize())},handleScrollbarSizeChange=react.useCallback(scrollbarWidth=>{setScrollerStyle({overflow:null,scrollbarWidth})},[]),scrollSelectedIntoView=(0,useEventCallback.A)(animation=>{const{tabsMeta,tabMeta}=getTabsMeta();if(tabMeta&&tabsMeta)if(tabMeta[start]<tabsMeta[start]){const nextScrollStart=tabsMeta[scrollStart]+(tabMeta[start]-tabsMeta[start]);scroll(nextScrollStart,{animation})}else if(tabMeta[end]>tabsMeta[end]){const nextScrollStart=tabsMeta[scrollStart]+(tabMeta[end]-tabsMeta[end]);scroll(nextScrollStart,{animation})}}),updateScrollButtonState=(0,useEventCallback.A)(()=>{scrollable&&!1!==scrollButtons&&setUpdateScrollObserver(!updateScrollObserver)});react.useEffect(()=>{const handleResize=(0,debounce.A)(()=>{tabsRef.current&&updateIndicatorState()});let resizeObserver;const handleMutation=records=>{records.forEach(record=>{record.removedNodes.forEach(item=>{var _resizeObserver;null==(_resizeObserver=resizeObserver)||_resizeObserver.unobserve(item)}),record.addedNodes.forEach(item=>{var _resizeObserver2;null==(_resizeObserver2=resizeObserver)||_resizeObserver2.observe(item)})}),handleResize(),updateScrollButtonState()},win=(0,ownerWindow.A)(tabsRef.current);let mutationObserver;return win.addEventListener("resize",handleResize),"undefined"!=typeof ResizeObserver&&(resizeObserver=new ResizeObserver(handleResize),Array.from(tabListRef.current.children).forEach(child=>{resizeObserver.observe(child)})),"undefined"!=typeof MutationObserver&&(mutationObserver=new MutationObserver(handleMutation),mutationObserver.observe(tabListRef.current,{childList:!0})),()=>{var _mutationObserver,_resizeObserver3;handleResize.clear(),win.removeEventListener("resize",handleResize),null==(_mutationObserver=mutationObserver)||_mutationObserver.disconnect(),null==(_resizeObserver3=resizeObserver)||_resizeObserver3.disconnect()}},[updateIndicatorState,updateScrollButtonState]),react.useEffect(()=>{const tabListChildren=Array.from(tabListRef.current.children),length=tabListChildren.length;if("undefined"!=typeof IntersectionObserver&&length>0&&scrollable&&!1!==scrollButtons){const firstTab=tabListChildren[0],lastTab=tabListChildren[length-1],observerOptions={root:tabsRef.current,threshold:.99},handleScrollButtonStart=entries=>{setDisplayStartScroll(!entries[0].isIntersecting)},firstObserver=new IntersectionObserver(handleScrollButtonStart,observerOptions);firstObserver.observe(firstTab);const handleScrollButtonEnd=entries=>{setDisplayEndScroll(!entries[0].isIntersecting)},lastObserver=new IntersectionObserver(handleScrollButtonEnd,observerOptions);return lastObserver.observe(lastTab),()=>{firstObserver.disconnect(),lastObserver.disconnect()}}},[scrollable,scrollButtons,updateScrollObserver,null==childrenProp?void 0:childrenProp.length]),react.useEffect(()=>{setMounted(!0)},[]),react.useEffect(()=>{updateIndicatorState()}),react.useEffect(()=>{scrollSelectedIntoView(defaultIndicatorStyle!==indicatorStyle)},[scrollSelectedIntoView,indicatorStyle]),react.useImperativeHandle(action,()=>({updateIndicator:updateIndicatorState,updateScrollButtons:updateScrollButtonState}),[updateIndicatorState,updateScrollButtonState]);const indicator=(0,jsx_runtime.jsx)(TabsIndicator,(0,esm_extends.A)({},TabIndicatorProps,{className:(0,clsx.A)(classes.indicator,TabIndicatorProps.className),ownerState,style:(0,esm_extends.A)({},indicatorStyle,TabIndicatorProps.style)}));let childIndex=0;const children=react.Children.map(childrenProp,child=>{if(!react.isValidElement(child))return null;const childValue=void 0===child.props.value?childIndex:child.props.value;valueToIndex.set(childValue,childIndex);const selected=childValue===value;return childIndex+=1,react.cloneElement(child,(0,esm_extends.A)({fullWidth:"fullWidth"===variant,indicator:selected&&!mounted&&indicator,selected,selectionFollowsFocus,onChange,textColor,value:childValue},1!==childIndex||!1!==value||child.props.tabIndex?{}:{tabIndex:0}))}),conditionalElements=(()=>{const conditionalElements={};conditionalElements.scrollbarSizeListener=scrollable?(0,jsx_runtime.jsx)(TabsScrollbarSize,{onChange:handleScrollbarSizeChange,className:(0,clsx.A)(classes.scrollableX,classes.hideScrollbar)}):null;const showScrollButtons=scrollable&&("auto"===scrollButtons&&(displayStartScroll||displayEndScroll)||!0===scrollButtons);return conditionalElements.scrollButtonStart=showScrollButtons?(0,jsx_runtime.jsx)(ScrollButtonComponent,(0,esm_extends.A)({slots:{StartScrollButtonIcon:slots.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:startScrollButtonIconProps},orientation,direction:isRtl?"right":"left",onClick:handleStartScrollClick,disabled:!displayStartScroll},TabScrollButtonProps,{className:(0,clsx.A)(classes.scrollButtons,TabScrollButtonProps.className)})):null,conditionalElements.scrollButtonEnd=showScrollButtons?(0,jsx_runtime.jsx)(ScrollButtonComponent,(0,esm_extends.A)({slots:{EndScrollButtonIcon:slots.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:endScrollButtonIconProps},orientation,direction:isRtl?"left":"right",onClick:handleEndScrollClick,disabled:!displayEndScroll},TabScrollButtonProps,{className:(0,clsx.A)(classes.scrollButtons,TabScrollButtonProps.className)})):null,conditionalElements})();return(0,jsx_runtime.jsxs)(TabsRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref,as:component},other,{children:[conditionalElements.scrollButtonStart,conditionalElements.scrollbarSizeListener,(0,jsx_runtime.jsxs)(TabsScroller,{className:classes.scroller,ownerState,style:{overflow:scrollerStyle.overflow,[vertical?"margin"+(isRtl?"Left":"Right"):"marginBottom"]:visibleScrollbar?void 0:-scrollerStyle.scrollbarWidth},ref:tabsRef,children:[(0,jsx_runtime.jsx)(FlexContainer,{"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,"aria-orientation":"vertical"===orientation?"vertical":null,className:classes.flexContainer,ownerState,onKeyDown:event=>{const list=tabListRef.current,currentFocus=(0,ownerDocument.A)(list).activeElement;if("tab"!==currentFocus.getAttribute("role"))return;let previousItemKey="horizontal"===orientation?"ArrowLeft":"ArrowUp",nextItemKey="horizontal"===orientation?"ArrowRight":"ArrowDown";switch("horizontal"===orientation&&isRtl&&(previousItemKey="ArrowRight",nextItemKey="ArrowLeft"),event.key){case previousItemKey:event.preventDefault(),moveFocus(list,currentFocus,previousItem);break;case nextItemKey:event.preventDefault(),moveFocus(list,currentFocus,nextItem);break;case"Home":event.preventDefault(),moveFocus(list,null,nextItem);break;case"End":event.preventDefault(),moveFocus(list,null,previousItem)}},ref:tabListRef,role:"tablist",children}),mounted&&indicator]}),conditionalElements.scrollButtonEnd]}))}),Tabs_Tabs=Tabs;function getTabUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTab",slot)}const Tab_tabClasses=(0,generateUtilityClasses.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Tab_excluded=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],TabRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiTab",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.label&&ownerState.icon&&styles.labelIcon,styles[`textColor${(0,capitalize.A)(ownerState.textColor)}`],ownerState.fullWidth&&styles.fullWidth,ownerState.wrapped&&styles.wrapped,{[`& .${Tab_tabClasses.iconWrapper}`]:styles.iconWrapper}]}})(({theme,ownerState})=>(0,esm_extends.A)({},theme.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},ownerState.label&&{flexDirection:"top"===ownerState.iconPosition||"bottom"===ownerState.iconPosition?"column":"row"},{lineHeight:1.25},ownerState.icon&&ownerState.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Tab_tabClasses.iconWrapper}`]:(0,esm_extends.A)({},"top"===ownerState.iconPosition&&{marginBottom:6},"bottom"===ownerState.iconPosition&&{marginTop:6},"start"===ownerState.iconPosition&&{marginRight:theme.spacing(1)},"end"===ownerState.iconPosition&&{marginLeft:theme.spacing(1)})},"inherit"===ownerState.textColor&&{color:"inherit",opacity:.6,[`&.${Tab_tabClasses.selected}`]:{opacity:1},[`&.${Tab_tabClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity}},"primary"===ownerState.textColor&&{color:(theme.vars||theme).palette.text.secondary,[`&.${Tab_tabClasses.selected}`]:{color:(theme.vars||theme).palette.primary.main},[`&.${Tab_tabClasses.disabled}`]:{color:(theme.vars||theme).palette.text.disabled}},"secondary"===ownerState.textColor&&{color:(theme.vars||theme).palette.text.secondary,[`&.${Tab_tabClasses.selected}`]:{color:(theme.vars||theme).palette.secondary.main},[`&.${Tab_tabClasses.disabled}`]:{color:(theme.vars||theme).palette.text.disabled}},ownerState.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},ownerState.wrapped&&{fontSize:theme.typography.pxToRem(12)})),Tab=react.forwardRef(function Tab(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTab"}),{className,disabled=!1,disableFocusRipple=!1,fullWidth,icon:iconProp,iconPosition="top",indicator,label,onChange,onClick,onFocus,selected,selectionFollowsFocus,textColor="inherit",value,wrapped=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Tab_excluded),ownerState=(0,esm_extends.A)({},props,{disabled,disableFocusRipple,selected,icon:!!iconProp,iconPosition,label:!!label,fullWidth,textColor,wrapped}),classes=(ownerState=>{const{classes,textColor,fullWidth,wrapped,icon,label,selected,disabled}=ownerState,slots={root:["root",icon&&label&&"labelIcon",`textColor${(0,capitalize.A)(textColor)}`,fullWidth&&"fullWidth",wrapped&&"wrapped",selected&&"selected",disabled&&"disabled"],iconWrapper:["iconWrapper"]};return(0,composeClasses.A)(slots,getTabUtilityClass,classes)})(ownerState),icon=iconProp&&label&&react.isValidElement(iconProp)?react.cloneElement(iconProp,{className:(0,clsx.A)(classes.iconWrapper,iconProp.props.className)}):iconProp;return(0,jsx_runtime.jsxs)(TabRoot,(0,esm_extends.A)({focusRipple:!disableFocusRipple,className:(0,clsx.A)(classes.root,className),ref,role:"tab","aria-selected":selected,disabled,onClick:event=>{!selected&&onChange&&onChange(event,value),onClick&&onClick(event)},onFocus:event=>{selectionFollowsFocus&&!selected&&onChange&&onChange(event,value),onFocus&&onFocus(event)},ownerState,tabIndex:selected?0:-1},other,{children:["top"===iconPosition||"start"===iconPosition?(0,jsx_runtime.jsxs)(react.Fragment,{children:[icon,label]}):(0,jsx_runtime.jsxs)(react.Fragment,{children:[label,icon]}),indicator]}))}),Tab_Tab=Tab;var colorManipulator=__webpack_require__(771);const styles_getOverlayAlpha=elevation=>{let alphaValue;return alphaValue=elevation<1?5.11916*elevation**2:4.5*Math.log(elevation+1)+2,(alphaValue/100).toFixed(2)};function getPaperUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiPaper",slot)}(0,generateUtilityClasses.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Paper_excluded=["className","component","elevation","square","variant"],PaperRoot=(0,styled.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],!ownerState.square&&styles.rounded,"elevation"===ownerState.variant&&styles[`elevation${ownerState.elevation}`]]}})(({theme,ownerState})=>{var _theme$vars$overlays;return(0,esm_extends.A)({backgroundColor:(theme.vars||theme).palette.background.paper,color:(theme.vars||theme).palette.text.primary,transition:theme.transitions.create("box-shadow")},!ownerState.square&&{borderRadius:theme.shape.borderRadius},"outlined"===ownerState.variant&&{border:`1px solid ${(theme.vars||theme).palette.divider}`},"elevation"===ownerState.variant&&(0,esm_extends.A)({boxShadow:(theme.vars||theme).shadows[ownerState.elevation]},!theme.vars&&"dark"===theme.palette.mode&&{backgroundImage:`linear-gradient(${(0,colorManipulator.X4)("#fff",styles_getOverlayAlpha(ownerState.elevation))}, ${(0,colorManipulator.X4)("#fff",styles_getOverlayAlpha(ownerState.elevation))})`},theme.vars&&{backgroundImage:null==(_theme$vars$overlays=theme.vars.overlays)?void 0:_theme$vars$overlays[ownerState.elevation]}))}),Paper_Paper=react.forwardRef(function Paper(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiPaper"}),{className,component="div",elevation=1,square=!1,variant="elevation"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Paper_excluded),ownerState=(0,esm_extends.A)({},props,{component,elevation,square,variant}),classes=(ownerState=>{const{square,elevation,variant,classes}=ownerState,slots={root:["root",variant,!square&&"rounded","elevation"===variant&&`elevation${elevation}`]};return(0,composeClasses.A)(slots,getPaperUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(PaperRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other))}),material_Paper_Paper=Paper_Paper;function getAlertUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiAlert",slot)}const Alert_alertClasses=(0,generateUtilityClasses.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function getIconButtonUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiIconButton",slot)}const IconButton_iconButtonClasses=(0,generateUtilityClasses.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),IconButton_excluded=["edge","children","className","color","disabled","disableFocusRipple","size"],IconButtonRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,"default"!==ownerState.color&&styles[`color${(0,capitalize.A)(ownerState.color)}`],ownerState.edge&&styles[`edge${(0,capitalize.A)(ownerState.edge)}`],styles[`size${(0,capitalize.A)(ownerState.size)}`]]}})(({theme,ownerState})=>(0,esm_extends.A)({textAlign:"center",flex:"0 0 auto",fontSize:theme.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(theme.vars||theme).palette.action.active,transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shortest})},!ownerState.disableRipple&&{"&:hover":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette.action.active,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===ownerState.edge&&{marginLeft:"small"===ownerState.size?-3:-12},"end"===ownerState.edge&&{marginRight:"small"===ownerState.size?-3:-12}),({theme,ownerState})=>{var _palette;const palette=null==(_palette=(theme.vars||theme).palette)?void 0:_palette[ownerState.color];return(0,esm_extends.A)({},"inherit"===ownerState.color&&{color:"inherit"},"inherit"!==ownerState.color&&"default"!==ownerState.color&&(0,esm_extends.A)({color:null==palette?void 0:palette.main},!ownerState.disableRipple&&{"&:hover":(0,esm_extends.A)({},palette&&{backgroundColor:theme.vars?`rgba(${palette.mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(palette.main,theme.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===ownerState.size&&{padding:5,fontSize:theme.typography.pxToRem(18)},"large"===ownerState.size&&{padding:12,fontSize:theme.typography.pxToRem(28)},{[`&.${IconButton_iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(theme.vars||theme).palette.action.disabled}})}),IconButton=react.forwardRef(function IconButton(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiIconButton"}),{edge=!1,children,className,color="default",disabled=!1,disableFocusRipple=!1,size="medium"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,IconButton_excluded),ownerState=(0,esm_extends.A)({},props,{edge,color,disabled,disableFocusRipple,size}),classes=(ownerState=>{const{classes,disabled,color,edge,size}=ownerState,slots={root:["root",disabled&&"disabled","default"!==color&&`color${(0,capitalize.A)(color)}`,edge&&`edge${(0,capitalize.A)(edge)}`,`size${(0,capitalize.A)(size)}`]};return(0,composeClasses.A)(slots,getIconButtonUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(IconButtonRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),centerRipple:!0,focusRipple:!disableFocusRipple,disabled,ref},other,{ownerState,children}))}),IconButton_IconButton=IconButton,SuccessOutlined=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlined=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutline=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlined=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Close=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Alert_excluded=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],AlertRoot=(0,styled.Ay)(material_Paper_Paper,{name:"MuiAlert",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`${ownerState.variant}${(0,capitalize.A)(ownerState.color||ownerState.severity)}`]]}})(({theme})=>{const getColor="light"===theme.palette.mode?colorManipulator.e$:colorManipulator.a,getBackgroundColor="light"===theme.palette.mode?colorManipulator.a:colorManipulator.e$;return(0,esm_extends.A)({},theme.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(theme.palette).filter(([,value])=>value.main&&value.light).map(([color])=>({props:{colorSeverity:color,variant:"standard"},style:{color:theme.vars?theme.vars.palette.Alert[`${color}Color`]:getColor(theme.palette[color].light,.6),backgroundColor:theme.vars?theme.vars.palette.Alert[`${color}StandardBg`]:getBackgroundColor(theme.palette[color].light,.9),[`& .${Alert_alertClasses.icon}`]:theme.vars?{color:theme.vars.palette.Alert[`${color}IconColor`]}:{color:theme.palette[color].main}}})),...Object.entries(theme.palette).filter(([,value])=>value.main&&value.light).map(([color])=>({props:{colorSeverity:color,variant:"outlined"},style:{color:theme.vars?theme.vars.palette.Alert[`${color}Color`]:getColor(theme.palette[color].light,.6),border:`1px solid ${(theme.vars||theme).palette[color].light}`,[`& .${Alert_alertClasses.icon}`]:theme.vars?{color:theme.vars.palette.Alert[`${color}IconColor`]}:{color:theme.palette[color].main}}})),...Object.entries(theme.palette).filter(([,value])=>value.main&&value.dark).map(([color])=>({props:{colorSeverity:color,variant:"filled"},style:(0,esm_extends.A)({fontWeight:theme.typography.fontWeightMedium},theme.vars?{color:theme.vars.palette.Alert[`${color}FilledColor`],backgroundColor:theme.vars.palette.Alert[`${color}FilledBg`]}:{backgroundColor:"dark"===theme.palette.mode?theme.palette[color].dark:theme.palette[color].main,color:theme.palette.getContrastText(theme.palette[color].main)})}))]})}),AlertIcon=(0,styled.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(props,styles)=>styles.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=(0,styled.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(props,styles)=>styles.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=(0,styled.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(props,styles)=>styles.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:(0,jsx_runtime.jsx)(SuccessOutlined,{fontSize:"inherit"}),warning:(0,jsx_runtime.jsx)(ReportProblemOutlined,{fontSize:"inherit"}),error:(0,jsx_runtime.jsx)(ErrorOutline,{fontSize:"inherit"}),info:(0,jsx_runtime.jsx)(InfoOutlined,{fontSize:"inherit"})},Alert=react.forwardRef(function Alert(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiAlert"}),{action,children,className,closeText="Close",color,components={},componentsProps={},icon,iconMapping=defaultIconMapping,onClose,role="alert",severity="success",slotProps={},slots={},variant="standard"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Alert_excluded),ownerState=(0,esm_extends.A)({},props,{color,severity,variant,colorSeverity:color||severity}),classes=(ownerState=>{const{variant,color,severity,classes}=ownerState,slots={root:["root",`color${(0,capitalize.A)(color||severity)}`,`${variant}${(0,capitalize.A)(color||severity)}`,`${variant}`],icon:["icon"],message:["message"],action:["action"]};return(0,composeClasses.A)(slots,getAlertUtilityClass,classes)})(ownerState),externalForwardedProps={slots:(0,esm_extends.A)({closeButton:components.CloseButton,closeIcon:components.CloseIcon},slots),slotProps:(0,esm_extends.A)({},componentsProps,slotProps)},[CloseButtonSlot,closeButtonProps]=useSlot("closeButton",{elementType:IconButton_IconButton,externalForwardedProps,ownerState}),[CloseIconSlot,closeIconProps]=useSlot("closeIcon",{elementType:Close,externalForwardedProps,ownerState});return(0,jsx_runtime.jsxs)(AlertRoot,(0,esm_extends.A)({role,elevation:0,ownerState,className:(0,clsx.A)(classes.root,className),ref},other,{children:[!1!==icon?(0,jsx_runtime.jsx)(AlertIcon,{ownerState,className:classes.icon,children:icon||iconMapping[severity]||defaultIconMapping[severity]}):null,(0,jsx_runtime.jsx)(AlertMessage,{ownerState,className:classes.message,children}),null!=action?(0,jsx_runtime.jsx)(AlertAction,{ownerState,className:classes.action,children:action}):null,null==action&&onClose?(0,jsx_runtime.jsx)(AlertAction,{ownerState,className:classes.action,children:(0,jsx_runtime.jsx)(CloseButtonSlot,(0,esm_extends.A)({size:"small","aria-label":closeText,title:closeText,color:"inherit",onClick:onClose},closeButtonProps,{children:(0,jsx_runtime.jsx)(CloseIconSlot,(0,esm_extends.A)({fontSize:"small"},closeIconProps))}))}):null]}))}),Alert_Alert=Alert;function getCircularProgressUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCircularProgress",slot)}(0,generateUtilityClasses.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const CircularProgress_excluded=["className","color","disableShrink","size","style","thickness","value","variant"];let CircularProgress_t,CircularProgress_t2,CircularProgress_t3,CircularProgress_t4,CircularProgress_=t=>t;const circularRotateKeyframe=(0,emotion_react_browser_esm.i7)(CircularProgress_t||(CircularProgress_t=CircularProgress_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=(0,emotion_react_browser_esm.i7)(CircularProgress_t2||(CircularProgress_t2=CircularProgress_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),CircularProgressRoot=(0,styled.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`color${(0,capitalize.A)(ownerState.color)}`]]}})(({ownerState,theme})=>(0,esm_extends.A)({display:"inline-block"},"determinate"===ownerState.variant&&{transition:theme.transitions.create("transform")},"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main}),({ownerState})=>"indeterminate"===ownerState.variant&&(0,emotion_react_browser_esm.AH)(CircularProgress_t3||(CircularProgress_t3=CircularProgress_`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=(0,styled.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(props,styles)=>styles.svg})({display:"block"}),CircularProgressCircle=(0,styled.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.circle,styles[`circle${(0,capitalize.A)(ownerState.variant)}`],ownerState.disableShrink&&styles.circleDisableShrink]}})(({ownerState,theme})=>(0,esm_extends.A)({stroke:"currentColor"},"determinate"===ownerState.variant&&{transition:theme.transitions.create("stroke-dashoffset")},"indeterminate"===ownerState.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState})=>"indeterminate"===ownerState.variant&&!ownerState.disableShrink&&(0,emotion_react_browser_esm.AH)(CircularProgress_t4||(CircularProgress_t4=CircularProgress_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress_CircularProgress=react.forwardRef(function CircularProgress(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCircularProgress"}),{className,color="primary",disableShrink=!1,size=40,style,thickness=3.6,value=0,variant="indeterminate"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,CircularProgress_excluded),ownerState=(0,esm_extends.A)({},props,{color,disableShrink,size,thickness,value,variant}),classes=(ownerState=>{const{classes,variant,color,disableShrink}=ownerState,slots={root:["root",variant,`color${(0,capitalize.A)(color)}`],svg:["svg"],circle:["circle",`circle${(0,capitalize.A)(variant)}`,disableShrink&&"circleDisableShrink"]};return(0,composeClasses.A)(slots,getCircularProgressUtilityClass,classes)})(ownerState),circleStyle={},rootStyle={},rootProps={};if("determinate"===variant){const circumference=2*Math.PI*((44-thickness)/2);circleStyle.strokeDasharray=circumference.toFixed(3),rootProps["aria-valuenow"]=Math.round(value),circleStyle.strokeDashoffset=`${((100-value)/100*circumference).toFixed(3)}px`,rootStyle.transform="rotate(-90deg)"}return(0,jsx_runtime.jsx)(CircularProgressRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),style:(0,esm_extends.A)({width:size,height:size},rootStyle,style),ownerState,ref,role:"progressbar"},rootProps,other,{children:(0,jsx_runtime.jsx)(CircularProgressSVG,{className:classes.svg,ownerState,viewBox:"22 22 44 44",children:(0,jsx_runtime.jsx)(CircularProgressCircle,{className:classes.circle,style:circleStyle,ownerState,cx:44,cy:44,r:(44-thickness)/2,fill:"none",strokeWidth:thickness})})}))}),material_CircularProgress_CircularProgress=CircularProgress_CircularProgress;var formatMuiErrorMessage=__webpack_require__(89453),ownerWindow_ownerWindow=__webpack_require__(44877),useEventCallback_useEventCallback=__webpack_require__(71547),debounce_debounce=__webpack_require__(74705);const TextareaAutosize_excluded=["onChange","maxRows","minRows","style","value"];function getStyleValue(value){return parseInt(value,10)||0}const TextareaAutosize_styles_shadow={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function TextareaAutosize_isEmpty(obj){return function TextareaAutosize_isObjectEmpty(object){for(const _ in object)return!1;return!0}(obj)||0===obj.outerHeightStyle&&!obj.overflowing}const TextareaAutosize=react.forwardRef(function TextareaAutosize(props,forwardedRef){const{onChange,maxRows,minRows=1,style,value}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TextareaAutosize_excluded),{current:isControlled}=react.useRef(null!=value),textareaRef=react.useRef(null),handleRef=(0,useForkRef.A)(forwardedRef,textareaRef),heightRef=react.useRef(null),hiddenTextareaRef=react.useRef(null),calculateTextareaStyles=react.useCallback(()=>{const textarea=textareaRef.current,hiddenTextarea=hiddenTextareaRef.current;if(!textarea||!hiddenTextarea)return;const computedStyle=(0,ownerWindow_ownerWindow.A)(textarea).getComputedStyle(textarea);if("0px"===computedStyle.width)return{outerHeightStyle:0,overflowing:!1};hiddenTextarea.style.width=computedStyle.width,hiddenTextarea.value=textarea.value||props.placeholder||"x","\n"===hiddenTextarea.value.slice(-1)&&(hiddenTextarea.value+=" ");const boxSizing=computedStyle.boxSizing,padding=getStyleValue(computedStyle.paddingBottom)+getStyleValue(computedStyle.paddingTop),border=getStyleValue(computedStyle.borderBottomWidth)+getStyleValue(computedStyle.borderTopWidth),innerHeight=hiddenTextarea.scrollHeight;hiddenTextarea.value="x";const singleRowHeight=hiddenTextarea.scrollHeight;let outerHeight=innerHeight;minRows&&(outerHeight=Math.max(Number(minRows)*singleRowHeight,outerHeight)),maxRows&&(outerHeight=Math.min(Number(maxRows)*singleRowHeight,outerHeight)),outerHeight=Math.max(outerHeight,singleRowHeight);return{outerHeightStyle:outerHeight+("border-box"===boxSizing?padding+border:0),overflowing:Math.abs(outerHeight-innerHeight)<=1}},[maxRows,minRows,props.placeholder]),didHeightChange=(0,useEventCallback_useEventCallback.A)(()=>{const textarea=textareaRef.current,textareaStyles=calculateTextareaStyles();if(!textarea||!textareaStyles||TextareaAutosize_isEmpty(textareaStyles))return!1;const outerHeightStyle=textareaStyles.outerHeightStyle;return null!=heightRef.current&&heightRef.current!==outerHeightStyle}),syncHeight=react.useCallback(()=>{const textarea=textareaRef.current,textareaStyles=calculateTextareaStyles();if(!textarea||!textareaStyles||TextareaAutosize_isEmpty(textareaStyles))return;const outerHeightStyle=textareaStyles.outerHeightStyle;heightRef.current!==outerHeightStyle&&(heightRef.current=outerHeightStyle,textarea.style.height=`${outerHeightStyle}px`),textarea.style.overflow=textareaStyles.overflowing?"hidden":""},[calculateTextareaStyles]),frameRef=react.useRef(-1);(0,useEnhancedEffect.A)(()=>{const debouncedHandleResize=(0,debounce_debounce.A)(syncHeight),textarea=null==textareaRef?void 0:textareaRef.current;if(!textarea)return;const containerWindow=(0,ownerWindow_ownerWindow.A)(textarea);let resizeObserver;return containerWindow.addEventListener("resize",debouncedHandleResize),"undefined"!=typeof ResizeObserver&&(resizeObserver=new ResizeObserver(()=>{didHeightChange()&&(resizeObserver.unobserve(textarea),cancelAnimationFrame(frameRef.current),syncHeight(),frameRef.current=requestAnimationFrame(()=>{resizeObserver.observe(textarea)}))}),resizeObserver.observe(textarea)),()=>{debouncedHandleResize.clear(),cancelAnimationFrame(frameRef.current),containerWindow.removeEventListener("resize",debouncedHandleResize),resizeObserver&&resizeObserver.disconnect()}},[calculateTextareaStyles,syncHeight,didHeightChange]),(0,useEnhancedEffect.A)(()=>{syncHeight()});return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("textarea",(0,esm_extends.A)({value,onChange:event=>{isControlled||syncHeight(),onChange&&onChange(event)},ref:handleRef,rows:minRows,style},other)),(0,jsx_runtime.jsx)("textarea",{"aria-hidden":!0,className:props.className,readOnly:!0,ref:hiddenTextareaRef,tabIndex:-1,style:(0,esm_extends.A)({},TextareaAutosize_styles_shadow,style,{paddingTop:0,paddingBottom:0})})]})}),TextareaAutosize_TextareaAutosize=TextareaAutosize;function formControlState({props,states,muiFormControl}){return states.reduce((acc,state)=>(acc[state]=props[state],muiFormControl&&void 0===props[state]&&(acc[state]=muiFormControl[state]),acc),{})}const FormControl_FormControlContext=react.createContext(void 0);function useFormControl(){return react.useContext(FormControl_FormControlContext)}function hasValue(value){return null!=value&&!(Array.isArray(value)&&0===value.length)}function isFilled(obj,SSR=!1){return obj&&(hasValue(obj.value)&&""!==obj.value||SSR&&hasValue(obj.defaultValue)&&""!==obj.defaultValue)}function getInputBaseUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiInputBase",slot)}const InputBase_inputBaseClasses=(0,generateUtilityClasses.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),InputBase_excluded=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.formControl&&styles.formControl,ownerState.startAdornment&&styles.adornedStart,ownerState.endAdornment&&styles.adornedEnd,ownerState.error&&styles.error,"small"===ownerState.size&&styles.sizeSmall,ownerState.multiline&&styles.multiline,ownerState.color&&styles[`color${(0,capitalize.A)(ownerState.color)}`],ownerState.fullWidth&&styles.fullWidth,ownerState.hiddenLabel&&styles.hiddenLabel]},inputOverridesResolver=(props,styles)=>{const{ownerState}=props;return[styles.input,"small"===ownerState.size&&styles.inputSizeSmall,ownerState.multiline&&styles.inputMultiline,"search"===ownerState.type&&styles.inputTypeSearch,ownerState.startAdornment&&styles.inputAdornedStart,ownerState.endAdornment&&styles.inputAdornedEnd,ownerState.hiddenLabel&&styles.inputHiddenLabel]},InputBaseRoot=(0,styled.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme,ownerState})=>(0,esm_extends.A)({},theme.typography.body1,{color:(theme.vars||theme).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${InputBase_inputBaseClasses.disabled}`]:{color:(theme.vars||theme).palette.text.disabled,cursor:"default"}},ownerState.multiline&&(0,esm_extends.A)({padding:"4px 0 5px"},"small"===ownerState.size&&{paddingTop:1}),ownerState.fullWidth&&{width:"100%"})),InputBaseComponent=(0,styled.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme,ownerState})=>{const light="light"===theme.palette.mode,placeholder=(0,esm_extends.A)({color:"currentColor"},theme.vars?{opacity:theme.vars.opacity.inputPlaceholder}:{opacity:light?.42:.5},{transition:theme.transitions.create("opacity",{duration:theme.transitions.duration.shorter})}),placeholderHidden={opacity:"0 !important"},placeholderVisible=theme.vars?{opacity:theme.vars.opacity.inputPlaceholder}:{opacity:light?.42:.5};return(0,esm_extends.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":placeholder,"&::-moz-placeholder":placeholder,"&:-ms-input-placeholder":placeholder,"&::-ms-input-placeholder":placeholder,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${InputBase_inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":placeholderHidden,"&::-moz-placeholder":placeholderHidden,"&:-ms-input-placeholder":placeholderHidden,"&::-ms-input-placeholder":placeholderHidden,"&:focus::-webkit-input-placeholder":placeholderVisible,"&:focus::-moz-placeholder":placeholderVisible,"&:focus:-ms-input-placeholder":placeholderVisible,"&:focus::-ms-input-placeholder":placeholderVisible},[`&.${InputBase_inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(theme.vars||theme).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===ownerState.size&&{paddingTop:1},ownerState.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===ownerState.type&&{MozAppearance:"textfield"})}),inputGlobalStyles=(0,jsx_runtime.jsx)(material_GlobalStyles_GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=react.forwardRef(function InputBase(inProps,ref){var _slotProps$input;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiInputBase"}),{"aria-describedby":ariaDescribedby,autoComplete,autoFocus,className,components={},componentsProps={},defaultValue,disabled,disableInjectingGlobalStyles,endAdornment,fullWidth=!1,id,inputComponent="input",inputProps:inputPropsProp={},inputRef:inputRefProp,maxRows,minRows,multiline=!1,name,onBlur,onChange,onClick,onFocus,onKeyDown,onKeyUp,placeholder,readOnly,renderSuffix,rows,slotProps={},slots={},startAdornment,type="text",value:valueProp}=props,other=(0,objectWithoutPropertiesLoose.A)(props,InputBase_excluded),value=null!=inputPropsProp.value?inputPropsProp.value:valueProp,{current:isControlled}=react.useRef(null!=value),inputRef=react.useRef(),handleInputRefWarning=react.useCallback(instance=>{0},[]),handleInputRef=(0,utils_useForkRef.A)(inputRef,inputRefProp,inputPropsProp.ref,handleInputRefWarning),[focused,setFocused]=react.useState(!1),muiFormControl=useFormControl();const fcs=formControlState({props,muiFormControl,states:["color","disabled","error","hiddenLabel","size","required","filled"]});fcs.focused=muiFormControl?muiFormControl.focused:focused,react.useEffect(()=>{!muiFormControl&&disabled&&focused&&(setFocused(!1),onBlur&&onBlur())},[muiFormControl,disabled,focused,onBlur]);const onFilled=muiFormControl&&muiFormControl.onFilled,onEmpty=muiFormControl&&muiFormControl.onEmpty,checkDirty=react.useCallback(obj=>{isFilled(obj)?onFilled&&onFilled():onEmpty&&onEmpty()},[onFilled,onEmpty]);(0,utils_useEnhancedEffect.A)(()=>{isControlled&&checkDirty({value})},[value,checkDirty,isControlled]);react.useEffect(()=>{checkDirty(inputRef.current)},[]);let InputComponent=inputComponent,inputProps=inputPropsProp;multiline&&"input"===InputComponent&&(inputProps=rows?(0,esm_extends.A)({type:void 0,minRows:rows,maxRows:rows},inputProps):(0,esm_extends.A)({type:void 0,maxRows,minRows},inputProps),InputComponent=TextareaAutosize_TextareaAutosize);react.useEffect(()=>{muiFormControl&&muiFormControl.setAdornedStart(Boolean(startAdornment))},[muiFormControl,startAdornment]);const ownerState=(0,esm_extends.A)({},props,{color:fcs.color||"primary",disabled:fcs.disabled,endAdornment,error:fcs.error,focused:fcs.focused,formControl:muiFormControl,fullWidth,hiddenLabel:fcs.hiddenLabel,multiline,size:fcs.size,startAdornment,type}),classes=(ownerState=>{const{classes,color,disabled,error,endAdornment,focused,formControl,fullWidth,hiddenLabel,multiline,readOnly,size,startAdornment,type}=ownerState,slots={root:["root",`color${(0,capitalize.A)(color)}`,disabled&&"disabled",error&&"error",fullWidth&&"fullWidth",focused&&"focused",formControl&&"formControl",size&&"medium"!==size&&`size${(0,capitalize.A)(size)}`,multiline&&"multiline",startAdornment&&"adornedStart",endAdornment&&"adornedEnd",hiddenLabel&&"hiddenLabel",readOnly&&"readOnly"],input:["input",disabled&&"disabled","search"===type&&"inputTypeSearch",multiline&&"inputMultiline","small"===size&&"inputSizeSmall",hiddenLabel&&"inputHiddenLabel",startAdornment&&"inputAdornedStart",endAdornment&&"inputAdornedEnd",readOnly&&"readOnly"]};return(0,composeClasses.A)(slots,getInputBaseUtilityClass,classes)})(ownerState),Root=slots.root||components.Root||InputBaseRoot,rootProps=slotProps.root||componentsProps.root||{},Input=slots.input||components.Input||InputBaseComponent;return inputProps=(0,esm_extends.A)({},inputProps,null!=(_slotProps$input=slotProps.input)?_slotProps$input:componentsProps.input),(0,jsx_runtime.jsxs)(react.Fragment,{children:[!disableInjectingGlobalStyles&&inputGlobalStyles,(0,jsx_runtime.jsxs)(Root,(0,esm_extends.A)({},rootProps,!isHostComponent_isHostComponent(Root)&&{ownerState:(0,esm_extends.A)({},ownerState,rootProps.ownerState)},{ref,onClick:event=>{inputRef.current&&event.currentTarget===event.target&&inputRef.current.focus(),onClick&&onClick(event)}},other,{className:(0,clsx.A)(classes.root,rootProps.className,className,readOnly&&"MuiInputBase-readOnly"),children:[startAdornment,(0,jsx_runtime.jsx)(FormControl_FormControlContext.Provider,{value:null,children:(0,jsx_runtime.jsx)(Input,(0,esm_extends.A)({ownerState,"aria-invalid":fcs.error,"aria-describedby":ariaDescribedby,autoComplete,autoFocus,defaultValue,disabled:fcs.disabled,id,onAnimationStart:event=>{checkDirty("mui-auto-fill-cancel"===event.animationName?inputRef.current:{value:"x"})},name,placeholder,readOnly,required:fcs.required,rows,value,onKeyDown,onKeyUp,type},inputProps,!isHostComponent_isHostComponent(Input)&&{as:InputComponent,ownerState:(0,esm_extends.A)({},ownerState,inputProps.ownerState)},{ref:handleInputRef,className:(0,clsx.A)(classes.input,inputProps.className,readOnly&&"MuiInputBase-readOnly"),onBlur:event=>{onBlur&&onBlur(event),inputPropsProp.onBlur&&inputPropsProp.onBlur(event),muiFormControl&&muiFormControl.onBlur?muiFormControl.onBlur(event):setFocused(!1)},onChange:(event,...args)=>{if(!isControlled){const element=event.target||inputRef.current;if(null==element)throw new Error((0,formatMuiErrorMessage.A)(1));checkDirty({value:element.value})}inputPropsProp.onChange&&inputPropsProp.onChange(event,...args),onChange&&onChange(event,...args)},onFocus:event=>{fcs.disabled?event.stopPropagation():(onFocus&&onFocus(event),inputPropsProp.onFocus&&inputPropsProp.onFocus(event),muiFormControl&&muiFormControl.onFocus?muiFormControl.onFocus(event):setFocused(!0))}}))}),endAdornment,renderSuffix?renderSuffix((0,esm_extends.A)({},fcs,{startAdornment})):null]}))]})}),InputBase_InputBase=InputBase;var rootShouldForwardProp=__webpack_require__(39770);function getInputUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiInput",slot)}const Input_inputClasses=(0,esm_extends.A)({},InputBase_inputBaseClasses,(0,generateUtilityClasses.A)("MuiInput",["root","underline","input"])),Input_excluded=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],InputRoot=(0,styled.Ay)(InputBaseRoot,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiInput",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[...rootOverridesResolver(props,styles),!ownerState.disableUnderline&&styles.underline]}})(({theme,ownerState})=>{let bottomLineColor="light"===theme.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return theme.vars&&(bottomLineColor=`rgba(${theme.vars.palette.common.onBackgroundChannel} / ${theme.vars.opacity.inputUnderline})`),(0,esm_extends.A)({position:"relative"},ownerState.formControl&&{"label + &":{marginTop:16}},!ownerState.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(theme.vars||theme).palette[ownerState.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:theme.transitions.create("transform",{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Input_inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Input_inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(theme.vars||theme).palette.error.main}},"&::before":{borderBottom:`1px solid ${bottomLineColor}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:theme.transitions.create("border-bottom-color",{duration:theme.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Input_inputClasses.disabled}, .${Input_inputClasses.error}):before`]:{borderBottom:`2px solid ${(theme.vars||theme).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${bottomLineColor}`}},[`&.${Input_inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=(0,styled.Ay)(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=react.forwardRef(function Input(inProps,ref){var _ref,_slots$root,_ref2,_slots$input;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiInput"}),{disableUnderline,components={},componentsProps:componentsPropsProp,fullWidth=!1,inputComponent="input",multiline=!1,slotProps,slots={},type="text"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Input_excluded),classes=(ownerState=>{const{classes,disableUnderline}=ownerState,slots={root:["root",!disableUnderline&&"underline"],input:["input"]},composedClasses=(0,composeClasses.A)(slots,getInputUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(props),inputComponentsProps={root:{ownerState:{disableUnderline}}},componentsProps=(null!=slotProps?slotProps:componentsPropsProp)?(0,deepmerge.A)(null!=slotProps?slotProps:componentsPropsProp,inputComponentsProps):inputComponentsProps,RootSlot=null!=(_ref=null!=(_slots$root=slots.root)?_slots$root:components.Root)?_ref:InputRoot,InputSlot=null!=(_ref2=null!=(_slots$input=slots.input)?_slots$input:components.Input)?_ref2:InputInput;return(0,jsx_runtime.jsx)(InputBase_InputBase,(0,esm_extends.A)({slots:{root:RootSlot,input:InputSlot},slotProps:componentsProps,fullWidth,inputComponent,multiline,ref,type},other,{classes}))});Input.muiName="Input";const Input_Input=Input;function getFilledInputUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiFilledInput",slot)}const FilledInput_filledInputClasses=(0,esm_extends.A)({},InputBase_inputBaseClasses,(0,generateUtilityClasses.A)("MuiFilledInput",["root","underline","input"])),FilledInput_excluded=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],FilledInputRoot=(0,styled.Ay)(InputBaseRoot,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiFilledInput",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[...rootOverridesResolver(props,styles),!ownerState.disableUnderline&&styles.underline]}})(({theme,ownerState})=>{var _palette;const light="light"===theme.palette.mode,bottomLineColor=light?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",backgroundColor=light?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",hoverBackground=light?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",disabledBackground=light?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,esm_extends.A)({position:"relative",backgroundColor:theme.vars?theme.vars.palette.FilledInput.bg:backgroundColor,borderTopLeftRadius:(theme.vars||theme).shape.borderRadius,borderTopRightRadius:(theme.vars||theme).shape.borderRadius,transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut}),"&:hover":{backgroundColor:theme.vars?theme.vars.palette.FilledInput.hoverBg:hoverBackground,"@media (hover: none)":{backgroundColor:theme.vars?theme.vars.palette.FilledInput.bg:backgroundColor}},[`&.${FilledInput_filledInputClasses.focused}`]:{backgroundColor:theme.vars?theme.vars.palette.FilledInput.bg:backgroundColor},[`&.${FilledInput_filledInputClasses.disabled}`]:{backgroundColor:theme.vars?theme.vars.palette.FilledInput.disabledBg:disabledBackground}},!ownerState.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(_palette=(theme.vars||theme).palette[ownerState.color||"primary"])?void 0:_palette.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:theme.transitions.create("transform",{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${FilledInput_filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${FilledInput_filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(theme.vars||theme).palette.error.main}},"&::before":{borderBottom:`1px solid ${theme.vars?`rgba(${theme.vars.palette.common.onBackgroundChannel} / ${theme.vars.opacity.inputUnderline})`:bottomLineColor}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:theme.transitions.create("border-bottom-color",{duration:theme.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${FilledInput_filledInputClasses.disabled}, .${FilledInput_filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(theme.vars||theme).palette.text.primary}`},[`&.${FilledInput_filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}},ownerState.startAdornment&&{paddingLeft:12},ownerState.endAdornment&&{paddingRight:12},ownerState.multiline&&(0,esm_extends.A)({padding:"25px 12px 8px"},"small"===ownerState.size&&{paddingTop:21,paddingBottom:4},ownerState.hiddenLabel&&{paddingTop:16,paddingBottom:17},ownerState.hiddenLabel&&"small"===ownerState.size&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=(0,styled.Ay)(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme,ownerState})=>(0,esm_extends.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!theme.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===theme.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===theme.palette.mode?null:"#fff",caretColor:"light"===theme.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},theme.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[theme.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===ownerState.size&&{paddingTop:21,paddingBottom:4},ownerState.hiddenLabel&&{paddingTop:16,paddingBottom:17},ownerState.startAdornment&&{paddingLeft:0},ownerState.endAdornment&&{paddingRight:0},ownerState.hiddenLabel&&"small"===ownerState.size&&{paddingTop:8,paddingBottom:9},ownerState.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=react.forwardRef(function FilledInput(inProps,ref){var _ref,_slots$root,_ref2,_slots$input;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiFilledInput"}),{components={},componentsProps:componentsPropsProp,fullWidth=!1,inputComponent="input",multiline=!1,slotProps,slots={},type="text"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,FilledInput_excluded),ownerState=(0,esm_extends.A)({},props,{fullWidth,inputComponent,multiline,type}),classes=(ownerState=>{const{classes,disableUnderline}=ownerState,slots={root:["root",!disableUnderline&&"underline"],input:["input"]},composedClasses=(0,composeClasses.A)(slots,getFilledInputUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(props),filledInputComponentsProps={root:{ownerState},input:{ownerState}},componentsProps=(null!=slotProps?slotProps:componentsPropsProp)?(0,deepmerge.A)(filledInputComponentsProps,null!=slotProps?slotProps:componentsPropsProp):filledInputComponentsProps,RootSlot=null!=(_ref=null!=(_slots$root=slots.root)?_slots$root:components.Root)?_ref:FilledInputRoot,InputSlot=null!=(_ref2=null!=(_slots$input=slots.input)?_slots$input:components.Input)?_ref2:FilledInputInput;return(0,jsx_runtime.jsx)(InputBase_InputBase,(0,esm_extends.A)({slots:{root:RootSlot,input:InputSlot},componentsProps,fullWidth,inputComponent,multiline,ref,type},other,{classes}))});FilledInput.muiName="Input";const FilledInput_FilledInput=FilledInput;var _span;const NotchedOutline_excluded=["children","classes","className","label","notched"],NotchedOutlineRoot=(0,styled.Ay)("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=(0,styled.Ay)("legend",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp.A})(({ownerState,theme})=>(0,esm_extends.A)({float:"unset",width:"auto",overflow:"hidden"},!ownerState.withLabel&&{padding:0,lineHeight:"11px",transition:theme.transitions.create("width",{duration:150,easing:theme.transitions.easing.easeOut})},ownerState.withLabel&&(0,esm_extends.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:theme.transitions.create("max-width",{duration:50,easing:theme.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},ownerState.notched&&{maxWidth:"100%",transition:theme.transitions.create("max-width",{duration:100,easing:theme.transitions.easing.easeOut,delay:50})})));function getOutlinedInputUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiOutlinedInput",slot)}const OutlinedInput_outlinedInputClasses=(0,esm_extends.A)({},InputBase_inputBaseClasses,(0,generateUtilityClasses.A)("MuiOutlinedInput",["root","notchedOutline","input"])),OutlinedInput_excluded=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],OutlinedInputRoot=(0,styled.Ay)(InputBaseRoot,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme,ownerState})=>{const borderColor="light"===theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,esm_extends.A)({position:"relative",borderRadius:(theme.vars||theme).shape.borderRadius,[`&:hover .${OutlinedInput_outlinedInputClasses.notchedOutline}`]:{borderColor:(theme.vars||theme).palette.text.primary},"@media (hover: none)":{[`&:hover .${OutlinedInput_outlinedInputClasses.notchedOutline}`]:{borderColor:theme.vars?`rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)`:borderColor}},[`&.${OutlinedInput_outlinedInputClasses.focused} .${OutlinedInput_outlinedInputClasses.notchedOutline}`]:{borderColor:(theme.vars||theme).palette[ownerState.color].main,borderWidth:2},[`&.${OutlinedInput_outlinedInputClasses.error} .${OutlinedInput_outlinedInputClasses.notchedOutline}`]:{borderColor:(theme.vars||theme).palette.error.main},[`&.${OutlinedInput_outlinedInputClasses.disabled} .${OutlinedInput_outlinedInputClasses.notchedOutline}`]:{borderColor:(theme.vars||theme).palette.action.disabled}},ownerState.startAdornment&&{paddingLeft:14},ownerState.endAdornment&&{paddingRight:14},ownerState.multiline&&(0,esm_extends.A)({padding:"16.5px 14px"},"small"===ownerState.size&&{padding:"8.5px 14px"}))}),OutlinedInput_NotchedOutlineRoot=(0,styled.Ay)(function NotchedOutline(props){const{className,label,notched}=props,other=(0,objectWithoutPropertiesLoose.A)(props,NotchedOutline_excluded),withLabel=null!=label&&""!==label,ownerState=(0,esm_extends.A)({},props,{notched,withLabel});return(0,jsx_runtime.jsx)(NotchedOutlineRoot,(0,esm_extends.A)({"aria-hidden":!0,className,ownerState},other,{children:(0,jsx_runtime.jsx)(NotchedOutlineLegend,{ownerState,children:withLabel?(0,jsx_runtime.jsx)("span",{children:label}):_span||(_span=(0,jsx_runtime.jsx)("span",{className:"notranslate",children:""}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(props,styles)=>styles.notchedOutline})(({theme})=>{const borderColor="light"===theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:theme.vars?`rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)`:borderColor}}),OutlinedInputInput=(0,styled.Ay)(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme,ownerState})=>(0,esm_extends.A)({padding:"16.5px 14px"},!theme.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===theme.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===theme.palette.mode?null:"#fff",caretColor:"light"===theme.palette.mode?null:"#fff",borderRadius:"inherit"}},theme.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[theme.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===ownerState.size&&{padding:"8.5px 14px"},ownerState.multiline&&{padding:0},ownerState.startAdornment&&{paddingLeft:0},ownerState.endAdornment&&{paddingRight:0})),OutlinedInput=react.forwardRef(function OutlinedInput(inProps,ref){var _ref,_slots$root,_ref2,_slots$input,_React$Fragment;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiOutlinedInput"}),{components={},fullWidth=!1,inputComponent="input",label,multiline=!1,notched,slots={},type="text"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,OutlinedInput_excluded),classes=(ownerState=>{const{classes}=ownerState,composedClasses=(0,composeClasses.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(props),muiFormControl=useFormControl(),fcs=formControlState({props,muiFormControl,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),ownerState=(0,esm_extends.A)({},props,{color:fcs.color||"primary",disabled:fcs.disabled,error:fcs.error,focused:fcs.focused,formControl:muiFormControl,fullWidth,hiddenLabel:fcs.hiddenLabel,multiline,size:fcs.size,type}),RootSlot=null!=(_ref=null!=(_slots$root=slots.root)?_slots$root:components.Root)?_ref:OutlinedInputRoot,InputSlot=null!=(_ref2=null!=(_slots$input=slots.input)?_slots$input:components.Input)?_ref2:OutlinedInputInput;return(0,jsx_runtime.jsx)(InputBase_InputBase,(0,esm_extends.A)({slots:{root:RootSlot,input:InputSlot},renderSuffix:state=>(0,jsx_runtime.jsx)(OutlinedInput_NotchedOutlineRoot,{ownerState,className:classes.notchedOutline,label:null!=label&&""!==label&&fcs.required?_React$Fragment||(_React$Fragment=(0,jsx_runtime.jsxs)(react.Fragment,{children:[label,"","*"]})):label,notched:void 0!==notched?notched:Boolean(state.startAdornment||state.filled||state.focused)}),fullWidth,inputComponent,multiline,ref,type},other,{classes:(0,esm_extends.A)({},classes,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput_OutlinedInput=OutlinedInput;function getFormLabelUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiFormLabel",slot)}const FormLabel_formLabelClasses=(0,generateUtilityClasses.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),FormLabel_excluded=["children","className","color","component","disabled","error","filled","focused","required"],FormLabelRoot=(0,styled.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState},styles)=>(0,esm_extends.A)({},styles.root,"secondary"===ownerState.color&&styles.colorSecondary,ownerState.filled&&styles.filled)})(({theme,ownerState})=>(0,esm_extends.A)({color:(theme.vars||theme).palette.text.secondary},theme.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${FormLabel_formLabelClasses.focused}`]:{color:(theme.vars||theme).palette[ownerState.color].main},[`&.${FormLabel_formLabelClasses.disabled}`]:{color:(theme.vars||theme).palette.text.disabled},[`&.${FormLabel_formLabelClasses.error}`]:{color:(theme.vars||theme).palette.error.main}})),AsteriskComponent=(0,styled.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(props,styles)=>styles.asterisk})(({theme})=>({[`&.${FormLabel_formLabelClasses.error}`]:{color:(theme.vars||theme).palette.error.main}})),FormLabel=react.forwardRef(function FormLabel(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiFormLabel"}),{children,className,component="label"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,FormLabel_excluded),fcs=formControlState({props,muiFormControl:useFormControl(),states:["color","required","focused","disabled","error","filled"]}),ownerState=(0,esm_extends.A)({},props,{color:fcs.color||"primary",component,disabled:fcs.disabled,error:fcs.error,filled:fcs.filled,focused:fcs.focused,required:fcs.required}),classes=(ownerState=>{const{classes,color,focused,disabled,error,filled,required}=ownerState,slots={root:["root",`color${(0,capitalize.A)(color)}`,disabled&&"disabled",error&&"error",filled&&"filled",focused&&"focused",required&&"required"],asterisk:["asterisk",error&&"error"]};return(0,composeClasses.A)(slots,getFormLabelUtilityClasses,classes)})(ownerState);return(0,jsx_runtime.jsxs)(FormLabelRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other,{children:[children,fcs.required&&(0,jsx_runtime.jsxs)(AsteriskComponent,{ownerState,"aria-hidden":!0,className:classes.asterisk,children:["","*"]})]}))}),FormLabel_FormLabel=FormLabel;function getInputLabelUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiInputLabel",slot)}(0,generateUtilityClasses.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const InputLabel_excluded=["disableAnimation","margin","shrink","variant","className"],InputLabelRoot=(0,styled.Ay)(FormLabel_FormLabel,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiInputLabel",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${FormLabel_formLabelClasses.asterisk}`]:styles.asterisk},styles.root,ownerState.formControl&&styles.formControl,"small"===ownerState.size&&styles.sizeSmall,ownerState.shrink&&styles.shrink,!ownerState.disableAnimation&&styles.animated,ownerState.focused&&styles.focused,styles[ownerState.variant]]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},ownerState.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===ownerState.size&&{transform:"translate(0, 17px) scale(1)"},ownerState.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!ownerState.disableAnimation&&{transition:theme.transitions.create(["color","transform","max-width"],{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut})},"filled"===ownerState.variant&&(0,esm_extends.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===ownerState.size&&{transform:"translate(12px, 13px) scale(1)"},ownerState.shrink&&(0,esm_extends.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===ownerState.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===ownerState.variant&&(0,esm_extends.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===ownerState.size&&{transform:"translate(14px, 9px) scale(1)"},ownerState.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=react.forwardRef(function InputLabel(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({name:"MuiInputLabel",props:inProps}),{disableAnimation=!1,shrink:shrinkProp,className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,InputLabel_excluded),muiFormControl=useFormControl();let shrink=shrinkProp;void 0===shrink&&muiFormControl&&(shrink=muiFormControl.filled||muiFormControl.focused||muiFormControl.adornedStart);const fcs=formControlState({props,muiFormControl,states:["size","variant","required","focused"]}),ownerState=(0,esm_extends.A)({},props,{disableAnimation,formControl:muiFormControl,shrink,size:fcs.size,variant:fcs.variant,required:fcs.required,focused:fcs.focused}),classes=(ownerState=>{const{classes,formControl,size,shrink,disableAnimation,variant,required}=ownerState,slots={root:["root",formControl&&"formControl",!disableAnimation&&"animated",shrink&&"shrink",size&&"normal"!==size&&`size${(0,capitalize.A)(size)}`,variant],asterisk:[required&&"asterisk"]},composedClasses=(0,composeClasses.A)(slots,getInputLabelUtilityClasses,classes);return(0,esm_extends.A)({},classes,composedClasses)})(ownerState);return(0,jsx_runtime.jsx)(InputLabelRoot,(0,esm_extends.A)({"data-shrink":shrink,ownerState,ref,className:(0,clsx.A)(classes.root,className)},other,{classes}))}),InputLabel_InputLabel=InputLabel;var isMuiElement=__webpack_require__(18593);function getFormControlUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiFormControl",slot)}(0,generateUtilityClasses.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const FormControl_excluded=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],FormControlRoot=(0,styled.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState},styles)=>(0,esm_extends.A)({},styles.root,styles[`margin${(0,capitalize.A)(ownerState.margin)}`],ownerState.fullWidth&&styles.fullWidth)})(({ownerState})=>(0,esm_extends.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===ownerState.margin&&{marginTop:16,marginBottom:8},"dense"===ownerState.margin&&{marginTop:8,marginBottom:4},ownerState.fullWidth&&{width:"100%"})),FormControl=react.forwardRef(function FormControl(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiFormControl"}),{children,className,color="primary",component="div",disabled=!1,error=!1,focused:visuallyFocused,fullWidth=!1,hiddenLabel=!1,margin="none",required=!1,size="medium",variant="outlined"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,FormControl_excluded),ownerState=(0,esm_extends.A)({},props,{color,component,disabled,error,fullWidth,hiddenLabel,margin,required,size,variant}),classes=(ownerState=>{const{classes,margin,fullWidth}=ownerState,slots={root:["root","none"!==margin&&`margin${(0,capitalize.A)(margin)}`,fullWidth&&"fullWidth"]};return(0,composeClasses.A)(slots,getFormControlUtilityClasses,classes)})(ownerState),[adornedStart,setAdornedStart]=react.useState(()=>{let initialAdornedStart=!1;return children&&react.Children.forEach(children,child=>{if(!(0,isMuiElement.A)(child,["Input","Select"]))return;const input=(0,isMuiElement.A)(child,["Select"])?child.props.input:child;input&&function isAdornedStart(obj){return obj.startAdornment}(input.props)&&(initialAdornedStart=!0)}),initialAdornedStart}),[filled,setFilled]=react.useState(()=>{let initialFilled=!1;return children&&react.Children.forEach(children,child=>{(0,isMuiElement.A)(child,["Input","Select"])&&(isFilled(child.props,!0)||isFilled(child.props.inputProps,!0))&&(initialFilled=!0)}),initialFilled}),[focusedState,setFocused]=react.useState(!1);disabled&&focusedState&&setFocused(!1);const focused=void 0===visuallyFocused||disabled?focusedState:visuallyFocused;const childContext=react.useMemo(()=>({adornedStart,setAdornedStart,color,disabled,error,filled,focused,fullWidth,hiddenLabel,size,onBlur:()=>{setFocused(!1)},onEmpty:()=>{setFilled(!1)},onFilled:()=>{setFilled(!0)},onFocus:()=>{setFocused(!0)},registerEffect:undefined,required,variant}),[adornedStart,color,disabled,error,filled,focused,fullWidth,hiddenLabel,undefined,required,size,variant]);return(0,jsx_runtime.jsx)(FormControl_FormControlContext.Provider,{value:childContext,children:(0,jsx_runtime.jsx)(FormControlRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other,{children}))})}),FormControl_FormControl=FormControl;function getFormHelperTextUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiFormHelperText",slot)}const FormHelperText_formHelperTextClasses=(0,generateUtilityClasses.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var FormHelperText_span;const FormHelperText_excluded=["children","className","component","disabled","error","filled","focused","margin","required","variant"],FormHelperTextRoot=(0,styled.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.size&&styles[`size${(0,capitalize.A)(ownerState.size)}`],ownerState.contained&&styles.contained,ownerState.filled&&styles.filled]}})(({theme,ownerState})=>(0,esm_extends.A)({color:(theme.vars||theme).palette.text.secondary},theme.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${FormHelperText_formHelperTextClasses.disabled}`]:{color:(theme.vars||theme).palette.text.disabled},[`&.${FormHelperText_formHelperTextClasses.error}`]:{color:(theme.vars||theme).palette.error.main}},"small"===ownerState.size&&{marginTop:4},ownerState.contained&&{marginLeft:14,marginRight:14})),FormHelperText=react.forwardRef(function FormHelperText(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiFormHelperText"}),{children,className,component="p"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,FormHelperText_excluded),fcs=formControlState({props,muiFormControl:useFormControl(),states:["variant","size","disabled","error","filled","focused","required"]}),ownerState=(0,esm_extends.A)({},props,{component,contained:"filled"===fcs.variant||"outlined"===fcs.variant,variant:fcs.variant,size:fcs.size,disabled:fcs.disabled,error:fcs.error,filled:fcs.filled,focused:fcs.focused,required:fcs.required}),classes=(ownerState=>{const{classes,contained,size,disabled,error,filled,focused,required}=ownerState,slots={root:["root",disabled&&"disabled",error&&"error",size&&`size${(0,capitalize.A)(size)}`,contained&&"contained",focused&&"focused",filled&&"filled",required&&"required"]};return(0,composeClasses.A)(slots,getFormHelperTextUtilityClasses,classes)})(ownerState);return(0,jsx_runtime.jsx)(FormHelperTextRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other,{children:" "===children?FormHelperText_span||(FormHelperText_span=(0,jsx_runtime.jsx)("span",{className:"notranslate",children:""})):children}))}),FormHelperText_FormHelperText=FormHelperText;function getReactElementRef(element){var _element$props;return parseInt(react.version,10)>=19?(null==element||null==(_element$props=element.props)?void 0:_element$props.ref)||null:(null==element?void 0:element.ref)||null}const List_ListContext=react.createContext({});function getListUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiList",slot)}(0,generateUtilityClasses.A)("MuiList",["root","padding","dense","subheader"]);const List_excluded=["children","className","component","dense","disablePadding","subheader"],ListRoot=(0,styled.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,!ownerState.disablePadding&&styles.padding,ownerState.dense&&styles.dense,ownerState.subheader&&styles.subheader]}})(({ownerState})=>(0,esm_extends.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!ownerState.disablePadding&&{paddingTop:8,paddingBottom:8},ownerState.subheader&&{paddingTop:0})),List=react.forwardRef(function List(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiList"}),{children,className,component="ul",dense=!1,disablePadding=!1,subheader}=props,other=(0,objectWithoutPropertiesLoose.A)(props,List_excluded),context=react.useMemo(()=>({dense}),[dense]),ownerState=(0,esm_extends.A)({},props,{component,dense,disablePadding}),classes=(ownerState=>{const{classes,disablePadding,dense,subheader}=ownerState,slots={root:["root",!disablePadding&&"padding",dense&&"dense",subheader&&"subheader"]};return(0,composeClasses.A)(slots,getListUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(List_ListContext.Provider,{value:context,children:(0,jsx_runtime.jsxs)(ListRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),ref,ownerState},other,{children:[subheader,children]}))})}),List_List=List;function getScrollbarSize(doc){const documentWidth=doc.documentElement.clientWidth;return Math.abs(window.innerWidth-documentWidth)}const utils_getScrollbarSize=getScrollbarSize,MenuList_excluded=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function MenuList_nextItem(list,item,disableListWrap){return list===item?list.firstChild:item&&item.nextElementSibling?item.nextElementSibling:disableListWrap?null:list.firstChild}function MenuList_previousItem(list,item,disableListWrap){return list===item?disableListWrap?list.firstChild:list.lastChild:item&&item.previousElementSibling?item.previousElementSibling:disableListWrap?null:list.lastChild}function textCriteriaMatches(nextFocus,textCriteria){if(void 0===textCriteria)return!0;let text=nextFocus.innerText;return void 0===text&&(text=nextFocus.textContent),text=text.trim().toLowerCase(),0!==text.length&&(textCriteria.repeating?text[0]===textCriteria.keys[0]:0===text.indexOf(textCriteria.keys.join("")))}function MenuList_moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,traversalFunction,textCriteria){let wrappedOnce=!1,nextFocus=traversalFunction(list,currentFocus,!!currentFocus&&disableListWrap);for(;nextFocus;){if(nextFocus===list.firstChild){if(wrappedOnce)return!1;wrappedOnce=!0}const nextFocusDisabled=!disabledItemsFocusable&&(nextFocus.disabled||"true"===nextFocus.getAttribute("aria-disabled"));if(nextFocus.hasAttribute("tabindex")&&textCriteriaMatches(nextFocus,textCriteria)&&!nextFocusDisabled)return nextFocus.focus(),!0;nextFocus=traversalFunction(list,nextFocus,disableListWrap)}return!1}const MenuList=react.forwardRef(function MenuList(props,ref){const{actions,autoFocus=!1,autoFocusItem=!1,children,className,disabledItemsFocusable=!1,disableListWrap=!1,onKeyDown,variant="selectedMenu"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,MenuList_excluded),listRef=react.useRef(null),textCriteriaRef=react.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,utils_useEnhancedEffect.A)(()=>{autoFocus&&listRef.current.focus()},[autoFocus]),react.useImperativeHandle(actions,()=>({adjustStyleForScrollbar:(containerElement,{direction})=>{const noExplicitWidth=!listRef.current.style.width;if(containerElement.clientHeight<listRef.current.clientHeight&&noExplicitWidth){const scrollbarSize=`${utils_getScrollbarSize((0,ownerDocument.A)(containerElement))}px`;listRef.current.style["rtl"===direction?"paddingLeft":"paddingRight"]=scrollbarSize,listRef.current.style.width=`calc(100% + ${scrollbarSize})`}return listRef.current}}),[]);const handleRef=(0,utils_useForkRef.A)(listRef,ref);let activeItemIndex=-1;react.Children.forEach(children,(child,index)=>{react.isValidElement(child)?(child.props.disabled||("selectedMenu"===variant&&child.props.selected||-1===activeItemIndex)&&(activeItemIndex=index),activeItemIndex===index&&(child.props.disabled||child.props.muiSkipListHighlight||child.type.muiSkipListHighlight)&&(activeItemIndex+=1,activeItemIndex>=children.length&&(activeItemIndex=-1))):activeItemIndex===index&&(activeItemIndex+=1,activeItemIndex>=children.length&&(activeItemIndex=-1))});const items=react.Children.map(children,(child,index)=>{if(index===activeItemIndex){const newChildProps={};return autoFocusItem&&(newChildProps.autoFocus=!0),void 0===child.props.tabIndex&&"selectedMenu"===variant&&(newChildProps.tabIndex=0),react.cloneElement(child,newChildProps)}return child});return(0,jsx_runtime.jsx)(List_List,(0,esm_extends.A)({role:"menu",ref:handleRef,className,onKeyDown:event=>{const list=listRef.current,key=event.key,currentFocus=(0,ownerDocument.A)(list).activeElement;if("ArrowDown"===key)event.preventDefault(),MenuList_moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,MenuList_nextItem);else if("ArrowUp"===key)event.preventDefault(),MenuList_moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,MenuList_previousItem);else if("Home"===key)event.preventDefault(),MenuList_moveFocus(list,null,disableListWrap,disabledItemsFocusable,MenuList_nextItem);else if("End"===key)event.preventDefault(),MenuList_moveFocus(list,null,disableListWrap,disabledItemsFocusable,MenuList_previousItem);else if(1===key.length){const criteria=textCriteriaRef.current,lowerKey=key.toLowerCase(),currTime=performance.now();criteria.keys.length>0&&(currTime-criteria.lastTime>500?(criteria.keys=[],criteria.repeating=!0,criteria.previousKeyMatched=!0):criteria.repeating&&lowerKey!==criteria.keys[0]&&(criteria.repeating=!1)),criteria.lastTime=currTime,criteria.keys.push(lowerKey);const keepFocusOnCurrent=currentFocus&&!criteria.repeating&&textCriteriaMatches(currentFocus,criteria);criteria.previousKeyMatched&&(keepFocusOnCurrent||MenuList_moveFocus(list,currentFocus,!1,disabledItemsFocusable,MenuList_nextItem,criteria))?event.preventDefault():criteria.previousKeyMatched=!1}onKeyDown&&onKeyDown(event)},tabIndex:autoFocus?0:-1},other,{children:items}))}),MenuList_MenuList=MenuList,config_disabled=!1;var Transition=function(_React$Component){function Transition(props,context){var _this;_this=_React$Component.call(this,props,context)||this;var initialStatus,appear=context&&!context.isMounting?props.enter:props.appear;return _this.appearStatus=null,props.in?appear?(initialStatus="exited",_this.appearStatus="entering"):initialStatus="entered":initialStatus=props.unmountOnExit||props.mountOnEnter?"unmounted":"exited",_this.state={status:initialStatus},_this.nextCallback=null,_this}_inheritsLoose(Transition,_React$Component),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(_ref,prevState){return _ref.in&&"unmounted"===prevState.status?{status:"exited"}:null};var _proto=Transition.prototype;return _proto.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},_proto.componentDidUpdate=function componentDidUpdate(prevProps){var nextStatus=null;if(prevProps!==this.props){var status=this.state.status;this.props.in?"entering"!==status&&"entered"!==status&&(nextStatus="entering"):"entering"!==status&&"entered"!==status||(nextStatus="exiting")}this.updateStatus(!1,nextStatus)},_proto.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},_proto.getTimeouts=function getTimeouts(){var exit,enter,appear,timeout=this.props.timeout;return exit=enter=appear=timeout,null!=timeout&&"number"!=typeof timeout&&(exit=timeout.exit,enter=timeout.enter,appear=void 0!==timeout.appear?timeout.appear:enter),{exit,enter,appear}},_proto.updateStatus=function updateStatus(mounting,nextStatus){if(void 0===mounting&&(mounting=!1),null!==nextStatus)if(this.cancelNextCallback(),"entering"===nextStatus){if(this.props.unmountOnExit||this.props.mountOnEnter){var node=this.props.nodeRef?this.props.nodeRef.current:react_dom.findDOMNode(this);node&&function forceReflow(node){node.scrollTop}(node)}this.performEnter(mounting)}else this.performExit();else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},_proto.performEnter=function performEnter(mounting){var _this2=this,enter=this.props.enter,appearing=this.context?this.context.isMounting:mounting,_ref2=this.props.nodeRef?[appearing]:[react_dom.findDOMNode(this),appearing],maybeNode=_ref2[0],maybeAppearing=_ref2[1],timeouts=this.getTimeouts(),enterTimeout=appearing?timeouts.appear:timeouts.enter;!mounting&&!enter||config_disabled?this.safeSetState({status:"entered"},function(){_this2.props.onEntered(maybeNode)}):(this.props.onEnter(maybeNode,maybeAppearing),this.safeSetState({status:"entering"},function(){_this2.props.onEntering(maybeNode,maybeAppearing),_this2.onTransitionEnd(enterTimeout,function(){_this2.safeSetState({status:"entered"},function(){_this2.props.onEntered(maybeNode,maybeAppearing)})})}))},_proto.performExit=function performExit(){var _this3=this,exit=this.props.exit,timeouts=this.getTimeouts(),maybeNode=this.props.nodeRef?void 0:react_dom.findDOMNode(this);exit&&!config_disabled?(this.props.onExit(maybeNode),this.safeSetState({status:"exiting"},function(){_this3.props.onExiting(maybeNode),_this3.onTransitionEnd(timeouts.exit,function(){_this3.safeSetState({status:"exited"},function(){_this3.props.onExited(maybeNode)})})})):this.safeSetState({status:"exited"},function(){_this3.props.onExited(maybeNode)})},_proto.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},_proto.safeSetState=function safeSetState(nextState,callback){callback=this.setNextCallback(callback),this.setState(nextState,callback)},_proto.setNextCallback=function setNextCallback(callback){var _this4=this,active=!0;return this.nextCallback=function(event){active&&(active=!1,_this4.nextCallback=null,callback(event))},this.nextCallback.cancel=function(){active=!1},this.nextCallback},_proto.onTransitionEnd=function onTransitionEnd(timeout,handler){this.setNextCallback(handler);var node=this.props.nodeRef?this.props.nodeRef.current:react_dom.findDOMNode(this),doesNotHaveTimeoutOrListener=null==timeout&&!this.props.addEndListener;if(node&&!doesNotHaveTimeoutOrListener){if(this.props.addEndListener){var _ref3=this.props.nodeRef?[this.nextCallback]:[node,this.nextCallback],maybeNode=_ref3[0],maybeNextCallback=_ref3[1];this.props.addEndListener(maybeNode,maybeNextCallback)}null!=timeout&&setTimeout(this.nextCallback,timeout)}else setTimeout(this.nextCallback,0)},_proto.render=function render(){var status=this.state.status;if("unmounted"===status)return null;var _this$props=this.props,children=_this$props.children,childProps=(_this$props.in,_this$props.mountOnEnter,_this$props.unmountOnExit,_this$props.appear,_this$props.enter,_this$props.exit,_this$props.timeout,_this$props.addEndListener,_this$props.onEnter,_this$props.onEntering,_this$props.onEntered,_this$props.onExit,_this$props.onExiting,_this$props.onExited,_this$props.nodeRef,(0,objectWithoutPropertiesLoose.A)(_this$props,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return react.createElement(TransitionGroupContext.Provider,{value:null},"function"==typeof children?children(status,childProps):react.cloneElement(react.Children.only(children),childProps))},Transition}(react.Component);function Transition_noop(){}Transition.contextType=TransitionGroupContext,Transition.propTypes={},Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Transition_noop,onEntering:Transition_noop,onEntered:Transition_noop,onExit:Transition_noop,onExiting:Transition_noop,onExited:Transition_noop},Transition.UNMOUNTED="unmounted",Transition.EXITED="exited",Transition.ENTERING="entering",Transition.ENTERED="entered",Transition.EXITING="exiting";const esm_Transition=Transition,reflow=node=>node.scrollTop;function getTransitionProps(props,options){var _style$transitionDura,_style$transitionTimi;const{timeout,easing,style={}}=props;return{duration:null!=(_style$transitionDura=style.transitionDuration)?_style$transitionDura:"number"==typeof timeout?timeout:timeout[options.mode]||0,easing:null!=(_style$transitionTimi=style.transitionTimingFunction)?_style$transitionTimi:"object"==typeof easing?easing[options.mode]:easing,delay:style.transitionDelay}}const Grow_excluded=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(value){return`scale(${value}, ${value**2})`}const Grow_styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=react.forwardRef(function Grow(props,ref){const{addEndListener,appear=!0,children,easing,in:inProp,onEnter,onEntered,onEntering,onExit,onExited,onExiting,style,timeout="auto",TransitionComponent=esm_Transition}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Grow_excluded),timer=(0,useTimeout.A)(),autoTimeout=react.useRef(),theme=styles_useTheme_useTheme(),nodeRef=react.useRef(null),handleRef=(0,utils_useForkRef.A)(nodeRef,getReactElementRef(children),ref),normalizedTransitionCallback=callback=>maybeIsAppearing=>{if(callback){const node=nodeRef.current;void 0===maybeIsAppearing?callback(node):callback(node,maybeIsAppearing)}},handleEntering=normalizedTransitionCallback(onEntering),handleEnter=normalizedTransitionCallback((node,isAppearing)=>{reflow(node);const{duration:transitionDuration,delay,easing:transitionTimingFunction}=getTransitionProps({style,timeout,easing},{mode:"enter"});let duration;"auto"===timeout?(duration=theme.transitions.getAutoHeightDuration(node.clientHeight),autoTimeout.current=duration):duration=transitionDuration,node.style.transition=[theme.transitions.create("opacity",{duration,delay}),theme.transitions.create("transform",{duration:isWebKit154?duration:.666*duration,delay,easing:transitionTimingFunction})].join(","),onEnter&&onEnter(node,isAppearing)}),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback(node=>{const{duration:transitionDuration,delay,easing:transitionTimingFunction}=getTransitionProps({style,timeout,easing},{mode:"exit"});let duration;"auto"===timeout?(duration=theme.transitions.getAutoHeightDuration(node.clientHeight),autoTimeout.current=duration):duration=transitionDuration,node.style.transition=[theme.transitions.create("opacity",{duration,delay}),theme.transitions.create("transform",{duration:isWebKit154?duration:.666*duration,delay:isWebKit154?delay:delay||.333*duration,easing:transitionTimingFunction})].join(","),node.style.opacity=0,node.style.transform=getScale(.75),onExit&&onExit(node)}),handleExited=normalizedTransitionCallback(onExited);return(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({appear,in:inProp,nodeRef,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:next=>{"auto"===timeout&&timer.start(autoTimeout.current||0,next),addEndListener&&addEndListener(nodeRef.current,next)},timeout:"auto"===timeout?null:timeout},other,{children:(state,childProps)=>react.cloneElement(children,(0,esm_extends.A)({style:(0,esm_extends.A)({opacity:0,transform:getScale(.75),visibility:"exited"!==state||inProp?void 0:"hidden"},Grow_styles[state],style,children.props.style),ref:handleRef},childProps))}))});Grow.muiSupportAuto=!0;const Grow_Grow=Grow;var ownerDocument_ownerDocument=__webpack_require__(32325);const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function defaultGetTabbable(root){const regularTabNodes=[],orderedTabNodes=[];return Array.from(root.querySelectorAll(candidatesSelector)).forEach((node,i)=>{const nodeTabIndex=function getTabIndex(node){const tabindexAttr=parseInt(node.getAttribute("tabindex")||"",10);return Number.isNaN(tabindexAttr)?"true"===node.contentEditable||("AUDIO"===node.nodeName||"VIDEO"===node.nodeName||"DETAILS"===node.nodeName)&&null===node.getAttribute("tabindex")?0:node.tabIndex:tabindexAttr}(node);-1!==nodeTabIndex&&function isNodeMatchingSelectorFocusable(node){return!(node.disabled||"INPUT"===node.tagName&&"hidden"===node.type||function isNonTabbableRadio(node){if("INPUT"!==node.tagName||"radio"!==node.type)return!1;if(!node.name)return!1;const getRadio=selector=>node.ownerDocument.querySelector(`input[type="radio"]${selector}`);let roving=getRadio(`[name="${node.name}"]:checked`);return roving||(roving=getRadio(`[name="${node.name}"]`)),roving!==node}(node))}(node)&&(0===nodeTabIndex?regularTabNodes.push(node):orderedTabNodes.push({documentOrder:i,tabIndex:nodeTabIndex,node}))}),orderedTabNodes.sort((a,b)=>a.tabIndex===b.tabIndex?a.documentOrder-b.documentOrder:a.tabIndex-b.tabIndex).map(a=>a.node).concat(regularTabNodes)}function defaultIsEnabled(){return!0}const Unstable_TrapFocus_FocusTrap=function FocusTrap(props){const{children,disableAutoFocus=!1,disableEnforceFocus=!1,disableRestoreFocus=!1,getTabbable=defaultGetTabbable,isEnabled=defaultIsEnabled,open}=props,ignoreNextEnforceFocus=react.useRef(!1),sentinelStart=react.useRef(null),sentinelEnd=react.useRef(null),nodeToRestore=react.useRef(null),reactFocusEventTarget=react.useRef(null),activated=react.useRef(!1),rootRef=react.useRef(null),handleRef=(0,useForkRef.A)(getReactElementRef(children),rootRef),lastKeydown=react.useRef(null);react.useEffect(()=>{open&&rootRef.current&&(activated.current=!disableAutoFocus)},[disableAutoFocus,open]),react.useEffect(()=>{if(!open||!rootRef.current)return;const doc=(0,ownerDocument_ownerDocument.A)(rootRef.current);return rootRef.current.contains(doc.activeElement)||(rootRef.current.hasAttribute("tabIndex")||rootRef.current.setAttribute("tabIndex","-1"),activated.current&&rootRef.current.focus()),()=>{disableRestoreFocus||(nodeToRestore.current&&nodeToRestore.current.focus&&(ignoreNextEnforceFocus.current=!0,nodeToRestore.current.focus()),nodeToRestore.current=null)}},[open]),react.useEffect(()=>{if(!open||!rootRef.current)return;const doc=(0,ownerDocument_ownerDocument.A)(rootRef.current),loopFocus=nativeEvent=>{lastKeydown.current=nativeEvent,!disableEnforceFocus&&isEnabled()&&"Tab"===nativeEvent.key&&doc.activeElement===rootRef.current&&nativeEvent.shiftKey&&(ignoreNextEnforceFocus.current=!0,sentinelEnd.current&&sentinelEnd.current.focus())},contain=()=>{const rootElement=rootRef.current;if(null===rootElement)return;if(!doc.hasFocus()||!isEnabled()||ignoreNextEnforceFocus.current)return void(ignoreNextEnforceFocus.current=!1);if(rootElement.contains(doc.activeElement))return;if(disableEnforceFocus&&doc.activeElement!==sentinelStart.current&&doc.activeElement!==sentinelEnd.current)return;if(doc.activeElement!==reactFocusEventTarget.current)reactFocusEventTarget.current=null;else if(null!==reactFocusEventTarget.current)return;if(!activated.current)return;let tabbable=[];if(doc.activeElement!==sentinelStart.current&&doc.activeElement!==sentinelEnd.current||(tabbable=getTabbable(rootRef.current)),tabbable.length>0){var _lastKeydown$current,_lastKeydown$current2;const isShiftTab=Boolean((null==(_lastKeydown$current=lastKeydown.current)?void 0:_lastKeydown$current.shiftKey)&&"Tab"===(null==(_lastKeydown$current2=lastKeydown.current)?void 0:_lastKeydown$current2.key)),focusNext=tabbable[0],focusPrevious=tabbable[tabbable.length-1];"string"!=typeof focusNext&&"string"!=typeof focusPrevious&&(isShiftTab?focusPrevious.focus():focusNext.focus())}else rootElement.focus()};doc.addEventListener("focusin",contain),doc.addEventListener("keydown",loopFocus,!0);const interval=setInterval(()=>{doc.activeElement&&"BODY"===doc.activeElement.tagName&&contain()},50);return()=>{clearInterval(interval),doc.removeEventListener("focusin",contain),doc.removeEventListener("keydown",loopFocus,!0)}},[disableAutoFocus,disableEnforceFocus,disableRestoreFocus,isEnabled,open,getTabbable]);const handleFocusSentinel=event=>{null===nodeToRestore.current&&(nodeToRestore.current=event.relatedTarget),activated.current=!0};return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{tabIndex:open?0:-1,onFocus:handleFocusSentinel,ref:sentinelStart,"data-testid":"sentinelStart"}),react.cloneElement(children,{ref:handleRef,onFocus:event=>{null===nodeToRestore.current&&(nodeToRestore.current=event.relatedTarget),activated.current=!0,reactFocusEventTarget.current=event.target;const childrenPropsHandler=children.props.onFocus;childrenPropsHandler&&childrenPropsHandler(event)}}),(0,jsx_runtime.jsx)("div",{tabIndex:open?0:-1,onFocus:handleFocusSentinel,ref:sentinelEnd,"data-testid":"sentinelEnd"})]})};var setRef=__webpack_require__(17365);const Portal_Portal=react.forwardRef(function Portal(props,forwardedRef){const{children,container,disablePortal=!1}=props,[mountNode,setMountNode]=react.useState(null),handleRef=(0,useForkRef.A)(react.isValidElement(children)?getReactElementRef(children):null,forwardedRef);if((0,useEnhancedEffect.A)(()=>{disablePortal||setMountNode(function getContainer(container){return"function"==typeof container?container():container}(container)||document.body)},[container,disablePortal]),(0,useEnhancedEffect.A)(()=>{if(mountNode&&!disablePortal)return(0,setRef.A)(forwardedRef,mountNode),()=>{(0,setRef.A)(forwardedRef,null)}},[forwardedRef,mountNode,disablePortal]),disablePortal){if(react.isValidElement(children)){const newProps={ref:handleRef};return react.cloneElement(children,newProps)}return(0,jsx_runtime.jsx)(react.Fragment,{children})}return(0,jsx_runtime.jsx)(react.Fragment,{children:mountNode?react_dom.createPortal(children,mountNode):mountNode})}),Fade_excluded=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Fade_styles={entering:{opacity:1},entered:{opacity:1}},Fade=react.forwardRef(function Fade(props,ref){const theme=styles_useTheme_useTheme(),defaultTimeout={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{addEndListener,appear=!0,children,easing,in:inProp,onEnter,onEntered,onEntering,onExit,onExited,onExiting,style,timeout=defaultTimeout,TransitionComponent=esm_Transition}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Fade_excluded),nodeRef=react.useRef(null),handleRef=(0,utils_useForkRef.A)(nodeRef,getReactElementRef(children),ref),normalizedTransitionCallback=callback=>maybeIsAppearing=>{if(callback){const node=nodeRef.current;void 0===maybeIsAppearing?callback(node):callback(node,maybeIsAppearing)}},handleEntering=normalizedTransitionCallback(onEntering),handleEnter=normalizedTransitionCallback((node,isAppearing)=>{reflow(node);const transitionProps=getTransitionProps({style,timeout,easing},{mode:"enter"});node.style.webkitTransition=theme.transitions.create("opacity",transitionProps),node.style.transition=theme.transitions.create("opacity",transitionProps),onEnter&&onEnter(node,isAppearing)}),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback(node=>{const transitionProps=getTransitionProps({style,timeout,easing},{mode:"exit"});node.style.webkitTransition=theme.transitions.create("opacity",transitionProps),node.style.transition=theme.transitions.create("opacity",transitionProps),onExit&&onExit(node)}),handleExited=normalizedTransitionCallback(onExited);return(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({appear,in:inProp,nodeRef,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:next=>{addEndListener&&addEndListener(nodeRef.current,next)},timeout},other,{children:(state,childProps)=>react.cloneElement(children,(0,esm_extends.A)({style:(0,esm_extends.A)({opacity:0,visibility:"exited"!==state||inProp?void 0:"hidden"},Fade_styles[state],style,children.props.style),ref:handleRef},childProps))}))}),Fade_Fade=Fade;function getBackdropUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiBackdrop",slot)}(0,generateUtilityClasses.A)("MuiBackdrop",["root","invisible"]);const Backdrop_excluded=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],BackdropRoot=(0,styled.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.invisible&&styles.invisible]}})(({ownerState})=>(0,esm_extends.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},ownerState.invisible&&{backgroundColor:"transparent"})),Backdrop=react.forwardRef(function Backdrop(inProps,ref){var _slotProps$root,_ref,_slots$root;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiBackdrop"}),{children,className,component="div",components={},componentsProps={},invisible=!1,open,slotProps={},slots={},TransitionComponent=Fade_Fade,transitionDuration}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Backdrop_excluded),ownerState=(0,esm_extends.A)({},props,{component,invisible}),classes=(ownerState=>{const{classes,invisible}=ownerState,slots={root:["root",invisible&&"invisible"]};return(0,composeClasses.A)(slots,getBackdropUtilityClass,classes)})(ownerState),rootSlotProps=null!=(_slotProps$root=slotProps.root)?_slotProps$root:componentsProps.root;return(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({in:open,timeout:transitionDuration},other,{children:(0,jsx_runtime.jsx)(BackdropRoot,(0,esm_extends.A)({"aria-hidden":!0},rootSlotProps,{as:null!=(_ref=null!=(_slots$root=slots.root)?_slots$root:components.Root)?_ref:component,className:(0,clsx.A)(classes.root,className,null==rootSlotProps?void 0:rootSlotProps.className),ownerState:(0,esm_extends.A)({},ownerState,null==rootSlotProps?void 0:rootSlotProps.ownerState),classes,ref,children}))}))}),Backdrop_Backdrop=Backdrop;var createChainedFunction=__webpack_require__(76673);function ariaHidden(element,show){show?element.setAttribute("aria-hidden","true"):element.removeAttribute("aria-hidden")}function getPaddingRight(element){return parseInt((0,ownerWindow_ownerWindow.A)(element).getComputedStyle(element).paddingRight,10)||0}function ariaHiddenSiblings(container,mountElement,currentElement,elementsToExclude,show){const blacklist=[mountElement,currentElement,...elementsToExclude];[].forEach.call(container.children,element=>{const isNotExcludedElement=-1===blacklist.indexOf(element),isNotForbiddenElement=!function isAriaHiddenForbiddenOnElement(element){const isForbiddenTagName=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(element.tagName),isInputHidden="INPUT"===element.tagName&&"hidden"===element.getAttribute("type");return isForbiddenTagName||isInputHidden}(element);isNotExcludedElement&&isNotForbiddenElement&&ariaHidden(element,show)})}function findIndexOf(items,callback){let idx=-1;return items.some((item,index)=>!!callback(item)&&(idx=index,!0)),idx}function handleContainer(containerInfo,props){const restoreStyle=[],container=containerInfo.container;if(!props.disableScrollLock){if(function isOverflowing(container){const doc=(0,ownerDocument_ownerDocument.A)(container);return doc.body===container?(0,ownerWindow_ownerWindow.A)(container).innerWidth>doc.documentElement.clientWidth:container.scrollHeight>container.clientHeight}(container)){const scrollbarSize=getScrollbarSize((0,ownerDocument_ownerDocument.A)(container));restoreStyle.push({value:container.style.paddingRight,property:"padding-right",el:container}),container.style.paddingRight=`${getPaddingRight(container)+scrollbarSize}px`;const fixedElements=(0,ownerDocument_ownerDocument.A)(container).querySelectorAll(".mui-fixed");[].forEach.call(fixedElements,element=>{restoreStyle.push({value:element.style.paddingRight,property:"padding-right",el:element}),element.style.paddingRight=`${getPaddingRight(element)+scrollbarSize}px`})}let scrollContainer;if(container.parentNode instanceof DocumentFragment)scrollContainer=(0,ownerDocument_ownerDocument.A)(container).body;else{const parent=container.parentElement,containerWindow=(0,ownerWindow_ownerWindow.A)(container);scrollContainer="HTML"===(null==parent?void 0:parent.nodeName)&&"scroll"===containerWindow.getComputedStyle(parent).overflowY?parent:container}restoreStyle.push({value:scrollContainer.style.overflow,property:"overflow",el:scrollContainer},{value:scrollContainer.style.overflowX,property:"overflow-x",el:scrollContainer},{value:scrollContainer.style.overflowY,property:"overflow-y",el:scrollContainer}),scrollContainer.style.overflow="hidden"}return()=>{restoreStyle.forEach(({value,el,property})=>{value?el.style.setProperty(property,value):el.style.removeProperty(property)})}}const defaultManager=new class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(modal,container){let modalIndex=this.modals.indexOf(modal);if(-1!==modalIndex)return modalIndex;modalIndex=this.modals.length,this.modals.push(modal),modal.modalRef&&ariaHidden(modal.modalRef,!1);const hiddenSiblings=function getHiddenSiblings(container){const hiddenSiblings=[];return[].forEach.call(container.children,element=>{"true"===element.getAttribute("aria-hidden")&&hiddenSiblings.push(element)}),hiddenSiblings}(container);ariaHiddenSiblings(container,modal.mount,modal.modalRef,hiddenSiblings,!0);const containerIndex=findIndexOf(this.containers,item=>item.container===container);return-1!==containerIndex?(this.containers[containerIndex].modals.push(modal),modalIndex):(this.containers.push({modals:[modal],container,restore:null,hiddenSiblings}),modalIndex)}mount(modal,props){const containerIndex=findIndexOf(this.containers,item=>-1!==item.modals.indexOf(modal)),containerInfo=this.containers[containerIndex];containerInfo.restore||(containerInfo.restore=handleContainer(containerInfo,props))}remove(modal,ariaHiddenState=!0){const modalIndex=this.modals.indexOf(modal);if(-1===modalIndex)return modalIndex;const containerIndex=findIndexOf(this.containers,item=>-1!==item.modals.indexOf(modal)),containerInfo=this.containers[containerIndex];if(containerInfo.modals.splice(containerInfo.modals.indexOf(modal),1),this.modals.splice(modalIndex,1),0===containerInfo.modals.length)containerInfo.restore&&containerInfo.restore(),modal.modalRef&&ariaHidden(modal.modalRef,ariaHiddenState),ariaHiddenSiblings(containerInfo.container,modal.mount,modal.modalRef,containerInfo.hiddenSiblings,!1),this.containers.splice(containerIndex,1);else{const nextTop=containerInfo.modals[containerInfo.modals.length-1];nextTop.modalRef&&ariaHidden(nextTop.modalRef,!1)}return modalIndex}isTopModal(modal){return this.modals.length>0&&this.modals[this.modals.length-1]===modal}};const Modal_useModal=function useModal(parameters){const{container,disableEscapeKeyDown=!1,disableScrollLock=!1,manager=defaultManager,closeAfterTransition=!1,onTransitionEnter,onTransitionExited,children,onClose,open,rootRef}=parameters,modal=react.useRef({}),mountNodeRef=react.useRef(null),modalRef=react.useRef(null),handleRef=(0,useForkRef.A)(modalRef,rootRef),[exited,setExited]=react.useState(!open),hasTransition=function getHasTransition(children){return!!children&&children.props.hasOwnProperty("in")}(children);let ariaHiddenProp=!0;"false"!==parameters["aria-hidden"]&&!1!==parameters["aria-hidden"]||(ariaHiddenProp=!1);const getModal=()=>(modal.current.modalRef=modalRef.current,modal.current.mount=mountNodeRef.current,modal.current),handleMounted=()=>{manager.mount(getModal(),{disableScrollLock}),modalRef.current&&(modalRef.current.scrollTop=0)},handleOpen=(0,useEventCallback_useEventCallback.A)(()=>{const resolvedContainer=function useModal_getContainer(container){return"function"==typeof container?container():container}(container)||(0,ownerDocument_ownerDocument.A)(mountNodeRef.current).body;manager.add(getModal(),resolvedContainer),modalRef.current&&handleMounted()}),isTopModal=react.useCallback(()=>manager.isTopModal(getModal()),[manager]),handlePortalRef=(0,useEventCallback_useEventCallback.A)(node=>{mountNodeRef.current=node,node&&(open&&isTopModal()?handleMounted():modalRef.current&&ariaHidden(modalRef.current,ariaHiddenProp))}),handleClose=react.useCallback(()=>{manager.remove(getModal(),ariaHiddenProp)},[ariaHiddenProp,manager]);react.useEffect(()=>()=>{handleClose()},[handleClose]),react.useEffect(()=>{open?handleOpen():hasTransition&&closeAfterTransition||handleClose()},[open,handleClose,hasTransition,closeAfterTransition,handleOpen]);const createHandleKeyDown=otherHandlers=>event=>{var _otherHandlers$onKeyD;null==(_otherHandlers$onKeyD=otherHandlers.onKeyDown)||_otherHandlers$onKeyD.call(otherHandlers,event),"Escape"===event.key&&229!==event.which&&isTopModal()&&(disableEscapeKeyDown||(event.stopPropagation(),onClose&&onClose(event,"escapeKeyDown")))},createHandleBackdropClick=otherHandlers=>event=>{var _otherHandlers$onClic;null==(_otherHandlers$onClic=otherHandlers.onClick)||_otherHandlers$onClic.call(otherHandlers,event),event.target===event.currentTarget&&onClose&&onClose(event,"backdropClick")};return{getRootProps:(otherHandlers={})=>{const propsEventHandlers=extractEventHandlers_extractEventHandlers(parameters);delete propsEventHandlers.onTransitionEnter,delete propsEventHandlers.onTransitionExited;const externalEventHandlers=(0,esm_extends.A)({},propsEventHandlers,otherHandlers);return(0,esm_extends.A)({role:"presentation"},externalEventHandlers,{onKeyDown:createHandleKeyDown(externalEventHandlers),ref:handleRef})},getBackdropProps:(otherHandlers={})=>{const externalEventHandlers=otherHandlers;return(0,esm_extends.A)({"aria-hidden":!0},externalEventHandlers,{onClick:createHandleBackdropClick(externalEventHandlers),open})},getTransitionProps:()=>({onEnter:(0,createChainedFunction.A)(()=>{setExited(!1),onTransitionEnter&&onTransitionEnter()},null==children?void 0:children.props.onEnter),onExited:(0,createChainedFunction.A)(()=>{setExited(!0),onTransitionExited&&onTransitionExited(),closeAfterTransition&&handleClose()},null==children?void 0:children.props.onExited)}),rootRef:handleRef,portalRef:handlePortalRef,isTopModal,exited,hasTransition}};function getModalUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiModal",slot)}(0,generateUtilityClasses.A)("MuiModal",["root","hidden","backdrop"]);const Modal_excluded=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],ModalRoot=(0,styled.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,!ownerState.open&&ownerState.exited&&styles.hidden]}})(({theme,ownerState})=>(0,esm_extends.A)({position:"fixed",zIndex:(theme.vars||theme).zIndex.modal,right:0,bottom:0,top:0,left:0},!ownerState.open&&ownerState.exited&&{visibility:"hidden"})),ModalBackdrop=(0,styled.Ay)(Backdrop_Backdrop,{name:"MuiModal",slot:"Backdrop",overridesResolver:(props,styles)=>styles.backdrop})({zIndex:-1}),Modal=react.forwardRef(function Modal(inProps,ref){var _ref,_slots$root,_ref2,_slots$backdrop,_slotProps$root,_slotProps$backdrop;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({name:"MuiModal",props:inProps}),{BackdropComponent=ModalBackdrop,BackdropProps,className,closeAfterTransition=!1,children,container,component,components={},componentsProps={},disableAutoFocus=!1,disableEnforceFocus=!1,disableEscapeKeyDown=!1,disablePortal=!1,disableRestoreFocus=!1,disableScrollLock=!1,hideBackdrop=!1,keepMounted=!1,onBackdropClick,open,slotProps,slots}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Modal_excluded),propsWithDefaults=(0,esm_extends.A)({},props,{closeAfterTransition,disableAutoFocus,disableEnforceFocus,disableEscapeKeyDown,disablePortal,disableRestoreFocus,disableScrollLock,hideBackdrop,keepMounted}),{getRootProps,getBackdropProps,getTransitionProps,portalRef,isTopModal,exited,hasTransition}=Modal_useModal((0,esm_extends.A)({},propsWithDefaults,{rootRef:ref})),ownerState=(0,esm_extends.A)({},propsWithDefaults,{exited}),classes=(ownerState=>{const{open,exited,classes}=ownerState,slots={root:["root",!open&&exited&&"hidden"],backdrop:["backdrop"]};return(0,composeClasses.A)(slots,getModalUtilityClass,classes)})(ownerState),childProps={};if(void 0===children.props.tabIndex&&(childProps.tabIndex="-1"),hasTransition){const{onEnter,onExited}=getTransitionProps();childProps.onEnter=onEnter,childProps.onExited=onExited}const RootSlot=null!=(_ref=null!=(_slots$root=null==slots?void 0:slots.root)?_slots$root:components.Root)?_ref:ModalRoot,BackdropSlot=null!=(_ref2=null!=(_slots$backdrop=null==slots?void 0:slots.backdrop)?_slots$backdrop:components.Backdrop)?_ref2:BackdropComponent,rootSlotProps=null!=(_slotProps$root=null==slotProps?void 0:slotProps.root)?_slotProps$root:componentsProps.root,backdropSlotProps=null!=(_slotProps$backdrop=null==slotProps?void 0:slotProps.backdrop)?_slotProps$backdrop:componentsProps.backdrop,rootProps=useSlotProps_useSlotProps({elementType:RootSlot,externalSlotProps:rootSlotProps,externalForwardedProps:other,getSlotProps:getRootProps,additionalProps:{ref,as:component},ownerState,className:(0,clsx.A)(className,null==rootSlotProps?void 0:rootSlotProps.className,null==classes?void 0:classes.root,!ownerState.open&&ownerState.exited&&(null==classes?void 0:classes.hidden))}),backdropProps=useSlotProps_useSlotProps({elementType:BackdropSlot,externalSlotProps:backdropSlotProps,additionalProps:BackdropProps,getSlotProps:otherHandlers=>getBackdropProps((0,esm_extends.A)({},otherHandlers,{onClick:e=>{onBackdropClick&&onBackdropClick(e),null!=otherHandlers&&otherHandlers.onClick&&otherHandlers.onClick(e)}})),className:(0,clsx.A)(null==backdropSlotProps?void 0:backdropSlotProps.className,null==BackdropProps?void 0:BackdropProps.className,null==classes?void 0:classes.backdrop),ownerState});return keepMounted||open||hasTransition&&!exited?(0,jsx_runtime.jsx)(Portal_Portal,{ref:portalRef,container,disablePortal,children:(0,jsx_runtime.jsxs)(RootSlot,(0,esm_extends.A)({},rootProps,{children:[!hideBackdrop&&BackdropComponent?(0,jsx_runtime.jsx)(BackdropSlot,(0,esm_extends.A)({},backdropProps)):null,(0,jsx_runtime.jsx)(Unstable_TrapFocus_FocusTrap,{disableEnforceFocus,disableAutoFocus,disableRestoreFocus,isEnabled:isTopModal,open,children:react.cloneElement(children,childProps)})]}))}):null}),Modal_Modal=Modal;function getPopoverUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiPopover",slot)}(0,generateUtilityClasses.A)("MuiPopover",["root","paper"]);const Popover_excluded=["onEntering"],Popover_excluded2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Popover_excluded3=["slotProps"];function getOffsetTop(rect,vertical){let offset=0;return"number"==typeof vertical?offset=vertical:"center"===vertical?offset=rect.height/2:"bottom"===vertical&&(offset=rect.height),offset}function getOffsetLeft(rect,horizontal){let offset=0;return"number"==typeof horizontal?offset=horizontal:"center"===horizontal?offset=rect.width/2:"right"===horizontal&&(offset=rect.width),offset}function getTransformOriginValue(transformOrigin){return[transformOrigin.horizontal,transformOrigin.vertical].map(n=>"number"==typeof n?`${n}px`:n).join(" ")}function resolveAnchorEl(anchorEl){return"function"==typeof anchorEl?anchorEl():anchorEl}const PopoverRoot=(0,styled.Ay)(Modal_Modal,{name:"MuiPopover",slot:"Root",overridesResolver:(props,styles)=>styles.root})({}),PopoverPaper=(0,styled.Ay)(material_Paper_Paper,{name:"MuiPopover",slot:"Paper",overridesResolver:(props,styles)=>styles.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=react.forwardRef(function Popover(inProps,ref){var _slotProps$paper,_slots$root,_slots$paper;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiPopover"}),{action,anchorEl,anchorOrigin={vertical:"top",horizontal:"left"},anchorPosition,anchorReference="anchorEl",children,className,container:containerProp,elevation=8,marginThreshold=16,open,PaperProps:PaperPropsProp={},slots,slotProps,transformOrigin={vertical:"top",horizontal:"left"},TransitionComponent=Grow_Grow,transitionDuration:transitionDurationProp="auto",TransitionProps:{onEntering}={},disableScrollLock=!1}=props,TransitionProps=(0,objectWithoutPropertiesLoose.A)(props.TransitionProps,Popover_excluded),other=(0,objectWithoutPropertiesLoose.A)(props,Popover_excluded2),externalPaperSlotProps=null!=(_slotProps$paper=null==slotProps?void 0:slotProps.paper)?_slotProps$paper:PaperPropsProp,paperRef=react.useRef(),handlePaperRef=(0,utils_useForkRef.A)(paperRef,externalPaperSlotProps.ref),ownerState=(0,esm_extends.A)({},props,{anchorOrigin,anchorReference,elevation,marginThreshold,externalPaperSlotProps,transformOrigin,TransitionComponent,transitionDuration:transitionDurationProp,TransitionProps}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"],paper:["paper"]},getPopoverUtilityClass,classes)})(ownerState),getAnchorOffset=react.useCallback(()=>{if("anchorPosition"===anchorReference)return anchorPosition;const resolvedAnchorEl=resolveAnchorEl(anchorEl),anchorRect=(resolvedAnchorEl&&1===resolvedAnchorEl.nodeType?resolvedAnchorEl:(0,ownerDocument.A)(paperRef.current).body).getBoundingClientRect();return{top:anchorRect.top+getOffsetTop(anchorRect,anchorOrigin.vertical),left:anchorRect.left+getOffsetLeft(anchorRect,anchorOrigin.horizontal)}},[anchorEl,anchorOrigin.horizontal,anchorOrigin.vertical,anchorPosition,anchorReference]),getTransformOrigin=react.useCallback(elemRect=>({vertical:getOffsetTop(elemRect,transformOrigin.vertical),horizontal:getOffsetLeft(elemRect,transformOrigin.horizontal)}),[transformOrigin.horizontal,transformOrigin.vertical]),getPositioningStyle=react.useCallback(element=>{const elemRect={width:element.offsetWidth,height:element.offsetHeight},elemTransformOrigin=getTransformOrigin(elemRect);if("none"===anchorReference)return{top:null,left:null,transformOrigin:getTransformOriginValue(elemTransformOrigin)};const anchorOffset=getAnchorOffset();let top=anchorOffset.top-elemTransformOrigin.vertical,left=anchorOffset.left-elemTransformOrigin.horizontal;const bottom=top+elemRect.height,right=left+elemRect.width,containerWindow=(0,ownerWindow.A)(resolveAnchorEl(anchorEl)),heightThreshold=containerWindow.innerHeight-marginThreshold,widthThreshold=containerWindow.innerWidth-marginThreshold;if(null!==marginThreshold&&top<marginThreshold){const diff=top-marginThreshold;top-=diff,elemTransformOrigin.vertical+=diff}else if(null!==marginThreshold&&bottom>heightThreshold){const diff=bottom-heightThreshold;top-=diff,elemTransformOrigin.vertical+=diff}if(null!==marginThreshold&&left<marginThreshold){const diff=left-marginThreshold;left-=diff,elemTransformOrigin.horizontal+=diff}else if(right>widthThreshold){const diff=right-widthThreshold;left-=diff,elemTransformOrigin.horizontal+=diff}return{top:`${Math.round(top)}px`,left:`${Math.round(left)}px`,transformOrigin:getTransformOriginValue(elemTransformOrigin)}},[anchorEl,anchorReference,getAnchorOffset,getTransformOrigin,marginThreshold]),[isPositioned,setIsPositioned]=react.useState(open),setPositioningStyles=react.useCallback(()=>{const element=paperRef.current;if(!element)return;const positioning=getPositioningStyle(element);null!==positioning.top&&(element.style.top=positioning.top),null!==positioning.left&&(element.style.left=positioning.left),element.style.transformOrigin=positioning.transformOrigin,setIsPositioned(!0)},[getPositioningStyle]);react.useEffect(()=>(disableScrollLock&&window.addEventListener("scroll",setPositioningStyles),()=>window.removeEventListener("scroll",setPositioningStyles)),[anchorEl,disableScrollLock,setPositioningStyles]);react.useEffect(()=>{open&&setPositioningStyles()}),react.useImperativeHandle(action,()=>open?{updatePosition:()=>{setPositioningStyles()}}:null,[open,setPositioningStyles]),react.useEffect(()=>{if(!open)return;const handleResize=(0,debounce.A)(()=>{setPositioningStyles()}),containerWindow=(0,ownerWindow.A)(anchorEl);return containerWindow.addEventListener("resize",handleResize),()=>{handleResize.clear(),containerWindow.removeEventListener("resize",handleResize)}},[anchorEl,open,setPositioningStyles]);let transitionDuration=transitionDurationProp;"auto"!==transitionDurationProp||TransitionComponent.muiSupportAuto||(transitionDuration=void 0);const container=containerProp||(anchorEl?(0,ownerDocument.A)(resolveAnchorEl(anchorEl)).body:void 0),RootSlot=null!=(_slots$root=null==slots?void 0:slots.root)?_slots$root:PopoverRoot,PaperSlot=null!=(_slots$paper=null==slots?void 0:slots.paper)?_slots$paper:PopoverPaper,paperProps=useSlotProps_useSlotProps({elementType:PaperSlot,externalSlotProps:(0,esm_extends.A)({},externalPaperSlotProps,{style:isPositioned?externalPaperSlotProps.style:(0,esm_extends.A)({},externalPaperSlotProps.style,{opacity:0})}),additionalProps:{elevation,ref:handlePaperRef},ownerState,className:(0,clsx.A)(classes.paper,null==externalPaperSlotProps?void 0:externalPaperSlotProps.className)}),_useSlotProps=useSlotProps_useSlotProps({elementType:RootSlot,externalSlotProps:(null==slotProps?void 0:slotProps.root)||{},externalForwardedProps:other,additionalProps:{ref,slotProps:{backdrop:{invisible:!0}},container,open},ownerState,className:(0,clsx.A)(classes.root,className)}),{slotProps:rootSlotPropsProp}=_useSlotProps,rootProps=(0,objectWithoutPropertiesLoose.A)(_useSlotProps,Popover_excluded3);return(0,jsx_runtime.jsx)(RootSlot,(0,esm_extends.A)({},rootProps,!isHostComponent_isHostComponent(RootSlot)&&{slotProps:rootSlotPropsProp,disableScrollLock},{children:(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({appear:!0,in:open,onEntering:(element,isAppearing)=>{onEntering&&onEntering(element,isAppearing),setPositioningStyles()},onExited:()=>{setIsPositioned(!1)},timeout:transitionDuration},TransitionProps,{children:(0,jsx_runtime.jsx)(PaperSlot,(0,esm_extends.A)({},paperProps,{children}))}))}))}),Popover_Popover=Popover;function getMenuUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiMenu",slot)}(0,generateUtilityClasses.A)("MuiMenu",["root","paper","list"]);const Menu_excluded=["onEntering"],Menu_excluded2=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},MenuRoot=(0,styled.Ay)(Popover_Popover,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiMenu",slot:"Root",overridesResolver:(props,styles)=>styles.root})({}),MenuPaper=(0,styled.Ay)(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(props,styles)=>styles.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=(0,styled.Ay)(MenuList_MenuList,{name:"MuiMenu",slot:"List",overridesResolver:(props,styles)=>styles.list})({outline:0}),Menu=react.forwardRef(function Menu(inProps,ref){var _slots$paper,_slotProps$paper;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiMenu"}),{autoFocus=!0,children,className,disableAutoFocusItem=!1,MenuListProps={},onClose,open,PaperProps={},PopoverClasses,transitionDuration="auto",TransitionProps:{onEntering}={},variant="selectedMenu",slots={},slotProps={}}=props,TransitionProps=(0,objectWithoutPropertiesLoose.A)(props.TransitionProps,Menu_excluded),other=(0,objectWithoutPropertiesLoose.A)(props,Menu_excluded2),isRtl=useRtl(),ownerState=(0,esm_extends.A)({},props,{autoFocus,disableAutoFocusItem,MenuListProps,onEntering,PaperProps,transitionDuration,TransitionProps,variant}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,classes)})(ownerState),autoFocusItem=autoFocus&&!disableAutoFocusItem&&open,menuListActionsRef=react.useRef(null);let activeItemIndex=-1;react.Children.map(children,(child,index)=>{react.isValidElement(child)&&(child.props.disabled||("selectedMenu"===variant&&child.props.selected||-1===activeItemIndex)&&(activeItemIndex=index))});const PaperSlot=null!=(_slots$paper=slots.paper)?_slots$paper:MenuPaper,paperExternalSlotProps=null!=(_slotProps$paper=slotProps.paper)?_slotProps$paper:PaperProps,rootSlotProps=useSlotProps_useSlotProps({elementType:slots.root,externalSlotProps:slotProps.root,ownerState,className:[classes.root,className]}),paperSlotProps=useSlotProps_useSlotProps({elementType:PaperSlot,externalSlotProps:paperExternalSlotProps,ownerState,className:classes.paper});return(0,jsx_runtime.jsx)(MenuRoot,(0,esm_extends.A)({onClose,anchorOrigin:{vertical:"bottom",horizontal:isRtl?"right":"left"},transformOrigin:isRtl?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:PaperSlot,root:slots.root},slotProps:{root:rootSlotProps,paper:paperSlotProps},open,ref,transitionDuration,TransitionProps:(0,esm_extends.A)({onEntering:(element,isAppearing)=>{menuListActionsRef.current&&menuListActionsRef.current.adjustStyleForScrollbar(element,{direction:isRtl?"rtl":"ltr"}),onEntering&&onEntering(element,isAppearing)}},TransitionProps),ownerState},other,{classes:PopoverClasses,children:(0,jsx_runtime.jsx)(MenuMenuList,(0,esm_extends.A)({onKeyDown:event=>{"Tab"===event.key&&(event.preventDefault(),onClose&&onClose(event,"tabKeyDown"))},actions:menuListActionsRef,autoFocus:autoFocus&&(-1===activeItemIndex||disableAutoFocusItem),autoFocusItem,variant},MenuListProps,{className:(0,clsx.A)(classes.list,MenuListProps.className),children}))}))}),Menu_Menu=Menu;function getNativeSelectUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiNativeSelect",slot)}const NativeSelect_nativeSelectClasses=(0,generateUtilityClasses.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),NativeSelectInput_excluded=["className","disabled","error","IconComponent","inputRef","variant"],nativeSelectSelectStyles=({ownerState,theme})=>(0,esm_extends.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,esm_extends.A)({},theme.vars?{backgroundColor:`rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===theme.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${NativeSelect_nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(theme.vars||theme).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===ownerState.variant&&{"&&&":{paddingRight:32}},"outlined"===ownerState.variant&&{borderRadius:(theme.vars||theme).shape.borderRadius,"&:focus":{borderRadius:(theme.vars||theme).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=(0,styled.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp.A,overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.select,styles[ownerState.variant],ownerState.error&&styles.error,{[`&.${NativeSelect_nativeSelectClasses.multiple}`]:styles.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState,theme})=>(0,esm_extends.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(theme.vars||theme).palette.action.active,[`&.${NativeSelect_nativeSelectClasses.disabled}`]:{color:(theme.vars||theme).palette.action.disabled}},ownerState.open&&{transform:"rotate(180deg)"},"filled"===ownerState.variant&&{right:7},"outlined"===ownerState.variant&&{right:7}),NativeSelectIcon=(0,styled.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.icon,ownerState.variant&&styles[`icon${(0,capitalize.A)(ownerState.variant)}`],ownerState.open&&styles.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=react.forwardRef(function NativeSelectInput(props,ref){const{className,disabled,error,IconComponent,inputRef,variant="standard"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,NativeSelectInput_excluded),ownerState=(0,esm_extends.A)({},props,{disabled,variant,error}),classes=(ownerState=>{const{classes,variant,disabled,multiple,open,error}=ownerState,slots={select:["select",variant,disabled&&"disabled",multiple&&"multiple",error&&"error"],icon:["icon",`icon${(0,capitalize.A)(variant)}`,open&&"iconOpen",disabled&&"disabled"]};return(0,composeClasses.A)(slots,getNativeSelectUtilityClasses,classes)})(ownerState);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(NativeSelectSelect,(0,esm_extends.A)({ownerState,className:(0,clsx.A)(classes.select,className),disabled,ref:inputRef||ref},other)),props.multiple?null:(0,jsx_runtime.jsx)(NativeSelectIcon,{as:IconComponent,ownerState,className:classes.icon})]})}),NativeSelect_NativeSelectInput=NativeSelectInput;var slotShouldForwardProp=__webpack_require__(64438),useControlled=__webpack_require__(41381);function getSelectUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiSelect",slot)}const Select_selectClasses=(0,generateUtilityClasses.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var SelectInput_span;const SelectInput_excluded=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=(0,styled.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`&.${Select_selectClasses.select}`]:styles.select},{[`&.${Select_selectClasses.select}`]:styles[ownerState.variant]},{[`&.${Select_selectClasses.error}`]:styles.error},{[`&.${Select_selectClasses.multiple}`]:styles.multiple}]}})(nativeSelectSelectStyles,{[`&.${Select_selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=(0,styled.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.icon,ownerState.variant&&styles[`icon${(0,capitalize.A)(ownerState.variant)}`],ownerState.open&&styles.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=(0,styled.Ay)("input",{shouldForwardProp:prop=>(0,slotShouldForwardProp.A)(prop)&&"classes"!==prop,name:"MuiSelect",slot:"NativeInput",overridesResolver:(props,styles)=>styles.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(a,b){return"object"==typeof b&&null!==b?a===b:String(a)===String(b)}function SelectInput_isEmpty(display){return null==display||"string"==typeof display&&!display.trim()}const SelectInput=react.forwardRef(function SelectInput(props,ref){var _MenuProps$slotProps;const{"aria-describedby":ariaDescribedby,"aria-label":ariaLabel,autoFocus,autoWidth,children,className,defaultOpen,defaultValue,disabled,displayEmpty,error=!1,IconComponent,inputRef:inputRefProp,labelId,MenuProps={},multiple,name,onBlur,onChange,onClose,onFocus,onOpen,open:openProp,readOnly,renderValue,SelectDisplayProps={},tabIndex:tabIndexProp,value:valueProp,variant="standard"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,SelectInput_excluded),[value,setValueState]=(0,useControlled.A)({controlled:valueProp,default:defaultValue,name:"Select"}),[openState,setOpenState]=(0,useControlled.A)({controlled:openProp,default:defaultOpen,name:"Select"}),inputRef=react.useRef(null),displayRef=react.useRef(null),[displayNode,setDisplayNode]=react.useState(null),{current:isOpenControlled}=react.useRef(null!=openProp),[menuMinWidthState,setMenuMinWidthState]=react.useState(),handleRef=(0,utils_useForkRef.A)(ref,inputRefProp),handleDisplayRef=react.useCallback(node=>{displayRef.current=node,node&&setDisplayNode(node)},[]),anchorElement=null==displayNode?void 0:displayNode.parentNode;react.useImperativeHandle(handleRef,()=>({focus:()=>{displayRef.current.focus()},node:inputRef.current,value}),[value]),react.useEffect(()=>{defaultOpen&&openState&&displayNode&&!isOpenControlled&&(setMenuMinWidthState(autoWidth?null:anchorElement.clientWidth),displayRef.current.focus())},[displayNode,autoWidth]),react.useEffect(()=>{autoFocus&&displayRef.current.focus()},[autoFocus]),react.useEffect(()=>{if(!labelId)return;const label=(0,ownerDocument.A)(displayRef.current).getElementById(labelId);if(label){const handler=()=>{getSelection().isCollapsed&&displayRef.current.focus()};return label.addEventListener("click",handler),()=>{label.removeEventListener("click",handler)}}},[labelId]);const update=(open,event)=>{open?onOpen&&onOpen(event):onClose&&onClose(event),isOpenControlled||(setMenuMinWidthState(autoWidth?null:anchorElement.clientWidth),setOpenState(open))},childrenArray=react.Children.toArray(children),handleItemClick=child=>event=>{let newValue;if(event.currentTarget.hasAttribute("tabindex")){if(multiple){newValue=Array.isArray(value)?value.slice():[];const itemIndex=value.indexOf(child.props.value);-1===itemIndex?newValue.push(child.props.value):newValue.splice(itemIndex,1)}else newValue=child.props.value;if(child.props.onClick&&child.props.onClick(event),value!==newValue&&(setValueState(newValue),onChange)){const nativeEvent=event.nativeEvent||event,clonedEvent=new nativeEvent.constructor(nativeEvent.type,nativeEvent);Object.defineProperty(clonedEvent,"target",{writable:!0,value:{value:newValue,name}}),onChange(clonedEvent,child)}multiple||update(!1,event)}},open=null!==displayNode&&openState;let display,displaySingle;delete other["aria-invalid"];const displayMultiple=[];let computeDisplay=!1,foundMatch=!1;(isFilled({value})||displayEmpty)&&(renderValue?display=renderValue(value):computeDisplay=!0);const items=childrenArray.map(child=>{if(!react.isValidElement(child))return null;let selected;if(multiple){if(!Array.isArray(value))throw new Error((0,formatMuiErrorMessage.A)(2));selected=value.some(v=>areEqualValues(v,child.props.value)),selected&&computeDisplay&&displayMultiple.push(child.props.children)}else selected=areEqualValues(value,child.props.value),selected&&computeDisplay&&(displaySingle=child.props.children);return selected&&(foundMatch=!0),react.cloneElement(child,{"aria-selected":selected?"true":"false",onClick:handleItemClick(child),onKeyUp:event=>{" "===event.key&&event.preventDefault(),child.props.onKeyUp&&child.props.onKeyUp(event)},role:"option",selected,value:void 0,"data-value":child.props.value})});computeDisplay&&(display=multiple?0===displayMultiple.length?null:displayMultiple.reduce((output,child,index)=>(output.push(child),index<displayMultiple.length-1&&output.push(", "),output),[]):displaySingle);let tabIndex,menuMinWidth=menuMinWidthState;!autoWidth&&isOpenControlled&&displayNode&&(menuMinWidth=anchorElement.clientWidth),tabIndex=void 0!==tabIndexProp?tabIndexProp:disabled?null:0;const buttonId=SelectDisplayProps.id||(name?`mui-component-select-${name}`:void 0),ownerState=(0,esm_extends.A)({},props,{variant,value,open,error}),classes=(ownerState=>{const{classes,variant,disabled,multiple,open,error}=ownerState,slots={select:["select",variant,disabled&&"disabled",multiple&&"multiple",error&&"error"],icon:["icon",`icon${(0,capitalize.A)(variant)}`,open&&"iconOpen",disabled&&"disabled"],nativeInput:["nativeInput"]};return(0,composeClasses.A)(slots,getSelectUtilityClasses,classes)})(ownerState),paperProps=(0,esm_extends.A)({},MenuProps.PaperProps,null==(_MenuProps$slotProps=MenuProps.slotProps)?void 0:_MenuProps$slotProps.paper),listboxId=(0,useId.A)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(SelectSelect,(0,esm_extends.A)({ref:handleDisplayRef,tabIndex,role:"combobox","aria-controls":listboxId,"aria-disabled":disabled?"true":void 0,"aria-expanded":open?"true":"false","aria-haspopup":"listbox","aria-label":ariaLabel,"aria-labelledby":[labelId,buttonId].filter(Boolean).join(" ")||void 0,"aria-describedby":ariaDescribedby,onKeyDown:event=>{if(!readOnly){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(event.key)&&(event.preventDefault(),update(!0,event))}},onMouseDown:disabled||readOnly?null:event=>{0===event.button&&(event.preventDefault(),displayRef.current.focus(),update(!0,event))},onBlur:event=>{!open&&onBlur&&(Object.defineProperty(event,"target",{writable:!0,value:{value,name}}),onBlur(event))},onFocus},SelectDisplayProps,{ownerState,className:(0,clsx.A)(SelectDisplayProps.className,classes.select,className),id:buttonId,children:SelectInput_isEmpty(display)?SelectInput_span||(SelectInput_span=(0,jsx_runtime.jsx)("span",{className:"notranslate",children:""})):display})),(0,jsx_runtime.jsx)(SelectNativeInput,(0,esm_extends.A)({"aria-invalid":error,value:Array.isArray(value)?value.join(","):value,name,ref:inputRef,"aria-hidden":!0,onChange:event=>{const child=childrenArray.find(childItem=>childItem.props.value===event.target.value);void 0!==child&&(setValueState(child.props.value),onChange&&onChange(event,child))},tabIndex:-1,disabled,className:classes.nativeInput,autoFocus,ownerState},other)),(0,jsx_runtime.jsx)(SelectIcon,{as:IconComponent,className:classes.icon,ownerState}),(0,jsx_runtime.jsx)(Menu_Menu,(0,esm_extends.A)({id:`menu-${name||""}`,anchorEl:anchorElement,open,onClose:event=>{update(!1,event)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},MenuProps,{MenuListProps:(0,esm_extends.A)({"aria-labelledby":labelId,role:"listbox","aria-multiselectable":multiple?"true":void 0,disableListWrap:!0,id:listboxId},MenuProps.MenuListProps),slotProps:(0,esm_extends.A)({},MenuProps.slotProps,{paper:(0,esm_extends.A)({},paperProps,{style:(0,esm_extends.A)({minWidth:menuMinWidth},null!=paperProps?paperProps.style:null)})}),children:items}))]})}),Select_SelectInput=SelectInput,ArrowDropDown=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Select_excluded=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Select_excluded2=["root"],styledRootConfig={name:"MuiSelect",overridesResolver:(props,styles)=>styles.root,shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)&&"variant"!==prop,slot:"Root"},StyledInput=(0,styled.Ay)(Input_Input,styledRootConfig)(""),StyledOutlinedInput=(0,styled.Ay)(OutlinedInput_OutlinedInput,styledRootConfig)(""),StyledFilledInput=(0,styled.Ay)(FilledInput_FilledInput,styledRootConfig)(""),Select=react.forwardRef(function Select(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({name:"MuiSelect",props:inProps}),{autoWidth=!1,children,classes:classesProp={},className,defaultOpen=!1,displayEmpty=!1,IconComponent=ArrowDropDown,id,input,inputProps,label,labelId,MenuProps,multiple=!1,native=!1,onClose,onOpen,open,renderValue,SelectDisplayProps,variant:variantProp="outlined"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Select_excluded),inputComponent=native?NativeSelect_NativeSelectInput:Select_SelectInput,fcs=formControlState({props,muiFormControl:useFormControl(),states:["variant","error"]}),variant=fcs.variant||variantProp,ownerState=(0,esm_extends.A)({},props,{variant,classes:classesProp}),classes=(ownerState=>{const{classes}=ownerState;return classes})(ownerState),restOfClasses=(0,objectWithoutPropertiesLoose.A)(classes,Select_excluded2),InputComponent=input||{standard:(0,jsx_runtime.jsx)(StyledInput,{ownerState}),outlined:(0,jsx_runtime.jsx)(StyledOutlinedInput,{label,ownerState}),filled:(0,jsx_runtime.jsx)(StyledFilledInput,{ownerState})}[variant],inputComponentRef=(0,utils_useForkRef.A)(ref,getReactElementRef(InputComponent));return(0,jsx_runtime.jsx)(react.Fragment,{children:react.cloneElement(InputComponent,(0,esm_extends.A)({inputComponent,inputProps:(0,esm_extends.A)({children,error:fcs.error,IconComponent,variant,type:void 0,multiple},native?{id}:{autoWidth,defaultOpen,displayEmpty,labelId,MenuProps,onClose,onOpen,open,renderValue,SelectDisplayProps:(0,esm_extends.A)({id},SelectDisplayProps)},inputProps,{classes:inputProps?(0,deepmerge.A)(restOfClasses,inputProps.classes):restOfClasses},input?input.props.inputProps:{})},(multiple&&native||displayEmpty)&&"outlined"===variant?{notched:!0}:{},{ref:inputComponentRef,className:(0,clsx.A)(InputComponent.props.className,className,classes.root)},!input&&{variant},other))})});Select.muiName="Select";const Select_Select=Select;function getTextFieldUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTextField",slot)}(0,generateUtilityClasses.A)("MuiTextField",["root"]);const TextField_excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input_Input,filled:FilledInput_FilledInput,outlined:OutlinedInput_OutlinedInput},TextFieldRoot=(0,styled.Ay)(FormControl_FormControl,{name:"MuiTextField",slot:"Root",overridesResolver:(props,styles)=>styles.root})({}),TextField=react.forwardRef(function TextField(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTextField"}),{autoComplete,autoFocus=!1,children,className,color="primary",defaultValue,disabled=!1,error=!1,FormHelperTextProps,fullWidth=!1,helperText,id:idOverride,InputLabelProps,inputProps,InputProps,inputRef,label,maxRows,minRows,multiline=!1,name,onBlur,onChange,onFocus,placeholder,required=!1,rows,select=!1,SelectProps,type,value,variant="outlined"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TextField_excluded),ownerState=(0,esm_extends.A)({},props,{autoFocus,color,disabled,error,fullWidth,multiline,required,select,variant}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getTextFieldUtilityClass,classes)})(ownerState);const InputMore={};"outlined"===variant&&(InputLabelProps&&void 0!==InputLabelProps.shrink&&(InputMore.notched=InputLabelProps.shrink),InputMore.label=label),select&&(SelectProps&&SelectProps.native||(InputMore.id=void 0),InputMore["aria-describedby"]=void 0);const id=(0,useId.A)(idOverride),helperTextId=helperText&&id?`${id}-helper-text`:void 0,inputLabelId=label&&id?`${id}-label`:void 0,InputComponent=variantComponent[variant],InputElement=(0,jsx_runtime.jsx)(InputComponent,(0,esm_extends.A)({"aria-describedby":helperTextId,autoComplete,autoFocus,defaultValue,fullWidth,multiline,name,rows,maxRows,minRows,type,value,id,inputRef,onBlur,onChange,onFocus,placeholder,inputProps},InputMore,InputProps));return(0,jsx_runtime.jsxs)(TextFieldRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),disabled,error,fullWidth,ref,required,color,variant,ownerState},other,{children:[null!=label&&""!==label&&(0,jsx_runtime.jsx)(InputLabel_InputLabel,(0,esm_extends.A)({htmlFor:id,id:inputLabelId},InputLabelProps,{children:label})),select?(0,jsx_runtime.jsx)(Select_Select,(0,esm_extends.A)({"aria-describedby":helperTextId,id,labelId:inputLabelId,value,input:InputElement},SelectProps,{children})):InputElement,helperText&&(0,jsx_runtime.jsx)(FormHelperText_FormHelperText,(0,esm_extends.A)({id:helperTextId},FormHelperTextProps,{children:helperText}))]}))}),TextField_TextField=TextField;function getInputAdornmentUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiInputAdornment",slot)}const InputAdornment_inputAdornmentClasses=(0,generateUtilityClasses.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var InputAdornment_span;const InputAdornment_excluded=["children","className","component","disablePointerEvents","disableTypography","position","variant"],InputAdornmentRoot=(0,styled.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`position${(0,capitalize.A)(ownerState.position)}`],!0===ownerState.disablePointerEvents&&styles.disablePointerEvents,styles[ownerState.variant]]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(theme.vars||theme).palette.action.active},"filled"===ownerState.variant&&{[`&.${InputAdornment_inputAdornmentClasses.positionStart}&:not(.${InputAdornment_inputAdornmentClasses.hiddenLabel})`]:{marginTop:16}},"start"===ownerState.position&&{marginRight:8},"end"===ownerState.position&&{marginLeft:8},!0===ownerState.disablePointerEvents&&{pointerEvents:"none"})),InputAdornment=react.forwardRef(function InputAdornment(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiInputAdornment"}),{children,className,component="div",disablePointerEvents=!1,disableTypography=!1,position,variant:variantProp}=props,other=(0,objectWithoutPropertiesLoose.A)(props,InputAdornment_excluded),muiFormControl=useFormControl()||{};let variant=variantProp;variantProp&&muiFormControl.variant,muiFormControl&&!variant&&(variant=muiFormControl.variant);const ownerState=(0,esm_extends.A)({},props,{hiddenLabel:muiFormControl.hiddenLabel,size:muiFormControl.size,disablePointerEvents,position,variant}),classes=(ownerState=>{const{classes,disablePointerEvents,hiddenLabel,position,size,variant}=ownerState,slots={root:["root",disablePointerEvents&&"disablePointerEvents",position&&`position${(0,capitalize.A)(position)}`,variant,hiddenLabel&&"hiddenLabel",size&&`size${(0,capitalize.A)(size)}`]};return(0,composeClasses.A)(slots,getInputAdornmentUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(FormControl_FormControlContext.Provider,{value:null,children:(0,jsx_runtime.jsx)(InputAdornmentRoot,(0,esm_extends.A)({as:component,ownerState,className:(0,clsx.A)(classes.root,className),ref},other,{children:"string"!=typeof children||disableTypography?(0,jsx_runtime.jsxs)(react.Fragment,{children:["start"===position?InputAdornment_span||(InputAdornment_span=(0,jsx_runtime.jsx)("span",{className:"notranslate",children:""})):null,children]}):(0,jsx_runtime.jsx)(material_Typography_Typography,{color:"text.secondary",children})}))})}),InputAdornment_InputAdornment=InputAdornment;function getButtonUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiButton",slot)}const Button_buttonClasses=(0,generateUtilityClasses.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const ButtonGroup_ButtonGroupContext=react.createContext({});const ButtonGroup_ButtonGroupButtonContext=react.createContext(void 0),Button_excluded=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],commonIconStyles=ownerState=>(0,esm_extends.A)({},"small"===ownerState.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===ownerState.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===ownerState.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiButton",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`${ownerState.variant}${(0,capitalize.A)(ownerState.color)}`],styles[`size${(0,capitalize.A)(ownerState.size)}`],styles[`${ownerState.variant}Size${(0,capitalize.A)(ownerState.size)}`],"inherit"===ownerState.color&&styles.colorInherit,ownerState.disableElevation&&styles.disableElevation,ownerState.fullWidth&&styles.fullWidth]}})(({theme,ownerState})=>{var _theme$palette$getCon,_theme$palette;const inheritContainedBackgroundColor="light"===theme.palette.mode?theme.palette.grey[300]:theme.palette.grey[800],inheritContainedHoverBackgroundColor="light"===theme.palette.mode?theme.palette.grey.A100:theme.palette.grey[700];return(0,esm_extends.A)({},theme.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(theme.vars||theme).shape.borderRadius,transition:theme.transitions.create(["background-color","box-shadow","border-color","color"],{duration:theme.transitions.duration.short}),"&:hover":(0,esm_extends.A)({textDecoration:"none",backgroundColor:theme.vars?`rgba(${theme.vars.palette.text.primaryChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette.text.primary,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===ownerState.variant&&"inherit"!==ownerState.color&&{backgroundColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===ownerState.variant&&"inherit"!==ownerState.color&&{border:`1px solid ${(theme.vars||theme).palette[ownerState.color].main}`,backgroundColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===ownerState.variant&&{backgroundColor:theme.vars?theme.vars.palette.Button.inheritContainedHoverBg:inheritContainedHoverBackgroundColor,boxShadow:(theme.vars||theme).shadows[4],"@media (hover: none)":{boxShadow:(theme.vars||theme).shadows[2],backgroundColor:(theme.vars||theme).palette.grey[300]}},"contained"===ownerState.variant&&"inherit"!==ownerState.color&&{backgroundColor:(theme.vars||theme).palette[ownerState.color].dark,"@media (hover: none)":{backgroundColor:(theme.vars||theme).palette[ownerState.color].main}}),"&:active":(0,esm_extends.A)({},"contained"===ownerState.variant&&{boxShadow:(theme.vars||theme).shadows[8]}),[`&.${Button_buttonClasses.focusVisible}`]:(0,esm_extends.A)({},"contained"===ownerState.variant&&{boxShadow:(theme.vars||theme).shadows[6]}),[`&.${Button_buttonClasses.disabled}`]:(0,esm_extends.A)({color:(theme.vars||theme).palette.action.disabled},"outlined"===ownerState.variant&&{border:`1px solid ${(theme.vars||theme).palette.action.disabledBackground}`},"contained"===ownerState.variant&&{color:(theme.vars||theme).palette.action.disabled,boxShadow:(theme.vars||theme).shadows[0],backgroundColor:(theme.vars||theme).palette.action.disabledBackground})},"text"===ownerState.variant&&{padding:"6px 8px"},"text"===ownerState.variant&&"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main},"outlined"===ownerState.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===ownerState.variant&&"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main,border:theme.vars?`1px solid rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)`:`1px solid ${(0,colorManipulator.X4)(theme.palette[ownerState.color].main,.5)}`},"contained"===ownerState.variant&&{color:theme.vars?theme.vars.palette.text.primary:null==(_theme$palette$getCon=(_theme$palette=theme.palette).getContrastText)?void 0:_theme$palette$getCon.call(_theme$palette,theme.palette.grey[300]),backgroundColor:theme.vars?theme.vars.palette.Button.inheritContainedBg:inheritContainedBackgroundColor,boxShadow:(theme.vars||theme).shadows[2]},"contained"===ownerState.variant&&"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].contrastText,backgroundColor:(theme.vars||theme).palette[ownerState.color].main},"inherit"===ownerState.color&&{color:"inherit",borderColor:"currentColor"},"small"===ownerState.size&&"text"===ownerState.variant&&{padding:"4px 5px",fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&"text"===ownerState.variant&&{padding:"8px 11px",fontSize:theme.typography.pxToRem(15)},"small"===ownerState.size&&"outlined"===ownerState.variant&&{padding:"3px 9px",fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&"outlined"===ownerState.variant&&{padding:"7px 21px",fontSize:theme.typography.pxToRem(15)},"small"===ownerState.size&&"contained"===ownerState.variant&&{padding:"4px 10px",fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&"contained"===ownerState.variant&&{padding:"8px 22px",fontSize:theme.typography.pxToRem(15)},ownerState.fullWidth&&{width:"100%"})},({ownerState})=>ownerState.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Button_buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Button_buttonClasses.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=(0,styled.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.startIcon,styles[`iconSize${(0,capitalize.A)(ownerState.size)}`]]}})(({ownerState})=>(0,esm_extends.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===ownerState.size&&{marginLeft:-2},commonIconStyles(ownerState))),ButtonEndIcon=(0,styled.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.endIcon,styles[`iconSize${(0,capitalize.A)(ownerState.size)}`]]}})(({ownerState})=>(0,esm_extends.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===ownerState.size&&{marginRight:-2},commonIconStyles(ownerState))),Button_Button=react.forwardRef(function Button(inProps,ref){const contextProps=react.useContext(ButtonGroup_ButtonGroupContext),buttonGroupButtonContextPositionClassName=react.useContext(ButtonGroup_ButtonGroupButtonContext),resolvedProps=(0,resolveProps.A)(contextProps,inProps),props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:resolvedProps,name:"MuiButton"}),{children,color="primary",component="button",className,disabled=!1,disableElevation=!1,disableFocusRipple=!1,endIcon:endIconProp,focusVisibleClassName,fullWidth=!1,size="medium",startIcon:startIconProp,type,variant="text"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Button_excluded),ownerState=(0,esm_extends.A)({},props,{color,component,disabled,disableElevation,disableFocusRipple,fullWidth,size,type,variant}),classes=(ownerState=>{const{color,disableElevation,fullWidth,size,variant,classes}=ownerState,slots={root:["root",variant,`${variant}${(0,capitalize.A)(color)}`,`size${(0,capitalize.A)(size)}`,`${variant}Size${(0,capitalize.A)(size)}`,`color${(0,capitalize.A)(color)}`,disableElevation&&"disableElevation",fullWidth&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,capitalize.A)(size)}`],endIcon:["icon","endIcon",`iconSize${(0,capitalize.A)(size)}`]},composedClasses=(0,composeClasses.A)(slots,getButtonUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(ownerState),startIcon=startIconProp&&(0,jsx_runtime.jsx)(ButtonStartIcon,{className:classes.startIcon,ownerState,children:startIconProp}),endIcon=endIconProp&&(0,jsx_runtime.jsx)(ButtonEndIcon,{className:classes.endIcon,ownerState,children:endIconProp}),positionClassName=buttonGroupButtonContextPositionClassName||"";return(0,jsx_runtime.jsxs)(ButtonRoot,(0,esm_extends.A)({ownerState,className:(0,clsx.A)(contextProps.className,classes.root,className,positionClassName),component,disabled,focusRipple:!disableFocusRipple,focusVisibleClassName:(0,clsx.A)(classes.focusVisible,focusVisibleClassName),ref,type},other,{classes,children:[startIcon,children,endIcon]}))}),material_Button_Button=Button_Button;function getValidReactChildren(children){return react.Children.toArray(children).filter(child=>react.isValidElement(child))}function getToggleButtonGroupUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiToggleButtonGroup",slot)}const ToggleButtonGroup_toggleButtonGroupClasses=(0,generateUtilityClasses.A)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const ToggleButtonGroup_ToggleButtonGroupContext=react.createContext({});const ToggleButtonGroup_ToggleButtonGroupButtonContext=react.createContext(void 0);function getToggleButtonUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiToggleButton",slot)}const ToggleButton_toggleButtonClasses=(0,generateUtilityClasses.A)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ToggleButtonGroup_excluded=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],ToggleButtonGroupRoot=(0,styled.Ay)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.grouped}`]:styles.grouped},{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.grouped}`]:styles[`grouped${(0,capitalize.A)(ownerState.orientation)}`]},{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.firstButton}`]:styles.firstButton},{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.lastButton}`]:styles.lastButton},{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}`]:styles.middleButton},styles.root,"vertical"===ownerState.orientation&&styles.vertical,ownerState.fullWidth&&styles.fullWidth]}})(({ownerState,theme})=>(0,esm_extends.A)({display:"inline-flex",borderRadius:(theme.vars||theme).shape.borderRadius},"vertical"===ownerState.orientation&&{flexDirection:"column"},ownerState.fullWidth&&{width:"100%"},{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.grouped}`]:(0,esm_extends.A)({},"horizontal"===ownerState.orientation?{[`&.${ToggleButtonGroup_toggleButtonGroupClasses.selected} + .${ToggleButtonGroup_toggleButtonGroupClasses.grouped}.${ToggleButtonGroup_toggleButtonGroupClasses.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${ToggleButtonGroup_toggleButtonGroupClasses.selected} + .${ToggleButtonGroup_toggleButtonGroupClasses.grouped}.${ToggleButtonGroup_toggleButtonGroupClasses.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===ownerState.orientation?{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.firstButton},& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ToggleButtonGroup_toggleButtonGroupClasses.lastButton},& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.firstButton},& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ToggleButtonGroup_toggleButtonGroupClasses.lastButton},& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===ownerState.orientation?{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.lastButton}.${ToggleButton_toggleButtonClasses.disabled},& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}.${ToggleButton_toggleButtonClasses.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${ToggleButtonGroup_toggleButtonGroupClasses.lastButton}.${ToggleButton_toggleButtonClasses.disabled},& .${ToggleButtonGroup_toggleButtonGroupClasses.middleButton}.${ToggleButton_toggleButtonClasses.disabled}`]:{borderTop:"1px solid transparent"}})),ToggleButtonGroup=react.forwardRef(function ToggleButtonGroup(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiToggleButtonGroup"}),{children,className,color="standard",disabled=!1,exclusive=!1,fullWidth=!1,onChange,orientation="horizontal",size="medium",value}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ToggleButtonGroup_excluded),ownerState=(0,esm_extends.A)({},props,{disabled,fullWidth,orientation,size}),classes=(ownerState=>{const{classes,orientation,fullWidth,disabled}=ownerState,slots={root:["root","vertical"===orientation&&"vertical",fullWidth&&"fullWidth"],grouped:["grouped",`grouped${(0,capitalize.A)(orientation)}`,disabled&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,composeClasses.A)(slots,getToggleButtonGroupUtilityClass,classes)})(ownerState),handleChange=react.useCallback((event,buttonValue)=>{if(!onChange)return;const index=value&&value.indexOf(buttonValue);let newValue;value&&index>=0?(newValue=value.slice(),newValue.splice(index,1)):newValue=value?value.concat(buttonValue):[buttonValue],onChange(event,newValue)},[onChange,value]),handleExclusiveChange=react.useCallback((event,buttonValue)=>{onChange&&onChange(event,value===buttonValue?null:buttonValue)},[onChange,value]),context=react.useMemo(()=>({className:classes.grouped,onChange:exclusive?handleExclusiveChange:handleChange,value,size,fullWidth,color,disabled}),[classes.grouped,exclusive,handleExclusiveChange,handleChange,value,size,fullWidth,color,disabled]),validChildren=getValidReactChildren(children),childrenCount=validChildren.length,getButtonPositionClassName=index=>{const isFirstButton=0===index,isLastButton=index===childrenCount-1;return isFirstButton&&isLastButton?"":isFirstButton?classes.firstButton:isLastButton?classes.lastButton:classes.middleButton};return(0,jsx_runtime.jsx)(ToggleButtonGroupRoot,(0,esm_extends.A)({role:"group",className:(0,clsx.A)(classes.root,className),ref,ownerState},other,{children:(0,jsx_runtime.jsx)(ToggleButtonGroup_ToggleButtonGroupContext.Provider,{value:context,children:validChildren.map((child,index)=>(0,jsx_runtime.jsx)(ToggleButtonGroup_ToggleButtonGroupButtonContext.Provider,{value:getButtonPositionClassName(index),children:child},index))})}))}),ToggleButtonGroup_ToggleButtonGroup=ToggleButtonGroup;var clamp_clamp=__webpack_require__(90725);function clampWrapper(value,min=0,max=1){return(0,clamp_clamp.A)(value,min,max)}function decomposeColor(color){if(color.type)return color;if("#"===color.charAt(0))return decomposeColor(function hexToRgb(color){color=color.slice(1);const re=new RegExp(`.{1,${color.length>=6?2:1}}`,"g");let colors=color.match(re);return colors&&1===colors[0].length&&(colors=colors.map(n=>n+n)),colors?`rgb${4===colors.length?"a":""}(${colors.map((n,index)=>index<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}(color));const marker=color.indexOf("("),type=color.substring(0,marker);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(type))throw new Error((0,formatMuiErrorMessage.A)(9,color));let colorSpace,values=color.substring(marker+1,color.length-1);if("color"===type){if(values=values.split(" "),colorSpace=values.shift(),4===values.length&&"/"===values[3].charAt(0)&&(values[3]=values[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(colorSpace))throw new Error((0,formatMuiErrorMessage.A)(10,colorSpace))}else values=values.split(",");return values=values.map(value=>parseFloat(value)),{type,values,colorSpace}}function recomposeColor(color){const{type,colorSpace}=color;let{values}=color;return-1!==type.indexOf("rgb")?values=values.map((n,i)=>i<3?parseInt(n,10):n):-1!==type.indexOf("hsl")&&(values[1]=`${values[1]}%`,values[2]=`${values[2]}%`),values=-1!==type.indexOf("color")?`${colorSpace} ${values.join(" ")}`:`${values.join(", ")}`,`${type}(${values})`}function colorManipulator_alpha(color,value){return color=decomposeColor(color),value=clampWrapper(value),"rgb"!==color.type&&"hsl"!==color.type||(color.type+="a"),"color"===color.type?color.values[3]=`/${value}`:color.values[3]=value,recomposeColor(color)}function isValueSelected(value,candidate){return void 0!==candidate&&void 0!==value&&(Array.isArray(candidate)?candidate.indexOf(value)>=0:value===candidate)}const ToggleButton_excluded=["value"],ToggleButton_excluded2=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],ToggleButtonRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiToggleButton",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`size${(0,capitalize.A)(ownerState.size)}`]]}})(({theme,ownerState})=>{let selectedColorChannel,selectedColor="standard"===ownerState.color?theme.palette.text.primary:theme.palette[ownerState.color].main;return theme.vars&&(selectedColor="standard"===ownerState.color?theme.vars.palette.text.primary:theme.vars.palette[ownerState.color].main,selectedColorChannel="standard"===ownerState.color?theme.vars.palette.text.primaryChannel:theme.vars.palette[ownerState.color].mainChannel),(0,esm_extends.A)({},theme.typography.button,{borderRadius:(theme.vars||theme).shape.borderRadius,padding:11,border:`1px solid ${(theme.vars||theme).palette.divider}`,color:(theme.vars||theme).palette.action.active},ownerState.fullWidth&&{width:"100%"},{[`&.${ToggleButton_toggleButtonClasses.disabled}`]:{color:(theme.vars||theme).palette.action.disabled,border:`1px solid ${(theme.vars||theme).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:theme.vars?`rgba(${theme.vars.palette.text.primaryChannel} / ${theme.vars.palette.action.hoverOpacity})`:colorManipulator_alpha(theme.palette.text.primary,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ToggleButton_toggleButtonClasses.selected}`]:{color:selectedColor,backgroundColor:theme.vars?`rgba(${selectedColorChannel} / ${theme.vars.palette.action.selectedOpacity})`:colorManipulator_alpha(selectedColor,theme.palette.action.selectedOpacity),"&:hover":{backgroundColor:theme.vars?`rgba(${selectedColorChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:colorManipulator_alpha(selectedColor,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:theme.vars?`rgba(${selectedColorChannel} / ${theme.vars.palette.action.selectedOpacity})`:colorManipulator_alpha(selectedColor,theme.palette.action.selectedOpacity)}}}},"small"===ownerState.size&&{padding:7,fontSize:theme.typography.pxToRem(13)},"large"===ownerState.size&&{padding:15,fontSize:theme.typography.pxToRem(15)})}),ToggleButton=react.forwardRef(function ToggleButton(inProps,ref){const _React$useContext=react.useContext(ToggleButtonGroup_ToggleButtonGroupContext),{value:contextValue}=_React$useContext,contextProps=(0,objectWithoutPropertiesLoose.A)(_React$useContext,ToggleButton_excluded),toggleButtonGroupButtonContextPositionClassName=react.useContext(ToggleButtonGroup_ToggleButtonGroupButtonContext),resolvedProps=(0,resolveProps.A)((0,esm_extends.A)({},contextProps,{selected:isValueSelected(inProps.value,contextValue)}),inProps),props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:resolvedProps,name:"MuiToggleButton"}),{children,className,color="standard",disabled=!1,disableFocusRipple=!1,fullWidth=!1,onChange,onClick,selected,size="medium",value}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ToggleButton_excluded2),ownerState=(0,esm_extends.A)({},props,{color,disabled,disableFocusRipple,fullWidth,size}),classes=(ownerState=>{const{classes,fullWidth,selected,disabled,size,color}=ownerState,slots={root:["root",selected&&"selected",disabled&&"disabled",fullWidth&&"fullWidth",`size${(0,capitalize.A)(size)}`,color]};return(0,composeClasses.A)(slots,getToggleButtonUtilityClass,classes)})(ownerState),positionClassName=toggleButtonGroupButtonContextPositionClassName||"";return(0,jsx_runtime.jsx)(ToggleButtonRoot,(0,esm_extends.A)({className:(0,clsx.A)(contextProps.className,classes.root,className,positionClassName),disabled,focusRipple:!disableFocusRipple,ref,onClick:event=>{onClick&&(onClick(event,value),event.defaultPrevented)||onChange&&onChange(event,value)},onChange,value,ownerState,"aria-pressed":selected},other,{children}))}),ToggleButton_ToggleButton=ToggleButton;function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const clsx_m=function clsx_m_clsx(){for(var e,t,f=0,n="";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n},u=t=>"number"==typeof t&&!isNaN(t),d=t=>"string"==typeof t,p=t=>"function"==typeof t,m=t=>d(t)||p(t)?t:null,f=t=>(0,react.isValidElement)(t)||d(t)||p(t)||u(t);function h(e){let{enter:a,exit:r,appendPosition:i=!1,collapse:l=!0,collapseDuration:c=300}=e;return function(e){let{children:u,position:d,preventExitTransition:p,done:m,nodeRef:f,isIn:h}=e;const y=i?`${a}--${d}`:a,v=i?`${r}--${d}`:r,T=(0,react.useRef)(0);return(0,react.useLayoutEffect)(()=>{const t=f.current,e=y.split(" "),n=o=>{o.target===f.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",n),t.removeEventListener("animationcancel",n),0===T.current&&"animationcancel"!==o.type&&t.classList.remove(...e))};t.classList.add(...e),t.addEventListener("animationend",n),t.addEventListener("animationcancel",n)},[]),(0,react.useEffect)(()=>{const t=f.current,e=()=>{t.removeEventListener("animationend",e),l?function g(t,e,n){void 0===n&&(n=300);const{scrollHeight:o,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}(t,m,c):m()};h||(p?e():(T.current=1,t.className+=` ${v}`,t.addEventListener("animationend",e)))},[h]),react.createElement(react.Fragment,null,u)}}function y(t,e){return null!=t?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const v={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(t=>t!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},T=e=>{let{theme:n,type:o,...s}=e;return react.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${o})`,...s})},E={info:function(e){return react.createElement(T,{...e},react.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return react.createElement(T,{...e},react.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return react.createElement(T,{...e},react.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return react.createElement(T,{...e},react.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return react.createElement("div",{className:"Toastify__spinner"})}};function C(t){const[,o]=(0,react.useReducer)(t=>t+1,0),[l,c]=(0,react.useState)([]),g=(0,react.useRef)(null),h=(0,react.useRef)(new Map).current,T=t=>-1!==l.indexOf(t),C=(0,react.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:T,getToast:t=>h.get(t)}).current;function b(t){let{containerId:e}=t;const{limit:n}=C.props;!n||e&&C.containerId!==e||(C.count-=C.queue.length,C.queue=[])}function I(t){c(e=>null==t?[]:e.filter(e=>e!==t))}function _(){const{toastContent:t,toastProps:e,staleId:n}=C.queue.shift();O(t,e,n)}function L(t,n){let{delay:s,staleId:r,...i}=n;if(!f(t)||function(t){return!g.current||C.props.enableMultiContainer&&t.containerId!==C.props.containerId||h.has(t.toastId)&&null==t.updateId}(i))return;const{toastId:l,updateId:c,data:T}=i,{props:b}=C,L=()=>I(l),N=null==c;N&&C.count++;const M={...b,style:b.toastStyle,key:C.toastKey++,...Object.fromEntries(Object.entries(i).filter(t=>{let[e,n]=t;return null!=n})),toastId:l,updateId:c,data:T,closeToast:L,isIn:!1,className:m(i.className||b.toastClassName),bodyClassName:m(i.bodyClassName||b.bodyClassName),progressClassName:m(i.progressClassName||b.progressClassName),autoClose:!i.isLoading&&(R=i.autoClose,w=b.autoClose,!1===R||u(R)&&R>0?R:w),deleteToast(){const t=y(h.get(l),"removed");h.delete(l),v.emit(4,t);const e=C.queue.length;if(C.count=null==l?C.count-C.displayedToast:C.count-1,C.count<0&&(C.count=0),e>0){const t=null==l?C.props.limit:1;if(1===e||1===t)C.displayedToast++,_();else{const n=t>e?e:t;C.displayedToast=n;for(let t=0;t<n;t++)_()}}else o()}};var R,w;M.iconOut=function(t){let{theme:n,type:o,isLoading:s,icon:r}=t,i=null;const l={theme:n,type:o};return!1===r||(p(r)?i=r(l):(0,react.isValidElement)(r)?i=(0,react.cloneElement)(r,l):d(r)||u(r)?i=r:s?i=E.spinner():(t=>t in E)(o)&&(i=E[o](l))),i}(M),p(i.onOpen)&&(M.onOpen=i.onOpen),p(i.onClose)&&(M.onClose=i.onClose),M.closeButton=b.closeButton,!1===i.closeButton||f(i.closeButton)?M.closeButton=i.closeButton:!0===i.closeButton&&(M.closeButton=!f(b.closeButton)||b.closeButton);let x=t;(0,react.isValidElement)(t)&&!d(t.type)?x=(0,react.cloneElement)(t,{closeToast:L,toastProps:M,data:T}):p(t)&&(x=t({closeToast:L,toastProps:M,data:T})),b.limit&&b.limit>0&&C.count>b.limit&&N?C.queue.push({toastContent:x,toastProps:M,staleId:r}):u(s)?setTimeout(()=>{O(x,M,r)},s):O(x,M,r)}function O(t,e,n){const{toastId:o}=e;n&&h.delete(n);const s={content:t,props:e};h.set(o,s),c(t=>[...t,o].filter(t=>t!==n)),v.emit(4,y(s,null==s.props.updateId?"added":"updated"))}return(0,react.useEffect)(()=>(C.containerId=t.containerId,v.cancelEmit(3).on(0,L).on(1,t=>g.current&&I(t)).on(5,b).emit(2,C),()=>{h.clear(),v.emit(3,C)}),[]),(0,react.useEffect)(()=>{C.props=t,C.isToastActive=T,C.displayedToast=l.length}),{getToastToRender:function(e){const n=new Map,o=Array.from(h.values());return t.newestOnTop&&o.reverse(),o.forEach(t=>{const{position:e}=t.props;n.has(e)||n.set(e,[]),n.get(e).push(t)}),Array.from(n,t=>e(t[0],t[1]))},containerRef:g,isToastActive:T}}function b(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function I(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function react_toastify_esm_(t){const[o,a]=(0,react.useState)(!1),[r,l]=(0,react.useState)(!1),c=(0,react.useRef)(null),u=(0,react.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=(0,react.useRef)(t),{autoClose:m,pauseOnHover:f,closeToast:g,onClick:h,closeOnClick:y}=t;function v(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),u.didMove=!1,document.addEventListener("mousemove",_),document.addEventListener("mouseup",L),document.addEventListener("touchmove",_),document.addEventListener("touchend",L);const n=c.current;u.canCloseOnClick=!0,u.canDrag=!0,u.boundingRect=n.getBoundingClientRect(),n.style.transition="",u.x=b(e.nativeEvent),u.y=I(e.nativeEvent),"x"===t.draggableDirection?(u.start=u.x,u.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(u.start=u.y,u.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function T(e){if(u.boundingRect){const{top:n,bottom:o,left:s,right:a}=u.boundingRect;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&u.x>=s&&u.x<=a&&u.y>=n&&u.y<=o?C():E()}}function E(){a(!0)}function C(){a(!1)}function _(e){const n=c.current;u.canDrag&&n&&(u.didMove=!0,o&&C(),u.x=b(e),u.y=I(e),u.delta="x"===t.draggableDirection?u.x-u.start:u.y-u.start,u.start!==u.x&&(u.canCloseOnClick=!1),n.style.transform=`translate${t.draggableDirection}(${u.delta}px)`,n.style.opacity=""+(1-Math.abs(u.delta/u.removalDistance)))}function L(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",L),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",L);const e=c.current;if(u.canDrag&&u.didMove&&e){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance)return l(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform=`translate${t.draggableDirection}(0)`,e.style.opacity="1"}}(0,react.useEffect)(()=>{d.current=t}),(0,react.useEffect)(()=>(c.current&&c.current.addEventListener("d",E,{once:!0}),p(t.onOpen)&&t.onOpen((0,react.isValidElement)(t.children)&&t.children.props),()=>{const t=d.current;p(t.onClose)&&t.onClose((0,react.isValidElement)(t.children)&&t.children.props)}),[]),(0,react.useEffect)(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||C(),window.addEventListener("focus",E),window.addEventListener("blur",C)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",E),window.removeEventListener("blur",C))}),[t.pauseOnFocusLoss]);const O={onMouseDown:v,onTouchStart:v,onMouseUp:T,onTouchEnd:T};return m&&f&&(O.onMouseEnter=C,O.onMouseLeave=E),y&&(O.onClick=t=>{h&&h(t),u.canCloseOnClick&&g()}),{playToast:E,pauseToast:C,isRunning:o,preventExitTransition:r,toastRef:c,eventHandlers:O}}function react_toastify_esm_L(e){let{closeToast:n,theme:o,ariaLabel:s="close"}=e;return react.createElement("button",{className:`Toastify__close-button Toastify__close-button--${o}`,type:"button",onClick:t=>{t.stopPropagation(),n(t)},"aria-label":s},react.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},react.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function react_toastify_esm_O(e){let{delay:n,isRunning:o,closeToast:s,type:a="default",hide:r,className:i,style:l,controlledProgress:u,progress:d,rtl:m,isIn:f,theme:g}=e;const h=r||u&&0===d,y={...l,animationDuration:`${n}ms`,animationPlayState:o?"running":"paused",opacity:h?0:1};u&&(y.transform=`scaleX(${d})`);const v=clsx_m("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":m}),T=p(i)?i({rtl:m,type:a,defaultClassName:v}):clsx_m(v,i);return react.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:T,style:y,[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{f&&s()}})}const react_toastify_esm_N=n=>{const{isRunning:o,preventExitTransition:s,toastRef:r,eventHandlers:i}=react_toastify_esm_(n),{closeButton:l,children:u,autoClose:d,onClick:m,type:f,hideProgressBar:g,closeToast:h,transition:y,position:v,className:T,style:E,bodyClassName:C,bodyStyle:b,progressClassName:I,progressStyle:N,updateId:M,role:R,progress:w,rtl:x,toastId:$,deleteToast:k,isIn:P,isLoading:B,iconOut:D,closeOnClick:A,theme:z}=n,F=clsx_m("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":A}),H=p(T)?T({rtl:x,position:v,type:f,defaultClassName:F}):clsx_m(F,T),S=!!w||!d,q={closeToast:h,type:f,theme:z};let Q=null;return!1===l||(Q=p(l)?l(q):(0,react.isValidElement)(l)?(0,react.cloneElement)(l,q):react_toastify_esm_L(q)),react.createElement(y,{isIn:P,done:k,position:v,preventExitTransition:s,nodeRef:r},react.createElement("div",{id:$,onClick:m,className:H,...i,style:E,ref:r},react.createElement("div",{...P&&{role:R},className:p(C)?C({type:f}):clsx_m("Toastify__toast-body",C),style:b},null!=D&&react.createElement("div",{className:clsx_m("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},D),react.createElement("div",null,u)),Q,react.createElement(react_toastify_esm_O,{...M&&!S?{key:`pb-${M}`}:{},rtl:x,theme:z,delay:d,isRunning:o,isIn:P,closeToast:h,hide:g,type:f,style:N,className:I,controlledProgress:S,progress:w||0})))},react_toastify_esm_M=function(t,e){return void 0===e&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},R=h(react_toastify_esm_M("bounce",!0)),react_toastify_esm_k=(h(react_toastify_esm_M("slide",!0)),h(react_toastify_esm_M("zoom")),h(react_toastify_esm_M("flip")),(0,react.forwardRef)((e,n)=>{const{getToastToRender:o,containerRef:a,isToastActive:r}=C(e),{className:i,style:l,rtl:u,containerId:d}=e;function f(t){const e=clsx_m("Toastify__toast-container",`Toastify__toast-container--${t}`,{"Toastify__toast-container--rtl":u});return p(i)?i({position:t,rtl:u,defaultClassName:e}):clsx_m(e,m(i))}return(0,react.useEffect)(()=>{n&&(n.current=a.current)},[]),react.createElement("div",{ref:a,className:"Toastify",id:d},o((e,n)=>{const o=n.length?{...l}:{...l,pointerEvents:"none"};return react.createElement("div",{className:f(e),style:o,key:`container-${e}`},n.map((e,o)=>{let{content:s,props:a}=e;return react.createElement(react_toastify_esm_N,{...a,isIn:r(a.toastId),style:{...a.style,"--nth":o+1,"--len":n.length},key:`toast-${a.key}`},s)}))}))}));react_toastify_esm_k.displayName="ToastContainer",react_toastify_esm_k.defaultProps={position:"top-right",transition:R,autoClose:5e3,closeButton:react_toastify_esm_L,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P,react_toastify_esm_B=new Map,D=[],A=1;function react_toastify_esm_z(){return""+A++}function react_toastify_esm_F(t){return t&&(d(t.toastId)||u(t.toastId))?t.toastId:react_toastify_esm_z()}function react_toastify_esm_H(t,e){return react_toastify_esm_B.size>0?v.emit(0,t,e):D.push({content:t,options:e}),e.toastId}function S(t,e){return{...e,type:e&&e.type||t,toastId:react_toastify_esm_F(e)}}function react_toastify_esm_q(t){return(e,n)=>react_toastify_esm_H(e,S(t,n))}function react_toastify_esm_Q(t,e){return react_toastify_esm_H(t,S("default",e))}react_toastify_esm_Q.loading=(t,e)=>react_toastify_esm_H(t,S("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),react_toastify_esm_Q.promise=function(t,e,n){let o,{pending:s,error:a,success:r}=e;s&&(o=d(s)?react_toastify_esm_Q.loading(s,n):react_toastify_esm_Q.loading(s.render,{...n,...s}));const i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(t,e,s)=>{if(null==e)return void react_toastify_esm_Q.dismiss(o);const a={type:t,...i,...n,data:s},r=d(e)?{render:e}:e;return o?react_toastify_esm_Q.update(o,{...a,...r}):react_toastify_esm_Q(r.render,{...a,...r}),s},c=p(t)?t():t;return c.then(t=>l("success",r,t)).catch(t=>l("error",a,t)),c},react_toastify_esm_Q.success=react_toastify_esm_q("success"),react_toastify_esm_Q.info=react_toastify_esm_q("info"),react_toastify_esm_Q.error=react_toastify_esm_q("error"),react_toastify_esm_Q.warning=react_toastify_esm_q("warning"),react_toastify_esm_Q.warn=react_toastify_esm_Q.warning,react_toastify_esm_Q.dark=(t,e)=>react_toastify_esm_H(t,S("default",{theme:"dark",...e})),react_toastify_esm_Q.dismiss=t=>{react_toastify_esm_B.size>0?v.emit(1,t):D=D.filter(e=>null!=t&&e.options.toastId!==t)},react_toastify_esm_Q.clearWaitingQueue=function(t){return void 0===t&&(t={}),v.emit(5,t)},react_toastify_esm_Q.isActive=t=>{let e=!1;return react_toastify_esm_B.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},react_toastify_esm_Q.update=function(t,e){void 0===e&&(e={}),setTimeout(()=>{const n=function(t,e){let{containerId:n}=e;const o=react_toastify_esm_B.get(n||P);return o&&o.getToast(t)}(t,e);if(n){const{props:o,content:s}=n,a={delay:100,...o,...e,toastId:e.toastId||t,updateId:react_toastify_esm_z()};a.toastId!==t&&(a.staleId=t);const r=a.render||s;delete a.render,react_toastify_esm_H(r,a)}},0)},react_toastify_esm_Q.done=t=>{react_toastify_esm_Q.update(t,{progress:1})},react_toastify_esm_Q.onChange=t=>(v.on(4,t),()=>{v.off(4,t)}),react_toastify_esm_Q.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},react_toastify_esm_Q.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},v.on(2,t=>{P=t.containerId||t,react_toastify_esm_B.set(P,t),D.forEach(t=>{v.emit(0,t.content,t.options)}),D=[]}).on(3,t=>{react_toastify_esm_B.delete(t.containerId||t),0===react_toastify_esm_B.size&&v.off(0).off(1).off(5)});const ArrowBack=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Email=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),Send=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Lock=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),esm_Link=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),VisibilityOff=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Visibility=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Login=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),email=function(_ref){var config=_ref.config,_useState2=slicedToArray_slicedToArray((0,react.useState)(""),2),email=_useState2[0],setEmail=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(""),2),password=_useState4[0],setPassword=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState6[0],setLoading=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),showPassword=_useState8[0],setShowPassword=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),linkSent=_useState0[0],setLinkSent=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(!1),2),resetEmailSent=_useState10[0],setResetEmailSent=_useState10[1],_useState12=slicedToArray_slicedToArray((0,react.useState)("login"),2),currentStep=_useState12[0],setCurrentStep=_useState12[1],_useState14=slicedToArray_slicedToArray((0,react.useState)(function(){return config.supportsPassword&&config.supportsEmailLink?"password":config.supportsEmailLink||config.signInWithEmailLink?"emaillink":"password"}),2),selectedMethod=_useState14[0],setSelectedMethod=_useState14[1],formatMessage=useIntl().formatMessage,auth=auth_hooks_useAuth().auth,handleEmailSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(e){var _authError$message,_authError$message2,authError,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(e.preventDefault(),setLoading(!0),_context.prev=1,"emaillink"!==selectedMethod&&!config.signInWithEmailLink){_context.next=3;break}return _context.next=2,sendSignInLinkToEmail(auth,email,{url:window.location.href,handleCodeInApp:!0});case 2:window.localStorage.setItem("emailForSignIn",email),setLinkSent(!0),_context.next=4;break;case 3:return _context.next=4,signInWithEmailAndPassword(auth,email,password);case 4:_context.next=6;break;case 5:_context.prev=5,_t=_context.catch(1),console.error("Email sign-in error:",_t),"auth/configuration-not-found"===(authError=_t).code||"auth/api-key-not-valid"===authError.code||"auth/invalid-api-key"===authError.code||"auth/project-not-found"===authError.code||null!==(_authError$message=authError.message)&&void 0!==_authError$message&&includes_default()(_authError$message).call(_authError$message,"No Firebase App")||null!==(_authError$message2=authError.message)&&void 0!==_authError$message2&&includes_default()(_authError$message2).call(_authError$message2,"Firebase App named")?react_toastify_esm_Q.error("Firebase Authentication is not properly configured. Please contact your administrator."):"auth/user-not-found"===authError.code?react_toastify_esm_Q.error("No account found with this email address. Please contact your administrator to create an account."):"auth/wrong-password"===authError.code?react_toastify_esm_Q.error("Incorrect password. Please try again."):"auth/invalid-email"===authError.code?react_toastify_esm_Q.error("Invalid email address format."):"auth/user-disabled"===authError.code?react_toastify_esm_Q.error("This account has been disabled. Please contact your administrator."):"auth/too-many-requests"===authError.code?react_toastify_esm_Q.error("Too many failed attempts. Please try again later."):react_toastify_esm_Q.error(authError.message||"An error occurred during sign-in. Please try again.");case 6:return _context.prev=6,setLoading(!1),_context.finish(6);case 7:case"end":return _context.stop()}},_callee,null,[[1,5,6,7]])}));return function handleEmailSignIn(_x){return _ref2.apply(this,arguments)}}(),handleBackToForm=function handleBackToForm(){setLinkSent(!1),setResetEmailSent(!1),setCurrentStep("login"),setEmail("")},handleSendPasswordReset=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(e){var authError,_t2;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(e.preventDefault(),email){_context2.next=1;break}return react_toastify_esm_Q.error("Please enter your email address."),_context2.abrupt("return");case 1:return setLoading(!0),_context2.prev=2,_context2.next=3,sendPasswordResetEmail(auth,email);case 3:setResetEmailSent(!0),react_toastify_esm_Q.success("Password reset email sent! Check your inbox."),_context2.next=5;break;case 4:_context2.prev=4,_t2=_context2.catch(2),console.error("Password reset error:",_t2),"auth/user-not-found"===(authError=_t2).code?react_toastify_esm_Q.error("No account found with this email address."):"auth/invalid-email"===authError.code?react_toastify_esm_Q.error("Invalid email address format."):"auth/too-many-requests"===authError.code?react_toastify_esm_Q.error("Too many requests. Please try again later."):react_toastify_esm_Q.error(authError.message||"Failed to send password reset email.");case 5:return _context2.prev=5,setLoading(!1),_context2.finish(5);case 6:case"end":return _context2.stop()}},_callee2,null,[[2,4,5,6]])}));return function handleSendPasswordReset(_x2){return _ref3.apply(this,arguments)}}();if("forgotPassword"===currentStep&&!resetEmailSent)return react.createElement(material_Box_Box,{component:"form",onSubmit:handleSendPasswordReset,sx:{width:"100%"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",mb:3}},react.createElement(IconButton_IconButton,{onClick:function handleBackToLogin(){setCurrentStep("login")},disabled:loading,sx:{mr:1}},react.createElement(ArrowBack,null)),react.createElement(material_Typography_Typography,{variant:"h6",sx:{fontWeight:500}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.forgot_password_title",defaultMessage:"Reset Password"}))),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.forgot_password_description",defaultMessage:"Enter your email address and we'll send you a link to reset your password."})),react.createElement(TextField_TextField,{fullWidth:!0,type:"email",label:react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.email_label"}),placeholder:formatMessage({id:"signin-methods.SIGNIN_METHOD_EMAIL.email_placeholder"}),value:email,onChange:function onChange(e){return setEmail(e.target.value)},required:!0,disabled:loading,autoFocus:!0,InputProps:{startAdornment:react.createElement(InputAdornment_InputAdornment,{position:"start"},react.createElement(Email,{color:"action"}))},sx:{mb:3},variant:"outlined"}),react.createElement(material_Button_Button,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:loading,startIcon:react.createElement(Send,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,boxShadow:2,"&:hover":{boxShadow:4}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.send_reset_link",defaultMessage:"Send Reset Link"})));if(resetEmailSent)return react.createElement(material_Box_Box,{sx:{width:"100%",textAlign:"center"}},react.createElement(Lock,{sx:{fontSize:48,color:"text.primary",mb:2}}),react.createElement(material_Typography_Typography,{variant:"h6",sx:{mb:2,fontWeight:500}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.reset_email_sent",defaultMessage:"Password Reset Email Sent"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.reset_email_instruction",defaultMessage:"We've sent a password reset link to {email}. Please check your email and follow the instructions to reset your password.",values:{email:react.createElement("strong",null,email)}})),react.createElement(material_Button_Button,{variant:"outlined",onClick:handleBackToForm,startIcon:react.createElement(ArrowBack,null),sx:{textTransform:"none",borderRadius:2}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.back_to_login",defaultMessage:"Back to login"})));if(("emaillink"===selectedMethod||config.signInWithEmailLink)&&linkSent)return react.createElement(material_Box_Box,{sx:{width:"100%",textAlign:"center"}},react.createElement(Email,{sx:{fontSize:48,color:"text.primary",mb:2}}),react.createElement(material_Typography_Typography,{variant:"h6",sx:{mb:2,fontWeight:500}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.link_sent"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.check_email_instruction",defaultMessage:"We've sent a sign-in link to {email}. Please check your email and click the link to continue.",values:{email:react.createElement("strong",null,email)}})),react.createElement(material_Button_Button,{variant:"outlined",onClick:handleBackToForm,startIcon:react.createElement(ArrowBack,null),sx:{textTransform:"none",borderRadius:2}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.back_to_form",defaultMessage:"Back to login form"})));var showMethodSelection=config.supportsPassword&&config.supportsEmailLink,isUsingEmailLink="emaillink"===selectedMethod||config.signInWithEmailLink;return react.createElement(material_Box_Box,{component:"form",onSubmit:handleEmailSignIn,sx:{width:"100%"}},showMethodSelection&&react.createElement(material_Box_Box,{sx:{mb:3,display:"flex",justifyContent:"center"}},react.createElement(ToggleButtonGroup_ToggleButtonGroup,{value:selectedMethod,exclusive:!0,onChange:function onChange(_,newMethod){null!==newMethod&&(setSelectedMethod(newMethod),setPassword(""))},"aria-label":"Select authentication method",size:"small",sx:{"& .MuiToggleButton-root":{textTransform:"none",px:2,py:1}}},react.createElement(ToggleButton_ToggleButton,{value:"password","aria-label":"Password login"},react.createElement(Lock,{sx:{mr:1,fontSize:18}}),react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.password_method",defaultMessage:"Password"})),react.createElement(ToggleButton_ToggleButton,{value:"emaillink","aria-label":"Email link login"},react.createElement(esm_Link,{sx:{mr:1,fontSize:18}}),react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.emaillink_method",defaultMessage:"Magic Link"})))),react.createElement(TextField_TextField,{fullWidth:!0,type:"email",label:react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.email_label"}),placeholder:formatMessage({id:"signin-methods.SIGNIN_METHOD_EMAIL.email_placeholder"}),value:email,onChange:function onChange(e){return setEmail(e.target.value)},required:!0,disabled:loading,InputProps:{startAdornment:react.createElement(InputAdornment_InputAdornment,{position:"start"},react.createElement(Email,{color:"action"}))},sx:{mb:2},variant:"outlined"}),!isUsingEmailLink&&react.createElement(TextField_TextField,{fullWidth:!0,type:showPassword?"text":"password",label:react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.password_label"}),placeholder:formatMessage({id:"signin-methods.SIGNIN_METHOD_EMAIL.password_placeholder"}),value:password,onChange:function onChange(e){return setPassword(e.target.value)},required:!0,disabled:loading,InputProps:{startAdornment:react.createElement(InputAdornment_InputAdornment,{position:"start"},react.createElement(Lock,{color:"action"})),endAdornment:react.createElement(InputAdornment_InputAdornment,{position:"end"},react.createElement(IconButton_IconButton,{"aria-label":"toggle password visibility",onClick:function onClick(){return setShowPassword(!showPassword)},edge:"end",disabled:loading},showPassword?react.createElement(VisibilityOff,null):react.createElement(Visibility,null)))},sx:{mb:2},variant:"outlined"}),!isUsingEmailLink&&react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"flex-end",mb:2}},react.createElement(material_Button_Button,{variant:"text",size:"small",onClick:function handleForgotPasswordClick(){setCurrentStep("forgotPassword")},disabled:loading,sx:{textTransform:"none",color:"primary.main","&:hover":{backgroundColor:"transparent",textDecoration:"underline"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.forgot_password",defaultMessage:"Forgot password?"}))),react.createElement(material_Button_Button,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:loading,startIcon:isUsingEmailLink?react.createElement(Send,null):react.createElement(Login,null),sx:{mt:1,mb:2,py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,boxShadow:2,"&:hover":{boxShadow:4}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.submit_text"})))},Google=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),signin_methods_google=function(_ref){_ref.config;var auth=auth_hooks_useAuth().auth,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],isMountedRef=(0,react.useRef)(!0);(0,react.useEffect)(function(){return isMountedRef.current=!0,function(){isMountedRef.current=!1}},[]);var handleGoogleSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var provider,result,email,signInMethods,_e$message,_e$message2,e,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isMountedRef.current){_context.next=1;break}return _context.abrupt("return");case 1:return setLoading(!0),_context.prev=2,provider=new GoogleAuthProvider,_context.next=3,signInWithPopup(auth,provider);case 3:if(result=_context.sent,isMountedRef.current){_context.next=4;break}return _context.abrupt("return");case 4:if(!result.user||result.user.metadata.creationTime!==result.user.metadata.lastSignInTime){_context.next=8;break}if(!(email=result.user.email)){_context.next=8;break}return _context.next=5,fetchSignInMethodsForEmail(auth,email);case 5:if(signInMethods=_context.sent,isMountedRef.current){_context.next=6;break}return _context.abrupt("return");case 6:if(0!==signInMethods.length){_context.next=8;break}return _context.next=7,result.user.delete();case 7:return react_toastify_esm_Q.error("No account found with this email address. Please contact your administrator to create an account."),_context.abrupt("return");case 8:_context.next=11;break;case 9:if(_context.prev=9,_t=_context.catch(2),isMountedRef.current){_context.next=10;break}return _context.abrupt("return");case 10:console.error("Google sign-in error:",_t),"auth/configuration-not-found"===(e=_t).code||"auth/api-key-not-valid"===e.code||"auth/invalid-api-key"===e.code||"auth/project-not-found"===e.code||null!==(_e$message=e.message)&&void 0!==_e$message&&includes_default()(_e$message).call(_e$message,"No Firebase App")||null!==(_e$message2=e.message)&&void 0!==_e$message2&&includes_default()(_e$message2).call(_e$message2,"Firebase App named")?react_toastify_esm_Q.error("Firebase Authentication is not properly configured. Please contact your administrator."):"auth/popup-blocked"===e.code?react_toastify_esm_Q.error("Popup was blocked by your browser. Please allow popups and try again."):"auth/popup-closed-by-user"===e.code?react_toastify_esm_Q.error("Sign-in was cancelled. Please try again."):"auth/account-exists-with-different-credential"===e.code?react_toastify_esm_Q.error("An account already exists with this email address but with a different sign-in method. Please use your original sign-in method."):react_toastify_esm_Q.error("Failed to sign in with Google. Please try again.");case 11:return _context.prev=11,isMountedRef.current&&setLoading(!1),_context.finish(11);case 12:case"end":return _context.stop()}},_callee,null,[[2,9,11,12]])}));return function handleGoogleSignIn(){return _ref2.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{onClick:handleGoogleSignIn,fullWidth:!0,variant:"outlined",size:"large",disabled:loading,startIcon:react.createElement(Google,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,borderColor:"#4285f4",color:"#4285f4","&:hover":{borderColor:"#3367d6",backgroundColor:"rgba(66, 133, 244, 0.04)"},"&:disabled":{borderColor:"rgba(0, 0, 0, 0.12)",color:"rgba(0, 0, 0, 0.26)"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_GOOGLE.button_text"})))},Business=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),microsoft=function(_ref){_ref.config;var auth=auth_hooks_useAuth().auth,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],isMountedRef=(0,react.useRef)(!0);(0,react.useEffect)(function(){return isMountedRef.current=!0,function(){isMountedRef.current=!1}},[]);var handleMicrosoftSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var provider,result,email,signInMethods,_e$message,_e$message2,e,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isMountedRef.current){_context.next=1;break}return _context.abrupt("return");case 1:return setLoading(!0),_context.prev=2,(provider=new OAuthProvider("microsoft.com")).setCustomParameters({prompt:"select_account"}),_context.next=3,signInWithPopup(auth,provider);case 3:if(result=_context.sent,isMountedRef.current){_context.next=4;break}return _context.abrupt("return");case 4:if(!result.user||result.user.metadata.creationTime!==result.user.metadata.lastSignInTime){_context.next=8;break}if(!(email=result.user.email)){_context.next=8;break}return _context.next=5,fetchSignInMethodsForEmail(auth,email);case 5:if(signInMethods=_context.sent,isMountedRef.current){_context.next=6;break}return _context.abrupt("return");case 6:if(0!==signInMethods.length){_context.next=8;break}return _context.next=7,result.user.delete();case 7:return react_toastify_esm_Q.error("No account found with this email address. Please contact your administrator to create an account."),_context.abrupt("return");case 8:_context.next=11;break;case 9:if(_context.prev=9,_t=_context.catch(2),isMountedRef.current){_context.next=10;break}return _context.abrupt("return");case 10:console.error("Microsoft sign-in error:",_t),"auth/configuration-not-found"===(e=_t).code||"auth/api-key-not-valid"===e.code||"auth/invalid-api-key"===e.code||"auth/project-not-found"===e.code||null!==(_e$message=e.message)&&void 0!==_e$message&&includes_default()(_e$message).call(_e$message,"No Firebase App")||null!==(_e$message2=e.message)&&void 0!==_e$message2&&includes_default()(_e$message2).call(_e$message2,"Firebase App named")?react_toastify_esm_Q.error("Firebase Authentication is not properly configured. Please contact your administrator."):"auth/popup-blocked"===e.code?react_toastify_esm_Q.error("Popup was blocked by your browser. Please allow popups and try again."):"auth/popup-closed-by-user"===e.code?react_toastify_esm_Q.error("Sign-in was cancelled. Please try again."):"auth/account-exists-with-different-credential"===e.code?react_toastify_esm_Q.error("An account already exists with this email address but with a different sign-in method. Please use your original sign-in method."):"auth/operation-not-allowed"===e.code?react_toastify_esm_Q.error("Microsoft sign-in is not enabled. Please contact your administrator."):react_toastify_esm_Q.error("Failed to sign in with Microsoft. Please try again.");case 11:return _context.prev=11,isMountedRef.current&&setLoading(!1),_context.finish(11);case 12:case"end":return _context.stop()}},_callee,null,[[2,9,11,12]])}));return function handleMicrosoftSignIn(){return _ref2.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{onClick:handleMicrosoftSignIn,fullWidth:!0,variant:"outlined",size:"large",disabled:loading,startIcon:react.createElement(Business,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,borderColor:"#0078d4",color:"#0078d4","&:hover":{borderColor:"#106ebe",backgroundColor:"rgba(0, 120, 212, 0.04)"},"&:disabled":{borderColor:"rgba(0, 0, 0, 0.12)",color:"rgba(0, 0, 0, 0.26)"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_MICROSOFT.button_text"})))},GitHub=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),github=function(_ref){_ref.config;var auth=auth_hooks_useAuth().auth,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],isMountedRef=(0,react.useRef)(!0);(0,react.useEffect)(function(){return isMountedRef.current=!0,function(){isMountedRef.current=!1}},[]);var handleGitHubSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var provider,result,email,signInMethods,_e$message,_e$message2,e,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isMountedRef.current){_context.next=1;break}return _context.abrupt("return");case 1:return setLoading(!0),_context.prev=2,(provider=new GithubAuthProvider).addScope("read:user"),provider.addScope("user:email"),_context.next=3,signInWithPopup(auth,provider);case 3:if(result=_context.sent,isMountedRef.current){_context.next=4;break}return _context.abrupt("return");case 4:if(!result.user||result.user.metadata.creationTime!==result.user.metadata.lastSignInTime){_context.next=8;break}if(!(email=result.user.email)){_context.next=8;break}return _context.next=5,fetchSignInMethodsForEmail(auth,email);case 5:if(signInMethods=_context.sent,isMountedRef.current){_context.next=6;break}return _context.abrupt("return");case 6:if(0!==signInMethods.length){_context.next=8;break}return _context.next=7,result.user.delete();case 7:return react_toastify_esm_Q.error("No account found with this email address. Please contact your administrator to create an account."),_context.abrupt("return");case 8:_context.next=11;break;case 9:if(_context.prev=9,_t=_context.catch(2),isMountedRef.current){_context.next=10;break}return _context.abrupt("return");case 10:console.error("GitHub sign-in error:",_t),"auth/configuration-not-found"===(e=_t).code||"auth/api-key-not-valid"===e.code||"auth/invalid-api-key"===e.code||"auth/project-not-found"===e.code||null!==(_e$message=e.message)&&void 0!==_e$message&&includes_default()(_e$message).call(_e$message,"No Firebase App")||null!==(_e$message2=e.message)&&void 0!==_e$message2&&includes_default()(_e$message2).call(_e$message2,"Firebase App named")?react_toastify_esm_Q.error("Firebase Authentication is not properly configured. Please contact your administrator."):"auth/popup-blocked"===e.code?react_toastify_esm_Q.error("Popup was blocked by your browser. Please allow popups and try again."):"auth/popup-closed-by-user"===e.code?react_toastify_esm_Q.error("Sign-in was cancelled. Please try again."):"auth/account-exists-with-different-credential"===e.code?react_toastify_esm_Q.error("An account already exists with this email address but with a different sign-in method. Please use your original sign-in method."):"auth/operation-not-allowed"===e.code?react_toastify_esm_Q.error("GitHub sign-in is not enabled. Please contact your administrator."):react_toastify_esm_Q.error("Failed to sign in with GitHub. Please try again.");case 11:return _context.prev=11,isMountedRef.current&&setLoading(!1),_context.finish(11);case 12:case"end":return _context.stop()}},_callee,null,[[2,9,11,12]])}));return function handleGitHubSignIn(){return _ref2.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{onClick:handleGitHubSignIn,fullWidth:!0,variant:"outlined",size:"large",disabled:loading,startIcon:react.createElement(GitHub,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,borderColor:"#333",color:"#333","&:hover":{borderColor:"#000",backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:disabled":{borderColor:"rgba(0, 0, 0, 0.12)",color:"rgba(0, 0, 0, 0.26)"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_GITHUB.button_text"})))},Facebook=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook"),facebook=function(_ref){_ref.config;var auth=auth_hooks_useAuth().auth,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],isMountedRef=(0,react.useRef)(!0);(0,react.useEffect)(function(){return isMountedRef.current=!0,function(){isMountedRef.current=!1}},[]);var handleFacebookSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var provider,result,email,signInMethods,_e$message,_e$message2,e,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isMountedRef.current){_context.next=1;break}return _context.abrupt("return");case 1:return setLoading(!0),_context.prev=2,(provider=new FacebookAuthProvider).addScope("email"),provider.addScope("public_profile"),_context.next=3,signInWithPopup(auth,provider);case 3:if(result=_context.sent,isMountedRef.current){_context.next=4;break}return _context.abrupt("return");case 4:if(!result.user||result.user.metadata.creationTime!==result.user.metadata.lastSignInTime){_context.next=8;break}if(!(email=result.user.email)){_context.next=8;break}return _context.next=5,fetchSignInMethodsForEmail(auth,email);case 5:if(signInMethods=_context.sent,isMountedRef.current){_context.next=6;break}return _context.abrupt("return");case 6:if(0!==signInMethods.length){_context.next=8;break}return _context.next=7,result.user.delete();case 7:return react_toastify_esm_Q.error("No account found with this email address. Please contact your administrator to create an account."),_context.abrupt("return");case 8:_context.next=11;break;case 9:if(_context.prev=9,_t=_context.catch(2),isMountedRef.current){_context.next=10;break}return _context.abrupt("return");case 10:console.error("Facebook sign-in error:",_t),"auth/configuration-not-found"===(e=_t).code||"auth/api-key-not-valid"===e.code||"auth/invalid-api-key"===e.code||"auth/project-not-found"===e.code||null!==(_e$message=e.message)&&void 0!==_e$message&&includes_default()(_e$message).call(_e$message,"No Firebase App")||null!==(_e$message2=e.message)&&void 0!==_e$message2&&includes_default()(_e$message2).call(_e$message2,"Firebase App named")?react_toastify_esm_Q.error("Firebase Authentication is not properly configured. Please contact your administrator."):"auth/popup-blocked"===e.code?react_toastify_esm_Q.error("Popup was blocked by your browser. Please allow popups and try again."):"auth/popup-closed-by-user"===e.code?react_toastify_esm_Q.error("Sign-in was cancelled. Please try again."):"auth/account-exists-with-different-credential"===e.code?react_toastify_esm_Q.error("An account already exists with this email address but with a different sign-in method. Please use your original sign-in method."):"auth/operation-not-allowed"===e.code?react_toastify_esm_Q.error("Facebook sign-in is not enabled. Please contact your administrator."):react_toastify_esm_Q.error("Failed to sign in with Facebook. Please try again.");case 11:return _context.prev=11,isMountedRef.current&&setLoading(!1),_context.finish(11);case 12:case"end":return _context.stop()}},_callee,null,[[2,9,11,12]])}));return function handleFacebookSignIn(){return _ref2.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{onClick:handleFacebookSignIn,fullWidth:!0,variant:"outlined",size:"large",disabled:loading,startIcon:react.createElement(Facebook,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,borderColor:"#1877f2",color:"#1877f2","&:hover":{borderColor:"#166fe5",backgroundColor:"rgba(24, 119, 242, 0.04)"},"&:disabled":{borderColor:"rgba(0, 0, 0, 0.12)",color:"rgba(0, 0, 0, 0.26)"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_FACEBOOK.button_text"})))},Apple=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"}),"Apple"),apple=function(_ref){_ref.config;var auth=auth_hooks_useAuth().auth,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],isMountedRef=(0,react.useRef)(!0);(0,react.useEffect)(function(){return isMountedRef.current=!0,function(){isMountedRef.current=!1}},[]);var handleAppleSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var provider,result,email,signInMethods,_e$message,_e$message2,e,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isMountedRef.current){_context.next=1;break}return _context.abrupt("return");case 1:return setLoading(!0),_context.prev=2,(provider=new OAuthProvider("apple.com")).addScope("email"),provider.addScope("name"),_context.next=3,signInWithPopup(auth,provider);case 3:if(result=_context.sent,isMountedRef.current){_context.next=4;break}return _context.abrupt("return");case 4:if(!result.user||result.user.metadata.creationTime!==result.user.metadata.lastSignInTime){_context.next=8;break}if(!(email=result.user.email)){_context.next=8;break}return _context.next=5,fetchSignInMethodsForEmail(auth,email);case 5:if(signInMethods=_context.sent,isMountedRef.current){_context.next=6;break}return _context.abrupt("return");case 6:if(0!==signInMethods.length){_context.next=8;break}return _context.next=7,result.user.delete();case 7:return react_toastify_esm_Q.error("No account found with this email address. Please contact your administrator to create an account."),_context.abrupt("return");case 8:_context.next=11;break;case 9:if(_context.prev=9,_t=_context.catch(2),isMountedRef.current){_context.next=10;break}return _context.abrupt("return");case 10:console.error("Apple sign-in error:",_t),"auth/configuration-not-found"===(e=_t).code||"auth/api-key-not-valid"===e.code||"auth/invalid-api-key"===e.code||"auth/project-not-found"===e.code||null!==(_e$message=e.message)&&void 0!==_e$message&&includes_default()(_e$message).call(_e$message,"No Firebase App")||null!==(_e$message2=e.message)&&void 0!==_e$message2&&includes_default()(_e$message2).call(_e$message2,"Firebase App named")?react_toastify_esm_Q.error("Firebase Authentication is not properly configured. Please contact your administrator."):"auth/popup-blocked"===e.code?react_toastify_esm_Q.error("Popup was blocked by your browser. Please allow popups and try again."):"auth/popup-closed-by-user"===e.code?react_toastify_esm_Q.error("Sign-in was cancelled. Please try again."):"auth/account-exists-with-different-credential"===e.code?react_toastify_esm_Q.error("An account already exists with this email address but with a different sign-in method. Please use your original sign-in method."):"auth/operation-not-allowed"===e.code?react_toastify_esm_Q.error("Apple sign-in is not enabled. Please contact your administrator."):react_toastify_esm_Q.error("Failed to sign in with Apple. Please try again.");case 11:return _context.prev=11,isMountedRef.current&&setLoading(!1),_context.finish(11);case 12:case"end":return _context.stop()}},_callee,null,[[2,9,11,12]])}));return function handleAppleSignIn(){return _ref2.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{onClick:handleAppleSignIn,fullWidth:!0,variant:"outlined",size:"large",disabled:loading,startIcon:react.createElement(Apple,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,borderColor:"#000",color:"#000","&:hover":{borderColor:"#333",backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:disabled":{borderColor:"rgba(0, 0, 0, 0.12)",color:"rgba(0, 0, 0, 0.26)"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_APPLE.button_text"})))};function getDividerUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDivider",slot)}const Divider_dividerClasses=(0,generateUtilityClasses.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function getListItemIconUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItemIcon",slot)}const ListItemIcon_listItemIconClasses=(0,generateUtilityClasses.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function getListItemTextUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItemText",slot)}const ListItemText_listItemTextClasses=(0,generateUtilityClasses.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function getMenuItemUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiMenuItem",slot)}const MenuItem_menuItemClasses=(0,generateUtilityClasses.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),MenuItem_excluded=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],MenuItemRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiMenuItem",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.dense&&styles.dense,ownerState.divider&&styles.divider,!ownerState.disableGutters&&styles.gutters]}})(({theme,ownerState})=>(0,esm_extends.A)({},theme.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!ownerState.disableGutters&&{paddingLeft:16,paddingRight:16},ownerState.divider&&{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(theme.vars||theme).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${MenuItem_menuItemClasses.selected}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity),[`&.${MenuItem_menuItemClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.focusOpacity)}},[`&.${MenuItem_menuItemClasses.selected}:hover`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity)}},[`&.${MenuItem_menuItemClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette.action.focus},[`&.${MenuItem_menuItemClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity},[`& + .${Divider_dividerClasses.root}`]:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)},[`& + .${Divider_dividerClasses.inset}`]:{marginLeft:52},[`& .${ListItemText_listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${ListItemText_listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${ListItemIcon_listItemIconClasses.root}`]:{minWidth:36}},!ownerState.dense&&{[theme.breakpoints.up("sm")]:{minHeight:"auto"}},ownerState.dense&&(0,esm_extends.A)({minHeight:32,paddingTop:4,paddingBottom:4},theme.typography.body2,{[`& .${ListItemIcon_listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}))),MenuItem=react.forwardRef(function MenuItem(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiMenuItem"}),{autoFocus=!1,component="li",dense=!1,divider=!1,disableGutters=!1,focusVisibleClassName,role="menuitem",tabIndex:tabIndexProp,className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,MenuItem_excluded),context=react.useContext(List_ListContext),childContext=react.useMemo(()=>({dense:dense||context.dense||!1,disableGutters}),[context.dense,dense,disableGutters]),menuItemRef=react.useRef(null);(0,utils_useEnhancedEffect.A)(()=>{autoFocus&&menuItemRef.current&&menuItemRef.current.focus()},[autoFocus]);const ownerState=(0,esm_extends.A)({},props,{dense:childContext.dense,divider,disableGutters}),classes=(ownerState=>{const{disabled,dense,divider,disableGutters,selected,classes}=ownerState,slots={root:["root",dense&&"dense",disabled&&"disabled",!disableGutters&&"gutters",divider&&"divider",selected&&"selected"]},composedClasses=(0,composeClasses.A)(slots,getMenuItemUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(props),handleRef=(0,utils_useForkRef.A)(menuItemRef,ref);let tabIndex;return props.disabled||(tabIndex=void 0!==tabIndexProp?tabIndexProp:-1),(0,jsx_runtime.jsx)(List_ListContext.Provider,{value:childContext,children:(0,jsx_runtime.jsx)(MenuItemRoot,(0,esm_extends.A)({ref:handleRef,role,tabIndex,component,focusVisibleClassName:(0,clsx.A)(classes.focusVisible,focusVisibleClassName),className:(0,clsx.A)(classes.root,className)},other,{ownerState,classes}))})}),MenuItem_MenuItem=MenuItem,Security=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),Phone=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone");var COUNTRY_CODES=[{code:"+1",country:"US/CA",flag:""},{code:"+44",country:"UK",flag:""},{code:"+49",country:"DE",flag:""},{code:"+33",country:"FR",flag:""},{code:"+39",country:"IT",flag:""},{code:"+34",country:"ES",flag:""},{code:"+31",country:"NL",flag:""},{code:"+46",country:"SE",flag:""},{code:"+47",country:"NO",flag:""},{code:"+45",country:"DK",flag:""},{code:"+91",country:"IN",flag:""},{code:"+86",country:"CN",flag:""},{code:"+81",country:"JP",flag:""},{code:"+82",country:"KR",flag:""},{code:"+61",country:"AU",flag:""},{code:"+55",country:"BR",flag:""},{code:"+52",country:"MX",flag:""},{code:"+7",country:"RU",flag:""}];const phone=function(_ref){_ref.config;var _useState2=slicedToArray_slicedToArray((0,react.useState)("+1"),2),countryCode=_useState2[0],setCountryCode=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(""),2),phoneNumber=_useState4[0],setPhoneNumber=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(""),2),verificationCode=_useState6[0],setVerificationCode=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState8[0],setLoading=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)("phone"),2),step=_useState0[0],setStep=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(null),2),confirmationResult=_useState10[0],setConfirmationResult=_useState10[1],_useState12=slicedToArray_slicedToArray((0,react.useState)(null),2),recaptchaVerifier=_useState12[0],setRecaptchaVerifier=_useState12[1],formatMessage=useIntl().formatMessage,auth=auth_hooks_useAuth().auth;(0,react.useEffect)(function(){var container=document.getElementById("recaptcha-container");if(auth&&!recaptchaVerifier&&container){var verifier=new RecaptchaVerifier(auth,"recaptcha-container",{size:"normal",callback:function callback(){},"expired-callback":function expiredCallback(){}});verifier.render().then(function(){setRecaptchaVerifier(verifier)}).catch(function(error){console.error("Error rendering reCAPTCHA:",error)})}return function(){recaptchaVerifier&&recaptchaVerifier.clear()}},[auth,recaptchaVerifier]);var handleSendCode=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(e){var _context,fullPhoneNumber,confirmation,_error$error,_error$error2,_error$code,message,_t;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(e.preventDefault(),auth&&recaptchaVerifier){_context2.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"auth.not_ready",defaultMessage:"Authentication not ready. Please try again."})),_context2.abrupt("return");case 1:if(trim_default()(phoneNumber).call(phoneNumber)){_context2.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"phone_auth.phone_required",defaultMessage:"Please enter a phone number."})),_context2.abrupt("return");case 2:return setLoading(!0),_context2.prev=3,fullPhoneNumber=concat_default()(_context="".concat(countryCode)).call(_context,phoneNumber.replace(/\D/g,"")),_context2.next=4,signInWithPhoneNumber(auth,fullPhoneNumber,recaptchaVerifier);case 4:confirmation=_context2.sent,setConfirmationResult(confirmation),setStep("verification"),react_toastify_esm_Q.success(formatMessage({id:"phone_auth.code_sent",defaultMessage:"Verification code sent to your phone!"})),_context2.next=6;break;case 5:_context2.prev=5,_t=_context2.catch(3),console.error("Error sending verification code:",_t),400===(null==_t||null===(_error$error=_t.error)||void 0===_error$error?void 0:_error$error.code)&&null!=_t&&null!==(_error$error2=_t.error)&&void 0!==_error$error2&&_error$error2.message?(message=_t.error.message,includes_default()(message).call(message,"TOO_LONG")?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.phone_too_long",defaultMessage:"Phone number is too long. Please check and try again."})):includes_default()(message).call(message,"TOO_SHORT")?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.phone_too_short",defaultMessage:"Phone number is too short. Please check and try again."})):includes_default()(message).call(message,"INVALID_PHONE_NUMBER")?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.invalid_phone_format",defaultMessage:"Invalid phone number format. Please check and try again."})):react_toastify_esm_Q.error(message||formatMessage({id:"phone_auth.send_code_failed",defaultMessage:"Failed to send verification code. Please try again."}))):null!=_t&&null!==(_error$code=_t.code)&&void 0!==_error$code&&starts_with_default()(_error$code).call(_error$code,"auth/")?"auth/too-many-requests"===_t.code?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.too_many_requests",defaultMessage:"Too many requests. Please try again later."})):"auth/invalid-phone-number"===_t.code?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.invalid_phone_number",defaultMessage:"Invalid phone number format."})):"auth/operation-not-allowed"===_t.code?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.not_enabled",defaultMessage:"Phone authentication is not enabled. Please contact your administrator."})):react_toastify_esm_Q.error(_t.message||formatMessage({id:"phone_auth.send_code_failed",defaultMessage:"Failed to send verification code. Please try again."})):react_toastify_esm_Q.error(formatMessage({id:"phone_auth.send_code_failed",defaultMessage:"Failed to send verification code. Please try again."}));case 6:return _context2.prev=6,setLoading(!1),_context2.finish(6);case 7:case"end":return _context2.stop()}},_callee,null,[[3,5,6,7]])}));return function handleSendCode(_x){return _ref2.apply(this,arguments)}}(),handleVerifyCode=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(e){var _result$additionalUse,_token$claims$customC,result,user,isNewUser,token,hasRole,errorMessage,authError,_t2;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(e.preventDefault(),confirmationResult){_context3.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"phone_auth.no_verification_request",defaultMessage:"No verification request found. Please try again."})),_context3.abrupt("return");case 1:if(trim_default()(verificationCode).call(verificationCode)){_context3.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"phone_auth.verification_code_required",defaultMessage:"Please enter the verification code."})),_context3.abrupt("return");case 2:return setLoading(!0),_context3.prev=3,_context3.next=4,confirmationResult.confirm(verificationCode);case 4:return result=_context3.sent,user=result.user,isNewUser=(null===(_result$additionalUse=result.additionalUserInfo)||void 0===_result$additionalUse?void 0:_result$additionalUse.isNewUser)||!1,_context3.next=5,user.getIdTokenResult();case 5:if(token=_context3.sent,hasRole=token.claims.role||(null===(_token$claims$customC=token.claims.customClaims)||void 0===_token$claims$customC?void 0:_token$claims$customC.role),!isNewUser&&hasRole){_context3.next=7;break}return _context3.next=6,auth.signOut();case 6:return errorMessage=isNewUser?"No account found with this phone number. Please contact your administrator to create an account.":"Your account does not have the necessary permissions. Please contact your administrator.",react_toastify_esm_Q.error(errorMessage),setStep("phone"),setConfirmationResult(null),setVerificationCode(""),setLoading(!1),_context3.abrupt("return");case 7:_context3.next=9;break;case 8:_context3.prev=8,_t2=_context3.catch(3),console.error("Error verifying code:",_t2),"auth/invalid-verification-code"===(authError=_t2).code?react_toastify_esm_Q.error(formatMessage({id:"phone_auth.invalid_verification_code",defaultMessage:"Invalid verification code. Please check and try again."})):"auth/code-expired"===authError.code?(react_toastify_esm_Q.error(formatMessage({id:"phone_auth.code_expired",defaultMessage:"Verification code has expired. Please request a new one."})),setStep("phone"),setConfirmationResult(null)):react_toastify_esm_Q.error(authError.message||formatMessage({id:"phone_auth.verify_code_failed",defaultMessage:"Failed to verify code. Please try again."}));case 9:return _context3.prev=9,setLoading(!1),_context3.finish(9);case 10:case"end":return _context3.stop()}},_callee2,null,[[3,8,9,10]])}));return function handleVerifyCode(_x2){return _ref3.apply(this,arguments)}}();return"verification"===step?react.createElement(material_Box_Box,{component:"form",onSubmit:handleVerifyCode,sx:{width:"100%"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",mb:3}},react.createElement(material_Button_Button,{onClick:function handleBackToPhone(){setStep("phone"),setVerificationCode(""),setConfirmationResult(null)},disabled:loading,sx:{mr:1,minWidth:"auto",p:1}},react.createElement(ArrowBack,null)),react.createElement(material_Typography_Typography,{variant:"h6",sx:{fontWeight:500}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.verification_title",defaultMessage:"Enter Verification Code"}))),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.verification_description",defaultMessage:"We've sent a verification code to {phone}. Please enter the code below.",values:{phone:react.createElement("strong",null,countryCode,phoneNumber)}})),react.createElement(TextField_TextField,{fullWidth:!0,type:"text",label:react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.verification_code_label",defaultMessage:"Verification Code"}),placeholder:"123456",value:verificationCode,onChange:function onChange(e){var _context7;return setVerificationCode(instance_slice_default()(_context7=e.target.value.replace(/\D/g,"")).call(_context7,0,6))},required:!0,disabled:loading,autoFocus:!0,inputProps:{maxLength:6,style:{textAlign:"center",fontSize:"1.5rem",letterSpacing:"0.5rem"}},InputProps:{startAdornment:react.createElement(InputAdornment_InputAdornment,{position:"start"},react.createElement(Security,{color:"action"}))},sx:{mb:3},variant:"outlined"}),react.createElement(material_Button_Button,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:loading||6!==verificationCode.length,sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,boxShadow:2,"&:hover":{boxShadow:4}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.verify_code",defaultMessage:"Verify Code"}))):react.createElement(material_Box_Box,{component:"form",onSubmit:handleSendCode,sx:{width:"100%"}},react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.description",defaultMessage:"Enter your phone number to receive a verification code."})),react.createElement(material_Box_Box,{sx:{display:"flex",gap:1,mb:2}},react.createElement(FormControl_FormControl,{sx:{minWidth:120}},react.createElement(InputLabel_InputLabel,null,react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.country_code",defaultMessage:"Country"})),react.createElement(Select_Select,{value:countryCode,label:"Country",onChange:function onChange(e){return setCountryCode(e.target.value)},disabled:loading},map_default()(COUNTRY_CODES).call(COUNTRY_CODES,function(country){return react.createElement(MenuItem_MenuItem,{key:country.code,value:country.code},country.flag," ",country.code)}))),react.createElement(TextField_TextField,{fullWidth:!0,type:"tel",label:react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.phone_label",defaultMessage:"Phone Number"}),placeholder:"123-456-7890",value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(function formatPhoneNumber(value){var _context4,_context5,_context6,digits=value.replace(/\D/g,"");return digits.length<=3?digits:digits.length<=6?concat_default()(_context4="".concat(instance_slice_default()(digits).call(digits,0,3),"-")).call(_context4,instance_slice_default()(digits).call(digits,3)):concat_default()(_context5=concat_default()(_context6="".concat(instance_slice_default()(digits).call(digits,0,3),"-")).call(_context6,instance_slice_default()(digits).call(digits,3,6),"-")).call(_context5,instance_slice_default()(digits).call(digits,6,10))}(e.target.value))},required:!0,disabled:loading,InputProps:{startAdornment:react.createElement(InputAdornment_InputAdornment,{position:"start"},react.createElement(Phone,{color:"action"}))},variant:"outlined"})),react.createElement(material_Box_Box,{sx:{mb:3,display:"flex",justifyContent:"center"}},react.createElement("div",{id:"recaptcha-container"})),react.createElement(material_Button_Button,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:loading||!trim_default()(phoneNumber).call(phoneNumber)||!recaptchaVerifier,sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,boxShadow:2,"&:hover":{boxShadow:4}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_PHONE.send_code",defaultMessage:"Send Verification Code"})))},oidc=function(_ref){var _config$metadata,config=_ref.config,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],auth=(useIntl().formatMessage,auth_hooks_useAuth().auth),handleOIDCSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _context,authUrl,params,authError;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setLoading(!0);try{authUrl="https://".concat(auth.config.authDomain,"/__/auth/handler"),params=new(url_search_params_default())({providerId:config.providerId,continueUrl:window.location.origin,customParameter:stringify_default()({prompt:"select_account"})}),window.location.href=concat_default()(_context="".concat(authUrl,"?")).call(_context,params.toString())}catch(error){console.error("OIDC sign-in error:",error),"auth/configuration-not-found"===(authError=error).code?react_toastify_esm_Q.error("OIDC provider is not properly configured. Please contact your administrator."):"auth/provider-disabled"===authError.code?react_toastify_esm_Q.error("This sign-in method is currently disabled."):react_toastify_esm_Q.error(authError.message||"An error occurred during sign-in. Please try again.")}finally{setLoading(!1)}case 1:case"end":return _context2.stop()}},_callee)}));return function handleOIDCSignIn(){return _ref2.apply(this,arguments)}}();return!1===config.enabled?null:react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{fullWidth:!0,variant:"contained",size:"large",onClick:handleOIDCSignIn,disabled:loading,startIcon:loading?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(Business,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,boxShadow:2,bgcolor:"primary.main","&:hover":{boxShadow:4,bgcolor:"primary.dark"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_OIDC.button_text",defaultMessage:"Sign in with {title}",values:{title:config.title||config.providerId}})),(null===(_config$metadata=config.metadata)||void 0===_config$metadata?void 0:_config$metadata.issuer)&&react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block",textAlign:"center"}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_OIDC.provider_info",defaultMessage:"Powered by {issuer}",values:{issuer:config.metadata.issuer}})))},saml=function(_ref){var _config$metadata,config=_ref.config,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],auth=(useIntl().formatMessage,auth_hooks_useAuth().auth),handleSAMLSignIn=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _context,authUrl,params,authError;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setLoading(!0);try{authUrl="https://".concat(auth.config.authDomain,"/__/auth/handler"),params=new(url_search_params_default())({providerId:config.providerId,continueUrl:window.location.origin}),window.location.href=concat_default()(_context="".concat(authUrl,"?")).call(_context,params.toString())}catch(error){console.error("SAML sign-in error:",error),"auth/configuration-not-found"===(authError=error).code?react_toastify_esm_Q.error("SAML provider is not properly configured. Please contact your administrator."):"auth/provider-disabled"===authError.code?react_toastify_esm_Q.error("This sign-in method is currently disabled."):react_toastify_esm_Q.error(authError.message||"An error occurred during sign-in. Please try again.")}finally{setLoading(!1)}case 1:case"end":return _context2.stop()}},_callee)}));return function handleSAMLSignIn(){return _ref2.apply(this,arguments)}}();return!1===config.enabled?null:react.createElement(material_Box_Box,{sx:{width:"100%"}},react.createElement(material_Button_Button,{fullWidth:!0,variant:"contained",size:"large",onClick:handleSAMLSignIn,disabled:loading,startIcon:loading?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(Security,null),sx:{py:1.5,fontSize:"1.1rem",fontWeight:500,textTransform:"none",borderRadius:2,boxShadow:2,bgcolor:"secondary.main","&:hover":{boxShadow:4,bgcolor:"secondary.dark"}}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_SAML.button_text",defaultMessage:"Sign in with {title}",values:{title:config.title||config.providerId}})),(null===(_config$metadata=config.metadata)||void 0===_config$metadata?void 0:_config$metadata.issuer)&&react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block",textAlign:"center"}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_SAML.provider_info",defaultMessage:"SSO via {issuer}",values:{issuer:config.metadata.issuer}})))};const email_link_handler=function EmailLinkHandler(){var _useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),processing=_useState2[0],setProcessing=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),isSignInLink=_useState4[0],setIsSignInLink=_useState4[1],auth=auth_hooks_useAuth().auth,history=react_router_useHistory(),formatMessage=useIntl().formatMessage;return(0,react.useEffect)(function(){var handleEmailLink=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var currentUrl,email,errorMessage,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(currentUrl=window.location.href,!auth||!isSignInWithEmailLink(0,currentUrl)){_context.next=7;break}if(setIsSignInLink(!0),setProcessing(!0),_context.prev=1,(email=window.localStorage.getItem("emailForSignIn"))||(email=window.prompt(formatMessage({id:"signin-methods.SIGNIN_METHOD_EMAIL.confirm_email"}))),!email){_context.next=3;break}return _context.next=2,signInWithEmailLink(auth,email,window.location.href);case 2:_context.sent,window.localStorage.removeItem("emailForSignIn"),history.replace("/"),_context.next=4;break;case 3:react_toastify_esm_Q.error(formatMessage({id:"signin-methods.SIGNIN_METHOD_EMAIL.no_email"})),setProcessing(!1),history.replace("/login");case 4:_context.next=6;break;case 5:_context.prev=5,_t=_context.catch(1),errorMessage=(null==_t?void 0:_t.code)||_t.message||"Failed to sign in with email link",react_toastify_esm_Q.error("Sign-in failed: ".concat(errorMessage)),setProcessing(!1),history.replace("/login");case 6:_context.next=8;break;case 7:setIsSignInLink(!1),setProcessing(!1);case 8:case"end":return _context.stop()}},_callee,null,[[1,5]])}));return function handleEmailLink(){return _ref.apply(this,arguments)}}();auth&&handleEmailLink()},[auth,history,formatMessage]),auth&&isSignInLink&&processing?react.createElement(Container_Container,{component:"main",maxWidth:"sm"},react.createElement(material_Paper_Paper,{elevation:24,sx:{borderRadius:4,overflow:"hidden",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)"}},react.createElement(material_Box_Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:{xs:3,sm:4,md:5},minHeight:300,justifyContent:"center"}},react.createElement(material_CircularProgress_CircularProgress,{size:60,sx:{mb:3}}),react.createElement(material_Typography_Typography,{variant:"h5",textAlign:"center",sx:{mb:2,fontWeight:500}},react.createElement(message,{id:"signin-methods.SIGNIN_METHOD_EMAIL.processing_link"})),react.createElement(material_Typography_Typography,{variant:"body1",color:"text.secondary",textAlign:"center"},"Please wait while we sign you in...")))):null};var injectStylesIntoStyleTag=__webpack_require__(85072),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__(97825),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__(77659),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__(55056),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__(10540),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__(41113),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ReactToastify_min=__webpack_require__(9112),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ReactToastify_min.A,options);ReactToastify_min.A&&ReactToastify_min.A.locals&&ReactToastify_min.A.locals;var login_excluded=["children","value","index"];function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=_objectWithoutProperties(props,login_excluded);return react.createElement("div",extends_extends({role:"tabpanel",hidden:value!==index,id:"simple-tabpanel-".concat(index),"aria-labelledby":"simple-tab-".concat(index)},other),value===index&&react.createElement(material_Box_Box,{sx:{pt:3}},children))}const login=function(){var _config$webappConfig,_config$webappConfig2,_config$webappConfig3,_useState2=slicedToArray_slicedToArray((0,react.useState)(0),2),currentSignin=_useState2[0],setCurrentSignin=_useState2[1],config=app_hooks_useApp().config,authError=auth_hooks_useAuth().authError,_useLicense=license_hooks_useLicense(),urlParams=(_useLicense.canUseAdvancedAuth,_useLicense.loading,new(url_search_params_default())(window.location.search)),isEmailLinkUrl=urlParams.has("apiKey")&&urlParams.has("oobCode")&&"signIn"===urlParams.get("mode"),_useDetectedSigninMet=function useDetectedSigninMethods(){var _useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),detectedMethods=_useState2[0],setDetectedMethods=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState6[0],setError=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),autoDetected=_useState8[0],setAutoDetected=_useState8[1],auth=auth_hooks_useAuth().auth,fetchDetectedMethods=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(isMounted){var data,errorMessage,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(isMounted()){_context.next=1;break}return _context.abrupt("return");case 1:return setLoading(!0),setError(null),_context.prev=2,_context.next=3,apiGet(auth,"/api/auth/detected-signin-methods");case 3:if(data=_context.sent,isMounted()){_context.next=4;break}return _context.abrupt("return");case 4:setDetectedMethods(data.detectedMethods||[]),setAutoDetected(data.autoDetected||!1),_context.next=7;break;case 5:if(_context.prev=5,_t=_context.catch(2),isMounted()){_context.next=6;break}return _context.abrupt("return");case 6:errorMessage=_t instanceof Error?_t.message:"Failed to fetch detected signin methods",console.error("Error fetching detected signin methods:",errorMessage),setError(errorMessage),setDetectedMethods([]),setAutoDetected(!1);case 7:return _context.prev=7,isMounted()&&setLoading(!1),_context.finish(7);case 8:case"end":return _context.stop()}},_callee,null,[[2,5,7,8]])}));return function fetchDetectedMethods(_x){return _ref.apply(this,arguments)}}();return(0,react.useEffect)(function(){var mounted=!0;return fetchDetectedMethods(function(){return mounted}),function(){mounted=!1}},[]),{detectedMethods,loading,error,autoDetected,refetch:function refetch(){fetchDetectedMethods(function(){return!0})}}}(),detectedMethods=_useDetectedSigninMet.detectedMethods,detectingMethods=_useDetectedSigninMet.loading,intl=useIntl(),theme=styles_useTheme_useTheme(),signinMethods=detectingMethods?[]:detectedMethods,hasFirebaseConfigError=authError&&(includes_default()(authError).call(authError,"No Firebase App")||includes_default()(authError).call(authError,"Firebase App named")||includes_default()(authError).call(authError,"auth/configuration-not-found")||includes_default()(authError).call(authError,"auth/api-key-not-valid")||includes_default()(authError).call(authError,"auth/invalid-api-key")||includes_default()(authError).call(authError,"auth/project-not-found")||!(null!=config&&null!==(_config$webappConfig=config.webappConfig)&&void 0!==_config$webappConfig&&_config$webappConfig.apiKey)||!(null!=config&&null!==(_config$webappConfig2=config.webappConfig)&&void 0!==_config$webappConfig2&&_config$webappConfig2.authDomain)||!(null!=config&&null!==(_config$webappConfig3=config.webappConfig)&&void 0!==_config$webappConfig3&&_config$webappConfig3.projectId)),noSigninMethods=0===signinMethods.length&&!detectingMethods;return react.createElement(react.Fragment,null,react.createElement(material_Box_Box,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#2C3E50",p:2}},react.createElement(CssBaseline_CssBaseline,null),react.createElement(email_link_handler,null),!isEmailLinkUrl&&react.createElement(Container_Container,{component:"main",maxWidth:"sm"},react.createElement(material_Paper_Paper,{elevation:24,sx:{borderRadius:4,overflow:"hidden",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)"}},react.createElement(material_Box_Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:{xs:3,sm:4,md:5}}},react.createElement(Avatar_Avatar,{sx:{m:1,bgcolor:"primary.main",width:56,height:56,boxShadow:theme.shadows[8]}},react.createElement(LockOutlined.A,{sx:{fontSize:30}})),react.createElement(material_Typography_Typography,{component:"h1",variant:"h4",sx:{mt:2,mb:3,fontWeight:500,color:"text.primary",textAlign:"center"}},react.createElement(message,{id:"login.title"})),hasFirebaseConfigError&&react.createElement(Alert_Alert,{severity:"error",sx:{mb:3,"& .MuiAlert-message":{width:"100%"}}},react.createElement(material_Typography_Typography,{variant:"body2",sx:{fontWeight:500,mb:1}},react.createElement(message,{id:"login.firebase_config_error_title",defaultMessage:"Firebase Authentication Not Configured"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},react.createElement(message,{id:"login.firebase_config_error_message",defaultMessage:"Firebase Authentication is not properly set up for this project. Please check that your Firebase project has Authentication enabled and the configuration is correct."})),authError&&react.createElement(material_Typography_Typography,{variant:"caption",sx:{mt:1,display:"block",fontFamily:"monospace"}},"Error: ",authError)),!hasFirebaseConfigError&&detectingMethods&&react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:3,py:3}},react.createElement(material_CircularProgress_CircularProgress,{size:32,sx:{mr:2}}),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},react.createElement(message,{id:"login.detecting_signin_methods",defaultMessage:"Detecting available sign-in methods..."}))),!hasFirebaseConfigError&&noSigninMethods&&react.createElement(Alert_Alert,{severity:"warning",sx:{mb:3,"& .MuiAlert-message":{width:"100%"}}},react.createElement(material_Typography_Typography,{variant:"body2",sx:{fontWeight:500,mb:1}},react.createElement(message,{id:"login.no_signin_methods_title",defaultMessage:"No Sign-in Methods Available"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},react.createElement(message,{id:"login.no_signin_methods_message",defaultMessage:"No sign-in methods are available. Please contact your administrator to set up Firebase Authentication."}))),react.createElement(material_Box_Box,{sx:{width:"100%",maxWidth:400}},!hasFirebaseConfigError&&signinMethods.length>1?react.createElement(react.Fragment,null,react.createElement(material_Box_Box,{sx:{borderBottom:1,borderColor:"divider",mb:1}},react.createElement(Tabs_Tabs,{value:currentSignin,onChange:function changeTab(_,value){setCurrentSignin(value)},"aria-label":"Select sign-in method",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:500,fontSize:"1rem",minWidth:"auto",px:2},"& .MuiTabs-scrollButtons":{"&:first-of-type":{display:"flex"},"&:last-of-type":{display:"flex"}}}},map_default()(signinMethods).call(signinMethods,function(s,i){return react.createElement(Tab_Tab,{key:i,label:intl.formatMessage({id:"signin-methods.".concat(s.type,".tab_title")})})}))),map_default()(signinMethods).call(signinMethods,function(s,i){return react.createElement(TabPanel,{key:i,index:i,value:currentSignin},react.createElement(SigninMethod,{config:s}))})):!hasFirebaseConfigError&&signinMethods.length?react.createElement(material_Box_Box,{sx:{pt:1}},react.createElement(SigninMethod,{config:signinMethods[0]})):null))))),react.createElement(react_toastify_esm_k,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}))};var SigninMethod=function SigninMethod(_ref){var config=_ref.config;switch(config.type){case"SIGNIN_METHOD_EMAIL":return react.createElement(email,{config});case"SIGNIN_METHOD_GOOGLE":return react.createElement(signin_methods_google,{config});case"SIGNIN_METHOD_MICROSOFT":return react.createElement(microsoft,{config});case"SIGNIN_METHOD_GITHUB":return react.createElement(github,{config});case"SIGNIN_METHOD_FACEBOOK":return react.createElement(facebook,{config});case"SIGNIN_METHOD_APPLE":return react.createElement(apple,{config});case"SIGNIN_METHOD_PHONE":return react.createElement(phone,{config});case"SIGNIN_METHOD_OIDC":return react.createElement(oidc,{config});case"SIGNIN_METHOD_SAML":return react.createElement(saml,{config});default:return null}},breakpoints=__webpack_require__(89452);const Grid_GridContext=react.createContext();function getGridUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiGrid",slot)}const GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=(0,generateUtilityClasses.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(spacing=>`spacing-xs-${spacing}`),...["column-reverse","column","row-reverse","row"].map(direction=>`direction-xs-${direction}`),...["nowrap","wrap-reverse","wrap"].map(wrap=>`wrap-xs-${wrap}`),...GRID_SIZES.map(size=>`grid-xs-${size}`),...GRID_SIZES.map(size=>`grid-sm-${size}`),...GRID_SIZES.map(size=>`grid-md-${size}`),...GRID_SIZES.map(size=>`grid-lg-${size}`),...GRID_SIZES.map(size=>`grid-xl-${size}`)]),Grid_gridClasses=gridClasses,Grid_excluded=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(val){const parse=parseFloat(val);return`${parse}${String(val).replace(String(parse),"")||"px"}`}function extractZeroValueBreakpointKeys({breakpoints,values}){let nonZeroKey="";Object.keys(values).forEach(key=>{""===nonZeroKey&&0!==values[key]&&(nonZeroKey=key)});const sortedBreakpointKeysByValue=Object.keys(breakpoints).sort((a,b)=>breakpoints[a]-breakpoints[b]);return sortedBreakpointKeysByValue.slice(0,sortedBreakpointKeysByValue.indexOf(nonZeroKey))}const GridRoot=(0,styled.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props,{container,direction,item,spacing,wrap,zeroMinWidth,breakpoints}=ownerState;let spacingStyles=[];container&&(spacingStyles=function resolveSpacingStyles(spacing,breakpoints,styles={}){if(!spacing||spacing<=0)return[];if("string"==typeof spacing&&!Number.isNaN(Number(spacing))||"number"==typeof spacing)return[styles[`spacing-xs-${String(spacing)}`]];const spacingStyles=[];return breakpoints.forEach(breakpoint=>{const value=spacing[breakpoint];Number(value)>0&&spacingStyles.push(styles[`spacing-${breakpoint}-${String(value)}`])}),spacingStyles}(spacing,breakpoints,styles));const breakpointsStyles=[];return breakpoints.forEach(breakpoint=>{const value=ownerState[breakpoint];value&&breakpointsStyles.push(styles[`grid-${breakpoint}-${String(value)}`])}),[styles.root,container&&styles.container,item&&styles.item,zeroMinWidth&&styles.zeroMinWidth,...spacingStyles,"row"!==direction&&styles[`direction-xs-${String(direction)}`],"wrap"!==wrap&&styles[`wrap-xs-${String(wrap)}`],...breakpointsStyles]}})(({ownerState})=>(0,esm_extends.A)({boxSizing:"border-box"},ownerState.container&&{display:"flex",flexWrap:"wrap",width:"100%"},ownerState.item&&{margin:0},ownerState.zeroMinWidth&&{minWidth:0},"wrap"!==ownerState.wrap&&{flexWrap:ownerState.wrap}),function generateDirection({theme,ownerState}){const directionValues=(0,breakpoints.kW)({values:ownerState.direction,breakpoints:theme.breakpoints.values});return(0,breakpoints.NI)({theme},directionValues,propValue=>{const output={flexDirection:propValue};return 0===propValue.indexOf("column")&&(output[`& > .${Grid_gridClasses.item}`]={maxWidth:"none"}),output})},function generateRowGap({theme,ownerState}){const{container,rowSpacing}=ownerState;let styles={};if(container&&0!==rowSpacing){const rowSpacingValues=(0,breakpoints.kW)({values:rowSpacing,breakpoints:theme.breakpoints.values});let zeroValueBreakpointKeys;"object"==typeof rowSpacingValues&&(zeroValueBreakpointKeys=extractZeroValueBreakpointKeys({breakpoints:theme.breakpoints.values,values:rowSpacingValues})),styles=(0,breakpoints.NI)({theme},rowSpacingValues,(propValue,breakpoint)=>{var _zeroValueBreakpointK;const themeSpacing=theme.spacing(propValue);return"0px"!==themeSpacing?{marginTop:`-${getOffset(themeSpacing)}`,[`& > .${Grid_gridClasses.item}`]:{paddingTop:getOffset(themeSpacing)}}:null!=(_zeroValueBreakpointK=zeroValueBreakpointKeys)&&_zeroValueBreakpointK.includes(breakpoint)?{}:{marginTop:0,[`& > .${Grid_gridClasses.item}`]:{paddingTop:0}}})}return styles},function generateColumnGap({theme,ownerState}){const{container,columnSpacing}=ownerState;let styles={};if(container&&0!==columnSpacing){const columnSpacingValues=(0,breakpoints.kW)({values:columnSpacing,breakpoints:theme.breakpoints.values});let zeroValueBreakpointKeys;"object"==typeof columnSpacingValues&&(zeroValueBreakpointKeys=extractZeroValueBreakpointKeys({breakpoints:theme.breakpoints.values,values:columnSpacingValues})),styles=(0,breakpoints.NI)({theme},columnSpacingValues,(propValue,breakpoint)=>{var _zeroValueBreakpointK2;const themeSpacing=theme.spacing(propValue);return"0px"!==themeSpacing?{width:`calc(100% + ${getOffset(themeSpacing)})`,marginLeft:`-${getOffset(themeSpacing)}`,[`& > .${Grid_gridClasses.item}`]:{paddingLeft:getOffset(themeSpacing)}}:null!=(_zeroValueBreakpointK2=zeroValueBreakpointKeys)&&_zeroValueBreakpointK2.includes(breakpoint)?{}:{width:"100%",marginLeft:0,[`& > .${Grid_gridClasses.item}`]:{paddingLeft:0}}})}return styles},function generateGrid({theme,ownerState}){let size;return theme.breakpoints.keys.reduce((globalStyles,breakpoint)=>{let styles={};if(ownerState[breakpoint]&&(size=ownerState[breakpoint]),!size)return globalStyles;if(!0===size)styles={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===size)styles={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const columnsBreakpointValues=(0,breakpoints.kW)({values:ownerState.columns,breakpoints:theme.breakpoints.values}),columnValue="object"==typeof columnsBreakpointValues?columnsBreakpointValues[breakpoint]:columnsBreakpointValues;if(null==columnValue)return globalStyles;const width=Math.round(size/columnValue*1e8)/1e6+"%";let more={};if(ownerState.container&&ownerState.item&&0!==ownerState.columnSpacing){const themeSpacing=theme.spacing(ownerState.columnSpacing);if("0px"!==themeSpacing){const fullWidth=`calc(${width} + ${getOffset(themeSpacing)})`;more={flexBasis:fullWidth,maxWidth:fullWidth}}}styles=(0,esm_extends.A)({flexBasis:width,flexGrow:0,maxWidth:width},more)}return 0===theme.breakpoints.values[breakpoint]?Object.assign(globalStyles,styles):globalStyles[theme.breakpoints.up(breakpoint)]=styles,globalStyles},{})});const Grid_useUtilityClasses=ownerState=>{const{classes,container,direction,item,spacing,wrap,zeroMinWidth,breakpoints}=ownerState;let spacingClasses=[];container&&(spacingClasses=function resolveSpacingClasses(spacing,breakpoints){if(!spacing||spacing<=0)return[];if("string"==typeof spacing&&!Number.isNaN(Number(spacing))||"number"==typeof spacing)return[`spacing-xs-${String(spacing)}`];const classes=[];return breakpoints.forEach(breakpoint=>{const value=spacing[breakpoint];if(Number(value)>0){const className=`spacing-${breakpoint}-${String(value)}`;classes.push(className)}}),classes}(spacing,breakpoints));const breakpointsClasses=[];breakpoints.forEach(breakpoint=>{const value=ownerState[breakpoint];value&&breakpointsClasses.push(`grid-${breakpoint}-${String(value)}`)});const slots={root:["root",container&&"container",item&&"item",zeroMinWidth&&"zeroMinWidth",...spacingClasses,"row"!==direction&&`direction-xs-${String(direction)}`,"wrap"!==wrap&&`wrap-xs-${String(wrap)}`,...breakpointsClasses]};return(0,composeClasses.A)(slots,getGridUtilityClass,classes)},Grid=react.forwardRef(function Grid(inProps,ref){const themeProps=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiGrid"}),{breakpoints}=styles_useTheme_useTheme(),props=(0,extendSxProp.A)(themeProps),{className,columns:columnsProp,columnSpacing:columnSpacingProp,component="div",container=!1,direction="row",item=!1,rowSpacing:rowSpacingProp,spacing=0,wrap="wrap",zeroMinWidth=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Grid_excluded),rowSpacing=rowSpacingProp||spacing,columnSpacing=columnSpacingProp||spacing,columnsContext=react.useContext(Grid_GridContext),columns=container?columnsProp||12:columnsContext,breakpointsValues={},otherFiltered=(0,esm_extends.A)({},other);breakpoints.keys.forEach(breakpoint=>{null!=other[breakpoint]&&(breakpointsValues[breakpoint]=other[breakpoint],delete otherFiltered[breakpoint])});const ownerState=(0,esm_extends.A)({},props,{columns,container,direction,item,rowSpacing,columnSpacing,wrap,zeroMinWidth,spacing},breakpointsValues,{breakpoints:breakpoints.keys}),classes=Grid_useUtilityClasses(ownerState);return(0,jsx_runtime.jsx)(Grid_GridContext.Provider,{value:columns,children:(0,jsx_runtime.jsx)(GridRoot,(0,esm_extends.A)({ownerState,className:(0,clsx.A)(classes.root,className),as:component,ref},otherFiltered))})});const Grid_Grid=Grid;function getCardUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCard",slot)}(0,generateUtilityClasses.A)("MuiCard",["root"]);const Card_excluded=["className","raised"],CardRoot=(0,styled.Ay)(material_Paper_Paper,{name:"MuiCard",slot:"Root",overridesResolver:(props,styles)=>styles.root})(()=>({overflow:"hidden"})),Card=react.forwardRef(function Card(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCard"}),{className,raised=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Card_excluded),ownerState=(0,esm_extends.A)({},props,{raised}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getCardUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(CardRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),elevation:raised?8:void 0,ref,ownerState},other))}),Card_Card=Card;function getCardContentUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCardContent",slot)}(0,generateUtilityClasses.A)("MuiCardContent",["root"]);const CardContent_excluded=["className","component"],CardContentRoot=(0,styled.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(props,styles)=>styles.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),CardContent=react.forwardRef(function CardContent(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCardContent"}),{className,component="div"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,CardContent_excluded),ownerState=(0,esm_extends.A)({},props,{component}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getCardContentUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(CardContentRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),ownerState,ref},other))}),CardContent_CardContent=CardContent,Cancel=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiChip",slot)}const Chip_chipClasses=(0,generateUtilityClasses.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Chip_excluded=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],ChipRoot=(0,styled.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props,{color,iconColor,clickable,onDelete,size,variant}=ownerState;return[{[`& .${Chip_chipClasses.avatar}`]:styles.avatar},{[`& .${Chip_chipClasses.avatar}`]:styles[`avatar${(0,capitalize.A)(size)}`]},{[`& .${Chip_chipClasses.avatar}`]:styles[`avatarColor${(0,capitalize.A)(color)}`]},{[`& .${Chip_chipClasses.icon}`]:styles.icon},{[`& .${Chip_chipClasses.icon}`]:styles[`icon${(0,capitalize.A)(size)}`]},{[`& .${Chip_chipClasses.icon}`]:styles[`iconColor${(0,capitalize.A)(iconColor)}`]},{[`& .${Chip_chipClasses.deleteIcon}`]:styles.deleteIcon},{[`& .${Chip_chipClasses.deleteIcon}`]:styles[`deleteIcon${(0,capitalize.A)(size)}`]},{[`& .${Chip_chipClasses.deleteIcon}`]:styles[`deleteIconColor${(0,capitalize.A)(color)}`]},{[`& .${Chip_chipClasses.deleteIcon}`]:styles[`deleteIcon${(0,capitalize.A)(variant)}Color${(0,capitalize.A)(color)}`]},styles.root,styles[`size${(0,capitalize.A)(size)}`],styles[`color${(0,capitalize.A)(color)}`],clickable&&styles.clickable,clickable&&"default"!==color&&styles[`clickableColor${(0,capitalize.A)(color)})`],onDelete&&styles.deletable,onDelete&&"default"!==color&&styles[`deletableColor${(0,capitalize.A)(color)}`],styles[variant],styles[`${variant}${(0,capitalize.A)(color)}`]]}})(({theme,ownerState})=>{const textColor="light"===theme.palette.mode?theme.palette.grey[700]:theme.palette.grey[300];return(0,esm_extends.A)({maxWidth:"100%",fontFamily:theme.typography.fontFamily,fontSize:theme.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(theme.vars||theme).palette.text.primary,backgroundColor:(theme.vars||theme).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:theme.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Chip_chipClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Chip_chipClasses.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:theme.vars?theme.vars.palette.Chip.defaultAvatarColor:textColor,fontSize:theme.typography.pxToRem(12)},[`& .${Chip_chipClasses.avatarColorPrimary}`]:{color:(theme.vars||theme).palette.primary.contrastText,backgroundColor:(theme.vars||theme).palette.primary.dark},[`& .${Chip_chipClasses.avatarColorSecondary}`]:{color:(theme.vars||theme).palette.secondary.contrastText,backgroundColor:(theme.vars||theme).palette.secondary.dark},[`& .${Chip_chipClasses.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:theme.typography.pxToRem(10)},[`& .${Chip_chipClasses.icon}`]:(0,esm_extends.A)({marginLeft:5,marginRight:-6},"small"===ownerState.size&&{fontSize:18,marginLeft:4,marginRight:-4},ownerState.iconColor===ownerState.color&&(0,esm_extends.A)({color:theme.vars?theme.vars.palette.Chip.defaultIconColor:textColor},"default"!==ownerState.color&&{color:"inherit"})),[`& .${Chip_chipClasses.deleteIcon}`]:(0,esm_extends.A)({WebkitTapHighlightColor:"transparent",color:theme.vars?`rgba(${theme.vars.palette.text.primaryChannel} / 0.26)`:(0,colorManipulator.X4)(theme.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:theme.vars?`rgba(${theme.vars.palette.text.primaryChannel} / 0.4)`:(0,colorManipulator.X4)(theme.palette.text.primary,.4)}},"small"===ownerState.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==ownerState.color&&{color:theme.vars?`rgba(${theme.vars.palette[ownerState.color].contrastTextChannel} / 0.7)`:(0,colorManipulator.X4)(theme.palette[ownerState.color].contrastText,.7),"&:hover, &:active":{color:(theme.vars||theme).palette[ownerState.color].contrastText}})},"small"===ownerState.size&&{height:24},"default"!==ownerState.color&&{backgroundColor:(theme.vars||theme).palette[ownerState.color].main,color:(theme.vars||theme).palette[ownerState.color].contrastText},ownerState.onDelete&&{[`&.${Chip_chipClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.action.selectedChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`:(0,colorManipulator.X4)(theme.palette.action.selected,theme.palette.action.selectedOpacity+theme.palette.action.focusOpacity)}},ownerState.onDelete&&"default"!==ownerState.color&&{[`&.${Chip_chipClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette[ownerState.color].dark}})},({theme,ownerState})=>(0,esm_extends.A)({},ownerState.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.action.selectedChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:(0,colorManipulator.X4)(theme.palette.action.selected,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity)},[`&.${Chip_chipClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.action.selectedChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`:(0,colorManipulator.X4)(theme.palette.action.selected,theme.palette.action.selectedOpacity+theme.palette.action.focusOpacity)},"&:active":{boxShadow:(theme.vars||theme).shadows[1]}},ownerState.clickable&&"default"!==ownerState.color&&{[`&:hover, &.${Chip_chipClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette[ownerState.color].dark}}),({theme,ownerState})=>(0,esm_extends.A)({},"outlined"===ownerState.variant&&{backgroundColor:"transparent",border:theme.vars?`1px solid ${theme.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===theme.palette.mode?theme.palette.grey[400]:theme.palette.grey[700]}`,[`&.${Chip_chipClasses.clickable}:hover`]:{backgroundColor:(theme.vars||theme).palette.action.hover},[`&.${Chip_chipClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette.action.focus},[`& .${Chip_chipClasses.avatar}`]:{marginLeft:4},[`& .${Chip_chipClasses.avatarSmall}`]:{marginLeft:2},[`& .${Chip_chipClasses.icon}`]:{marginLeft:4},[`& .${Chip_chipClasses.iconSmall}`]:{marginLeft:2},[`& .${Chip_chipClasses.deleteIcon}`]:{marginRight:5},[`& .${Chip_chipClasses.deleteIconSmall}`]:{marginRight:3}},"outlined"===ownerState.variant&&"default"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main,border:`1px solid ${theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.7)`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,.7)}`,[`&.${Chip_chipClasses.clickable}:hover`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,theme.palette.action.hoverOpacity)},[`&.${Chip_chipClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.focusOpacity})`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,theme.palette.action.focusOpacity)},[`& .${Chip_chipClasses.deleteIcon}`]:{color:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.7)`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,.7),"&:hover, &:active":{color:(theme.vars||theme).palette[ownerState.color].main}}})),ChipLabel=(0,styled.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(props,styles)=>{const{ownerState}=props,{size}=ownerState;return[styles.label,styles[`label${(0,capitalize.A)(size)}`]]}})(({ownerState})=>(0,esm_extends.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===ownerState.variant&&{paddingLeft:11,paddingRight:11},"small"===ownerState.size&&{paddingLeft:8,paddingRight:8},"small"===ownerState.size&&"outlined"===ownerState.variant&&{paddingLeft:7,paddingRight:7}));function isDeleteKeyboardEvent(keyboardEvent){return"Backspace"===keyboardEvent.key||"Delete"===keyboardEvent.key}const Chip_Chip=react.forwardRef(function Chip(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiChip"}),{avatar:avatarProp,className,clickable:clickableProp,color="default",component:ComponentProp,deleteIcon:deleteIconProp,disabled=!1,icon:iconProp,label,onClick,onDelete,onKeyDown,onKeyUp,size="medium",variant="filled",tabIndex,skipFocusWhenDisabled=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Chip_excluded),chipRef=react.useRef(null),handleRef=(0,utils_useForkRef.A)(chipRef,ref),handleDeleteIconClick=event=>{event.stopPropagation(),onDelete&&onDelete(event)},clickable=!(!1===clickableProp||!onClick)||clickableProp,component=clickable||onDelete?ButtonBase_ButtonBase:ComponentProp||"div",ownerState=(0,esm_extends.A)({},props,{component,disabled,size,color,iconColor:react.isValidElement(iconProp)&&iconProp.props.color||color,onDelete:!!onDelete,clickable,variant}),classes=(ownerState=>{const{classes,disabled,size,color,iconColor,onDelete,clickable,variant}=ownerState,slots={root:["root",variant,disabled&&"disabled",`size${(0,capitalize.A)(size)}`,`color${(0,capitalize.A)(color)}`,clickable&&"clickable",clickable&&`clickableColor${(0,capitalize.A)(color)}`,onDelete&&"deletable",onDelete&&`deletableColor${(0,capitalize.A)(color)}`,`${variant}${(0,capitalize.A)(color)}`],label:["label",`label${(0,capitalize.A)(size)}`],avatar:["avatar",`avatar${(0,capitalize.A)(size)}`,`avatarColor${(0,capitalize.A)(color)}`],icon:["icon",`icon${(0,capitalize.A)(size)}`,`iconColor${(0,capitalize.A)(iconColor)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,capitalize.A)(size)}`,`deleteIconColor${(0,capitalize.A)(color)}`,`deleteIcon${(0,capitalize.A)(variant)}Color${(0,capitalize.A)(color)}`]};return(0,composeClasses.A)(slots,getChipUtilityClass,classes)})(ownerState),moreProps=component===ButtonBase_ButtonBase?(0,esm_extends.A)({component:ComponentProp||"div",focusVisibleClassName:classes.focusVisible},onDelete&&{disableRipple:!0}):{};let deleteIcon=null;onDelete&&(deleteIcon=deleteIconProp&&react.isValidElement(deleteIconProp)?react.cloneElement(deleteIconProp,{className:(0,clsx.A)(deleteIconProp.props.className,classes.deleteIcon),onClick:handleDeleteIconClick}):(0,jsx_runtime.jsx)(Cancel,{className:(0,clsx.A)(classes.deleteIcon),onClick:handleDeleteIconClick}));let avatar=null;avatarProp&&react.isValidElement(avatarProp)&&(avatar=react.cloneElement(avatarProp,{className:(0,clsx.A)(classes.avatar,avatarProp.props.className)}));let icon=null;return iconProp&&react.isValidElement(iconProp)&&(icon=react.cloneElement(iconProp,{className:(0,clsx.A)(classes.icon,iconProp.props.className)})),(0,jsx_runtime.jsxs)(ChipRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),disabled:!(!clickable||!disabled)||void 0,onClick,onKeyDown:event=>{event.currentTarget===event.target&&isDeleteKeyboardEvent(event)&&event.preventDefault(),onKeyDown&&onKeyDown(event)},onKeyUp:event=>{event.currentTarget===event.target&&(onDelete&&isDeleteKeyboardEvent(event)?onDelete(event):"Escape"===event.key&&chipRef.current&&chipRef.current.blur()),onKeyUp&&onKeyUp(event)},ref:handleRef,tabIndex:skipFocusWhenDisabled&&disabled?-1:tabIndex,ownerState},moreProps,other,{children:[avatar||icon,(0,jsx_runtime.jsx)(ChipLabel,{className:(0,clsx.A)(classes.label),ownerState,children:label}),deleteIcon]}))}),material_Chip_Chip=Chip_Chip,Divider_excluded=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],DividerRoot=(0,styled.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.absolute&&styles.absolute,styles[ownerState.variant],ownerState.light&&styles.light,"vertical"===ownerState.orientation&&styles.vertical,ownerState.flexItem&&styles.flexItem,ownerState.children&&styles.withChildren,ownerState.children&&"vertical"===ownerState.orientation&&styles.withChildrenVertical,"right"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&styles.textAlignRight,"left"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&styles.textAlignLeft]}})(({theme,ownerState})=>(0,esm_extends.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(theme.vars||theme).palette.divider,borderBottomWidth:"thin"},ownerState.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},ownerState.light&&{borderColor:theme.vars?`rgba(${theme.vars.palette.dividerChannel} / 0.08)`:(0,colorManipulator.X4)(theme.palette.divider,.08)},"inset"===ownerState.variant&&{marginLeft:72},"middle"===ownerState.variant&&"horizontal"===ownerState.orientation&&{marginLeft:theme.spacing(2),marginRight:theme.spacing(2)},"middle"===ownerState.variant&&"vertical"===ownerState.orientation&&{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)},"vertical"===ownerState.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},ownerState.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState})=>(0,esm_extends.A)({},ownerState.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme,ownerState})=>(0,esm_extends.A)({},ownerState.children&&"vertical"!==ownerState.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(theme.vars||theme).palette.divider}`,borderTopStyle:"inherit"}}),({theme,ownerState})=>(0,esm_extends.A)({},ownerState.children&&"vertical"===ownerState.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(theme.vars||theme).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState})=>(0,esm_extends.A)({},"right"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=(0,styled.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.wrapper,"vertical"===ownerState.orientation&&styles.wrapperVertical]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"inline-block",paddingLeft:`calc(${theme.spacing(1)} * 1.2)`,paddingRight:`calc(${theme.spacing(1)} * 1.2)`},"vertical"===ownerState.orientation&&{paddingTop:`calc(${theme.spacing(1)} * 1.2)`,paddingBottom:`calc(${theme.spacing(1)} * 1.2)`})),Divider=react.forwardRef(function Divider(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiDivider"}),{absolute=!1,children,className,component=children?"div":"hr",flexItem=!1,light=!1,orientation="horizontal",role="hr"!==component?"separator":void 0,textAlign="center",variant="fullWidth"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Divider_excluded),ownerState=(0,esm_extends.A)({},props,{absolute,component,flexItem,light,orientation,role,textAlign,variant}),classes=(ownerState=>{const{absolute,children,classes,flexItem,light,orientation,textAlign,variant}=ownerState,slots={root:["root",absolute&&"absolute",variant,light&&"light","vertical"===orientation&&"vertical",flexItem&&"flexItem",children&&"withChildren",children&&"vertical"===orientation&&"withChildrenVertical","right"===textAlign&&"vertical"!==orientation&&"textAlignRight","left"===textAlign&&"vertical"!==orientation&&"textAlignLeft"],wrapper:["wrapper","vertical"===orientation&&"wrapperVertical"]};return(0,composeClasses.A)(slots,getDividerUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(DividerRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),role,ref,ownerState},other,{children:children?(0,jsx_runtime.jsx)(DividerWrapper,{className:classes.wrapper,ownerState,children}):null}))});Divider.muiSkipListHighlight=!0;const Divider_Divider=Divider;const Snackbar_useSnackbar=function useSnackbar(parameters={}){const{autoHideDuration=null,disableWindowBlurListener=!1,onClose,open,resumeHideDuration}=parameters,timerAutoHide=(0,useTimeout.A)();react.useEffect(()=>{if(open)return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)};function handleKeyDown(nativeEvent){nativeEvent.defaultPrevented||"Escape"!==nativeEvent.key&&"Esc"!==nativeEvent.key||null==onClose||onClose(nativeEvent,"escapeKeyDown")}},[open,onClose]);const handleClose=(0,useEventCallback_useEventCallback.A)((event,reason)=>{null==onClose||onClose(event,reason)}),setAutoHideTimer=(0,useEventCallback_useEventCallback.A)(autoHideDurationParam=>{onClose&&null!=autoHideDurationParam&&timerAutoHide.start(autoHideDurationParam,()=>{handleClose(null,"timeout")})});react.useEffect(()=>(open&&setAutoHideTimer(autoHideDuration),timerAutoHide.clear),[open,autoHideDuration,setAutoHideTimer,timerAutoHide]);const handlePause=timerAutoHide.clear,handleResume=react.useCallback(()=>{null!=autoHideDuration&&setAutoHideTimer(null!=resumeHideDuration?resumeHideDuration:.5*autoHideDuration)},[autoHideDuration,resumeHideDuration,setAutoHideTimer]),createHandleFocus=otherHandlers=>event=>{const onFocusCallback=otherHandlers.onFocus;null==onFocusCallback||onFocusCallback(event),handlePause()},createMouseEnter=otherHandlers=>event=>{const onMouseEnterCallback=otherHandlers.onMouseEnter;null==onMouseEnterCallback||onMouseEnterCallback(event),handlePause()},createMouseLeave=otherHandlers=>event=>{const onMouseLeaveCallback=otherHandlers.onMouseLeave;null==onMouseLeaveCallback||onMouseLeaveCallback(event),handleResume()};return react.useEffect(()=>{if(!disableWindowBlurListener&&open)return window.addEventListener("focus",handleResume),window.addEventListener("blur",handlePause),()=>{window.removeEventListener("focus",handleResume),window.removeEventListener("blur",handlePause)}},[disableWindowBlurListener,open,handleResume,handlePause]),{getRootProps:(externalProps={})=>{const externalEventHandlers=(0,esm_extends.A)({},extractEventHandlers_extractEventHandlers(parameters),extractEventHandlers_extractEventHandlers(externalProps));return(0,esm_extends.A)({role:"presentation"},externalProps,externalEventHandlers,{onBlur:(otherHandlers=externalEventHandlers,event=>{const onBlurCallback=otherHandlers.onBlur;null==onBlurCallback||onBlurCallback(event),handleResume()}),onFocus:createHandleFocus(externalEventHandlers),onMouseEnter:createMouseEnter(externalEventHandlers),onMouseLeave:createMouseLeave(externalEventHandlers)});var otherHandlers},onClickAway:event=>{null==onClose||onClose(event,"clickaway")}}};function mapEventPropToEvent(eventProp){return eventProp.substring(2).toLowerCase()}function ClickAwayListener(props){const{children,disableReactTree=!1,mouseEvent="onClick",onClickAway,touchEvent="onTouchEnd"}=props,movedRef=react.useRef(!1),nodeRef=react.useRef(null),activatedRef=react.useRef(!1),syntheticEventRef=react.useRef(!1);react.useEffect(()=>(setTimeout(()=>{activatedRef.current=!0},0),()=>{activatedRef.current=!1}),[]);const handleRef=(0,useForkRef.A)(getReactElementRef(children),nodeRef),handleClickAway=(0,useEventCallback_useEventCallback.A)(event=>{const insideReactTree=syntheticEventRef.current;syntheticEventRef.current=!1;const doc=(0,ownerDocument_ownerDocument.A)(nodeRef.current);if(!activatedRef.current||!nodeRef.current||"clientX"in event&&function clickedRootScrollbar(event,doc){return doc.documentElement.clientWidth<event.clientX||doc.documentElement.clientHeight<event.clientY}(event,doc))return;if(movedRef.current)return void(movedRef.current=!1);let insideDOM;insideDOM=event.composedPath?event.composedPath().indexOf(nodeRef.current)>-1:!doc.documentElement.contains(event.target)||nodeRef.current.contains(event.target),insideDOM||!disableReactTree&&insideReactTree||onClickAway(event)}),createHandleSynthetic=handlerName=>event=>{syntheticEventRef.current=!0;const childrenPropsHandler=children.props[handlerName];childrenPropsHandler&&childrenPropsHandler(event)},childrenProps={ref:handleRef};return!1!==touchEvent&&(childrenProps[touchEvent]=createHandleSynthetic(touchEvent)),react.useEffect(()=>{if(!1!==touchEvent){const mappedTouchEvent=mapEventPropToEvent(touchEvent),doc=(0,ownerDocument_ownerDocument.A)(nodeRef.current),handleTouchMove=()=>{movedRef.current=!0};return doc.addEventListener(mappedTouchEvent,handleClickAway),doc.addEventListener("touchmove",handleTouchMove),()=>{doc.removeEventListener(mappedTouchEvent,handleClickAway),doc.removeEventListener("touchmove",handleTouchMove)}}},[handleClickAway,touchEvent]),!1!==mouseEvent&&(childrenProps[mouseEvent]=createHandleSynthetic(mouseEvent)),react.useEffect(()=>{if(!1!==mouseEvent){const mappedMouseEvent=mapEventPropToEvent(mouseEvent),doc=(0,ownerDocument_ownerDocument.A)(nodeRef.current);return doc.addEventListener(mappedMouseEvent,handleClickAway),()=>{doc.removeEventListener(mappedMouseEvent,handleClickAway)}}},[handleClickAway,mouseEvent]),(0,jsx_runtime.jsx)(react.Fragment,{children:react.cloneElement(children,childrenProps)})}function getSnackbarContentUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiSnackbarContent",slot)}(0,generateUtilityClasses.A)("MuiSnackbarContent",["root","message","action"]);const SnackbarContent_excluded=["action","className","message","role"],SnackbarContentRoot=(0,styled.Ay)(material_Paper_Paper,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(props,styles)=>styles.root})(({theme})=>{const emphasis="light"===theme.palette.mode?.8:.98,backgroundColor=(0,colorManipulator.tL)(theme.palette.background.default,emphasis);return(0,esm_extends.A)({},theme.typography.body2,{color:theme.vars?theme.vars.palette.SnackbarContent.color:theme.palette.getContrastText(backgroundColor),backgroundColor:theme.vars?theme.vars.palette.SnackbarContent.bg:backgroundColor,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(theme.vars||theme).shape.borderRadius,flexGrow:1,[theme.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),SnackbarContentMessage=(0,styled.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(props,styles)=>styles.message})({padding:"8px 0"}),SnackbarContentAction=(0,styled.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(props,styles)=>styles.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),SnackbarContent=react.forwardRef(function SnackbarContent(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiSnackbarContent"}),{action,className,message,role="alert"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,SnackbarContent_excluded),ownerState=props,classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"],action:["action"],message:["message"]},getSnackbarContentUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsxs)(SnackbarContentRoot,(0,esm_extends.A)({role,square:!0,elevation:6,className:(0,clsx.A)(classes.root,className),ownerState,ref},other,{children:[(0,jsx_runtime.jsx)(SnackbarContentMessage,{className:classes.message,ownerState,children:message}),action?(0,jsx_runtime.jsx)(SnackbarContentAction,{className:classes.action,ownerState,children:action}):null]}))}),SnackbarContent_SnackbarContent=SnackbarContent;function getSnackbarUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiSnackbar",slot)}(0,generateUtilityClasses.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Snackbar_excluded=["onEnter","onExited"],Snackbar_excluded2=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],SnackbarRoot=(0,styled.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`anchorOrigin${(0,capitalize.A)(ownerState.anchorOrigin.vertical)}${(0,capitalize.A)(ownerState.anchorOrigin.horizontal)}`]]}})(({theme,ownerState})=>(0,esm_extends.A)({zIndex:(theme.vars||theme).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===ownerState.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===ownerState.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===ownerState.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[theme.breakpoints.up("sm")]:(0,esm_extends.A)({},"top"===ownerState.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===ownerState.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===ownerState.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===ownerState.anchorOrigin.horizontal&&{right:24,left:"auto"})})),Snackbar=react.forwardRef(function Snackbar(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiSnackbar"}),theme=styles_useTheme_useTheme(),defaultTransitionDuration={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{action,anchorOrigin:{vertical,horizontal}={vertical:"bottom",horizontal:"left"},autoHideDuration=null,children,className,ClickAwayListenerProps,ContentProps,disableWindowBlurListener=!1,message,open,TransitionComponent=Grow_Grow,transitionDuration=defaultTransitionDuration,TransitionProps:{onEnter,onExited}={}}=props,TransitionProps=(0,objectWithoutPropertiesLoose.A)(props.TransitionProps,Snackbar_excluded),other=(0,objectWithoutPropertiesLoose.A)(props,Snackbar_excluded2),ownerState=(0,esm_extends.A)({},props,{anchorOrigin:{vertical,horizontal},autoHideDuration,disableWindowBlurListener,TransitionComponent,transitionDuration}),classes=(ownerState=>{const{classes,anchorOrigin}=ownerState,slots={root:["root",`anchorOrigin${(0,capitalize.A)(anchorOrigin.vertical)}${(0,capitalize.A)(anchorOrigin.horizontal)}`]};return(0,composeClasses.A)(slots,getSnackbarUtilityClass,classes)})(ownerState),{getRootProps,onClickAway}=Snackbar_useSnackbar((0,esm_extends.A)({},ownerState)),[exited,setExited]=react.useState(!0),rootProps=useSlotProps_useSlotProps({elementType:SnackbarRoot,getSlotProps:getRootProps,externalForwardedProps:other,ownerState,additionalProps:{ref},className:[classes.root,className]});return!open&&exited?null:(0,jsx_runtime.jsx)(ClickAwayListener,(0,esm_extends.A)({onClickAway},ClickAwayListenerProps,{children:(0,jsx_runtime.jsx)(SnackbarRoot,(0,esm_extends.A)({},rootProps,{children:(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({appear:!0,in:open,timeout:transitionDuration,direction:"top"===vertical?"down":"up",onEnter:(node,isAppearing)=>{setExited(!1),onEnter&&onEnter(node,isAppearing)},onExited:node=>{setExited(!0),onExited&&onExited(node)}},TransitionProps,{children:children||(0,jsx_runtime.jsx)(SnackbarContent_SnackbarContent,(0,esm_extends.A)({message,action},ContentProps))}))}))}))}),Snackbar_Snackbar=Snackbar,Badge=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),esm_Person=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");function profile_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function profile_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context3,_context4,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context3=profile_ownKeys(Object(t),!0)).call(_context3,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context4=profile_ownKeys(Object(t))).call(_context4,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}const profile=function Profile(){var _user$email,_user$email2,_user$providerData$,_useAuth=auth_hooks_useAuth(),user=_useAuth.user,formatMessage=(_useAuth.auth,useIntl().formatMessage),_useState2=slicedToArray_slicedToArray((0,react.useState)(""),2),displayName=_useState2[0],setDisplayName=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(""),2),photoURL=_useState4[0],setPhotoURL=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(""),2),email=_useState6[0],setEmail=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)({open:!1,message:"",severity:"success"}),2),notification=_useState8[0],setNotification=_useState8[1];(0,react.useEffect)(function(){user&&(setDisplayName(user.displayName||""),setPhotoURL(user.photoURL||""),setEmail(user.email||""))},[user]);var handleUpdateProfile=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(e){var _t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(e.preventDefault(),user){_context.next=1;break}return _context.abrupt("return");case 1:return _context.prev=1,_context.next=2,updateProfile(user,{displayName,photoURL});case 2:setNotification({open:!0,message:formatMessage({id:"profile.update_success"}),severity:"success"}),_context.next=4;break;case 3:_context.prev=3,_t=_context.catch(1),console.error("Error updating profile:",_t),setNotification({open:!0,message:formatMessage({id:"profile.update_error"}),severity:"error"});case 4:case"end":return _context.stop()}},_callee,null,[[1,3]])}));return function handleUpdateProfile(_x){return _ref.apply(this,arguments)}}(),handleCloseNotification=function handleCloseNotification(){setNotification(profile_objectSpread(profile_objectSpread({},notification),{},{open:!1}))};if(!user)return null;return react.createElement(material_Box_Box,{sx:{p:3,maxWidth:800,mx:"auto"}},react.createElement(Grid_Grid,{container:!0,spacing:3},react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(Card_Card,null,react.createElement(CardContent_CardContent,null,react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:3},react.createElement(Avatar_Avatar,{sx:{width:80,height:80,fontSize:"1.5rem",fontWeight:600},src:photoURL||(null==user?void 0:user.photoURL)||void 0},photoURL||null!=user&&user.photoURL||null==user||!user.displayName?null==user||null===(_user$email=user.email)||void 0===_user$email?void 0:_user$email.charAt(0).toUpperCase():function getUserInitials(name){var _context2;return map_default()(_context2=name.split(" ")).call(_context2,function(part){return part.charAt(0)}).join("").substring(0,2).toUpperCase()}(user.displayName)),react.createElement(material_Box_Box,{flex:1},react.createElement(material_Typography_Typography,{variant:"h5",sx:{fontWeight:600,mb:1}},(null==user?void 0:user.displayName)||(null==user||null===(_user$email2=user.email)||void 0===_user$email2?void 0:_user$email2.split("@")[0])||"User"),react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:1,mb:2},react.createElement(Email,{fontSize:"small",color:"action"}),react.createElement(material_Typography_Typography,{variant:"body1",color:"text.secondary"},null==user?void 0:user.email)),react.createElement(material_Box_Box,{display:"flex",gap:1},(null==user?void 0:user.emailVerified)&&react.createElement(material_Chip_Chip,{label:"Verified",size:"small",color:"success",variant:"outlined"}),react.createElement(material_Chip_Chip,{label:"google.com"===(null==user||null===(_user$providerData$=user.providerData[0])||void 0===_user$providerData$?void 0:_user$providerData$.providerId)?"Google":"Email",size:"small",variant:"outlined"}))))))),react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(Card_Card,null,react.createElement(CardContent_CardContent,null,react.createElement(material_Typography_Typography,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1}},react.createElement(Badge,{fontSize:"small"}),react.createElement(message,{id:"profile.edit_info",defaultMessage:"Edit Profile Information"})),react.createElement("form",{onSubmit:handleUpdateProfile},react.createElement(Grid_Grid,{container:!0,spacing:3},react.createElement(Grid_Grid,{item:!0,xs:12,md:6},react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"profile.display_name",defaultMessage:"Display Name"}),value:displayName,onChange:function onChange(e){return setDisplayName(e.target.value)},variant:"outlined",InputProps:{startAdornment:react.createElement(esm_Person,{sx:{color:"action.active",mr:1}})}})),react.createElement(Grid_Grid,{item:!0,xs:12,md:6},react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"profile.email",defaultMessage:"Email"}),value:email,disabled:!0,variant:"outlined",InputProps:{startAdornment:react.createElement(Email,{sx:{color:"action.active",mr:1}})},helperText:formatMessage({id:"profile.email_readonly",defaultMessage:"Email cannot be changed"})}))),react.createElement(Divider_Divider,{sx:{my:3}}),react.createElement(material_Box_Box,{display:"flex",justifyContent:"flex-end"},react.createElement(material_Button_Button,{type:"submit",variant:"contained",sx:{minWidth:120}},react.createElement(message,{id:"profile.save_button",defaultMessage:"Save Changes"})))))))),react.createElement(Snackbar_Snackbar,{open:notification.open,autoHideDuration:6e3,onClose:handleCloseNotification,anchorOrigin:{vertical:"bottom",horizontal:"center"}},react.createElement(Alert_Alert,{onClose:handleCloseNotification,severity:notification.severity,sx:{width:"100%"}},notification.message)))};var sort=__webpack_require__(129),sort_default=__webpack_require__.n(sort),flat_map=__webpack_require__(14069),flat_map_default=__webpack_require__.n(flat_map),useCanManageUsers=function useCanManageUsers(){var _useAuth4=auth_hooks_useAuth(),user=_useAuth4.user,isAuthenticated=_useAuth4.isAuthenticated,roles=roles_hooks_useRoles().roles,config=app_hooks_useApp().config;return(0,react.useMemo)(function(){return!(!user||!isAuthenticated)&&function canManageUsers(user,roles,ownerEmail){return permissions_hasPermission(user,"system:users","read",roles,ownerEmail)}(user,roles,null==config?void 0:config.ownerEmail)},[user,isAuthenticated,roles,null==config?void 0:config.ownerEmail])},useCanAccessAssets=function useCanAccessAssets(){var _useAuth5=auth_hooks_useAuth(),user=_useAuth5.user,isAuthenticated=_useAuth5.isAuthenticated,roles=roles_hooks_useRoles().roles,config=app_hooks_useApp().config;return(0,react.useMemo)(function(){return!(!user||!isAuthenticated)&&function canAccessAssets(user,roles,ownerEmail){return permissions_hasPermission(user,"system:assets","read",roles,ownerEmail)}(user,roles,null==config?void 0:config.ownerEmail)},[user,isAuthenticated,roles,null==config?void 0:config.ownerEmail])},useCanAccessSettings=function useCanAccessSettings(){var _useAuth6=auth_hooks_useAuth(),user=_useAuth6.user,isAuthenticated=_useAuth6.isAuthenticated,roles=roles_hooks_useRoles().roles,config=app_hooks_useApp().config;return(0,react.useMemo)(function(){return!(!user||!isAuthenticated)&&permissions_hasPermission(user,"system:settings","read",roles,null==config?void 0:config.ownerEmail)},[user,isAuthenticated,roles,null==config?void 0:config.ownerEmail])},useIsOwner=function useIsOwner(){var _useAuth8=auth_hooks_useAuth(),user=_useAuth8.user,isAuthenticated=_useAuth8.isAuthenticated,config=app_hooks_useApp().config;return(0,react.useMemo)(function(){return!(!user||!isAuthenticated)&&isOwner(user,null==config?void 0:config.ownerEmail)},[user,isAuthenticated,null==config?void 0:config.ownerEmail])};function useMediaQueryOld(query,defaultMatches,matchMedia,ssrMatchMedia,noSsr){const[match,setMatch]=react.useState(()=>noSsr&&matchMedia?matchMedia(query).matches:ssrMatchMedia?ssrMatchMedia(query).matches:defaultMatches);return(0,useEnhancedEffect.A)(()=>{let active=!0;if(!matchMedia)return;const queryList=matchMedia(query),updateMatch=()=>{active&&setMatch(queryList.matches)};return updateMatch(),queryList.addListener(updateMatch),()=>{active=!1,queryList.removeListener(updateMatch)}},[query,matchMedia]),match}const maybeReactUseSyncExternalStore=react_namespaceObject.useSyncExternalStore;function useMediaQueryNew(query,defaultMatches,matchMedia,ssrMatchMedia,noSsr){const getDefaultSnapshot=react.useCallback(()=>defaultMatches,[defaultMatches]),getServerSnapshot=react.useMemo(()=>{if(noSsr&&matchMedia)return()=>matchMedia(query).matches;if(null!==ssrMatchMedia){const{matches}=ssrMatchMedia(query);return()=>matches}return getDefaultSnapshot},[getDefaultSnapshot,query,ssrMatchMedia,noSsr,matchMedia]),[getSnapshot,subscribe]=react.useMemo(()=>{if(null===matchMedia)return[getDefaultSnapshot,()=>()=>{}];const mediaQueryList=matchMedia(query);return[()=>mediaQueryList.matches,notify=>(mediaQueryList.addListener(notify),()=>{mediaQueryList.removeListener(notify)})]},[getDefaultSnapshot,matchMedia,query]);return maybeReactUseSyncExternalStore(subscribe,getSnapshot,getServerSnapshot)}function useMediaQuery(queryInput,options={}){const theme=useThemeWithoutDefault(),supportMatchMedia="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches=!1,matchMedia=supportMatchMedia?window.matchMedia:null,ssrMatchMedia=null,noSsr=!1}=getThemeProps({name:"MuiUseMediaQuery",props:options,theme});let query="function"==typeof queryInput?queryInput(theme):queryInput;query=query.replace(/^@media( ?)/m,"");return(void 0!==maybeReactUseSyncExternalStore?useMediaQueryNew:useMediaQueryOld)(query,defaultMatches,matchMedia,ssrMatchMedia,noSsr)}var system_useThemeWithoutDefault=__webpack_require__(72923);function getWindow(node){if(null==node)return window;if("[object Window]"!==node.toString()){var ownerDocument=node.ownerDocument;return ownerDocument&&ownerDocument.defaultView||window}return node}function isElement(node){return node instanceof getWindow(node).Element||node instanceof Element}function isHTMLElement(node){return node instanceof getWindow(node).HTMLElement||node instanceof HTMLElement}function isShadowRoot(node){return"undefined"!=typeof ShadowRoot&&(node instanceof getWindow(node).ShadowRoot||node instanceof ShadowRoot)}var math_max=Math.max,math_min=Math.min,round=Math.round;function getUAString(){var uaData=navigator.userAgentData;return null!=uaData&&uaData.brands&&Array.isArray(uaData.brands)?uaData.brands.map(function(item){return item.brand+"/"+item.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(element,includeScale,isFixedStrategy){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);var clientRect=element.getBoundingClientRect(),scaleX=1,scaleY=1;includeScale&&isHTMLElement(element)&&(scaleX=element.offsetWidth>0&&round(clientRect.width)/element.offsetWidth||1,scaleY=element.offsetHeight>0&&round(clientRect.height)/element.offsetHeight||1);var visualViewport=(isElement(element)?getWindow(element):window).visualViewport,addVisualOffsets=!isLayoutViewport()&&isFixedStrategy,x=(clientRect.left+(addVisualOffsets&&visualViewport?visualViewport.offsetLeft:0))/scaleX,y=(clientRect.top+(addVisualOffsets&&visualViewport?visualViewport.offsetTop:0))/scaleY,width=clientRect.width/scaleX,height=clientRect.height/scaleY;return{width,height,top:y,right:x+width,bottom:y+height,left:x,x,y}}function getWindowScroll(node){var win=getWindow(node);return{scrollLeft:win.pageXOffset,scrollTop:win.pageYOffset}}function getNodeName(element){return element?(element.nodeName||"").toLowerCase():null}function getDocumentElement(element){return((isElement(element)?element.ownerDocument:element.document)||window.document).documentElement}function getWindowScrollBarX(element){return getBoundingClientRect(getDocumentElement(element)).left+getWindowScroll(element).scrollLeft}function getComputedStyle_getComputedStyle(element){return getWindow(element).getComputedStyle(element)}function isScrollParent(element){var _getComputedStyle=getComputedStyle_getComputedStyle(element),overflow=_getComputedStyle.overflow,overflowX=_getComputedStyle.overflowX,overflowY=_getComputedStyle.overflowY;return/auto|scroll|overlay|hidden/.test(overflow+overflowY+overflowX)}function getCompositeRect(elementOrVirtualElement,offsetParent,isFixed){void 0===isFixed&&(isFixed=!1);var isOffsetParentAnElement=isHTMLElement(offsetParent),offsetParentIsScaled=isHTMLElement(offsetParent)&&function isElementScaled(element){var rect=element.getBoundingClientRect(),scaleX=round(rect.width)/element.offsetWidth||1,scaleY=round(rect.height)/element.offsetHeight||1;return 1!==scaleX||1!==scaleY}(offsetParent),documentElement=getDocumentElement(offsetParent),rect=getBoundingClientRect(elementOrVirtualElement,offsetParentIsScaled,isFixed),scroll={scrollLeft:0,scrollTop:0},offsets={x:0,y:0};return(isOffsetParentAnElement||!isOffsetParentAnElement&&!isFixed)&&(("body"!==getNodeName(offsetParent)||isScrollParent(documentElement))&&(scroll=function getNodeScroll(node){return node!==getWindow(node)&&isHTMLElement(node)?function getHTMLElementScroll(element){return{scrollLeft:element.scrollLeft,scrollTop:element.scrollTop}}(node):getWindowScroll(node)}(offsetParent)),isHTMLElement(offsetParent)?((offsets=getBoundingClientRect(offsetParent,!0)).x+=offsetParent.clientLeft,offsets.y+=offsetParent.clientTop):documentElement&&(offsets.x=getWindowScrollBarX(documentElement))),{x:rect.left+scroll.scrollLeft-offsets.x,y:rect.top+scroll.scrollTop-offsets.y,width:rect.width,height:rect.height}}function getLayoutRect(element){var clientRect=getBoundingClientRect(element),width=element.offsetWidth,height=element.offsetHeight;return Math.abs(clientRect.width-width)<=1&&(width=clientRect.width),Math.abs(clientRect.height-height)<=1&&(height=clientRect.height),{x:element.offsetLeft,y:element.offsetTop,width,height}}function getParentNode(element){return"html"===getNodeName(element)?element:element.assignedSlot||element.parentNode||(isShadowRoot(element)?element.host:null)||getDocumentElement(element)}function getScrollParent(node){return["html","body","#document"].indexOf(getNodeName(node))>=0?node.ownerDocument.body:isHTMLElement(node)&&isScrollParent(node)?node:getScrollParent(getParentNode(node))}function listScrollParents(element,list){var _element$ownerDocumen;void 0===list&&(list=[]);var scrollParent=getScrollParent(element),isBody=scrollParent===(null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body),win=getWindow(scrollParent),target=isBody?[win].concat(win.visualViewport||[],isScrollParent(scrollParent)?scrollParent:[]):scrollParent,updatedList=list.concat(target);return isBody?updatedList:updatedList.concat(listScrollParents(getParentNode(target)))}function isTableElement(element){return["table","td","th"].indexOf(getNodeName(element))>=0}function getTrueOffsetParent(element){return isHTMLElement(element)&&"fixed"!==getComputedStyle_getComputedStyle(element).position?element.offsetParent:null}function getOffsetParent(element){for(var window=getWindow(element),offsetParent=getTrueOffsetParent(element);offsetParent&&isTableElement(offsetParent)&&"static"===getComputedStyle_getComputedStyle(offsetParent).position;)offsetParent=getTrueOffsetParent(offsetParent);return offsetParent&&("html"===getNodeName(offsetParent)||"body"===getNodeName(offsetParent)&&"static"===getComputedStyle_getComputedStyle(offsetParent).position)?window:offsetParent||function getContainingBlock(element){var isFirefox=/firefox/i.test(getUAString());if(/Trident/i.test(getUAString())&&isHTMLElement(element)&&"fixed"===getComputedStyle_getComputedStyle(element).position)return null;var currentNode=getParentNode(element);for(isShadowRoot(currentNode)&&(currentNode=currentNode.host);isHTMLElement(currentNode)&&["html","body"].indexOf(getNodeName(currentNode))<0;){var css=getComputedStyle_getComputedStyle(currentNode);if("none"!==css.transform||"none"!==css.perspective||"paint"===css.contain||-1!==["transform","perspective"].indexOf(css.willChange)||isFirefox&&"filter"===css.willChange||isFirefox&&css.filter&&"none"!==css.filter)return currentNode;currentNode=currentNode.parentNode}return null}(element)||window}var enums_top="top",bottom="bottom",right="right",left="left",basePlacements=[enums_top,bottom,right,left],variationPlacements=basePlacements.reduce(function(acc,placement){return acc.concat([placement+"-start",placement+"-end"])},[]),enums_placements=[].concat(basePlacements,["auto"]).reduce(function(acc,placement){return acc.concat([placement,placement+"-start",placement+"-end"])},[]),modifierPhases=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function order(modifiers){var map=new Map,visited=new Set,result=[];function sort(modifier){visited.add(modifier.name),[].concat(modifier.requires||[],modifier.requiresIfExists||[]).forEach(function(dep){if(!visited.has(dep)){var depModifier=map.get(dep);depModifier&&sort(depModifier)}}),result.push(modifier)}return modifiers.forEach(function(modifier){map.set(modifier.name,modifier)}),modifiers.forEach(function(modifier){visited.has(modifier.name)||sort(modifier)}),result}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return!args.some(function(element){return!(element&&"function"==typeof element.getBoundingClientRect)})}function popperGenerator(generatorOptions){void 0===generatorOptions&&(generatorOptions={});var _generatorOptions=generatorOptions,_generatorOptions$def=_generatorOptions.defaultModifiers,defaultModifiers=void 0===_generatorOptions$def?[]:_generatorOptions$def,_generatorOptions$def2=_generatorOptions.defaultOptions,defaultOptions=void 0===_generatorOptions$def2?DEFAULT_OPTIONS:_generatorOptions$def2;return function createPopper(reference,popper,options){void 0===options&&(options=defaultOptions);var fn,pending,state={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,defaultOptions),modifiersData:{},elements:{reference,popper},attributes:{},styles:{}},effectCleanupFns=[],isDestroyed=!1,instance={state,setOptions:function setOptions(setOptionsAction){var options="function"==typeof setOptionsAction?setOptionsAction(state.options):setOptionsAction;cleanupModifierEffects(),state.options=Object.assign({},defaultOptions,state.options,options),state.scrollParents={reference:isElement(reference)?listScrollParents(reference):reference.contextElement?listScrollParents(reference.contextElement):[],popper:listScrollParents(popper)};var orderedModifiers=function orderModifiers(modifiers){var orderedModifiers=order(modifiers);return modifierPhases.reduce(function(acc,phase){return acc.concat(orderedModifiers.filter(function(modifier){return modifier.phase===phase}))},[])}(function mergeByName(modifiers){var merged=modifiers.reduce(function(merged,current){var existing=merged[current.name];return merged[current.name]=existing?Object.assign({},existing,current,{options:Object.assign({},existing.options,current.options),data:Object.assign({},existing.data,current.data)}):current,merged},{});return Object.keys(merged).map(function(key){return merged[key]})}([].concat(defaultModifiers,state.options.modifiers)));return state.orderedModifiers=orderedModifiers.filter(function(m){return m.enabled}),function runModifierEffects(){state.orderedModifiers.forEach(function(_ref){var name=_ref.name,_ref$options=_ref.options,options=void 0===_ref$options?{}:_ref$options,effect=_ref.effect;if("function"==typeof effect){var cleanupFn=effect({state,name,instance,options}),noopFn=function noopFn(){};effectCleanupFns.push(cleanupFn||noopFn)}})}(),instance.update()},forceUpdate:function forceUpdate(){if(!isDestroyed){var _state$elements=state.elements,reference=_state$elements.reference,popper=_state$elements.popper;if(areValidElements(reference,popper)){state.rects={reference:getCompositeRect(reference,getOffsetParent(popper),"fixed"===state.options.strategy),popper:getLayoutRect(popper)},state.reset=!1,state.placement=state.options.placement,state.orderedModifiers.forEach(function(modifier){return state.modifiersData[modifier.name]=Object.assign({},modifier.data)});for(var index=0;index<state.orderedModifiers.length;index++)if(!0!==state.reset){var _state$orderedModifie=state.orderedModifiers[index],fn=_state$orderedModifie.fn,_state$orderedModifie2=_state$orderedModifie.options,_options=void 0===_state$orderedModifie2?{}:_state$orderedModifie2,name=_state$orderedModifie.name;"function"==typeof fn&&(state=fn({state,options:_options,name,instance})||state)}else state.reset=!1,index=-1}}},update:(fn=function(){return new Promise(function(resolve){instance.forceUpdate(),resolve(state)})},function(){return pending||(pending=new Promise(function(resolve){Promise.resolve().then(function(){pending=void 0,resolve(fn())})})),pending}),destroy:function destroy(){cleanupModifierEffects(),isDestroyed=!0}};if(!areValidElements(reference,popper))return instance;function cleanupModifierEffects(){effectCleanupFns.forEach(function(fn){return fn()}),effectCleanupFns=[]}return instance.setOptions(options).then(function(state){!isDestroyed&&options.onFirstUpdate&&options.onFirstUpdate(state)}),instance}}var passive={passive:!0};const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function fn(){},effect:function effect(_ref){var state=_ref.state,instance=_ref.instance,options=_ref.options,_options$scroll=options.scroll,scroll=void 0===_options$scroll||_options$scroll,_options$resize=options.resize,resize=void 0===_options$resize||_options$resize,window=getWindow(state.elements.popper),scrollParents=[].concat(state.scrollParents.reference,state.scrollParents.popper);return scroll&&scrollParents.forEach(function(scrollParent){scrollParent.addEventListener("scroll",instance.update,passive)}),resize&&window.addEventListener("resize",instance.update,passive),function(){scroll&&scrollParents.forEach(function(scrollParent){scrollParent.removeEventListener("scroll",instance.update,passive)}),resize&&window.removeEventListener("resize",instance.update,passive)}},data:{}};function getBasePlacement(placement){return placement.split("-")[0]}function getVariation(placement){return placement.split("-")[1]}function getMainAxisFromPlacement(placement){return["top","bottom"].indexOf(placement)>=0?"x":"y"}function computeOffsets(_ref){var offsets,reference=_ref.reference,element=_ref.element,placement=_ref.placement,basePlacement=placement?getBasePlacement(placement):null,variation=placement?getVariation(placement):null,commonX=reference.x+reference.width/2-element.width/2,commonY=reference.y+reference.height/2-element.height/2;switch(basePlacement){case enums_top:offsets={x:commonX,y:reference.y-element.height};break;case bottom:offsets={x:commonX,y:reference.y+reference.height};break;case right:offsets={x:reference.x+reference.width,y:commonY};break;case left:offsets={x:reference.x-element.width,y:commonY};break;default:offsets={x:reference.x,y:reference.y}}var mainAxis=basePlacement?getMainAxisFromPlacement(basePlacement):null;if(null!=mainAxis){var len="y"===mainAxis?"height":"width";switch(variation){case"start":offsets[mainAxis]=offsets[mainAxis]-(reference[len]/2-element[len]/2);break;case"end":offsets[mainAxis]=offsets[mainAxis]+(reference[len]/2-element[len]/2)}}return offsets}const modifiers_popperOffsets={name:"popperOffsets",enabled:!0,phase:"read",fn:function popperOffsets(_ref){var state=_ref.state,name=_ref.name;state.modifiersData[name]=computeOffsets({reference:state.rects.reference,element:state.rects.popper,strategy:"absolute",placement:state.placement})},data:{}};var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mapToStyles(_ref2){var _Object$assign2,popper=_ref2.popper,popperRect=_ref2.popperRect,placement=_ref2.placement,variation=_ref2.variation,offsets=_ref2.offsets,position=_ref2.position,gpuAcceleration=_ref2.gpuAcceleration,adaptive=_ref2.adaptive,roundOffsets=_ref2.roundOffsets,isFixed=_ref2.isFixed,_offsets$x=offsets.x,x=void 0===_offsets$x?0:_offsets$x,_offsets$y=offsets.y,y=void 0===_offsets$y?0:_offsets$y,_ref3="function"==typeof roundOffsets?roundOffsets({x,y}):{x,y};x=_ref3.x,y=_ref3.y;var hasX=offsets.hasOwnProperty("x"),hasY=offsets.hasOwnProperty("y"),sideX=left,sideY=enums_top,win=window;if(adaptive){var offsetParent=getOffsetParent(popper),heightProp="clientHeight",widthProp="clientWidth";if(offsetParent===getWindow(popper)&&"static"!==getComputedStyle_getComputedStyle(offsetParent=getDocumentElement(popper)).position&&"absolute"===position&&(heightProp="scrollHeight",widthProp="scrollWidth"),placement===enums_top||(placement===left||placement===right)&&"end"===variation)sideY=bottom,y-=(isFixed&&offsetParent===win&&win.visualViewport?win.visualViewport.height:offsetParent[heightProp])-popperRect.height,y*=gpuAcceleration?1:-1;if(placement===left||(placement===enums_top||placement===bottom)&&"end"===variation)sideX=right,x-=(isFixed&&offsetParent===win&&win.visualViewport?win.visualViewport.width:offsetParent[widthProp])-popperRect.width,x*=gpuAcceleration?1:-1}var _Object$assign,commonStyles=Object.assign({position},adaptive&&unsetSides),_ref4=!0===roundOffsets?function roundOffsetsByDPR(_ref,win){var x=_ref.x,y=_ref.y,dpr=win.devicePixelRatio||1;return{x:round(x*dpr)/dpr||0,y:round(y*dpr)/dpr||0}}({x,y},getWindow(popper)):{x,y};return x=_ref4.x,y=_ref4.y,gpuAcceleration?Object.assign({},commonStyles,((_Object$assign={})[sideY]=hasY?"0":"",_Object$assign[sideX]=hasX?"0":"",_Object$assign.transform=(win.devicePixelRatio||1)<=1?"translate("+x+"px, "+y+"px)":"translate3d("+x+"px, "+y+"px, 0)",_Object$assign)):Object.assign({},commonStyles,((_Object$assign2={})[sideY]=hasY?y+"px":"",_Object$assign2[sideX]=hasX?x+"px":"",_Object$assign2.transform="",_Object$assign2))}const modifiers_computeStyles={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function computeStyles(_ref5){var state=_ref5.state,options=_ref5.options,_options$gpuAccelerat=options.gpuAcceleration,gpuAcceleration=void 0===_options$gpuAccelerat||_options$gpuAccelerat,_options$adaptive=options.adaptive,adaptive=void 0===_options$adaptive||_options$adaptive,_options$roundOffsets=options.roundOffsets,roundOffsets=void 0===_options$roundOffsets||_options$roundOffsets,commonStyles={placement:getBasePlacement(state.placement),variation:getVariation(state.placement),popper:state.elements.popper,popperRect:state.rects.popper,gpuAcceleration,isFixed:"fixed"===state.options.strategy};null!=state.modifiersData.popperOffsets&&(state.styles.popper=Object.assign({},state.styles.popper,mapToStyles(Object.assign({},commonStyles,{offsets:state.modifiersData.popperOffsets,position:state.options.strategy,adaptive,roundOffsets})))),null!=state.modifiersData.arrow&&(state.styles.arrow=Object.assign({},state.styles.arrow,mapToStyles(Object.assign({},commonStyles,{offsets:state.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets})))),state.attributes.popper=Object.assign({},state.attributes.popper,{"data-popper-placement":state.placement})},data:{}};const modifiers_applyStyles={name:"applyStyles",enabled:!0,phase:"write",fn:function applyStyles(_ref){var state=_ref.state;Object.keys(state.elements).forEach(function(name){var style=state.styles[name]||{},attributes=state.attributes[name]||{},element=state.elements[name];isHTMLElement(element)&&getNodeName(element)&&(Object.assign(element.style,style),Object.keys(attributes).forEach(function(name){var value=attributes[name];!1===value?element.removeAttribute(name):element.setAttribute(name,!0===value?"":value)}))})},effect:function applyStyles_effect(_ref2){var state=_ref2.state,initialStyles={popper:{position:state.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(state.elements.popper.style,initialStyles.popper),state.styles=initialStyles,state.elements.arrow&&Object.assign(state.elements.arrow.style,initialStyles.arrow),function(){Object.keys(state.elements).forEach(function(name){var element=state.elements[name],attributes=state.attributes[name]||{},style=Object.keys(state.styles.hasOwnProperty(name)?state.styles[name]:initialStyles[name]).reduce(function(style,property){return style[property]="",style},{});isHTMLElement(element)&&getNodeName(element)&&(Object.assign(element.style,style),Object.keys(attributes).forEach(function(attribute){element.removeAttribute(attribute)}))})}},requires:["computeStyles"]};const modifiers_offset={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function offset(_ref2){var state=_ref2.state,options=_ref2.options,name=_ref2.name,_options$offset=options.offset,offset=void 0===_options$offset?[0,0]:_options$offset,data=enums_placements.reduce(function(acc,placement){return acc[placement]=function distanceAndSkiddingToXY(placement,rects,offset){var basePlacement=getBasePlacement(placement),invertDistance=[left,enums_top].indexOf(basePlacement)>=0?-1:1,_ref="function"==typeof offset?offset(Object.assign({},rects,{placement})):offset,skidding=_ref[0],distance=_ref[1];return skidding=skidding||0,distance=(distance||0)*invertDistance,[left,right].indexOf(basePlacement)>=0?{x:distance,y:skidding}:{x:skidding,y:distance}}(placement,state.rects,offset),acc},{}),_data$state$placement=data[state.placement],x=_data$state$placement.x,y=_data$state$placement.y;null!=state.modifiersData.popperOffsets&&(state.modifiersData.popperOffsets.x+=x,state.modifiersData.popperOffsets.y+=y),state.modifiersData[name]=data}};var hash={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(placement){return placement.replace(/left|right|bottom|top/g,function(matched){return hash[matched]})}var getOppositeVariationPlacement_hash={start:"end",end:"start"};function getOppositeVariationPlacement(placement){return placement.replace(/start|end/g,function(matched){return getOppositeVariationPlacement_hash[matched]})}function contains_contains(parent,child){var rootNode=child.getRootNode&&child.getRootNode();if(parent.contains(child))return!0;if(rootNode&&isShadowRoot(rootNode)){var next=child;do{if(next&&parent.isSameNode(next))return!0;next=next.parentNode||next.host}while(next)}return!1}function rectToClientRect(rect){return Object.assign({},rect,{left:rect.x,top:rect.y,right:rect.x+rect.width,bottom:rect.y+rect.height})}function getClientRectFromMixedType(element,clippingParent,strategy){return"viewport"===clippingParent?rectToClientRect(function getViewportRect(element,strategy){var win=getWindow(element),html=getDocumentElement(element),visualViewport=win.visualViewport,width=html.clientWidth,height=html.clientHeight,x=0,y=0;if(visualViewport){width=visualViewport.width,height=visualViewport.height;var layoutViewport=isLayoutViewport();(layoutViewport||!layoutViewport&&"fixed"===strategy)&&(x=visualViewport.offsetLeft,y=visualViewport.offsetTop)}return{width,height,x:x+getWindowScrollBarX(element),y}}(element,strategy)):isElement(clippingParent)?function getInnerBoundingClientRect(element,strategy){var rect=getBoundingClientRect(element,!1,"fixed"===strategy);return rect.top=rect.top+element.clientTop,rect.left=rect.left+element.clientLeft,rect.bottom=rect.top+element.clientHeight,rect.right=rect.left+element.clientWidth,rect.width=element.clientWidth,rect.height=element.clientHeight,rect.x=rect.left,rect.y=rect.top,rect}(clippingParent,strategy):rectToClientRect(function getDocumentRect(element){var _element$ownerDocumen,html=getDocumentElement(element),winScroll=getWindowScroll(element),body=null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body,width=math_max(html.scrollWidth,html.clientWidth,body?body.scrollWidth:0,body?body.clientWidth:0),height=math_max(html.scrollHeight,html.clientHeight,body?body.scrollHeight:0,body?body.clientHeight:0),x=-winScroll.scrollLeft+getWindowScrollBarX(element),y=-winScroll.scrollTop;return"rtl"===getComputedStyle_getComputedStyle(body||html).direction&&(x+=math_max(html.clientWidth,body?body.clientWidth:0)-width),{width,height,x,y}}(getDocumentElement(element)))}function getClippingRect(element,boundary,rootBoundary,strategy){var mainClippingParents="clippingParents"===boundary?function getClippingParents(element){var clippingParents=listScrollParents(getParentNode(element)),clipperElement=["absolute","fixed"].indexOf(getComputedStyle_getComputedStyle(element).position)>=0&&isHTMLElement(element)?getOffsetParent(element):element;return isElement(clipperElement)?clippingParents.filter(function(clippingParent){return isElement(clippingParent)&&contains_contains(clippingParent,clipperElement)&&"body"!==getNodeName(clippingParent)}):[]}(element):[].concat(boundary),clippingParents=[].concat(mainClippingParents,[rootBoundary]),firstClippingParent=clippingParents[0],clippingRect=clippingParents.reduce(function(accRect,clippingParent){var rect=getClientRectFromMixedType(element,clippingParent,strategy);return accRect.top=math_max(rect.top,accRect.top),accRect.right=math_min(rect.right,accRect.right),accRect.bottom=math_min(rect.bottom,accRect.bottom),accRect.left=math_max(rect.left,accRect.left),accRect},getClientRectFromMixedType(element,firstClippingParent,strategy));return clippingRect.width=clippingRect.right-clippingRect.left,clippingRect.height=clippingRect.bottom-clippingRect.top,clippingRect.x=clippingRect.left,clippingRect.y=clippingRect.top,clippingRect}function mergePaddingObject(paddingObject){return Object.assign({},{top:0,right:0,bottom:0,left:0},paddingObject)}function expandToHashMap(value,keys){return keys.reduce(function(hashMap,key){return hashMap[key]=value,hashMap},{})}function detectOverflow(state,options){void 0===options&&(options={});var _options=options,_options$placement=_options.placement,placement=void 0===_options$placement?state.placement:_options$placement,_options$strategy=_options.strategy,strategy=void 0===_options$strategy?state.strategy:_options$strategy,_options$boundary=_options.boundary,boundary=void 0===_options$boundary?"clippingParents":_options$boundary,_options$rootBoundary=_options.rootBoundary,rootBoundary=void 0===_options$rootBoundary?"viewport":_options$rootBoundary,_options$elementConte=_options.elementContext,elementContext=void 0===_options$elementConte?"popper":_options$elementConte,_options$altBoundary=_options.altBoundary,altBoundary=void 0!==_options$altBoundary&&_options$altBoundary,_options$padding=_options.padding,padding=void 0===_options$padding?0:_options$padding,paddingObject=mergePaddingObject("number"!=typeof padding?padding:expandToHashMap(padding,basePlacements)),altContext="popper"===elementContext?"reference":"popper",popperRect=state.rects.popper,element=state.elements[altBoundary?altContext:elementContext],clippingClientRect=getClippingRect(isElement(element)?element:element.contextElement||getDocumentElement(state.elements.popper),boundary,rootBoundary,strategy),referenceClientRect=getBoundingClientRect(state.elements.reference),popperOffsets=computeOffsets({reference:referenceClientRect,element:popperRect,strategy:"absolute",placement}),popperClientRect=rectToClientRect(Object.assign({},popperRect,popperOffsets)),elementClientRect="popper"===elementContext?popperClientRect:referenceClientRect,overflowOffsets={top:clippingClientRect.top-elementClientRect.top+paddingObject.top,bottom:elementClientRect.bottom-clippingClientRect.bottom+paddingObject.bottom,left:clippingClientRect.left-elementClientRect.left+paddingObject.left,right:elementClientRect.right-clippingClientRect.right+paddingObject.right},offsetData=state.modifiersData.offset;if("popper"===elementContext&&offsetData){var offset=offsetData[placement];Object.keys(overflowOffsets).forEach(function(key){var multiply=[right,bottom].indexOf(key)>=0?1:-1,axis=[enums_top,bottom].indexOf(key)>=0?"y":"x";overflowOffsets[key]+=offset[axis]*multiply})}return overflowOffsets}const modifiers_flip={name:"flip",enabled:!0,phase:"main",fn:function flip(_ref){var state=_ref.state,options=_ref.options,name=_ref.name;if(!state.modifiersData[name]._skip){for(var _options$mainAxis=options.mainAxis,checkMainAxis=void 0===_options$mainAxis||_options$mainAxis,_options$altAxis=options.altAxis,checkAltAxis=void 0===_options$altAxis||_options$altAxis,specifiedFallbackPlacements=options.fallbackPlacements,padding=options.padding,boundary=options.boundary,rootBoundary=options.rootBoundary,altBoundary=options.altBoundary,_options$flipVariatio=options.flipVariations,flipVariations=void 0===_options$flipVariatio||_options$flipVariatio,allowedAutoPlacements=options.allowedAutoPlacements,preferredPlacement=state.options.placement,basePlacement=getBasePlacement(preferredPlacement),fallbackPlacements=specifiedFallbackPlacements||(basePlacement===preferredPlacement||!flipVariations?[getOppositePlacement(preferredPlacement)]:function getExpandedFallbackPlacements(placement){if("auto"===getBasePlacement(placement))return[];var oppositePlacement=getOppositePlacement(placement);return[getOppositeVariationPlacement(placement),oppositePlacement,getOppositeVariationPlacement(oppositePlacement)]}(preferredPlacement)),placements=[preferredPlacement].concat(fallbackPlacements).reduce(function(acc,placement){return acc.concat("auto"===getBasePlacement(placement)?function computeAutoPlacement(state,options){void 0===options&&(options={});var _options=options,placement=_options.placement,boundary=_options.boundary,rootBoundary=_options.rootBoundary,padding=_options.padding,flipVariations=_options.flipVariations,_options$allowedAutoP=_options.allowedAutoPlacements,allowedAutoPlacements=void 0===_options$allowedAutoP?enums_placements:_options$allowedAutoP,variation=getVariation(placement),placements=variation?flipVariations?variationPlacements:variationPlacements.filter(function(placement){return getVariation(placement)===variation}):basePlacements,allowedPlacements=placements.filter(function(placement){return allowedAutoPlacements.indexOf(placement)>=0});0===allowedPlacements.length&&(allowedPlacements=placements);var overflows=allowedPlacements.reduce(function(acc,placement){return acc[placement]=detectOverflow(state,{placement,boundary,rootBoundary,padding})[getBasePlacement(placement)],acc},{});return Object.keys(overflows).sort(function(a,b){return overflows[a]-overflows[b]})}(state,{placement,boundary,rootBoundary,padding,flipVariations,allowedAutoPlacements}):placement)},[]),referenceRect=state.rects.reference,popperRect=state.rects.popper,checksMap=new Map,makeFallbackChecks=!0,firstFittingPlacement=placements[0],i=0;i<placements.length;i++){var placement=placements[i],_basePlacement=getBasePlacement(placement),isStartVariation="start"===getVariation(placement),isVertical=[enums_top,bottom].indexOf(_basePlacement)>=0,len=isVertical?"width":"height",overflow=detectOverflow(state,{placement,boundary,rootBoundary,altBoundary,padding}),mainVariationSide=isVertical?isStartVariation?right:left:isStartVariation?bottom:enums_top;referenceRect[len]>popperRect[len]&&(mainVariationSide=getOppositePlacement(mainVariationSide));var altVariationSide=getOppositePlacement(mainVariationSide),checks=[];if(checkMainAxis&&checks.push(overflow[_basePlacement]<=0),checkAltAxis&&checks.push(overflow[mainVariationSide]<=0,overflow[altVariationSide]<=0),checks.every(function(check){return check})){firstFittingPlacement=placement,makeFallbackChecks=!1;break}checksMap.set(placement,checks)}if(makeFallbackChecks)for(var _loop=function _loop(_i){var fittingPlacement=placements.find(function(placement){var checks=checksMap.get(placement);if(checks)return checks.slice(0,_i).every(function(check){return check})});if(fittingPlacement)return firstFittingPlacement=fittingPlacement,"break"},_i=flipVariations?3:1;_i>0;_i--){if("break"===_loop(_i))break}state.placement!==firstFittingPlacement&&(state.modifiersData[name]._skip=!0,state.placement=firstFittingPlacement,state.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function within(min,value,max){return math_max(min,math_min(value,max))}const modifiers_preventOverflow={name:"preventOverflow",enabled:!0,phase:"main",fn:function preventOverflow(_ref){var state=_ref.state,options=_ref.options,name=_ref.name,_options$mainAxis=options.mainAxis,checkMainAxis=void 0===_options$mainAxis||_options$mainAxis,_options$altAxis=options.altAxis,checkAltAxis=void 0!==_options$altAxis&&_options$altAxis,boundary=options.boundary,rootBoundary=options.rootBoundary,altBoundary=options.altBoundary,padding=options.padding,_options$tether=options.tether,tether=void 0===_options$tether||_options$tether,_options$tetherOffset=options.tetherOffset,tetherOffset=void 0===_options$tetherOffset?0:_options$tetherOffset,overflow=detectOverflow(state,{boundary,rootBoundary,padding,altBoundary}),basePlacement=getBasePlacement(state.placement),variation=getVariation(state.placement),isBasePlacement=!variation,mainAxis=getMainAxisFromPlacement(basePlacement),altAxis=function getAltAxis(axis){return"x"===axis?"y":"x"}(mainAxis),popperOffsets=state.modifiersData.popperOffsets,referenceRect=state.rects.reference,popperRect=state.rects.popper,tetherOffsetValue="function"==typeof tetherOffset?tetherOffset(Object.assign({},state.rects,{placement:state.placement})):tetherOffset,normalizedTetherOffsetValue="number"==typeof tetherOffsetValue?{mainAxis:tetherOffsetValue,altAxis:tetherOffsetValue}:Object.assign({mainAxis:0,altAxis:0},tetherOffsetValue),offsetModifierState=state.modifiersData.offset?state.modifiersData.offset[state.placement]:null,data={x:0,y:0};if(popperOffsets){if(checkMainAxis){var _offsetModifierState$,mainSide="y"===mainAxis?enums_top:left,altSide="y"===mainAxis?bottom:right,len="y"===mainAxis?"height":"width",offset=popperOffsets[mainAxis],min=offset+overflow[mainSide],max=offset-overflow[altSide],additive=tether?-popperRect[len]/2:0,minLen="start"===variation?referenceRect[len]:popperRect[len],maxLen="start"===variation?-popperRect[len]:-referenceRect[len],arrowElement=state.elements.arrow,arrowRect=tether&&arrowElement?getLayoutRect(arrowElement):{width:0,height:0},arrowPaddingObject=state.modifiersData["arrow#persistent"]?state.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},arrowPaddingMin=arrowPaddingObject[mainSide],arrowPaddingMax=arrowPaddingObject[altSide],arrowLen=within(0,referenceRect[len],arrowRect[len]),minOffset=isBasePlacement?referenceRect[len]/2-additive-arrowLen-arrowPaddingMin-normalizedTetherOffsetValue.mainAxis:minLen-arrowLen-arrowPaddingMin-normalizedTetherOffsetValue.mainAxis,maxOffset=isBasePlacement?-referenceRect[len]/2+additive+arrowLen+arrowPaddingMax+normalizedTetherOffsetValue.mainAxis:maxLen+arrowLen+arrowPaddingMax+normalizedTetherOffsetValue.mainAxis,arrowOffsetParent=state.elements.arrow&&getOffsetParent(state.elements.arrow),clientOffset=arrowOffsetParent?"y"===mainAxis?arrowOffsetParent.clientTop||0:arrowOffsetParent.clientLeft||0:0,offsetModifierValue=null!=(_offsetModifierState$=null==offsetModifierState?void 0:offsetModifierState[mainAxis])?_offsetModifierState$:0,tetherMax=offset+maxOffset-offsetModifierValue,preventedOffset=within(tether?math_min(min,offset+minOffset-offsetModifierValue-clientOffset):min,offset,tether?math_max(max,tetherMax):max);popperOffsets[mainAxis]=preventedOffset,data[mainAxis]=preventedOffset-offset}if(checkAltAxis){var _offsetModifierState$2,_mainSide="x"===mainAxis?enums_top:left,_altSide="x"===mainAxis?bottom:right,_offset=popperOffsets[altAxis],_len="y"===altAxis?"height":"width",_min=_offset+overflow[_mainSide],_max=_offset-overflow[_altSide],isOriginSide=-1!==[enums_top,left].indexOf(basePlacement),_offsetModifierValue=null!=(_offsetModifierState$2=null==offsetModifierState?void 0:offsetModifierState[altAxis])?_offsetModifierState$2:0,_tetherMin=isOriginSide?_min:_offset-referenceRect[_len]-popperRect[_len]-_offsetModifierValue+normalizedTetherOffsetValue.altAxis,_tetherMax=isOriginSide?_offset+referenceRect[_len]+popperRect[_len]-_offsetModifierValue-normalizedTetherOffsetValue.altAxis:_max,_preventedOffset=tether&&isOriginSide?function withinMaxClamp(min,value,max){var v=within(min,value,max);return v>max?max:v}(_tetherMin,_offset,_tetherMax):within(tether?_tetherMin:_min,_offset,tether?_tetherMax:_max);popperOffsets[altAxis]=_preventedOffset,data[altAxis]=_preventedOffset-_offset}state.modifiersData[name]=data}},requiresIfExists:["offset"]};const modifiers_arrow={name:"arrow",enabled:!0,phase:"main",fn:function arrow(_ref){var _state$modifiersData$,state=_ref.state,name=_ref.name,options=_ref.options,arrowElement=state.elements.arrow,popperOffsets=state.modifiersData.popperOffsets,basePlacement=getBasePlacement(state.placement),axis=getMainAxisFromPlacement(basePlacement),len=[left,right].indexOf(basePlacement)>=0?"height":"width";if(arrowElement&&popperOffsets){var paddingObject=function toPaddingObject(padding,state){return mergePaddingObject("number"!=typeof(padding="function"==typeof padding?padding(Object.assign({},state.rects,{placement:state.placement})):padding)?padding:expandToHashMap(padding,basePlacements))}(options.padding,state),arrowRect=getLayoutRect(arrowElement),minProp="y"===axis?enums_top:left,maxProp="y"===axis?bottom:right,endDiff=state.rects.reference[len]+state.rects.reference[axis]-popperOffsets[axis]-state.rects.popper[len],startDiff=popperOffsets[axis]-state.rects.reference[axis],arrowOffsetParent=getOffsetParent(arrowElement),clientSize=arrowOffsetParent?"y"===axis?arrowOffsetParent.clientHeight||0:arrowOffsetParent.clientWidth||0:0,centerToReference=endDiff/2-startDiff/2,min=paddingObject[minProp],max=clientSize-arrowRect[len]-paddingObject[maxProp],center=clientSize/2-arrowRect[len]/2+centerToReference,offset=within(min,center,max),axisProp=axis;state.modifiersData[name]=((_state$modifiersData$={})[axisProp]=offset,_state$modifiersData$.centerOffset=offset-center,_state$modifiersData$)}},effect:function arrow_effect(_ref2){var state=_ref2.state,_options$element=_ref2.options.element,arrowElement=void 0===_options$element?"[data-popper-arrow]":_options$element;null!=arrowElement&&("string"!=typeof arrowElement||(arrowElement=state.elements.popper.querySelector(arrowElement)))&&contains_contains(state.elements.popper,arrowElement)&&(state.elements.arrow=arrowElement)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getSideOffsets(overflow,rect,preventedOffsets){return void 0===preventedOffsets&&(preventedOffsets={x:0,y:0}),{top:overflow.top-rect.height-preventedOffsets.y,right:overflow.right-rect.width+preventedOffsets.x,bottom:overflow.bottom-rect.height+preventedOffsets.y,left:overflow.left-rect.width-preventedOffsets.x}}function isAnySideFullyClipped(overflow){return[enums_top,right,bottom,left].some(function(side){return overflow[side]>=0})}const modifiers_hide={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function hide(_ref){var state=_ref.state,name=_ref.name,referenceRect=state.rects.reference,popperRect=state.rects.popper,preventedOffsets=state.modifiersData.preventOverflow,referenceOverflow=detectOverflow(state,{elementContext:"reference"}),popperAltOverflow=detectOverflow(state,{altBoundary:!0}),referenceClippingOffsets=getSideOffsets(referenceOverflow,referenceRect),popperEscapeOffsets=getSideOffsets(popperAltOverflow,popperRect,preventedOffsets),isReferenceHidden=isAnySideFullyClipped(referenceClippingOffsets),hasPopperEscaped=isAnySideFullyClipped(popperEscapeOffsets);state.modifiersData[name]={referenceClippingOffsets,popperEscapeOffsets,isReferenceHidden,hasPopperEscaped},state.attributes.popper=Object.assign({},state.attributes.popper,{"data-popper-reference-hidden":isReferenceHidden,"data-popper-escaped":hasPopperEscaped})}};var popper_createPopper=popperGenerator({defaultModifiers:[eventListeners,modifiers_popperOffsets,modifiers_computeStyles,modifiers_applyStyles,modifiers_offset,modifiers_flip,modifiers_preventOverflow,modifiers_arrow,modifiers_hide]});function getPopperUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiPopper",slot)}(0,generateUtilityClasses.A)("MuiPopper",["root"]);const BasePopper_excluded=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],BasePopper_excluded2=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function BasePopper_resolveAnchorEl(anchorEl){return"function"==typeof anchorEl?anchorEl():anchorEl}function BasePopper_isHTMLElement(element){return void 0!==element.nodeType}const defaultPopperOptions={},PopperTooltip=react.forwardRef(function PopperTooltip(props,forwardedRef){var _slots$root;const{anchorEl,children,direction,disablePortal,modifiers,open,placement:initialPlacement,popperOptions,popperRef:popperRefProp,slotProps={},slots={},TransitionProps}=props,other=(0,objectWithoutPropertiesLoose.A)(props,BasePopper_excluded),tooltipRef=react.useRef(null),ownRef=(0,useForkRef.A)(tooltipRef,forwardedRef),popperRef=react.useRef(null),handlePopperRef=(0,useForkRef.A)(popperRef,popperRefProp),handlePopperRefRef=react.useRef(handlePopperRef);(0,useEnhancedEffect.A)(()=>{handlePopperRefRef.current=handlePopperRef},[handlePopperRef]),react.useImperativeHandle(popperRefProp,()=>popperRef.current,[]);const rtlPlacement=function flipPlacement(placement,direction){if("ltr"===direction)return placement;switch(placement){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return placement}}(initialPlacement,direction),[placement,setPlacement]=react.useState(rtlPlacement),[resolvedAnchorElement,setResolvedAnchorElement]=react.useState(BasePopper_resolveAnchorEl(anchorEl));react.useEffect(()=>{popperRef.current&&popperRef.current.forceUpdate()}),react.useEffect(()=>{anchorEl&&setResolvedAnchorElement(BasePopper_resolveAnchorEl(anchorEl))},[anchorEl]),(0,useEnhancedEffect.A)(()=>{if(!resolvedAnchorElement||!open)return;let popperModifiers=[{name:"preventOverflow",options:{altBoundary:disablePortal}},{name:"flip",options:{altBoundary:disablePortal}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state})=>{setPlacement(state.placement)}}];null!=modifiers&&(popperModifiers=popperModifiers.concat(modifiers)),popperOptions&&null!=popperOptions.modifiers&&(popperModifiers=popperModifiers.concat(popperOptions.modifiers));const popper=popper_createPopper(resolvedAnchorElement,tooltipRef.current,(0,esm_extends.A)({placement:rtlPlacement},popperOptions,{modifiers:popperModifiers}));return handlePopperRefRef.current(popper),()=>{popper.destroy(),handlePopperRefRef.current(null)}},[resolvedAnchorElement,disablePortal,modifiers,open,popperOptions,rtlPlacement]);const childProps={placement};null!==TransitionProps&&(childProps.TransitionProps=TransitionProps);const classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getPopperUtilityClass,classes)})(props),Root=null!=(_slots$root=slots.root)?_slots$root:"div",rootProps=useSlotProps_useSlotProps({elementType:Root,externalSlotProps:slotProps.root,externalForwardedProps:other,additionalProps:{role:"tooltip",ref:ownRef},ownerState:props,className:classes.root});return(0,jsx_runtime.jsx)(Root,(0,esm_extends.A)({},rootProps,{children:"function"==typeof children?children(childProps):children}))}),Popper=react.forwardRef(function Popper(props,forwardedRef){const{anchorEl,children,container:containerProp,direction="ltr",disablePortal=!1,keepMounted=!1,modifiers,open,placement="bottom",popperOptions=defaultPopperOptions,popperRef,style,transition=!1,slotProps={},slots={}}=props,other=(0,objectWithoutPropertiesLoose.A)(props,BasePopper_excluded2),[exited,setExited]=react.useState(!0);if(!keepMounted&&!open&&(!transition||exited))return null;let container;if(containerProp)container=containerProp;else if(anchorEl){const resolvedAnchorEl=BasePopper_resolveAnchorEl(anchorEl);container=resolvedAnchorEl&&BasePopper_isHTMLElement(resolvedAnchorEl)?(0,ownerDocument_ownerDocument.A)(resolvedAnchorEl).body:(0,ownerDocument_ownerDocument.A)(null).body}const display=open||!keepMounted||transition&&!exited?void 0:"none",transitionProps=transition?{in:open,onEnter:()=>{setExited(!1)},onExited:()=>{setExited(!0)}}:void 0;return(0,jsx_runtime.jsx)(Portal_Portal,{disablePortal,container,children:(0,jsx_runtime.jsx)(PopperTooltip,(0,esm_extends.A)({anchorEl,direction,disablePortal,modifiers,ref:forwardedRef,open:transition?!exited:open,placement,popperOptions,popperRef,slotProps,slots},other,{style:(0,esm_extends.A)({position:"fixed",top:0,left:0,display},style),TransitionProps:transitionProps,children}))})}),BasePopper=Popper,Popper_excluded=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=(0,styled.Ay)(BasePopper,{name:"MuiPopper",slot:"Root",overridesResolver:(props,styles)=>styles.root})({}),Popper_Popper=react.forwardRef(function Popper(inProps,ref){var _slots$root;const theme=(0,system_useThemeWithoutDefault.A)(),props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiPopper"}),{anchorEl,component,components,componentsProps,container,disablePortal,keepMounted,modifiers,open,placement,popperOptions,popperRef,transition,slots,slotProps}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Popper_excluded),RootComponent=null!=(_slots$root=null==slots?void 0:slots.root)?_slots$root:null==components?void 0:components.Root,otherProps=(0,esm_extends.A)({anchorEl,container,disablePortal,keepMounted,modifiers,open,placement,popperOptions,popperRef,transition},other);return(0,jsx_runtime.jsx)(PopperRoot,(0,esm_extends.A)({as:component,direction:null==theme?void 0:theme.direction,slots:{root:RootComponent},slotProps:null!=slotProps?slotProps:componentsProps},otherProps,{ref}))}),material_Popper_Popper=Popper_Popper;var utils_useId=__webpack_require__(1668);function getTooltipUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTooltip",slot)}const Tooltip_tooltipClasses=(0,generateUtilityClasses.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Tooltip_excluded=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const TooltipPopper=(0,styled.Ay)(material_Popper_Popper,{name:"MuiTooltip",slot:"Popper",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.popper,!ownerState.disableInteractive&&styles.popperInteractive,ownerState.arrow&&styles.popperArrow,!ownerState.open&&styles.popperClose]}})(({theme,ownerState,open})=>(0,esm_extends.A)({zIndex:(theme.vars||theme).zIndex.tooltip,pointerEvents:"none"},!ownerState.disableInteractive&&{pointerEvents:"auto"},!open&&{pointerEvents:"none"},ownerState.arrow&&{[`&[data-popper-placement*="bottom"] .${Tooltip_tooltipClasses.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Tooltip_tooltipClasses.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Tooltip_tooltipClasses.arrow}`]:(0,esm_extends.A)({},ownerState.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Tooltip_tooltipClasses.arrow}`]:(0,esm_extends.A)({},ownerState.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=(0,styled.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.tooltip,ownerState.touch&&styles.touch,ownerState.arrow&&styles.tooltipArrow,styles[`tooltipPlacement${(0,capitalize.A)(ownerState.placement.split("-")[0])}`]]}})(({theme,ownerState})=>{return(0,esm_extends.A)({backgroundColor:theme.vars?theme.vars.palette.Tooltip.bg:(0,colorManipulator.X4)(theme.palette.grey[700],.92),borderRadius:(theme.vars||theme).shape.borderRadius,color:(theme.vars||theme).palette.common.white,fontFamily:theme.typography.fontFamily,padding:"4px 8px",fontSize:theme.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:theme.typography.fontWeightMedium},ownerState.arrow&&{position:"relative",margin:0},ownerState.touch&&{padding:"8px 16px",fontSize:theme.typography.pxToRem(14),lineHeight:(value=16/14,Math.round(1e5*value)/1e5)+"em",fontWeight:theme.typography.fontWeightRegular},{[`.${Tooltip_tooltipClasses.popper}[data-popper-placement*="left"] &`]:(0,esm_extends.A)({transformOrigin:"right center"},ownerState.isRtl?(0,esm_extends.A)({marginLeft:"14px"},ownerState.touch&&{marginLeft:"24px"}):(0,esm_extends.A)({marginRight:"14px"},ownerState.touch&&{marginRight:"24px"})),[`.${Tooltip_tooltipClasses.popper}[data-popper-placement*="right"] &`]:(0,esm_extends.A)({transformOrigin:"left center"},ownerState.isRtl?(0,esm_extends.A)({marginRight:"14px"},ownerState.touch&&{marginRight:"24px"}):(0,esm_extends.A)({marginLeft:"14px"},ownerState.touch&&{marginLeft:"24px"})),[`.${Tooltip_tooltipClasses.popper}[data-popper-placement*="top"] &`]:(0,esm_extends.A)({transformOrigin:"center bottom",marginBottom:"14px"},ownerState.touch&&{marginBottom:"24px"}),[`.${Tooltip_tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:(0,esm_extends.A)({transformOrigin:"center top",marginTop:"14px"},ownerState.touch&&{marginTop:"24px"})});var value}),TooltipArrow=(0,styled.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(props,styles)=>styles.arrow})(({theme})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:theme.vars?theme.vars.palette.Tooltip.bg:(0,colorManipulator.X4)(theme.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1;const hystersisTimer=new useTimeout.E;let cursorPosition={x:0,y:0};function composeEventHandler(handler,eventHandler){return(event,...params)=>{eventHandler&&eventHandler(event,...params),handler(event,...params)}}const Tooltip=react.forwardRef(function Tooltip(inProps,ref){var _ref,_slots$popper,_ref2,_ref3,_slots$transition,_ref4,_slots$tooltip,_ref5,_slots$arrow,_slotProps$popper,_ref6,_slotProps$popper2,_slotProps$transition,_slotProps$tooltip,_ref7,_slotProps$tooltip2,_slotProps$arrow,_ref8,_slotProps$arrow2;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTooltip"}),{arrow=!1,children:childrenProp,components={},componentsProps={},describeChild=!1,disableFocusListener=!1,disableHoverListener=!1,disableInteractive:disableInteractiveProp=!1,disableTouchListener=!1,enterDelay=100,enterNextDelay=0,enterTouchDelay=700,followCursor=!1,id:idProp,leaveDelay=0,leaveTouchDelay=1500,onClose,onOpen,open:openProp,placement="bottom",PopperComponent:PopperComponentProp,PopperProps={},slotProps={},slots={},title,TransitionComponent:TransitionComponentProp=Grow_Grow,TransitionProps}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Tooltip_excluded),children=react.isValidElement(childrenProp)?childrenProp:(0,jsx_runtime.jsx)("span",{children:childrenProp}),theme=styles_useTheme_useTheme(),isRtl=useRtl(),[childNode,setChildNode]=react.useState(),[arrowRef,setArrowRef]=react.useState(null),ignoreNonTouchEvents=react.useRef(!1),disableInteractive=disableInteractiveProp||followCursor,closeTimer=(0,useTimeout.A)(),enterTimer=(0,useTimeout.A)(),leaveTimer=(0,useTimeout.A)(),touchTimer=(0,useTimeout.A)(),[openState,setOpenState]=(0,useControlled.A)({controlled:openProp,default:!1,name:"Tooltip",state:"open"});let open=openState;const id=(0,utils_useId.A)(idProp),prevUserSelect=react.useRef(),stopTouchInteraction=(0,useEventCallback.A)(()=>{void 0!==prevUserSelect.current&&(document.body.style.WebkitUserSelect=prevUserSelect.current,prevUserSelect.current=void 0),touchTimer.clear()});react.useEffect(()=>stopTouchInteraction,[stopTouchInteraction]);const handleOpen=event=>{hystersisTimer.clear(),hystersisOpen=!0,setOpenState(!0),onOpen&&!open&&onOpen(event)},handleClose=(0,useEventCallback.A)(event=>{hystersisTimer.start(800+leaveDelay,()=>{hystersisOpen=!1}),setOpenState(!1),onClose&&open&&onClose(event),closeTimer.start(theme.transitions.duration.shortest,()=>{ignoreNonTouchEvents.current=!1})}),handleMouseOver=event=>{ignoreNonTouchEvents.current&&"touchstart"!==event.type||(childNode&&childNode.removeAttribute("title"),enterTimer.clear(),leaveTimer.clear(),enterDelay||hystersisOpen&&enterNextDelay?enterTimer.start(hystersisOpen?enterNextDelay:enterDelay,()=>{handleOpen(event)}):handleOpen(event))},handleMouseLeave=event=>{enterTimer.clear(),leaveTimer.start(leaveDelay,()=>{handleClose(event)})},{isFocusVisibleRef,onBlur:handleBlurVisible,onFocus:handleFocusVisible,ref:focusVisibleRef}=(0,useIsFocusVisible.A)(),[,setChildIsFocusVisible]=react.useState(!1),handleBlur=event=>{handleBlurVisible(event),!1===isFocusVisibleRef.current&&(setChildIsFocusVisible(!1),handleMouseLeave(event))},handleFocus=event=>{childNode||setChildNode(event.currentTarget),handleFocusVisible(event),!0===isFocusVisibleRef.current&&(setChildIsFocusVisible(!0),handleMouseOver(event))},detectTouchStart=event=>{ignoreNonTouchEvents.current=!0;const childrenProps=children.props;childrenProps.onTouchStart&&childrenProps.onTouchStart(event)},handleTouchStart=event=>{detectTouchStart(event),leaveTimer.clear(),closeTimer.clear(),stopTouchInteraction(),prevUserSelect.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",touchTimer.start(enterTouchDelay,()=>{document.body.style.WebkitUserSelect=prevUserSelect.current,handleMouseOver(event)})},handleTouchEnd=event=>{children.props.onTouchEnd&&children.props.onTouchEnd(event),stopTouchInteraction(),leaveTimer.start(leaveTouchDelay,()=>{handleClose(event)})};react.useEffect(()=>{if(open)return document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("keydown",handleKeyDown)};function handleKeyDown(nativeEvent){"Escape"!==nativeEvent.key&&"Esc"!==nativeEvent.key||handleClose(nativeEvent)}},[handleClose,open]);const handleRef=(0,utils_useForkRef.A)(getReactElementRef(children),focusVisibleRef,setChildNode,ref);title||0===title||(open=!1);const popperRef=react.useRef(),nameOrDescProps={},titleIsString="string"==typeof title;describeChild?(nameOrDescProps.title=open||!titleIsString||disableHoverListener?null:title,nameOrDescProps["aria-describedby"]=open?id:null):(nameOrDescProps["aria-label"]=titleIsString?title:null,nameOrDescProps["aria-labelledby"]=open&&!titleIsString?id:null);const childrenProps=(0,esm_extends.A)({},nameOrDescProps,other,children.props,{className:(0,clsx.A)(other.className,children.props.className),onTouchStart:detectTouchStart,ref:handleRef},followCursor?{onMouseMove:event=>{const childrenProps=children.props;childrenProps.onMouseMove&&childrenProps.onMouseMove(event),cursorPosition={x:event.clientX,y:event.clientY},popperRef.current&&popperRef.current.update()}}:{});const interactiveWrapperListeners={};disableTouchListener||(childrenProps.onTouchStart=handleTouchStart,childrenProps.onTouchEnd=handleTouchEnd),disableHoverListener||(childrenProps.onMouseOver=composeEventHandler(handleMouseOver,childrenProps.onMouseOver),childrenProps.onMouseLeave=composeEventHandler(handleMouseLeave,childrenProps.onMouseLeave),disableInteractive||(interactiveWrapperListeners.onMouseOver=handleMouseOver,interactiveWrapperListeners.onMouseLeave=handleMouseLeave)),disableFocusListener||(childrenProps.onFocus=composeEventHandler(handleFocus,childrenProps.onFocus),childrenProps.onBlur=composeEventHandler(handleBlur,childrenProps.onBlur),disableInteractive||(interactiveWrapperListeners.onFocus=handleFocus,interactiveWrapperListeners.onBlur=handleBlur));const popperOptions=react.useMemo(()=>{var _PopperProps$popperOp;let tooltipModifiers=[{name:"arrow",enabled:Boolean(arrowRef),options:{element:arrowRef,padding:4}}];return null!=(_PopperProps$popperOp=PopperProps.popperOptions)&&_PopperProps$popperOp.modifiers&&(tooltipModifiers=tooltipModifiers.concat(PopperProps.popperOptions.modifiers)),(0,esm_extends.A)({},PopperProps.popperOptions,{modifiers:tooltipModifiers})},[arrowRef,PopperProps]),ownerState=(0,esm_extends.A)({},props,{isRtl,arrow,disableInteractive,placement,PopperComponentProp,touch:ignoreNonTouchEvents.current}),classes=(ownerState=>{const{classes,disableInteractive,arrow,touch,placement}=ownerState,slots={popper:["popper",!disableInteractive&&"popperInteractive",arrow&&"popperArrow"],tooltip:["tooltip",arrow&&"tooltipArrow",touch&&"touch",`tooltipPlacement${(0,capitalize.A)(placement.split("-")[0])}`],arrow:["arrow"]};return(0,composeClasses.A)(slots,getTooltipUtilityClass,classes)})(ownerState),PopperComponent=null!=(_ref=null!=(_slots$popper=slots.popper)?_slots$popper:components.Popper)?_ref:TooltipPopper,TransitionComponent=null!=(_ref2=null!=(_ref3=null!=(_slots$transition=slots.transition)?_slots$transition:components.Transition)?_ref3:TransitionComponentProp)?_ref2:Grow_Grow,TooltipComponent=null!=(_ref4=null!=(_slots$tooltip=slots.tooltip)?_slots$tooltip:components.Tooltip)?_ref4:TooltipTooltip,ArrowComponent=null!=(_ref5=null!=(_slots$arrow=slots.arrow)?_slots$arrow:components.Arrow)?_ref5:TooltipArrow,popperProps=appendOwnerState_appendOwnerState(PopperComponent,(0,esm_extends.A)({},PopperProps,null!=(_slotProps$popper=slotProps.popper)?_slotProps$popper:componentsProps.popper,{className:(0,clsx.A)(classes.popper,null==PopperProps?void 0:PopperProps.className,null==(_ref6=null!=(_slotProps$popper2=slotProps.popper)?_slotProps$popper2:componentsProps.popper)?void 0:_ref6.className)}),ownerState),transitionProps=appendOwnerState_appendOwnerState(TransitionComponent,(0,esm_extends.A)({},TransitionProps,null!=(_slotProps$transition=slotProps.transition)?_slotProps$transition:componentsProps.transition),ownerState),tooltipProps=appendOwnerState_appendOwnerState(TooltipComponent,(0,esm_extends.A)({},null!=(_slotProps$tooltip=slotProps.tooltip)?_slotProps$tooltip:componentsProps.tooltip,{className:(0,clsx.A)(classes.tooltip,null==(_ref7=null!=(_slotProps$tooltip2=slotProps.tooltip)?_slotProps$tooltip2:componentsProps.tooltip)?void 0:_ref7.className)}),ownerState),tooltipArrowProps=appendOwnerState_appendOwnerState(ArrowComponent,(0,esm_extends.A)({},null!=(_slotProps$arrow=slotProps.arrow)?_slotProps$arrow:componentsProps.arrow,{className:(0,clsx.A)(classes.arrow,null==(_ref8=null!=(_slotProps$arrow2=slotProps.arrow)?_slotProps$arrow2:componentsProps.arrow)?void 0:_ref8.className)}),ownerState);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[react.cloneElement(children,childrenProps),(0,jsx_runtime.jsx)(PopperComponent,(0,esm_extends.A)({as:null!=PopperComponentProp?PopperComponentProp:material_Popper_Popper,placement,anchorEl:followCursor?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:childNode,popperRef,open:!!childNode&&open,id,transition:!0},interactiveWrapperListeners,popperProps,{popperOptions,children:({TransitionProps:TransitionPropsInner})=>(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({timeout:theme.transitions.duration.shorter},TransitionPropsInner,transitionProps,{children:(0,jsx_runtime.jsxs)(TooltipComponent,(0,esm_extends.A)({},tooltipProps,{children:[title,arrow?(0,jsx_runtime.jsx)(ArrowComponent,(0,esm_extends.A)({},tooltipArrowProps,{ref:setArrowRef})):null]}))}))}))]})}),Tooltip_Tooltip=Tooltip;var Help=__webpack_require__(52162),Download=__webpack_require__(10609),Upgrade=__webpack_require__(30361);function getDialogUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDialog",slot)}const Dialog_dialogClasses=(0,generateUtilityClasses.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Dialog_DialogContext=react.createContext({}),Dialog_excluded=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=(0,styled.Ay)(Backdrop_Backdrop,{name:"MuiDialog",slot:"Backdrop",overrides:(props,styles)=>styles.backdrop})({zIndex:-1}),DialogRoot=(0,styled.Ay)(Modal_Modal,{name:"MuiDialog",slot:"Root",overridesResolver:(props,styles)=>styles.root})({"@media print":{position:"absolute !important"}}),DialogContainer=(0,styled.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.container,styles[`scroll${(0,capitalize.A)(ownerState.scroll)}`]]}})(({ownerState})=>(0,esm_extends.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===ownerState.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===ownerState.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=(0,styled.Ay)(material_Paper_Paper,{name:"MuiDialog",slot:"Paper",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.paper,styles[`scrollPaper${(0,capitalize.A)(ownerState.scroll)}`],styles[`paperWidth${(0,capitalize.A)(String(ownerState.maxWidth))}`],ownerState.fullWidth&&styles.paperFullWidth,ownerState.fullScreen&&styles.paperFullScreen]}})(({theme,ownerState})=>(0,esm_extends.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===ownerState.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===ownerState.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!ownerState.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===ownerState.maxWidth&&{maxWidth:"px"===theme.breakpoints.unit?Math.max(theme.breakpoints.values.xs,444):`max(${theme.breakpoints.values.xs}${theme.breakpoints.unit}, 444px)`,[`&.${Dialog_dialogClasses.paperScrollBody}`]:{[theme.breakpoints.down(Math.max(theme.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},ownerState.maxWidth&&"xs"!==ownerState.maxWidth&&{maxWidth:`${theme.breakpoints.values[ownerState.maxWidth]}${theme.breakpoints.unit}`,[`&.${Dialog_dialogClasses.paperScrollBody}`]:{[theme.breakpoints.down(theme.breakpoints.values[ownerState.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},ownerState.fullWidth&&{width:"calc(100% - 64px)"},ownerState.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Dialog_dialogClasses.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=react.forwardRef(function Dialog(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiDialog"}),theme=styles_useTheme_useTheme(),defaultTransitionDuration={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{"aria-describedby":ariaDescribedby,"aria-labelledby":ariaLabelledbyProp,BackdropComponent,BackdropProps,children,className,disableEscapeKeyDown=!1,fullScreen=!1,fullWidth=!1,maxWidth="sm",onBackdropClick,onClick,onClose,open,PaperComponent=material_Paper_Paper,PaperProps={},scroll="paper",TransitionComponent=Fade_Fade,transitionDuration=defaultTransitionDuration,TransitionProps}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Dialog_excluded),ownerState=(0,esm_extends.A)({},props,{disableEscapeKeyDown,fullScreen,fullWidth,maxWidth,scroll}),classes=(ownerState=>{const{classes,scroll,maxWidth,fullWidth,fullScreen}=ownerState,slots={root:["root"],container:["container",`scroll${(0,capitalize.A)(scroll)}`],paper:["paper",`paperScroll${(0,capitalize.A)(scroll)}`,`paperWidth${(0,capitalize.A)(String(maxWidth))}`,fullWidth&&"paperFullWidth",fullScreen&&"paperFullScreen"]};return(0,composeClasses.A)(slots,getDialogUtilityClass,classes)})(ownerState),backdropClick=react.useRef(),ariaLabelledby=(0,useId.A)(ariaLabelledbyProp),dialogContextValue=react.useMemo(()=>({titleId:ariaLabelledby}),[ariaLabelledby]);return(0,jsx_runtime.jsx)(DialogRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:(0,esm_extends.A)({transitionDuration,as:BackdropComponent},BackdropProps)},disableEscapeKeyDown,onClose,open,ref,onClick:event=>{onClick&&onClick(event),backdropClick.current&&(backdropClick.current=null,onBackdropClick&&onBackdropClick(event),onClose&&onClose(event,"backdropClick"))},ownerState},other,{children:(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({appear:!0,in:open,timeout:transitionDuration,role:"presentation"},TransitionProps,{children:(0,jsx_runtime.jsx)(DialogContainer,{className:(0,clsx.A)(classes.container),onMouseDown:event=>{backdropClick.current=event.target===event.currentTarget},ownerState,children:(0,jsx_runtime.jsx)(DialogPaper,(0,esm_extends.A)({as:PaperComponent,elevation:24,role:"dialog","aria-describedby":ariaDescribedby,"aria-labelledby":ariaLabelledby},PaperProps,{className:(0,clsx.A)(classes.paper,PaperProps.className),ownerState,children:(0,jsx_runtime.jsx)(Dialog_DialogContext.Provider,{value:dialogContextValue,children})}))})}))}))}),Dialog_Dialog=Dialog;function getDialogTitleUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDialogTitle",slot)}const DialogTitle_dialogTitleClasses=(0,generateUtilityClasses.A)("MuiDialogTitle",["root"]),DialogTitle_excluded=["className","id"],DialogTitleRoot=(0,styled.Ay)(material_Typography_Typography,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(props,styles)=>styles.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=react.forwardRef(function DialogTitle(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiDialogTitle"}),{className,id:idProp}=props,other=(0,objectWithoutPropertiesLoose.A)(props,DialogTitle_excluded),ownerState=props,classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getDialogTitleUtilityClass,classes)})(ownerState),{titleId=idProp}=react.useContext(Dialog_DialogContext);return(0,jsx_runtime.jsx)(DialogTitleRoot,(0,esm_extends.A)({component:"h2",className:(0,clsx.A)(classes.root,className),ownerState,ref,variant:"h6",id:null!=idProp?idProp:titleId},other))}),DialogTitle_DialogTitle=DialogTitle;function getDialogContentUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDialogContent",slot)}(0,generateUtilityClasses.A)("MuiDialogContent",["root","dividers"]);const DialogContent_excluded=["className","dividers"],DialogContentRoot=(0,styled.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.dividers&&styles.dividers]}})(({theme,ownerState})=>(0,esm_extends.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},ownerState.dividers?{padding:"16px 24px",borderTop:`1px solid ${(theme.vars||theme).palette.divider}`,borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`}:{[`.${DialogTitle_dialogTitleClasses.root} + &`]:{paddingTop:0}})),DialogContent=react.forwardRef(function DialogContent(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiDialogContent"}),{className,dividers=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,DialogContent_excluded),ownerState=(0,esm_extends.A)({},props,{dividers}),classes=(ownerState=>{const{classes,dividers}=ownerState,slots={root:["root",dividers&&"dividers"]};return(0,composeClasses.A)(slots,getDialogContentUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(DialogContentRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other))}),DialogContent_DialogContent=DialogContent,Savings=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"m19.83 7.5-2.27-2.27c.07-.42.18-.81.32-1.15.08-.18.12-.37.12-.58 0-.83-.67-1.5-1.5-1.5-1.64 0-3.09.79-4 2h-5C4.46 4 2 6.46 2 9.5S4.5 21 4.5 21H10v-2h2v2h5.5l1.68-5.59 2.82-.94V7.5zM13 9H8V7h5zm3 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Savings");var _process$env,PADDLE_CONFIG={licenseApiUrl:function getLicenseApiUrl(){try{return"https://license.fireengine.dev"}catch(_unused){}return"undefined"!=typeof process&&process.env&&process.env.REACT_APP_LICENSE_API_URL||"https://license.fireengine.dev"}(),clientToken:function getPaddleClientToken(){try{return"live_2cb28d6b5be3b98a622666387b4"}catch(_unused2){}return"undefined"!=typeof process&&process.env&&process.env.REACT_APP_PADDLE_CLIENT_TOKEN||"MISSING_PADDLE_CLIENT_TOKEN"}(),environment:"undefined"!=typeof process&&"production"===(null===(_process$env=process.env)||void 0===_process$env?void 0:"production")?"production":"sandbox",prices:{pro_monthly:function getPaddlePriceMonthly(){try{return"pri_01k2men96wsraycwnkr2682pky"}catch(_unused3){}return"undefined"!=typeof process&&process.env&&process.env.REACT_APP_PADDLE_PRICE_PRO_MONTHLY||"MISSING_PADDLE_PRICE_MONTHLY"}(),pro_annual:function getPaddlePriceAnnual(){try{return"pri_01k2meq2g0ye64acqynetdsef2"}catch(_unused4){}return"undefined"!=typeof process&&process.env&&process.env.REACT_APP_PADDLE_PRICE_PRO_ANNUAL||"MISSING_PADDLE_PRICE_ANNUAL"}()},products:{pro:{name:"FireEngine Pro",description:"Complete solution for growing teams and organizations",features:["Unlimited users","Advanced authentication (SAML, OIDC, Phone)","Custom roles and permissions","Schema customization","Unlimited storage","Analytics and audit logs","API access and webhooks","Custom branding","Priority support"],pricing:{monthly:{amount:54,currency:"USD"},annual:{amount:49,currency:"USD",totalAmount:588}}}}};var openPaddleCheckout=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var billingInterval,auth,token,priceId,response,error,_yield$response$json,checkoutUrl,_args=arguments;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(billingInterval=_args.length>0&&void 0!==_args[0]?_args[0]:"monthly",(auth=index_35c79a8a_getAuth()).currentUser){_context.next=1;break}throw new Error("User must be authenticated to upgrade");case 1:return _context.prev=1,_context.next=2,auth.currentUser.getIdToken();case 2:return token=_context.sent,priceId="annual"===billingInterval?PADDLE_CONFIG.prices.pro_annual:PADDLE_CONFIG.prices.pro_monthly,_context.next=3,fetch("/api/billing/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)},body:stringify_default()({priceId})});case 3:if((response=_context.sent).ok){_context.next=5;break}return _context.next=4,response.json();case 4:throw error=_context.sent,new Error(error.error||"Failed to create checkout session");case 5:return _context.next=6,response.json();case 6:if(_yield$response$json=_context.sent,checkoutUrl=_yield$response$json.checkoutUrl){_context.next=7;break}throw new Error("No checkout URL received from server");case 7:window.location.href=checkoutUrl,_context.next=9;break;case 8:throw _context.prev=8,_context.catch(1);case 9:case"end":return _context.stop()}},_callee,null,[[1,8]])}));return function openPaddleCheckout(){return _ref.apply(this,arguments)}}();const billing_PricingDialog=function PricingDialog(_ref){var open=_ref.open,onClose=_ref.onClose,_useState2=slicedToArray_slicedToArray((0,react.useState)("annual"),2),billingInterval=_useState2[0],setBillingInterval=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState4[0],setLoading=_useState4[1],theme=(useIntl().formatMessage,styles_useTheme_useTheme()),monthlyPrice=PADDLE_CONFIG.products.pro.pricing.monthly.amount,annualMonthlyPrice=PADDLE_CONFIG.products.pro.pricing.annual.amount,annualTotalPrice=PADDLE_CONFIG.products.pro.pricing.annual.totalAmount,annualSavings=12*monthlyPrice-annualTotalPrice,handleCheckout=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return setLoading(!0),_context.prev=1,_context.next=2,openPaddleCheckout(billingInterval);case 2:onClose(),_context.next=4;break;case 3:_context.prev=3,_t=_context.catch(1),console.error("Failed to open checkout:",_t),react_toastify_esm_Q.error(_t instanceof Error?_t.message:"Failed to open checkout");case 4:return _context.prev=4,setLoading(!1),_context.finish(4);case 5:case"end":return _context.stop()}},_callee,null,[[1,3,4,5]])}));return function handleCheckout(){return _ref2.apply(this,arguments)}}();return react.createElement(Dialog_Dialog,{open,onClose,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,overflow:"visible"}}},react.createElement(DialogTitle_DialogTitle,{sx:{textAlign:"center",pt:2,pb:1}},react.createElement(material_Typography_Typography,{variant:"h6",component:"div",gutterBottom:!0},react.createElement(message,{id:"billing.upgrade_to_pro",defaultMessage:"Upgrade to FireEngine Pro"}))),react.createElement(DialogContent_DialogContent,{sx:{pb:2,pt:0}},react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"center",mb:2}},react.createElement(ToggleButtonGroup_ToggleButtonGroup,{value:billingInterval,exclusive:!0,onChange:function handleBillingChange(event,newInterval){null!==newInterval&&setBillingInterval(newInterval)},size:"medium",sx:{"& .MuiToggleButton-root":{px:2,py:1,textTransform:"none",fontWeight:500}}},react.createElement(ToggleButton_ToggleButton,{value:"annual"},react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"billing.annual",defaultMessage:"Annual"})),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},"$",annualMonthlyPrice,"/month"))),react.createElement(ToggleButton_ToggleButton,{value:"monthly"},react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"billing.monthly",defaultMessage:"Monthly"})),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},"$",monthlyPrice,"/month"))))),react.createElement(Card_Card,{elevation:0,sx:{border:1,borderColor:theme.palette.grey[300],borderRadius:2,background:theme.palette.grey[50]}},react.createElement(CardContent_CardContent,{sx:{p:2}},react.createElement(material_Box_Box,{sx:{textAlign:"center",mb:2}},react.createElement(material_Typography_Typography,{variant:"h4",component:"div",sx:{fontWeight:600}},"$".concat("monthly"===billingInterval?monthlyPrice:annualMonthlyPrice)),react.createElement(material_Typography_Typography,{variant:"body1",color:"text.secondary"},"per month"),"annual"===billingInterval&&react.createElement(material_Box_Box,{sx:{mt:2}},react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},react.createElement(message,{id:"billing.billed_annually",defaultMessage:"Billed annually at ${total}",values:{total:annualTotalPrice}})),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mt:1}},react.createElement(Savings,{color:"disabled",fontSize:"small"}),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{fontWeight:600}},react.createElement(message,{id:"billing.save_amount",defaultMessage:"Save ${amount} per year",values:{amount:annualSavings}}))))),react.createElement(material_Box_Box,{sx:{mb:2,textAlign:"center"}},react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},"Unlimited users  Advanced auth  Custom roles  API access")),react.createElement(material_Box_Box,{sx:{display:"flex",gap:2}},react.createElement(material_Button_Button,{fullWidth:!0,variant:"outlined",onClick:onClose,disabled:loading,sx:{backgroundColor:"white"}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{fullWidth:!0,variant:"contained",onClick:handleCheckout,disabled:loading,sx:{fontWeight:600}},loading?react.createElement(material_CircularProgress_CircularProgress,{size:24}):react.createElement(message,{id:"billing.continue_to_checkout",defaultMessage:"Continue to Checkout"}))))),react.createElement(material_Box_Box,{sx:{mt:2,textAlign:"center"}},react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},react.createElement(message,{id:"billing.secure_payment",defaultMessage:"Secure payment processed by Paddle."})))))};var parse_int=__webpack_require__(36586),parse_int_default=__webpack_require__.n(parse_int);function getTableContainerUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTableContainer",slot)}(0,generateUtilityClasses.A)("MuiTableContainer",["root"]);const TableContainer_excluded=["className","component"],TableContainerRoot=(0,styled.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(props,styles)=>styles.root})({width:"100%",overflowX:"auto"}),TableContainer=react.forwardRef(function TableContainer(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTableContainer"}),{className,component="div"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TableContainer_excluded),ownerState=(0,esm_extends.A)({},props,{component}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getTableContainerUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(TableContainerRoot,(0,esm_extends.A)({ref,as:component,className:(0,clsx.A)(classes.root,className),ownerState},other))}),TableContainer_TableContainer=TableContainer;const Table_TableContext=react.createContext();function getTableUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTable",slot)}(0,generateUtilityClasses.A)("MuiTable",["root","stickyHeader"]);const Table_excluded=["className","component","padding","size","stickyHeader"],TableRoot=(0,styled.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.stickyHeader&&styles.stickyHeader]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,esm_extends.A)({},theme.typography.body2,{padding:theme.spacing(2),color:(theme.vars||theme).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},ownerState.stickyHeader&&{borderCollapse:"separate"})),defaultComponent="table",Table=react.forwardRef(function Table(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTable"}),{className,component=defaultComponent,padding="normal",size="medium",stickyHeader=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Table_excluded),ownerState=(0,esm_extends.A)({},props,{component,padding,size,stickyHeader}),classes=(ownerState=>{const{classes,stickyHeader}=ownerState,slots={root:["root",stickyHeader&&"stickyHeader"]};return(0,composeClasses.A)(slots,getTableUtilityClass,classes)})(ownerState),table=react.useMemo(()=>({padding,size,stickyHeader}),[padding,size,stickyHeader]);return(0,jsx_runtime.jsx)(Table_TableContext.Provider,{value:table,children:(0,jsx_runtime.jsx)(TableRoot,(0,esm_extends.A)({as:component,role:component===defaultComponent?null:"table",ref,className:(0,clsx.A)(classes.root,className),ownerState},other))})}),Table_Table=Table;const Table_Tablelvl2Context=react.createContext();function getTableHeadUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTableHead",slot)}(0,generateUtilityClasses.A)("MuiTableHead",["root"]);const TableHead_excluded=["className","component"],TableHeadRoot=(0,styled.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(props,styles)=>styles.root})({display:"table-header-group"}),tablelvl2={variant:"head"},TableHead_defaultComponent="thead",TableHead=react.forwardRef(function TableHead(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTableHead"}),{className,component=TableHead_defaultComponent}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TableHead_excluded),ownerState=(0,esm_extends.A)({},props,{component}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getTableHeadUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(Table_Tablelvl2Context.Provider,{value:tablelvl2,children:(0,jsx_runtime.jsx)(TableHeadRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),ref,role:component===TableHead_defaultComponent?null:"rowgroup",ownerState},other))})}),TableHead_TableHead=TableHead;function getTableRowUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTableRow",slot)}const TableRow_tableRowClasses=(0,generateUtilityClasses.A)("MuiTableRow",["root","selected","hover","head","footer"]),TableRow_excluded=["className","component","hover","selected"],TableRowRoot=(0,styled.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.head&&styles.head,ownerState.footer&&styles.footer]}})(({theme})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${TableRow_tableRowClasses.hover}:hover`]:{backgroundColor:(theme.vars||theme).palette.action.hover},[`&.${TableRow_tableRowClasses.selected}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity),"&:hover":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity)}}})),TableRow_defaultComponent="tr",TableRow=react.forwardRef(function TableRow(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTableRow"}),{className,component=TableRow_defaultComponent,hover=!1,selected=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TableRow_excluded),tablelvl2=react.useContext(Table_Tablelvl2Context),ownerState=(0,esm_extends.A)({},props,{component,hover,selected,head:tablelvl2&&"head"===tablelvl2.variant,footer:tablelvl2&&"footer"===tablelvl2.variant}),classes=(ownerState=>{const{classes,selected,hover,head,footer}=ownerState,slots={root:["root",selected&&"selected",hover&&"hover",head&&"head",footer&&"footer"]};return(0,composeClasses.A)(slots,getTableRowUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(TableRowRoot,(0,esm_extends.A)({as:component,ref,className:(0,clsx.A)(classes.root,className),role:component===TableRow_defaultComponent?null:"row",ownerState},other))}),TableRow_TableRow=TableRow;function getTableCellUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTableCell",slot)}const TableCell_tableCellClasses=(0,generateUtilityClasses.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),TableCell_excluded=["align","className","component","padding","scope","size","sortDirection","variant"],TableCellRoot=(0,styled.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`size${(0,capitalize.A)(ownerState.size)}`],"normal"!==ownerState.padding&&styles[`padding${(0,capitalize.A)(ownerState.padding)}`],"inherit"!==ownerState.align&&styles[`align${(0,capitalize.A)(ownerState.align)}`],ownerState.stickyHeader&&styles.stickyHeader]}})(({theme,ownerState})=>(0,esm_extends.A)({},theme.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:theme.vars?`1px solid ${theme.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===theme.palette.mode?(0,colorManipulator.a)((0,colorManipulator.X4)(theme.palette.divider,1),.88):(0,colorManipulator.e$)((0,colorManipulator.X4)(theme.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===ownerState.variant&&{color:(theme.vars||theme).palette.text.primary,lineHeight:theme.typography.pxToRem(24),fontWeight:theme.typography.fontWeightMedium},"body"===ownerState.variant&&{color:(theme.vars||theme).palette.text.primary},"footer"===ownerState.variant&&{color:(theme.vars||theme).palette.text.secondary,lineHeight:theme.typography.pxToRem(21),fontSize:theme.typography.pxToRem(12)},"small"===ownerState.size&&{padding:"6px 16px",[`&.${TableCell_tableCellClasses.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===ownerState.padding&&{width:48,padding:"0 0 0 4px"},"none"===ownerState.padding&&{padding:0},"left"===ownerState.align&&{textAlign:"left"},"center"===ownerState.align&&{textAlign:"center"},"right"===ownerState.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===ownerState.align&&{textAlign:"justify"},ownerState.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(theme.vars||theme).palette.background.default})),TableCell=react.forwardRef(function TableCell(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTableCell"}),{align="inherit",className,component:componentProp,padding:paddingProp,scope:scopeProp,size:sizeProp,sortDirection,variant:variantProp}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TableCell_excluded),table=react.useContext(Table_TableContext),tablelvl2=react.useContext(Table_Tablelvl2Context),isHeadCell=tablelvl2&&"head"===tablelvl2.variant;let component;component=componentProp||(isHeadCell?"th":"td");let scope=scopeProp;"td"===component?scope=void 0:!scope&&isHeadCell&&(scope="col");const variant=variantProp||tablelvl2&&tablelvl2.variant,ownerState=(0,esm_extends.A)({},props,{align,component,padding:paddingProp||(table&&table.padding?table.padding:"normal"),size:sizeProp||(table&&table.size?table.size:"medium"),sortDirection,stickyHeader:"head"===variant&&table&&table.stickyHeader,variant}),classes=(ownerState=>{const{classes,variant,align,padding,size,stickyHeader}=ownerState,slots={root:["root",variant,stickyHeader&&"stickyHeader","inherit"!==align&&`align${(0,capitalize.A)(align)}`,"normal"!==padding&&`padding${(0,capitalize.A)(padding)}`,`size${(0,capitalize.A)(size)}`]};return(0,composeClasses.A)(slots,getTableCellUtilityClass,classes)})(ownerState);let ariaSort=null;return sortDirection&&(ariaSort="asc"===sortDirection?"ascending":"descending"),(0,jsx_runtime.jsx)(TableCellRoot,(0,esm_extends.A)({as:component,ref,className:(0,clsx.A)(classes.root,className),"aria-sort":ariaSort,scope,ownerState},other))}),TableCell_TableCell=TableCell;function getTableBodyUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTableBody",slot)}(0,generateUtilityClasses.A)("MuiTableBody",["root"]);const TableBody_excluded=["className","component"],TableBodyRoot=(0,styled.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(props,styles)=>styles.root})({display:"table-row-group"}),TableBody_tablelvl2={variant:"body"},TableBody_defaultComponent="tbody",TableBody=react.forwardRef(function TableBody(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTableBody"}),{className,component=TableBody_defaultComponent}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TableBody_excluded),ownerState=(0,esm_extends.A)({},props,{component}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getTableBodyUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(Table_Tablelvl2Context.Provider,{value:TableBody_tablelvl2,children:(0,jsx_runtime.jsx)(TableBodyRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),as:component,ref,role:component===TableBody_defaultComponent?null:"rowgroup",ownerState},other))})}),TableBody_TableBody=TableBody;function getToolbarUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiToolbar",slot)}(0,generateUtilityClasses.A)("MuiToolbar",["root","gutters","regular","dense"]);const Toolbar_excluded=["className","component","disableGutters","variant"],ToolbarRoot=(0,styled.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,!ownerState.disableGutters&&styles.gutters,styles[ownerState.variant]]}})(({theme,ownerState})=>(0,esm_extends.A)({position:"relative",display:"flex",alignItems:"center"},!ownerState.disableGutters&&{paddingLeft:theme.spacing(2),paddingRight:theme.spacing(2),[theme.breakpoints.up("sm")]:{paddingLeft:theme.spacing(3),paddingRight:theme.spacing(3)}},"dense"===ownerState.variant&&{minHeight:48}),({theme,ownerState})=>"regular"===ownerState.variant&&theme.mixins.toolbar),Toolbar=react.forwardRef(function Toolbar(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiToolbar"}),{className,component="div",disableGutters=!1,variant="regular"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Toolbar_excluded),ownerState=(0,esm_extends.A)({},props,{component,disableGutters,variant}),classes=(ownerState=>{const{classes,disableGutters,variant}=ownerState,slots={root:["root",!disableGutters&&"gutters",variant]};return(0,composeClasses.A)(slots,getToolbarUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(ToolbarRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className),ref,ownerState},other))}),Toolbar_Toolbar=Toolbar,LastPage=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),FirstPage=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),TablePaginationActions_excluded=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],TablePaginationActions=react.forwardRef(function TablePaginationActions(props,ref){var _slots$firstButton,_slots$lastButton,_slots$nextButton,_slots$previousButton,_slots$firstButtonIco,_slots$lastButtonIcon,_slots$nextButtonIcon,_slots$previousButton2;const{backIconButtonProps,count,disabled=!1,getItemAriaLabel,nextIconButtonProps,onPageChange,page,rowsPerPage,showFirstButton,showLastButton,slots={},slotProps={}}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TablePaginationActions_excluded),isRtl=useRtl(),FirstButton=null!=(_slots$firstButton=slots.firstButton)?_slots$firstButton:IconButton_IconButton,LastButton=null!=(_slots$lastButton=slots.lastButton)?_slots$lastButton:IconButton_IconButton,NextButton=null!=(_slots$nextButton=slots.nextButton)?_slots$nextButton:IconButton_IconButton,PreviousButton=null!=(_slots$previousButton=slots.previousButton)?_slots$previousButton:IconButton_IconButton,FirstButtonIcon=null!=(_slots$firstButtonIco=slots.firstButtonIcon)?_slots$firstButtonIco:FirstPage,LastButtonIcon=null!=(_slots$lastButtonIcon=slots.lastButtonIcon)?_slots$lastButtonIcon:LastPage,NextButtonIcon=null!=(_slots$nextButtonIcon=slots.nextButtonIcon)?_slots$nextButtonIcon:KeyboardArrowRight,PreviousButtonIcon=null!=(_slots$previousButton2=slots.previousButtonIcon)?_slots$previousButton2:KeyboardArrowLeft,FirstButtonSlot=isRtl?LastButton:FirstButton,PreviousButtonSlot=isRtl?NextButton:PreviousButton,NextButtonSlot=isRtl?PreviousButton:NextButton,LastButtonSlot=isRtl?FirstButton:LastButton,firstButtonSlotProps=isRtl?slotProps.lastButton:slotProps.firstButton,previousButtonSlotProps=isRtl?slotProps.nextButton:slotProps.previousButton,nextButtonSlotProps=isRtl?slotProps.previousButton:slotProps.nextButton,lastButtonSlotProps=isRtl?slotProps.firstButton:slotProps.lastButton;return(0,jsx_runtime.jsxs)("div",(0,esm_extends.A)({ref},other,{children:[showFirstButton&&(0,jsx_runtime.jsx)(FirstButtonSlot,(0,esm_extends.A)({onClick:event=>{onPageChange(event,0)},disabled:disabled||0===page,"aria-label":getItemAriaLabel("first",page),title:getItemAriaLabel("first",page)},firstButtonSlotProps,{children:isRtl?(0,jsx_runtime.jsx)(LastButtonIcon,(0,esm_extends.A)({},slotProps.lastButtonIcon)):(0,jsx_runtime.jsx)(FirstButtonIcon,(0,esm_extends.A)({},slotProps.firstButtonIcon))})),(0,jsx_runtime.jsx)(PreviousButtonSlot,(0,esm_extends.A)({onClick:event=>{onPageChange(event,page-1)},disabled:disabled||0===page,color:"inherit","aria-label":getItemAriaLabel("previous",page),title:getItemAriaLabel("previous",page)},null!=previousButtonSlotProps?previousButtonSlotProps:backIconButtonProps,{children:isRtl?(0,jsx_runtime.jsx)(NextButtonIcon,(0,esm_extends.A)({},slotProps.nextButtonIcon)):(0,jsx_runtime.jsx)(PreviousButtonIcon,(0,esm_extends.A)({},slotProps.previousButtonIcon))})),(0,jsx_runtime.jsx)(NextButtonSlot,(0,esm_extends.A)({onClick:event=>{onPageChange(event,page+1)},disabled:disabled||-1!==count&&page>=Math.ceil(count/rowsPerPage)-1,color:"inherit","aria-label":getItemAriaLabel("next",page),title:getItemAriaLabel("next",page)},null!=nextButtonSlotProps?nextButtonSlotProps:nextIconButtonProps,{children:isRtl?(0,jsx_runtime.jsx)(PreviousButtonIcon,(0,esm_extends.A)({},slotProps.previousButtonIcon)):(0,jsx_runtime.jsx)(NextButtonIcon,(0,esm_extends.A)({},slotProps.nextButtonIcon))})),showLastButton&&(0,jsx_runtime.jsx)(LastButtonSlot,(0,esm_extends.A)({onClick:event=>{onPageChange(event,Math.max(0,Math.ceil(count/rowsPerPage)-1))},disabled:disabled||page>=Math.ceil(count/rowsPerPage)-1,"aria-label":getItemAriaLabel("last",page),title:getItemAriaLabel("last",page)},lastButtonSlotProps,{children:isRtl?(0,jsx_runtime.jsx)(FirstButtonIcon,(0,esm_extends.A)({},slotProps.firstButtonIcon)):(0,jsx_runtime.jsx)(LastButtonIcon,(0,esm_extends.A)({},slotProps.lastButtonIcon))}))]}))}),TablePagination_TablePaginationActions=TablePaginationActions;function getTablePaginationUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiTablePagination",slot)}const TablePagination_tablePaginationClasses=(0,generateUtilityClasses.A)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var _InputBase;const TablePagination_excluded=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],TablePaginationRoot=(0,styled.Ay)(TableCell_TableCell,{name:"MuiTablePagination",slot:"Root",overridesResolver:(props,styles)=>styles.root})(({theme})=>({overflow:"auto",color:(theme.vars||theme).palette.text.primary,fontSize:theme.typography.pxToRem(14),"&:last-child":{padding:0}})),TablePaginationToolbar=(0,styled.Ay)(Toolbar_Toolbar,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(props,styles)=>(0,esm_extends.A)({[`& .${TablePagination_tablePaginationClasses.actions}`]:styles.actions},styles.toolbar)})(({theme})=>({minHeight:52,paddingRight:2,[`${theme.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[theme.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${TablePagination_tablePaginationClasses.actions}`]:{flexShrink:0,marginLeft:20}})),TablePaginationSpacer=(0,styled.Ay)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(props,styles)=>styles.spacer})({flex:"1 1 100%"}),TablePaginationSelectLabel=(0,styled.Ay)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(props,styles)=>styles.selectLabel})(({theme})=>(0,esm_extends.A)({},theme.typography.body2,{flexShrink:0})),TablePaginationSelect=(0,styled.Ay)(Select_Select,{name:"MuiTablePagination",slot:"Select",overridesResolver:(props,styles)=>(0,esm_extends.A)({[`& .${TablePagination_tablePaginationClasses.selectIcon}`]:styles.selectIcon,[`& .${TablePagination_tablePaginationClasses.select}`]:styles.select},styles.input,styles.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${TablePagination_tablePaginationClasses.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),TablePaginationMenuItem=(0,styled.Ay)(MenuItem_MenuItem,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(props,styles)=>styles.menuItem})({}),TablePaginationDisplayedRows=(0,styled.Ay)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(props,styles)=>styles.displayedRows})(({theme})=>(0,esm_extends.A)({},theme.typography.body2,{flexShrink:0}));function defaultLabelDisplayedRows({from,to,count}){return`${from}${to} of ${-1!==count?count:`more than ${to}`}`}function defaultGetAriaLabel(type){return`Go to ${type} page`}const TablePagination=react.forwardRef(function TablePagination(inProps,ref){var _slotProps$select;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiTablePagination"}),{ActionsComponent=TablePagination_TablePaginationActions,backIconButtonProps,className,colSpan:colSpanProp,component=TableCell_TableCell,count,disabled=!1,getItemAriaLabel=defaultGetAriaLabel,labelDisplayedRows=defaultLabelDisplayedRows,labelRowsPerPage="Rows per page:",nextIconButtonProps,onPageChange,onRowsPerPageChange,page,rowsPerPage,rowsPerPageOptions=[10,25,50,100],SelectProps={},showFirstButton=!1,showLastButton=!1,slotProps={},slots={}}=props,other=(0,objectWithoutPropertiesLoose.A)(props,TablePagination_excluded),ownerState=props,classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},getTablePaginationUtilityClass,classes)})(ownerState),selectProps=null!=(_slotProps$select=null==slotProps?void 0:slotProps.select)?_slotProps$select:SelectProps,MenuItemComponent=selectProps.native?"option":TablePaginationMenuItem;let colSpan;component!==TableCell_TableCell&&"td"!==component||(colSpan=colSpanProp||1e3);const selectId=(0,utils_useId.A)(selectProps.id),labelId=(0,utils_useId.A)(selectProps.labelId);return(0,jsx_runtime.jsx)(TablePaginationRoot,(0,esm_extends.A)({colSpan,ref,as:component,ownerState,className:(0,clsx.A)(classes.root,className)},other,{children:(0,jsx_runtime.jsxs)(TablePaginationToolbar,{className:classes.toolbar,children:[(0,jsx_runtime.jsx)(TablePaginationSpacer,{className:classes.spacer}),rowsPerPageOptions.length>1&&(0,jsx_runtime.jsx)(TablePaginationSelectLabel,{className:classes.selectLabel,id:labelId,children:labelRowsPerPage}),rowsPerPageOptions.length>1&&(0,jsx_runtime.jsx)(TablePaginationSelect,(0,esm_extends.A)({variant:"standard"},!selectProps.variant&&{input:_InputBase||(_InputBase=(0,jsx_runtime.jsx)(InputBase_InputBase,{}))},{value:rowsPerPage,onChange:onRowsPerPageChange,id:selectId,labelId},selectProps,{classes:(0,esm_extends.A)({},selectProps.classes,{root:(0,clsx.A)(classes.input,classes.selectRoot,(selectProps.classes||{}).root),select:(0,clsx.A)(classes.select,(selectProps.classes||{}).select),icon:(0,clsx.A)(classes.selectIcon,(selectProps.classes||{}).icon)}),disabled,children:rowsPerPageOptions.map(rowsPerPageOption=>(0,react.createElement)(MenuItemComponent,(0,esm_extends.A)({},!isHostComponent_isHostComponent(MenuItemComponent)&&{ownerState},{className:classes.menuItem,key:rowsPerPageOption.label?rowsPerPageOption.label:rowsPerPageOption,value:rowsPerPageOption.value?rowsPerPageOption.value:rowsPerPageOption}),rowsPerPageOption.label?rowsPerPageOption.label:rowsPerPageOption))})),(0,jsx_runtime.jsx)(TablePaginationDisplayedRows,{className:classes.displayedRows,children:labelDisplayedRows({from:0===count?0:page*rowsPerPage+1,to:-1===count?(page+1)*rowsPerPage:-1===rowsPerPage?count:Math.min(count,(page+1)*rowsPerPage),count:-1===count?-1:count,page})}),(0,jsx_runtime.jsx)(ActionsComponent,{className:classes.actions,backIconButtonProps,count,nextIconButtonProps,onPageChange,page,rowsPerPage,showFirstButton,showLastButton,slotProps:slotProps.actions,slots:slots.actions,getItemAriaLabel,disabled})]})}))}),TablePagination_TablePagination=TablePagination;var Add=__webpack_require__(16718),Delete=__webpack_require__(67034),instance_index_of=__webpack_require__(64007),instance_index_of_default=__webpack_require__.n(instance_index_of);function schema_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function schema_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context6,_context7,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context6=schema_ownKeys(Object(t),!0)).call(_context6,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context7=schema_ownKeys(Object(t))).call(_context7,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var getFieldTitle=function getFieldTitle(field){return field.title||field.label||field.name},canDownloadCollection=function canDownloadCollection(collectionPath){var _collections$collecti,schema=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},collections=(null==schema?void 0:schema.collections)||schema||{};if(void 0!==(null===(_collections$collecti=collections[collectionPath])||void 0===_collections$collecti?void 0:_collections$collecti.download))return collections[collectionPath].download;if(includes_default()(collectionPath).call(collectionPath,"/")){var _collections$lastSegm,pathParts=collectionPath.split("/");if(pathParts.length>=3&&pathParts.length%2==1){var _context,_collections$simplifi,rootCollection=pathParts[0],subcollection=pathParts[pathParts.length-1],simplifiedKey=concat_default()(_context="".concat(rootCollection,"/")).call(_context,subcollection);if(void 0!==(null===(_collections$simplifi=collections[simplifiedKey])||void 0===_collections$simplifi?void 0:_collections$simplifi.download))return collections[simplifiedKey].download}var lastSegment=pathParts[pathParts.length-1];if(void 0!==(null===(_collections$lastSegm=collections[lastSegment])||void 0===_collections$lastSegm?void 0:_collections$lastSegm.download))return collections[lastSegment].download}return!0},getDefaultInListValue=function getDefaultInListValue(fieldType){return!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&("geoPoint"!==fieldType&&"reference"!==fieldType&&"map"!==fieldType&&"array"!==fieldType&&"editor"!==fieldType&&"assets"!==fieldType&&("string"===fieldType||"number"===fieldType||"boolean"===fieldType||"timestamp"===fieldType))},getVisibleFields=function getVisibleFields(fields,schema){var _context2,_ref=schema||{},includeFields=_ref.includeFields,ignoreFields=_ref.ignoreFields;return map_default()(_context2=filter_default()(fields).call(fields,function(field){return!function shouldIgnore(fieldName){return!(!ignoreFields||!includes_default()(ignoreFields).call(ignoreFields,fieldName))||!(includeFields&&includes_default()(includeFields).call(includeFields,fieldName)&&(!ignoreFields||!includes_default()(ignoreFields).call(ignoreFields,fieldName)))&&!!(includeFields&&includeFields.length>0)}(field.name)})).call(_context2,function(field){return schema_objectSpread(schema_objectSpread({},field),{},{label:field.title||field.label||field.name})})},getSchemaFields=function getSchemaFields(collectionSchema){return array_is_array_default()(collectionSchema)?collectionSchema:null!=collectionSchema&&collectionSchema.fields&&array_is_array_default()(collectionSchema.fields)?collectionSchema.fields:[]},getCollectionTitle=function getCollectionTitle(collectionName){var _collections$collecti2,_context3,schema=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},collections=(null==schema?void 0:schema.collections)||schema||{};return null!==(_collections$collecti2=collections[collectionName])&&void 0!==_collections$collecti2&&_collections$collecti2.title?collections[collectionName].title:map_default()(_context3=collectionName.split("_")).call(_context3,function(word){return word.charAt(0).toUpperCase()+instance_slice_default()(word).call(word,1)}).join(" ")},getOrderedFieldsForDetail=function getOrderedFieldsForDetail(fields){var _context4,_context5,priorityFields=["id","name","title"],priorityFieldsToMoveUp=[],fieldsToKeepInPlace=[];for_each_default()(fields).call(fields,function(field){if(includes_default()(priorityFields).call(priorityFields,field.name)){var hasCustomLabel=field.label&&field.label!==field.name,hasOtherOverrideProperties=void 0!==field.required||field.options||void 0!==field.min||void 0!==field.max;hasCustomLabel||hasOtherOverrideProperties?fieldsToKeepInPlace.push(field):priorityFieldsToMoveUp.push(field)}else fieldsToKeepInPlace.push(field)});var orderedPriorityFields=[];for_each_default()(priorityFields).call(priorityFields,function(priorityName){var field=find_default()(priorityFieldsToMoveUp).call(priorityFieldsToMoveUp,function(f){return f.name===priorityName});field&&orderedPriorityFields.push(field)});var remainingFields=sort_default()(_context4=filter_default()(fieldsToKeepInPlace).call(fieldsToKeepInPlace,function(f){return-1!==instance_index_of_default()(fields).call(fields,f)})).call(_context4,function(a,b){return instance_index_of_default()(fields).call(fields,a)-instance_index_of_default()(fields).call(fields,b)});return concat_default()(_context5=[]).call(_context5,orderedPriorityFields,_toConsumableArray(remainingFields))};var executeCustomFieldRenderInput=function executeCustomFieldRenderInput(customField,value,onChange){var fieldProps=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var context={name:(null==fieldProps?void 0:fieldProps.name)||"unknown",value,label:(null==fieldProps?void 0:fieldProps.label)||(null==fieldProps?void 0:fieldProps.name)||"unknown",console:{log:function log(){for(var _console,_context,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_console=console).log.apply(_console,concat_default()(_context=["[CustomField]"]).call(_context,args))},warn:function warn(){for(var _console2,_context2,_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_console2=console).warn.apply(_console2,concat_default()(_context2=["[CustomField]"]).call(_context2,args))},error:function error(){for(var _console3,_context3,_len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return(_console3=console).error.apply(_console3,concat_default()(_context3=["[CustomField]"]).call(_context3,args))}}},result=new Function("context","\n        const { name, value, label, console } = context;\n        \n        // Custom field render input function\n        const customFieldRenderInput = ".concat(customField.renderInput,";\n        \n        // Execute and return result\n        return customFieldRenderInput({ name, value, label });\n      "))(context);return array_is_array_default()(result)?result.length<2?(console.error("Custom field '".concat(customField.name||"unknown","' must return at least [render, getValue]")),null):"function"!=typeof result[0]?(console.error("Custom field '".concat(customField.name||"unknown","' first element must be a render function")),null):"function"!=typeof result[1]?(console.error("Custom field '".concat(customField.name||"unknown","' second element must be a getValue function")),null):{render:result[0],getValue:result[1],cleanup:"function"==typeof result[2]?result[2]:void 0}:(console.error("Custom field '".concat(customField.name||"unknown","' render function must return an array [render, getValue, cleanup?]")),null)}catch(error){return console.error("Error executing custom field '".concat(customField.name||"unknown","':"),error),null}},executeCustomFieldRenderOutput=function executeCustomFieldRenderOutput(customField,value){var fieldProps=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!customField.renderOutput)return null;try{var context={name:(null==fieldProps?void 0:fieldProps.name)||"unknown",value,label:(null==fieldProps?void 0:fieldProps.label)||(null==fieldProps?void 0:fieldProps.name)||"unknown",console:{log:function log(){for(var _console4,_context4,_len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return(_console4=console).log.apply(_console4,concat_default()(_context4=["[CustomField]"]).call(_context4,args))},warn:function warn(){for(var _console5,_context5,_len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return(_console5=console).warn.apply(_console5,concat_default()(_context5=["[CustomField]"]).call(_context5,args))},error:function error(){for(var _console6,_context6,_len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return(_console6=console).error.apply(_console6,concat_default()(_context6=["[CustomField]"]).call(_context6,args))}}},result=new Function("context","\n        const { name, value, label, console } = context;\n        \n        // Custom field render output function\n        const customFieldRenderOutput = ".concat(customField.renderOutput,";\n        \n        // Execute and return result\n        return customFieldRenderOutput({ name, value, label });\n      "))(context);return"function"==typeof result?{render:result,getValue:function getValue(){return value},cleanup:void 0}:array_is_array_default()(result)?0===result.length||"function"!=typeof result[0]?(console.error("Custom field '".concat(customField.name||"unknown","' renderOutput array must have a render function as first element")),null):{render:result[0],getValue:function getValue(){return value},cleanup:"function"==typeof result[1]?result[1]:void 0}:(console.error("Custom field '".concat(customField.name||"unknown","' renderOutput must return a function or array [render, cleanup?]")),null)}catch(error){return console.error("Error executing custom field renderOutput '".concat(customField.name||"unknown","':"),error),null}},validateCustomFieldValue=function validateCustomFieldValue(customField,value){if(!customField.validate)return!0;try{var context={value,console:{log:function log(){for(var _console7,_context7,_len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return(_console7=console).log.apply(_console7,concat_default()(_context7=["[CustomFieldValidation]"]).call(_context7,args))},warn:function warn(){for(var _console8,_context8,_len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return(_console8=console).warn.apply(_console8,concat_default()(_context8=["[CustomFieldValidation]"]).call(_context8,args))},error:function error(){for(var _console9,_context9,_len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return(_console9=console).error.apply(_console9,concat_default()(_context9=["[CustomFieldValidation]"]).call(_context9,args))}}},result=new Function("context","\n        const { value, console } = context;\n        \n        // Custom field validation function\n        const customFieldValidate = ".concat(customField.validate,";\n        \n        // Execute and return result\n        return customFieldValidate({ value, console });\n      "))(context);return!0===result||("string"==typeof result?result:"Invalid validation result from custom field '".concat(customField.name||"unknown","'"))}catch(error){return console.error("Error validating custom field '".concat(customField.name||"unknown","':"),error),"Validation error: ".concat(error.message)}},isCustomFieldType=function isCustomFieldType(fieldType,customFields){return Boolean(customFields[fieldType])},getCustomFieldDefinition=function getCustomFieldDefinition(fieldType,customFields){return customFields[fieldType]||null};function getDialogActionsUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDialogActions",slot)}(0,generateUtilityClasses.A)("MuiDialogActions",["root","spacing"]);const DialogActions_excluded=["className","disableSpacing"],DialogActionsRoot=(0,styled.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,!ownerState.disableSpacing&&styles.spacing]}})(({ownerState})=>(0,esm_extends.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!ownerState.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),DialogActions=react.forwardRef(function DialogActions(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiDialogActions"}),{className,disableSpacing=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,DialogActions_excluded),ownerState=(0,esm_extends.A)({},props,{disableSpacing}),classes=(ownerState=>{const{classes,disableSpacing}=ownerState,slots={root:["root",!disableSpacing&&"spacing"]};return(0,composeClasses.A)(slots,getDialogActionsUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(DialogActionsRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other))}),DialogActions_DialogActions=DialogActions,esm_Close=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const common_FormDialog=function FormDialog(_ref){var open=_ref.open,onClose=_ref.onClose,title=_ref.title,children=_ref.children,actions=_ref.actions,_ref$maxWidth=_ref.maxWidth,maxWidth=void 0!==_ref$maxWidth&&_ref$maxWidth,_ref$fullWidth=_ref.fullWidth,fullWidth=void 0===_ref$fullWidth||_ref$fullWidth,_ref$disableEscapeKey=_ref.disableEscapeKeyDown,disableEscapeKeyDown=void 0!==_ref$disableEscapeKey&&_ref$disableEscapeKey,_ref$showCloseIcon=_ref.showCloseIcon,showCloseIcon=void 0!==_ref$showCloseIcon&&_ref$showCloseIcon;return react.createElement(Dialog_Dialog,{open,onClose,maxWidth,fullWidth,disableEscapeKeyDown,sx:{"& .MuiDialog-paper":{display:"flex",flexDirection:"column",maxHeight:"90vh",maxWidth:"1024px"}}},react.createElement(DialogContent_DialogContent,{sx:{flex:1,overflow:"auto",px:3,py:0}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pt:3,pb:2}},react.createElement(material_Typography_Typography,{variant:"h6",component:"div"},title),showCloseIcon&&react.createElement(IconButton_IconButton,{"aria-label":"close",onClick:onClose,sx:{ml:1,color:function color(theme){return theme.palette.grey[500]}}},react.createElement(esm_Close,null))),react.createElement(material_Box_Box,{sx:{pb:2}},children)),react.createElement(DialogActions_DialogActions,{sx:{flexShrink:0,pt:0,px:3,pb:3,backgroundColor:function backgroundColor(theme){return theme.palette.background.paper},position:"sticky",bottom:0,zIndex:1}},actions))};var Clear=__webpack_require__(12092),SearchField=function SearchField(_ref){var placeholder=_ref.placeholder,value=_ref.value,onChange=_ref.onChange,onDebouncedChange=_ref.onDebouncedChange,_ref$size=_ref.size,size=void 0===_ref$size?"small":_ref$size,_ref$debounceMs=_ref.debounceMs,debounceMs=void 0===_ref$debounceMs?700:_ref$debounceMs,_useState2=slicedToArray_slicedToArray((0,react.useState)(value||""),2),localValue=_useState2[0],setLocalValue=_useState2[1],debounceRef=(0,react.useRef)();(0,react.useEffect)(function(){setLocalValue(value||"")},[value]);var handleDebouncedChange=(0,react.useCallback)(function(newValue){debounceRef.current&&clearTimeout(debounceRef.current),debounceRef.current=set_timeout_default()(function(){null==onDebouncedChange||onDebouncedChange(newValue)},debounceMs)},[onDebouncedChange,debounceMs]),handleInputChange=function handleInputChange(newValue){setLocalValue(newValue),null==onChange||onChange(newValue),handleDebouncedChange(newValue)};return(0,react.useEffect)(function(){return function(){debounceRef.current&&clearTimeout(debounceRef.current)}},[]),react.createElement(TextField_TextField,{placeholder,variant:"outlined",size,value:localValue,onChange:function onChange(e){return handleInputChange(e.target.value)},onKeyPress:function handleKeyPress(event){"Enter"===event.key&&(debounceRef.current&&clearTimeout(debounceRef.current),null==onDebouncedChange||onDebouncedChange(localValue))},sx:{flex:1,zIndex:1,"& .MuiInputBase-input":{color:"#757575",fontSize:"0.95rem"},"& .MuiInputBase-input::placeholder":{color:"#9E9E9E",opacity:1}},InputProps:{startAdornment:react.createElement(material_Box_Box,{sx:{mr:1,color:"#9E9E9E",mt:"6px"}},react.createElement("svg",{width:"small"===size?"18":"20",height:"small"===size?"18":"20",viewBox:"0 0 24 24",fill:"currentColor"},react.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))),endAdornment:localValue&&trim_default()(localValue).call(localValue)?react.createElement(IconButton_IconButton,{size:"small",onClick:function handleClear(){setLocalValue(""),null==onChange||onChange(""),debounceRef.current&&clearTimeout(debounceRef.current),null==onDebouncedChange||onDebouncedChange("")},edge:"end",sx:{mr:.5,color:"#9E9E9E","&:hover":{color:"#757575",backgroundColor:"rgba(0, 0, 0, 0.04)"}}},react.createElement(Clear.A,{fontSize:"small"===size?"small":"medium"})):null,sx:{backgroundColor:"#F5F5F5",borderRadius:2,zIndex:1,"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"2px solid #FF6B35"}}}})},AddButton=function AddButton(_ref){var onClick=_ref.onClick,text=_ref.text,_ref$size=_ref.size,size=void 0===_ref$size?"small":_ref$size,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,icon=_ref.icon,isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),IconComponent=icon||react.createElement(Add.A,null);return react.createElement(material_Button_Button,{variant:"contained",startIcon:isMobile?void 0:IconComponent,onClick,disabled,size,sx:{borderRadius:6,textTransform:"none",fontWeight:600,backgroundColor:"#FF6B35",px:isMobile?0:3,py:isMobile?0:"small"===size?1:1.5,minWidth:isMobile?40:"auto",width:isMobile?40:"auto",height:isMobile?40:"auto",boxShadow:"0 2px 8px rgba(255, 107, 53, 0.2)","&:hover":{backgroundColor:"#E55D2B",boxShadow:"0 4px 12px rgba(255, 107, 53, 0.3)"},"&:disabled":{backgroundColor:"#cccccc",boxShadow:"none"}}},isMobile?IconComponent:text)};const MoreHoriz=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),BreadcrumbCollapsed_excluded=["slots","slotProps"],BreadcrumbCollapsedButton=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiBreadcrumbCollapsed"})(({theme})=>(0,esm_extends.A)({display:"flex",marginLeft:`calc(${theme.spacing(1)} * 0.5)`,marginRight:`calc(${theme.spacing(1)} * 0.5)`},"light"===theme.palette.mode?{backgroundColor:theme.palette.grey[100],color:theme.palette.grey[700]}:{backgroundColor:theme.palette.grey[700],color:theme.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,esm_extends.A)({},"light"===theme.palette.mode?{backgroundColor:theme.palette.grey[200]}:{backgroundColor:theme.palette.grey[600]}),"&:active":(0,esm_extends.A)({boxShadow:theme.shadows[0]},"light"===theme.palette.mode?{backgroundColor:(0,colorManipulator.tL)(theme.palette.grey[200],.12)}:{backgroundColor:(0,colorManipulator.tL)(theme.palette.grey[600],.12)})})),BreadcrumbCollapsedIcon=(0,styled.Ay)(MoreHoriz)({width:24,height:16});const Breadcrumbs_BreadcrumbCollapsed=function BreadcrumbCollapsed(props){const{slots={},slotProps={}}=props,otherProps=(0,objectWithoutPropertiesLoose.A)(props,BreadcrumbCollapsed_excluded),ownerState=props;return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(BreadcrumbCollapsedButton,(0,esm_extends.A)({focusRipple:!0},otherProps,{ownerState,children:(0,jsx_runtime.jsx)(BreadcrumbCollapsedIcon,(0,esm_extends.A)({as:slots.CollapsedIcon,ownerState},slotProps.collapsedIcon))}))})};function getBreadcrumbsUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiBreadcrumbs",slot)}const Breadcrumbs_breadcrumbsClasses=(0,generateUtilityClasses.A)("MuiBreadcrumbs",["root","ol","li","separator"]),Breadcrumbs_excluded=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],BreadcrumbsRoot=(0,styled.Ay)(material_Typography_Typography,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(props,styles)=>[{[`& .${Breadcrumbs_breadcrumbsClasses.li}`]:styles.li},styles.root]})({}),BreadcrumbsOl=(0,styled.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(props,styles)=>styles.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),BreadcrumbsSeparator=(0,styled.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(props,styles)=>styles.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function insertSeparators(items,className,separator,ownerState){return items.reduce((acc,current,index)=>(index<items.length-1?acc=acc.concat(current,(0,jsx_runtime.jsx)(BreadcrumbsSeparator,{"aria-hidden":!0,className,ownerState,children:separator},`separator-${index}`)):acc.push(current),acc),[])}const Breadcrumbs=react.forwardRef(function Breadcrumbs(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiBreadcrumbs"}),{children,className,component="nav",slots={},slotProps={},expandText="Show path",itemsAfterCollapse=1,itemsBeforeCollapse=1,maxItems=8,separator="/"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Breadcrumbs_excluded),[expanded,setExpanded]=react.useState(!1),ownerState=(0,esm_extends.A)({},props,{component,expanded,expandText,itemsAfterCollapse,itemsBeforeCollapse,maxItems,separator}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},getBreadcrumbsUtilityClass,classes)})(ownerState),collapsedIconSlotProps=useSlotProps_useSlotProps({elementType:slots.CollapsedIcon,externalSlotProps:slotProps.collapsedIcon,ownerState}),listRef=react.useRef(null),allItems=react.Children.toArray(children).filter(child=>react.isValidElement(child)).map((child,index)=>(0,jsx_runtime.jsx)("li",{className:classes.li,children:child},`child-${index}`));return(0,jsx_runtime.jsx)(BreadcrumbsRoot,(0,esm_extends.A)({ref,component,color:"text.secondary",className:(0,clsx.A)(classes.root,className),ownerState},other,{children:(0,jsx_runtime.jsx)(BreadcrumbsOl,{className:classes.ol,ref:listRef,ownerState,children:insertSeparators(expanded||maxItems&&allItems.length<=maxItems?allItems:(allItems=>itemsBeforeCollapse+itemsAfterCollapse>=allItems.length?allItems:[...allItems.slice(0,itemsBeforeCollapse),(0,jsx_runtime.jsx)(Breadcrumbs_BreadcrumbCollapsed,{"aria-label":expandText,slots:{CollapsedIcon:slots.CollapsedIcon},slotProps:{collapsedIcon:collapsedIconSlotProps},onClick:()=>{setExpanded(!0);const focusable=listRef.current.querySelector("a[href],button,[tabindex]");focusable&&focusable.focus()}},"ellipsis"),...allItems.slice(allItems.length-itemsAfterCollapse,allItems.length)])(allItems),classes.separator,separator,ownerState)})}))}),Breadcrumbs_Breadcrumbs=Breadcrumbs;function getListItemUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItem",slot)}const ListItem_listItemClasses=(0,generateUtilityClasses.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function getListItemButtonUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItemButton",slot)}const ListItemButton_listItemButtonClasses=(0,generateUtilityClasses.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function getListItemSecondaryActionClassesUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiListItemSecondaryAction",slot)}(0,generateUtilityClasses.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const ListItemSecondaryAction_excluded=["className"],ListItemSecondaryActionRoot=(0,styled.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.disableGutters&&styles.disableGutters]}})(({ownerState})=>(0,esm_extends.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},ownerState.disableGutters&&{right:0})),ListItemSecondaryAction=react.forwardRef(function ListItemSecondaryAction(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiListItemSecondaryAction"}),{className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ListItemSecondaryAction_excluded),context=react.useContext(List_ListContext),ownerState=(0,esm_extends.A)({},props,{disableGutters:context.disableGutters}),classes=(ownerState=>{const{disableGutters,classes}=ownerState,slots={root:["root",disableGutters&&"disableGutters"]};return(0,composeClasses.A)(slots,getListItemSecondaryActionClassesUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(ListItemSecondaryActionRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction_ListItemSecondaryAction=ListItemSecondaryAction,ListItem_excluded=["className"],ListItem_excluded2=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ListItemRoot=(0,styled.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.dense&&styles.dense,"flex-start"===ownerState.alignItems&&styles.alignItemsFlexStart,ownerState.divider&&styles.divider,!ownerState.disableGutters&&styles.gutters,!ownerState.disablePadding&&styles.padding,ownerState.button&&styles.button,ownerState.hasSecondaryAction&&styles.secondaryAction]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!ownerState.disablePadding&&(0,esm_extends.A)({paddingTop:8,paddingBottom:8},ownerState.dense&&{paddingTop:4,paddingBottom:4},!ownerState.disableGutters&&{paddingLeft:16,paddingRight:16},!!ownerState.secondaryAction&&{paddingRight:48}),!!ownerState.secondaryAction&&{[`& > .${ListItemButton_listItemButtonClasses.root}`]:{paddingRight:48}},{[`&.${ListItem_listItemClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette.action.focus},[`&.${ListItem_listItemClasses.selected}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity),[`&.${ListItem_listItemClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.focusOpacity)}},[`&.${ListItem_listItemClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity}},"flex-start"===ownerState.alignItems&&{alignItems:"flex-start"},ownerState.divider&&{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`,backgroundClip:"padding-box"},ownerState.button&&{transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(theme.vars||theme).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ListItem_listItemClasses.selected}:hover`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity)}}},ownerState.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=(0,styled.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(props,styles)=>styles.container})({position:"relative"}),ListItem=react.forwardRef(function ListItem(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiListItem"}),{alignItems="center",autoFocus=!1,button=!1,children:childrenProp,className,component:componentProp,components={},componentsProps={},ContainerComponent="li",ContainerProps:{className:ContainerClassName}={},dense=!1,disabled=!1,disableGutters=!1,disablePadding=!1,divider=!1,focusVisibleClassName,secondaryAction,selected=!1,slotProps={},slots={}}=props,ContainerProps=(0,objectWithoutPropertiesLoose.A)(props.ContainerProps,ListItem_excluded),other=(0,objectWithoutPropertiesLoose.A)(props,ListItem_excluded2),context=react.useContext(List_ListContext),childContext=react.useMemo(()=>({dense:dense||context.dense||!1,alignItems,disableGutters}),[alignItems,context.dense,dense,disableGutters]),listItemRef=react.useRef(null);(0,utils_useEnhancedEffect.A)(()=>{autoFocus&&listItemRef.current&&listItemRef.current.focus()},[autoFocus]);const children=react.Children.toArray(childrenProp),hasSecondaryAction=children.length&&(0,isMuiElement.A)(children[children.length-1],["ListItemSecondaryAction"]),ownerState=(0,esm_extends.A)({},props,{alignItems,autoFocus,button,dense:childContext.dense,disabled,disableGutters,disablePadding,divider,hasSecondaryAction,selected}),classes=(ownerState=>{const{alignItems,button,classes,dense,disabled,disableGutters,disablePadding,divider,hasSecondaryAction,selected}=ownerState,slots={root:["root",dense&&"dense",!disableGutters&&"gutters",!disablePadding&&"padding",divider&&"divider",disabled&&"disabled",button&&"button","flex-start"===alignItems&&"alignItemsFlexStart",hasSecondaryAction&&"secondaryAction",selected&&"selected"],container:["container"]};return(0,composeClasses.A)(slots,getListItemUtilityClass,classes)})(ownerState),handleRef=(0,utils_useForkRef.A)(listItemRef,ref),Root=slots.root||components.Root||ListItemRoot,rootProps=slotProps.root||componentsProps.root||{},componentProps=(0,esm_extends.A)({className:(0,clsx.A)(classes.root,rootProps.className,className),disabled},other);let Component=componentProp||"li";return button&&(componentProps.component=componentProp||"div",componentProps.focusVisibleClassName=(0,clsx.A)(ListItem_listItemClasses.focusVisible,focusVisibleClassName),Component=ButtonBase_ButtonBase),hasSecondaryAction?(Component=componentProps.component||componentProp?Component:"div","li"===ContainerComponent&&("li"===Component?Component="div":"li"===componentProps.component&&(componentProps.component="div")),(0,jsx_runtime.jsx)(List_ListContext.Provider,{value:childContext,children:(0,jsx_runtime.jsxs)(ListItemContainer,(0,esm_extends.A)({as:ContainerComponent,className:(0,clsx.A)(classes.container,ContainerClassName),ref:handleRef,ownerState},ContainerProps,{children:[(0,jsx_runtime.jsx)(Root,(0,esm_extends.A)({},rootProps,!isHostComponent_isHostComponent(Root)&&{as:Component,ownerState:(0,esm_extends.A)({},ownerState,rootProps.ownerState)},componentProps,{children})),children.pop()]}))})):(0,jsx_runtime.jsx)(List_ListContext.Provider,{value:childContext,children:(0,jsx_runtime.jsxs)(Root,(0,esm_extends.A)({},rootProps,{as:Component,ref:handleRef},!isHostComponent_isHostComponent(Root)&&{ownerState:(0,esm_extends.A)({},ownerState,rootProps.ownerState)},componentProps,{children:[children,secondaryAction&&(0,jsx_runtime.jsx)(ListItemSecondaryAction_ListItemSecondaryAction,{children:secondaryAction})]}))})}),ListItem_ListItem=ListItem,ListItemButton_excluded=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],ListItemButtonRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiListItemButton",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.dense&&styles.dense,"flex-start"===ownerState.alignItems&&styles.alignItemsFlexStart,ownerState.divider&&styles.divider,!ownerState.disableGutters&&styles.gutters]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(theme.vars||theme).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ListItemButton_listItemButtonClasses.selected}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity),[`&.${ListItemButton_listItemButtonClasses.focusVisible}`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.focusOpacity)}},[`&.${ListItemButton_listItemButtonClasses.selected}:hover`]:{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity+theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})`:(0,colorManipulator.X4)(theme.palette.primary.main,theme.palette.action.selectedOpacity)}},[`&.${ListItemButton_listItemButtonClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette.action.focus},[`&.${ListItemButton_listItemButtonClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity}},ownerState.divider&&{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`,backgroundClip:"padding-box"},"flex-start"===ownerState.alignItems&&{alignItems:"flex-start"},!ownerState.disableGutters&&{paddingLeft:16,paddingRight:16},ownerState.dense&&{paddingTop:4,paddingBottom:4})),ListItemButton=react.forwardRef(function ListItemButton(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiListItemButton"}),{alignItems="center",autoFocus=!1,component="div",children,dense=!1,disableGutters=!1,divider=!1,focusVisibleClassName,selected=!1,className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ListItemButton_excluded),context=react.useContext(List_ListContext),childContext=react.useMemo(()=>({dense:dense||context.dense||!1,alignItems,disableGutters}),[alignItems,context.dense,dense,disableGutters]),listItemRef=react.useRef(null);(0,utils_useEnhancedEffect.A)(()=>{autoFocus&&listItemRef.current&&listItemRef.current.focus()},[autoFocus]);const ownerState=(0,esm_extends.A)({},props,{alignItems,dense:childContext.dense,disableGutters,divider,selected}),classes=(ownerState=>{const{alignItems,classes,dense,disabled,disableGutters,divider,selected}=ownerState,slots={root:["root",dense&&"dense",!disableGutters&&"gutters",divider&&"divider",disabled&&"disabled","flex-start"===alignItems&&"alignItemsFlexStart",selected&&"selected"]},composedClasses=(0,composeClasses.A)(slots,getListItemButtonUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(ownerState),handleRef=(0,utils_useForkRef.A)(listItemRef,ref);return(0,jsx_runtime.jsx)(List_ListContext.Provider,{value:childContext,children:(0,jsx_runtime.jsx)(ListItemButtonRoot,(0,esm_extends.A)({ref:handleRef,href:other.href||other.to,component:(other.href||other.to)&&"div"===component?"button":component,focusVisibleClassName:(0,clsx.A)(classes.focusVisible,focusVisibleClassName),ownerState,className:(0,clsx.A)(classes.root,className)},other,{classes,children}))})}),ListItemButton_ListItemButton=ListItemButton,ListItemText_excluded=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ListItemTextRoot=(0,styled.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${ListItemText_listItemTextClasses.primary}`]:styles.primary},{[`& .${ListItemText_listItemTextClasses.secondary}`]:styles.secondary},styles.root,ownerState.inset&&styles.inset,ownerState.primary&&ownerState.secondary&&styles.multiline,ownerState.dense&&styles.dense]}})(({ownerState})=>(0,esm_extends.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},ownerState.primary&&ownerState.secondary&&{marginTop:6,marginBottom:6},ownerState.inset&&{paddingLeft:56})),ListItemText=react.forwardRef(function ListItemText(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiListItemText"}),{children,className,disableTypography=!1,inset=!1,primary:primaryProp,primaryTypographyProps,secondary:secondaryProp,secondaryTypographyProps}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ListItemText_excluded),{dense}=react.useContext(List_ListContext);let primary=null!=primaryProp?primaryProp:children,secondary=secondaryProp;const ownerState=(0,esm_extends.A)({},props,{disableTypography,inset,primary:!!primary,secondary:!!secondary,dense}),classes=(ownerState=>{const{classes,inset,primary,secondary,dense}=ownerState,slots={root:["root",inset&&"inset",dense&&"dense",primary&&secondary&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,composeClasses.A)(slots,getListItemTextUtilityClass,classes)})(ownerState);return null==primary||primary.type===material_Typography_Typography||disableTypography||(primary=(0,jsx_runtime.jsx)(material_Typography_Typography,(0,esm_extends.A)({variant:dense?"body2":"body1",className:classes.primary,component:null!=primaryTypographyProps&&primaryTypographyProps.variant?void 0:"span",display:"block"},primaryTypographyProps,{children:primary}))),null==secondary||secondary.type===material_Typography_Typography||disableTypography||(secondary=(0,jsx_runtime.jsx)(material_Typography_Typography,(0,esm_extends.A)({variant:"body2",className:classes.secondary,color:"text.secondary",display:"block"},secondaryTypographyProps,{children:secondary}))),(0,jsx_runtime.jsxs)(ListItemTextRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other,{children:[primary,secondary]}))}),ListItemText_ListItemText=ListItemText;var icons_material_ArrowBack=__webpack_require__(92659),NavigateNext=__webpack_require__(58727),ReferenceOptionDisplay=function ReferenceOptionDisplay(_ref){var document=_ref.document,referencePath=_ref.referencePath,schema=_ref.schema,schemaCollections=(null==schema?void 0:schema.collections)||schema||{},referencedCollectionConfig=referencePath?schemaCollections[referencePath]:null;return react.createElement(react.Fragment,null,function getDisplayTitle(){return document?(null==referencedCollectionConfig?void 0:referencedCollectionConfig.titleTemplate)?function getDocumentTitleWithTemplate(document,collectionPath){var _schemaCollections$co,_schemaCollections$co2,titleTemplate,schema=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},schemaCollections=(null==schema?void 0:schema.collections)||schema||{};if(null!==(_schemaCollections$co=schemaCollections[collectionPath])&&void 0!==_schemaCollections$co&&_schemaCollections$co.titleTemplate)titleTemplate=schemaCollections[collectionPath].titleTemplate;else if(includes_default()(collectionPath).call(collectionPath,"/")){var pathParts=collectionPath.split("/");if(pathParts.length>=3&&pathParts.length%2==1){var _context,_schemaCollections$si,rootCollection=pathParts[0],subcollection=pathParts[pathParts.length-1],simplifiedKey=concat_default()(_context="".concat(rootCollection,"/")).call(_context,subcollection);null!==(_schemaCollections$si=schemaCollections[simplifiedKey])&&void 0!==_schemaCollections$si&&_schemaCollections$si.titleTemplate&&(titleTemplate=schemaCollections[simplifiedKey].titleTemplate)}if(!titleTemplate){var _schemaCollections$la,lastSegment=pathParts[pathParts.length-1];null!==(_schemaCollections$la=schemaCollections[lastSegment])&&void 0!==_schemaCollections$la&&_schemaCollections$la.titleTemplate&&(titleTemplate=schemaCollections[lastSegment].titleTemplate)}}else null!==(_schemaCollections$co2=schemaCollections[collectionPath])&&void 0!==_schemaCollections$co2&&_schemaCollections$co2.titleTemplate&&(titleTemplate=schemaCollections[collectionPath].titleTemplate);if(titleTemplate&&document)try{return titleTemplate.replace(/\$\{([^}]+)\}/g,function(match,fieldName){var value=document[trim_default()(fieldName).call(fieldName)];return null!=value?String(value):match})}catch(error){console.warn("Error processing titleTemplate:",error)}return(null==document?void 0:document.title)||(null==document?void 0:document.name)||(null==document?void 0:document.displayName)||(null==document?void 0:document.id)||"Unknown"}(document,referencePath,schema||{}):document.title||document.name||document.displayName||document.id:"Unknown"}())},ReferenceSelector=function ReferenceSelector(_ref2){var _context2,open=_ref2.open,onClose=_ref2.onClose,loading=_ref2.loading,currentField=_ref2.currentField,options=_ref2.options,navigationLevels=_ref2.navigationLevels,currentLevelIndex=_ref2.currentLevelIndex,onSelect=_ref2.onSelect,onBackToLevel=_ref2.onBackToLevel,onSearch=_ref2.onSearch,onLoadMore=_ref2.onLoadMore,currentSearchTerm=_ref2.currentSearchTerm,hasMore=_ref2.hasMore,totalCount=_ref2.totalCount,schema=useSchema().schema,formatMessage=useIntl().formatMessage,collectionSegments=(null==currentField?void 0:filter_default()(_context2=currentField.referencePath.split("/")).call(_context2,function(s){return""!==trim_default()(s).call(s)}))||[],isLastLevel=currentLevelIndex===collectionSegments.length-1,currentCollectionName=collectionSegments[currentLevelIndex]||"";return react.createElement(Dialog_Dialog,{open,onClose,maxWidth:"md",fullWidth:!0},react.createElement(DialogTitle_DialogTitle,null,react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{component:"div"},formatMessage({id:"content.select_reference",defaultMessage:"Select {fieldLabel}"},isLastLevel?{fieldLabel:(null==currentField?void 0:currentField.name)||"Reference"}:{fieldLabel:currentCollectionName})),currentField&&react.createElement(material_Typography_Typography,{variant:"subtitle2",color:"textSecondary",component:"div"},"Field: ",currentField.name,"  ",currentField.referencePath))),react.createElement(DialogContent_DialogContent,{sx:{overflow:"visible"}},function renderBreadcrumbs(){return collectionSegments.length<=1?null:react.createElement(material_Box_Box,{sx:{mb:2}},react.createElement(Breadcrumbs_Breadcrumbs,{separator:react.createElement(NavigateNext.A,{fontSize:"small"}),"aria-label":"navigation breadcrumb"},map_default()(collectionSegments).call(collectionSegments,function(segment,index){var _navigationLevels$ind,isActive=index===currentLevelIndex,isCompleted=index<currentLevelIndex,selectedDoc=null===(_navigationLevels$ind=navigationLevels[index])||void 0===_navigationLevels$ind?void 0:_navigationLevels$ind.selectedDocument;return 0===index?react.createElement(material_Typography_Typography,{key:index,variant:"body2",sx:{color:isActive?"primary.main":isCompleted?"text.primary":"text.secondary",fontWeight:isActive?600:400,cursor:isCompleted?"pointer":"default",textTransform:"capitalize"},onClick:function onClick(){return isCompleted?onBackToLevel(index):void 0}},segment):react.createElement(material_Box_Box,{key:index,sx:{display:"flex",alignItems:"center",gap:1}},selectedDoc&&react.createElement(material_Chip_Chip,{label:selectedDoc.title||selectedDoc.name||selectedDoc.id,size:"small",variant:"outlined",sx:{maxWidth:120}}),react.createElement(material_Typography_Typography,{variant:"body2",sx:{color:isActive?"primary.main":isCompleted?"text.primary":"text.secondary",fontWeight:isActive?600:400,cursor:isCompleted?"pointer":"default",textTransform:"capitalize"},onClick:function onClick(){return isCompleted?onBackToLevel(index):void 0}},segment))})))}(),react.createElement(material_Box_Box,{sx:{mb:2,minHeight:40}},react.createElement(SearchField,{placeholder:"Search ".concat(currentCollectionName,"..."),value:currentSearchTerm,onDebouncedChange:onSearch,size:"small"})),totalCount>0&&react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary",sx:{mb:1}},options.length," of ",totalCount," items",currentSearchTerm&&' (filtered by "'.concat(currentSearchTerm,'")')),loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",p:4},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(List_List,{sx:{pt:0}},options.length>0?map_default()(options).call(options,function(doc){var _context3,_navigationLevels$cur,_context4;return react.createElement(ListItem_ListItem,{key:concat_default()(_context3="".concat(doc._fullPath||"doc","-")).call(_context3,doc.id),disablePadding:!0},react.createElement(ListItemButton_ListItemButton,{onClick:function onClick(){return onSelect(doc)}},react.createElement(ListItemText_ListItemText,{primary:currentField?react.createElement(ReferenceOptionDisplay,{document:doc,referencePath:(null===(_navigationLevels$cur=navigationLevels[currentLevelIndex])||void 0===_navigationLevels$cur?void 0:_navigationLevels$cur.collectionPath)||currentField.referencePath,schema:schema||{}}):doc.name||doc.title||doc.id,secondary:concat_default()(_context4="ID: ".concat(doc.id)).call(_context4,isLastLevel?"":"  Continue ")})))}):react.createElement(material_Typography_Typography,{variant:"body1",color:"textSecondary",sx:{p:2,textAlign:"center"}},trim_default()(currentSearchTerm).call(currentSearchTerm)?formatMessage({id:"reference.no_search_results",defaultMessage:'No items found in {collectionName} matching "{searchTerm}"'},{collectionName:currentCollectionName,searchTerm:trim_default()(currentSearchTerm).call(currentSearchTerm)}):formatMessage({id:"reference.no_items",defaultMessage:"No items found in {collectionName}"},{collectionName:currentCollectionName}))),hasMore&&!loading&&react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"center",mt:2}},react.createElement(material_Button_Button,{variant:"outlined",onClick:onLoadMore,disabled:loading},"Load More"))),react.createElement(DialogActions_DialogActions,{sx:{pt:0,px:3,pb:3}},currentLevelIndex>0&&react.createElement(material_Button_Button,{onClick:function onClick(){return onBackToLevel(currentLevelIndex-1)},startIcon:react.createElement(icons_material_ArrowBack.A,null)},"Back"),react.createElement(material_Button_Button,{onClick:onClose,color:"primary"},react.createElement(message,{id:"content.cancel",defaultMessage:"Cancel"}))))},pad_start=__webpack_require__(54929),pad_start_default=__webpack_require__.n(pad_start),shim=__webpack_require__(19888);function OrderedMap(content){this.content=content}OrderedMap.prototype={constructor:OrderedMap,find:function(key){for(var i=0;i<this.content.length;i+=2)if(this.content[i]===key)return i;return-1},get:function(key){var found=this.find(key);return-1==found?void 0:this.content[found+1]},update:function(key,value,newKey){var self=newKey&&newKey!=key?this.remove(newKey):this,found=self.find(key),content=self.content.slice();return-1==found?content.push(newKey||key,value):(content[found+1]=value,newKey&&(content[found]=newKey)),new OrderedMap(content)},remove:function(key){var found=this.find(key);if(-1==found)return this;var content=this.content.slice();return content.splice(found,2),new OrderedMap(content)},addToStart:function(key,value){return new OrderedMap([key,value].concat(this.remove(key).content))},addToEnd:function(key,value){var content=this.remove(key).content.slice();return content.push(key,value),new OrderedMap(content)},addBefore:function(place,key,value){var without=this.remove(key),content=without.content.slice(),found=without.find(place);return content.splice(-1==found?content.length:found,0,key,value),new OrderedMap(content)},forEach:function(f){for(var i=0;i<this.content.length;i+=2)f(this.content[i],this.content[i+1])},prepend:function(map){return(map=OrderedMap.from(map)).size?new OrderedMap(map.content.concat(this.subtract(map).content)):this},append:function(map){return(map=OrderedMap.from(map)).size?new OrderedMap(this.subtract(map).content.concat(map.content)):this},subtract:function(map){var result=this;map=OrderedMap.from(map);for(var i=0;i<map.content.length;i+=2)result=result.remove(map.content[i]);return result},toObject:function(){var result={};return this.forEach(function(key,value){result[key]=value}),result},get size(){return this.content.length>>1}},OrderedMap.from=function(value){if(value instanceof OrderedMap)return value;var content=[];if(value)for(var prop in value)content.push(prop,value[prop]);return new OrderedMap(content)};const dist=OrderedMap;function findDiffStart(a,b,pos){for(let i=0;;i++){if(i==a.childCount||i==b.childCount)return a.childCount==b.childCount?null:pos;let childA=a.child(i),childB=b.child(i);if(childA!=childB){if(!childA.sameMarkup(childB))return pos;if(childA.isText&&childA.text!=childB.text){for(let j=0;childA.text[j]==childB.text[j];j++)pos++;return pos}if(childA.content.size||childB.content.size){let inner=findDiffStart(childA.content,childB.content,pos+1);if(null!=inner)return inner}pos+=childA.nodeSize}else pos+=childA.nodeSize}}function findDiffEnd(a,b,posA,posB){for(let iA=a.childCount,iB=b.childCount;;){if(0==iA||0==iB)return iA==iB?null:{a:posA,b:posB};let childA=a.child(--iA),childB=b.child(--iB),size=childA.nodeSize;if(childA!=childB){if(!childA.sameMarkup(childB))return{a:posA,b:posB};if(childA.isText&&childA.text!=childB.text){let same=0,minSize=Math.min(childA.text.length,childB.text.length);for(;same<minSize&&childA.text[childA.text.length-same-1]==childB.text[childB.text.length-same-1];)same++,posA--,posB--;return{a:posA,b:posB}}if(childA.content.size||childB.content.size){let inner=findDiffEnd(childA.content,childB.content,posA-1,posB-1);if(inner)return inner}posA-=size,posB-=size}else posA-=size,posB-=size}}class dist_Fragment{constructor(content,size){if(this.content=content,this.size=size||0,null==size)for(let i=0;i<content.length;i++)this.size+=content[i].nodeSize}nodesBetween(from,to,f,nodeStart=0,parent){for(let i=0,pos=0;pos<to;i++){let child=this.content[i],end=pos+child.nodeSize;if(end>from&&!1!==f(child,nodeStart+pos,parent||null,i)&&child.content.size){let start=pos+1;child.nodesBetween(Math.max(0,from-start),Math.min(child.content.size,to-start),f,nodeStart+start)}pos=end}}descendants(f){this.nodesBetween(0,this.size,f)}textBetween(from,to,blockSeparator,leafText){let text="",first=!0;return this.nodesBetween(from,to,(node,pos)=>{let nodeText=node.isText?node.text.slice(Math.max(from,pos)-pos,to-pos):node.isLeaf?leafText?"function"==typeof leafText?leafText(node):leafText:node.type.spec.leafText?node.type.spec.leafText(node):"":"";node.isBlock&&(node.isLeaf&&nodeText||node.isTextblock)&&blockSeparator&&(first?first=!1:text+=blockSeparator),text+=nodeText},0),text}append(other){if(!other.size)return this;if(!this.size)return other;let last=this.lastChild,first=other.firstChild,content=this.content.slice(),i=0;for(last.isText&&last.sameMarkup(first)&&(content[content.length-1]=last.withText(last.text+first.text),i=1);i<other.content.length;i++)content.push(other.content[i]);return new dist_Fragment(content,this.size+other.size)}cut(from,to=this.size){if(0==from&&to==this.size)return this;let result=[],size=0;if(to>from)for(let i=0,pos=0;pos<to;i++){let child=this.content[i],end=pos+child.nodeSize;end>from&&((pos<from||end>to)&&(child=child.isText?child.cut(Math.max(0,from-pos),Math.min(child.text.length,to-pos)):child.cut(Math.max(0,from-pos-1),Math.min(child.content.size,to-pos-1))),result.push(child),size+=child.nodeSize),pos=end}return new dist_Fragment(result,size)}cutByIndex(from,to){return from==to?dist_Fragment.empty:0==from&&to==this.content.length?this:new dist_Fragment(this.content.slice(from,to))}replaceChild(index,node){let current=this.content[index];if(current==node)return this;let copy=this.content.slice(),size=this.size+node.nodeSize-current.nodeSize;return copy[index]=node,new dist_Fragment(copy,size)}addToStart(node){return new dist_Fragment([node].concat(this.content),this.size+node.nodeSize)}addToEnd(node){return new dist_Fragment(this.content.concat(node),this.size+node.nodeSize)}eq(other){if(this.content.length!=other.content.length)return!1;for(let i=0;i<this.content.length;i++)if(!this.content[i].eq(other.content[i]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(index){let found=this.content[index];if(!found)throw new RangeError("Index "+index+" out of range for "+this);return found}maybeChild(index){return this.content[index]||null}forEach(f){for(let i=0,p=0;i<this.content.length;i++){let child=this.content[i];f(child,p,i),p+=child.nodeSize}}findDiffStart(other,pos=0){return findDiffStart(this,other,pos)}findDiffEnd(other,pos=this.size,otherPos=other.size){return findDiffEnd(this,other,pos,otherPos)}findIndex(pos){if(0==pos)return retIndex(0,pos);if(pos==this.size)return retIndex(this.content.length,pos);if(pos>this.size||pos<0)throw new RangeError(`Position ${pos} outside of fragment (${this})`);for(let i=0,curPos=0;;i++){let end=curPos+this.child(i).nodeSize;if(end>=pos)return end==pos?retIndex(i+1,end):retIndex(i,curPos);curPos=end}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(n=>n.toJSON()):null}static fromJSON(schema,value){if(!value)return dist_Fragment.empty;if(!Array.isArray(value))throw new RangeError("Invalid input for Fragment.fromJSON");return new dist_Fragment(value.map(schema.nodeFromJSON))}static fromArray(array){if(!array.length)return dist_Fragment.empty;let joined,size=0;for(let i=0;i<array.length;i++){let node=array[i];size+=node.nodeSize,i&&node.isText&&array[i-1].sameMarkup(node)?(joined||(joined=array.slice(0,i)),joined[joined.length-1]=node.withText(joined[joined.length-1].text+node.text)):joined&&joined.push(node)}return new dist_Fragment(joined||array,size)}static from(nodes){if(!nodes)return dist_Fragment.empty;if(nodes instanceof dist_Fragment)return nodes;if(Array.isArray(nodes))return this.fromArray(nodes);if(nodes.attrs)return new dist_Fragment([nodes],nodes.nodeSize);throw new RangeError("Can not convert "+nodes+" to a Fragment"+(nodes.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}dist_Fragment.empty=new dist_Fragment([],0);const found={index:0,offset:0};function retIndex(index,offset){return found.index=index,found.offset=offset,found}function compareDeep(a,b){if(a===b)return!0;if(!a||"object"!=typeof a||!b||"object"!=typeof b)return!1;let array=Array.isArray(a);if(Array.isArray(b)!=array)return!1;if(array){if(a.length!=b.length)return!1;for(let i=0;i<a.length;i++)if(!compareDeep(a[i],b[i]))return!1}else{for(let p in a)if(!(p in b)||!compareDeep(a[p],b[p]))return!1;for(let p in b)if(!(p in a))return!1}return!0}class Mark{constructor(type,attrs){this.type=type,this.attrs=attrs}addToSet(set){let copy,placed=!1;for(let i=0;i<set.length;i++){let other=set[i];if(this.eq(other))return set;if(this.type.excludes(other.type))copy||(copy=set.slice(0,i));else{if(other.type.excludes(this.type))return set;!placed&&other.type.rank>this.type.rank&&(copy||(copy=set.slice(0,i)),copy.push(this),placed=!0),copy&&copy.push(other)}}return copy||(copy=set.slice()),placed||copy.push(this),copy}removeFromSet(set){for(let i=0;i<set.length;i++)if(this.eq(set[i]))return set.slice(0,i).concat(set.slice(i+1));return set}isInSet(set){for(let i=0;i<set.length;i++)if(this.eq(set[i]))return!0;return!1}eq(other){return this==other||this.type==other.type&&compareDeep(this.attrs,other.attrs)}toJSON(){let obj={type:this.type.name};for(let _ in this.attrs){obj.attrs=this.attrs;break}return obj}static fromJSON(schema,json){if(!json)throw new RangeError("Invalid input for Mark.fromJSON");let type=schema.marks[json.type];if(!type)throw new RangeError(`There is no mark type ${json.type} in this schema`);let mark=type.create(json.attrs);return type.checkAttrs(mark.attrs),mark}static sameSet(a,b){if(a==b)return!0;if(a.length!=b.length)return!1;for(let i=0;i<a.length;i++)if(!a[i].eq(b[i]))return!1;return!0}static setFrom(marks){if(!marks||Array.isArray(marks)&&0==marks.length)return Mark.none;if(marks instanceof Mark)return[marks];let copy=marks.slice();return copy.sort((a,b)=>a.type.rank-b.type.rank),copy}}Mark.none=[];class ReplaceError extends Error{}class dist_Slice{constructor(content,openStart,openEnd){this.content=content,this.openStart=openStart,this.openEnd=openEnd}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(pos,fragment){let content=insertInto(this.content,pos+this.openStart,fragment);return content&&new dist_Slice(content,this.openStart,this.openEnd)}removeBetween(from,to){return new dist_Slice(removeRange(this.content,from+this.openStart,to+this.openStart),this.openStart,this.openEnd)}eq(other){return this.content.eq(other.content)&&this.openStart==other.openStart&&this.openEnd==other.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let json={content:this.content.toJSON()};return this.openStart>0&&(json.openStart=this.openStart),this.openEnd>0&&(json.openEnd=this.openEnd),json}static fromJSON(schema,json){if(!json)return dist_Slice.empty;let openStart=json.openStart||0,openEnd=json.openEnd||0;if("number"!=typeof openStart||"number"!=typeof openEnd)throw new RangeError("Invalid input for Slice.fromJSON");return new dist_Slice(dist_Fragment.fromJSON(schema,json.content),openStart,openEnd)}static maxOpen(fragment,openIsolating=!0){let openStart=0,openEnd=0;for(let n=fragment.firstChild;n&&!n.isLeaf&&(openIsolating||!n.type.spec.isolating);n=n.firstChild)openStart++;for(let n=fragment.lastChild;n&&!n.isLeaf&&(openIsolating||!n.type.spec.isolating);n=n.lastChild)openEnd++;return new dist_Slice(fragment,openStart,openEnd)}}function removeRange(content,from,to){let{index,offset}=content.findIndex(from),child=content.maybeChild(index),{index:indexTo,offset:offsetTo}=content.findIndex(to);if(offset==from||child.isText){if(offsetTo!=to&&!content.child(indexTo).isText)throw new RangeError("Removing non-flat range");return content.cut(0,from).append(content.cut(to))}if(index!=indexTo)throw new RangeError("Removing non-flat range");return content.replaceChild(index,child.copy(removeRange(child.content,from-offset-1,to-offset-1)))}function insertInto(content,dist,insert,parent){let{index,offset}=content.findIndex(dist),child=content.maybeChild(index);if(offset==dist||child.isText)return parent&&!parent.canReplace(index,index,insert)?null:content.cut(0,dist).append(insert).append(content.cut(dist));let inner=insertInto(child.content,dist-offset-1,insert,child);return inner&&content.replaceChild(index,child.copy(inner))}function front_replace($from,$to,slice){if(slice.openStart>$from.depth)throw new ReplaceError("Inserted content deeper than insertion position");if($from.depth-slice.openStart!=$to.depth-slice.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter($from,$to,slice,0)}function replaceOuter($from,$to,slice,depth){let index=$from.index(depth),node=$from.node(depth);if(index==$to.index(depth)&&depth<$from.depth-slice.openStart){let inner=replaceOuter($from,$to,slice,depth+1);return node.copy(node.content.replaceChild(index,inner))}if(slice.content.size){if(slice.openStart||slice.openEnd||$from.depth!=depth||$to.depth!=depth){let{start,end}=function prepareSliceForReplace(slice,$along){let extra=$along.depth-slice.openStart,node=$along.node(extra).copy(slice.content);for(let i=extra-1;i>=0;i--)node=$along.node(i).copy(dist_Fragment.from(node));return{start:node.resolveNoCache(slice.openStart+extra),end:node.resolveNoCache(node.content.size-slice.openEnd-extra)}}(slice,$from);return dist_close(node,replaceThreeWay($from,start,end,$to,depth))}{let parent=$from.parent,content=parent.content;return dist_close(parent,content.cut(0,$from.parentOffset).append(slice.content).append(content.cut($to.parentOffset)))}}return dist_close(node,replaceTwoWay($from,$to,depth))}function checkJoin(main,sub){if(!sub.type.compatibleContent(main.type))throw new ReplaceError("Cannot join "+sub.type.name+" onto "+main.type.name)}function joinable($before,$after,depth){let node=$before.node(depth);return checkJoin(node,$after.node(depth)),node}function addNode(child,target){let last=target.length-1;last>=0&&child.isText&&child.sameMarkup(target[last])?target[last]=child.withText(target[last].text+child.text):target.push(child)}function addRange($start,$end,depth,target){let node=($end||$start).node(depth),startIndex=0,endIndex=$end?$end.index(depth):node.childCount;$start&&(startIndex=$start.index(depth),$start.depth>depth?startIndex++:$start.textOffset&&(addNode($start.nodeAfter,target),startIndex++));for(let i=startIndex;i<endIndex;i++)addNode(node.child(i),target);$end&&$end.depth==depth&&$end.textOffset&&addNode($end.nodeBefore,target)}function dist_close(node,content){return node.type.checkContent(content),node.copy(content)}function replaceThreeWay($from,$start,$end,$to,depth){let openStart=$from.depth>depth&&joinable($from,$start,depth+1),openEnd=$to.depth>depth&&joinable($end,$to,depth+1),content=[];return addRange(null,$from,depth,content),openStart&&openEnd&&$start.index(depth)==$end.index(depth)?(checkJoin(openStart,openEnd),addNode(dist_close(openStart,replaceThreeWay($from,$start,$end,$to,depth+1)),content)):(openStart&&addNode(dist_close(openStart,replaceTwoWay($from,$start,depth+1)),content),addRange($start,$end,depth,content),openEnd&&addNode(dist_close(openEnd,replaceTwoWay($end,$to,depth+1)),content)),addRange($to,null,depth,content),new dist_Fragment(content)}function replaceTwoWay($from,$to,depth){let content=[];if(addRange(null,$from,depth,content),$from.depth>depth){addNode(dist_close(joinable($from,$to,depth+1),replaceTwoWay($from,$to,depth+1)),content)}return addRange($to,null,depth,content),new dist_Fragment(content)}dist_Slice.empty=new dist_Slice(dist_Fragment.empty,0,0);class ResolvedPos{constructor(pos,path,parentOffset){this.pos=pos,this.path=path,this.parentOffset=parentOffset,this.depth=path.length/3-1}resolveDepth(val){return null==val?this.depth:val<0?this.depth+val:val}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(depth){return this.path[3*this.resolveDepth(depth)]}index(depth){return this.path[3*this.resolveDepth(depth)+1]}indexAfter(depth){return depth=this.resolveDepth(depth),this.index(depth)+(depth!=this.depth||this.textOffset?1:0)}start(depth){return 0==(depth=this.resolveDepth(depth))?0:this.path[3*depth-1]+1}end(depth){return depth=this.resolveDepth(depth),this.start(depth)+this.node(depth).content.size}before(depth){if(!(depth=this.resolveDepth(depth)))throw new RangeError("There is no position before the top-level node");return depth==this.depth+1?this.pos:this.path[3*depth-1]}after(depth){if(!(depth=this.resolveDepth(depth)))throw new RangeError("There is no position after the top-level node");return depth==this.depth+1?this.pos:this.path[3*depth-1]+this.path[3*depth].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let parent=this.parent,index=this.index(this.depth);if(index==parent.childCount)return null;let dOff=this.pos-this.path[this.path.length-1],child=parent.child(index);return dOff?parent.child(index).cut(dOff):child}get nodeBefore(){let index=this.index(this.depth),dOff=this.pos-this.path[this.path.length-1];return dOff?this.parent.child(index).cut(0,dOff):0==index?null:this.parent.child(index-1)}posAtIndex(index,depth){depth=this.resolveDepth(depth);let node=this.path[3*depth],pos=0==depth?0:this.path[3*depth-1]+1;for(let i=0;i<index;i++)pos+=node.child(i).nodeSize;return pos}marks(){let parent=this.parent,index=this.index();if(0==parent.content.size)return Mark.none;if(this.textOffset)return parent.child(index).marks;let main=parent.maybeChild(index-1),other=parent.maybeChild(index);if(!main){let tmp=main;main=other,other=tmp}let marks=main.marks;for(var i=0;i<marks.length;i++)!1!==marks[i].type.spec.inclusive||other&&marks[i].isInSet(other.marks)||(marks=marks[i--].removeFromSet(marks));return marks}marksAcross($end){let after=this.parent.maybeChild(this.index());if(!after||!after.isInline)return null;let marks=after.marks,next=$end.parent.maybeChild($end.index());for(var i=0;i<marks.length;i++)!1!==marks[i].type.spec.inclusive||next&&marks[i].isInSet(next.marks)||(marks=marks[i--].removeFromSet(marks));return marks}sharedDepth(pos){for(let depth=this.depth;depth>0;depth--)if(this.start(depth)<=pos&&this.end(depth)>=pos)return depth;return 0}blockRange(other=this,pred){if(other.pos<this.pos)return other.blockRange(this);for(let d=this.depth-(this.parent.inlineContent||this.pos==other.pos?1:0);d>=0;d--)if(other.pos<=this.end(d)&&(!pred||pred(this.node(d))))return new NodeRange(this,other,d);return null}sameParent(other){return this.pos-this.parentOffset==other.pos-other.parentOffset}max(other){return other.pos>this.pos?other:this}min(other){return other.pos<this.pos?other:this}toString(){let str="";for(let i=1;i<=this.depth;i++)str+=(str?"/":"")+this.node(i).type.name+"_"+this.index(i-1);return str+":"+this.parentOffset}static resolve(doc,pos){if(!(pos>=0&&pos<=doc.content.size))throw new RangeError("Position "+pos+" out of range");let path=[],start=0,parentOffset=pos;for(let node=doc;;){let{index,offset}=node.content.findIndex(parentOffset),rem=parentOffset-offset;if(path.push(node,index,start+offset),!rem)break;if(node=node.child(index),node.isText)break;parentOffset=rem-1,start+=offset+1}return new ResolvedPos(pos,path,parentOffset)}static resolveCached(doc,pos){let cache=resolveCache.get(doc);if(cache)for(let i=0;i<cache.elts.length;i++){let elt=cache.elts[i];if(elt.pos==pos)return elt}else resolveCache.set(doc,cache=new ResolveCache);let result=cache.elts[cache.i]=ResolvedPos.resolve(doc,pos);return cache.i=(cache.i+1)%resolveCacheSize,result}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor($from,$to,depth){this.$from=$from,this.$to=$to,this.depth=depth}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);class dist_Node{constructor(type,attrs,content,marks=Mark.none){this.type=type,this.attrs=attrs,this.marks=marks,this.content=content||dist_Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(index){return this.content.child(index)}maybeChild(index){return this.content.maybeChild(index)}forEach(f){this.content.forEach(f)}nodesBetween(from,to,f,startPos=0){this.content.nodesBetween(from,to,f,startPos,this)}descendants(f){this.nodesBetween(0,this.content.size,f)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(from,to,blockSeparator,leafText){return this.content.textBetween(from,to,blockSeparator,leafText)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(other){return this==other||this.sameMarkup(other)&&this.content.eq(other.content)}sameMarkup(other){return this.hasMarkup(other.type,other.attrs,other.marks)}hasMarkup(type,attrs,marks){return this.type==type&&compareDeep(this.attrs,attrs||type.defaultAttrs||emptyAttrs)&&Mark.sameSet(this.marks,marks||Mark.none)}copy(content=null){return content==this.content?this:new dist_Node(this.type,this.attrs,content,this.marks)}mark(marks){return marks==this.marks?this:new dist_Node(this.type,this.attrs,this.content,marks)}cut(from,to=this.content.size){return 0==from&&to==this.content.size?this:this.copy(this.content.cut(from,to))}slice(from,to=this.content.size,includeParents=!1){if(from==to)return dist_Slice.empty;let $from=this.resolve(from),$to=this.resolve(to),depth=includeParents?0:$from.sharedDepth(to),start=$from.start(depth),content=$from.node(depth).content.cut($from.pos-start,$to.pos-start);return new dist_Slice(content,$from.depth-depth,$to.depth-depth)}replace(from,to,slice){return front_replace(this.resolve(from),this.resolve(to),slice)}nodeAt(pos){for(let node=this;;){let{index,offset}=node.content.findIndex(pos);if(node=node.maybeChild(index),!node)return null;if(offset==pos||node.isText)return node;pos-=offset+1}}childAfter(pos){let{index,offset}=this.content.findIndex(pos);return{node:this.content.maybeChild(index),index,offset}}childBefore(pos){if(0==pos)return{node:null,index:0,offset:0};let{index,offset}=this.content.findIndex(pos);if(offset<pos)return{node:this.content.child(index),index,offset};let node=this.content.child(index-1);return{node,index:index-1,offset:offset-node.nodeSize}}resolve(pos){return ResolvedPos.resolveCached(this,pos)}resolveNoCache(pos){return ResolvedPos.resolve(this,pos)}rangeHasMark(from,to,type){let found=!1;return to>from&&this.nodesBetween(from,to,node=>(type.isInSet(node.marks)&&(found=!0),!found)),found}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let name=this.type.name;return this.content.size&&(name+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,name)}contentMatchAt(index){let match=this.type.contentMatch.matchFragment(this.content,0,index);if(!match)throw new Error("Called contentMatchAt on a node with invalid content");return match}canReplace(from,to,replacement=dist_Fragment.empty,start=0,end=replacement.childCount){let one=this.contentMatchAt(from).matchFragment(replacement,start,end),two=one&&one.matchFragment(this.content,to);if(!two||!two.validEnd)return!1;for(let i=start;i<end;i++)if(!this.type.allowsMarks(replacement.child(i).marks))return!1;return!0}canReplaceWith(from,to,type,marks){if(marks&&!this.type.allowsMarks(marks))return!1;let start=this.contentMatchAt(from).matchType(type),end=start&&start.matchFragment(this.content,to);return!!end&&end.validEnd}canAppend(other){return other.content.size?this.canReplace(this.childCount,this.childCount,other.content):this.type.compatibleContent(other.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let copy=Mark.none;for(let i=0;i<this.marks.length;i++){let mark=this.marks[i];mark.type.checkAttrs(mark.attrs),copy=mark.addToSet(copy)}if(!Mark.sameSet(copy,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(m=>m.type.name)}`);this.content.forEach(node=>node.check())}toJSON(){let obj={type:this.type.name};for(let _ in this.attrs){obj.attrs=this.attrs;break}return this.content.size&&(obj.content=this.content.toJSON()),this.marks.length&&(obj.marks=this.marks.map(n=>n.toJSON())),obj}static fromJSON(schema,json){if(!json)throw new RangeError("Invalid input for Node.fromJSON");let marks;if(json.marks){if(!Array.isArray(json.marks))throw new RangeError("Invalid mark data for Node.fromJSON");marks=json.marks.map(schema.markFromJSON)}if("text"==json.type){if("string"!=typeof json.text)throw new RangeError("Invalid text node in JSON");return schema.text(json.text,marks)}let content=dist_Fragment.fromJSON(schema,json.content),node=schema.nodeType(json.type).create(json.attrs,content,marks);return node.type.checkAttrs(node.attrs),node}}dist_Node.prototype.text=void 0;class TextNode extends dist_Node{constructor(type,attrs,content,marks){if(super(type,attrs,null,marks),!content)throw new RangeError("Empty text nodes are not allowed");this.text=content}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(from,to){return this.text.slice(from,to)}get nodeSize(){return this.text.length}mark(marks){return marks==this.marks?this:new TextNode(this.type,this.attrs,this.text,marks)}withText(text){return text==this.text?this:new TextNode(this.type,this.attrs,text,this.marks)}cut(from=0,to=this.text.length){return 0==from&&to==this.text.length?this:this.withText(this.text.slice(from,to))}eq(other){return this.sameMarkup(other)&&this.text==other.text}toJSON(){let base=super.toJSON();return base.text=this.text,base}}function wrapMarks(marks,str){for(let i=marks.length-1;i>=0;i--)str=marks[i].type.name+"("+str+")";return str}class ContentMatch{constructor(validEnd){this.validEnd=validEnd,this.next=[],this.wrapCache=[]}static parse(string,nodeTypes){let stream=new TokenStream(string,nodeTypes);if(null==stream.next)return ContentMatch.empty;let expr=parseExpr(stream);stream.next&&stream.err("Unexpected trailing text");let match=function dfa(nfa){let labeled=Object.create(null);return explore(nullFrom(nfa,0));function explore(states){let out=[];states.forEach(node=>{nfa[node].forEach(({term,to})=>{if(!term)return;let set;for(let i=0;i<out.length;i++)out[i][0]==term&&(set=out[i][1]);nullFrom(nfa,to).forEach(node=>{set||out.push([term,set=[]]),-1==set.indexOf(node)&&set.push(node)})})});let state=labeled[states.join(",")]=new ContentMatch(states.indexOf(nfa.length-1)>-1);for(let i=0;i<out.length;i++){let states=out[i][1].sort(cmp);state.next.push({type:out[i][0],next:labeled[states.join(",")]||explore(states)})}return state}}(function nfa(expr){let nfa=[[]];return connect(compile(expr,0),node()),nfa;function node(){return nfa.push([])-1}function edge(from,to,term){let edge={term,to};return nfa[from].push(edge),edge}function connect(edges,to){edges.forEach(edge=>edge.to=to)}function compile(expr,from){if("choice"==expr.type)return expr.exprs.reduce((out,expr)=>out.concat(compile(expr,from)),[]);if("seq"!=expr.type){if("star"==expr.type){let loop=node();return edge(from,loop),connect(compile(expr.expr,loop),loop),[edge(loop)]}if("plus"==expr.type){let loop=node();return connect(compile(expr.expr,from),loop),connect(compile(expr.expr,loop),loop),[edge(loop)]}if("opt"==expr.type)return[edge(from)].concat(compile(expr.expr,from));if("range"==expr.type){let cur=from;for(let i=0;i<expr.min;i++){let next=node();connect(compile(expr.expr,cur),next),cur=next}if(-1==expr.max)connect(compile(expr.expr,cur),cur);else for(let i=expr.min;i<expr.max;i++){let next=node();edge(cur,next),connect(compile(expr.expr,cur),next),cur=next}return[edge(cur)]}if("name"==expr.type)return[edge(from,void 0,expr.value)];throw new Error("Unknown expr type")}for(let i=0;;i++){let next=compile(expr.exprs[i],from);if(i==expr.exprs.length-1)return next;connect(next,from=node())}}}(expr));return function checkForDeadEnds(match,stream){for(let i=0,work=[match];i<work.length;i++){let state=work[i],dead=!state.validEnd,nodes=[];for(let j=0;j<state.next.length;j++){let{type,next}=state.next[j];nodes.push(type.name),!dead||type.isText||type.hasRequiredAttrs()||(dead=!1),-1==work.indexOf(next)&&work.push(next)}dead&&stream.err("Only non-generatable nodes ("+nodes.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(match,stream),match}matchType(type){for(let i=0;i<this.next.length;i++)if(this.next[i].type==type)return this.next[i].next;return null}matchFragment(frag,start=0,end=frag.childCount){let cur=this;for(let i=start;cur&&i<end;i++)cur=cur.matchType(frag.child(i).type);return cur}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let i=0;i<this.next.length;i++){let{type}=this.next[i];if(!type.isText&&!type.hasRequiredAttrs())return type}return null}compatible(other){for(let i=0;i<this.next.length;i++)for(let j=0;j<other.next.length;j++)if(this.next[i].type==other.next[j].type)return!0;return!1}fillBefore(after,toEnd=!1,startIndex=0){let seen=[this];return function search(match,types){let finished=match.matchFragment(after,startIndex);if(finished&&(!toEnd||finished.validEnd))return dist_Fragment.from(types.map(tp=>tp.createAndFill()));for(let i=0;i<match.next.length;i++){let{type,next}=match.next[i];if(!type.isText&&!type.hasRequiredAttrs()&&-1==seen.indexOf(next)){seen.push(next);let found=search(next,types.concat(type));if(found)return found}}return null}(this,[])}findWrapping(target){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==target)return this.wrapCache[i+1];let computed=this.computeWrapping(target);return this.wrapCache.push(target,computed),computed}computeWrapping(target){let seen=Object.create(null),active=[{match:this,type:null,via:null}];for(;active.length;){let current=active.shift(),match=current.match;if(match.matchType(target)){let result=[];for(let obj=current;obj.type;obj=obj.via)result.push(obj.type);return result.reverse()}for(let i=0;i<match.next.length;i++){let{type,next}=match.next[i];type.isLeaf||type.hasRequiredAttrs()||type.name in seen||current.type&&!next.validEnd||(active.push({match:type.contentMatch,type,via:current}),seen[type.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(n){if(n>=this.next.length)throw new RangeError(`There's no ${n}th edge in this content match`);return this.next[n]}toString(){let seen=[];return function scan(m){seen.push(m);for(let i=0;i<m.next.length;i++)-1==seen.indexOf(m.next[i].next)&&scan(m.next[i].next)}(this),seen.map((m,i)=>{let out=i+(m.validEnd?"*":" ")+" ";for(let i=0;i<m.next.length;i++)out+=(i?", ":"")+m.next[i].type.name+"->"+seen.indexOf(m.next[i].next);return out}).join("\n")}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(string,nodeTypes){this.string=string,this.nodeTypes=nodeTypes,this.inline=null,this.pos=0,this.tokens=string.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(tok){return this.next==tok&&(this.pos++||!0)}err(str){throw new SyntaxError(str+" (in content expression '"+this.string+"')")}}function parseExpr(stream){let exprs=[];do{exprs.push(parseExprSeq(stream))}while(stream.eat("|"));return 1==exprs.length?exprs[0]:{type:"choice",exprs}}function parseExprSeq(stream){let exprs=[];do{exprs.push(parseExprSubscript(stream))}while(stream.next&&")"!=stream.next&&"|"!=stream.next);return 1==exprs.length?exprs[0]:{type:"seq",exprs}}function parseExprSubscript(stream){let expr=function parseExprAtom(stream){if(stream.eat("(")){let expr=parseExpr(stream);return stream.eat(")")||stream.err("Missing closing paren"),expr}if(!/\W/.test(stream.next)){let exprs=function resolveName(stream,name){let types=stream.nodeTypes,type=types[name];if(type)return[type];let result=[];for(let typeName in types){let type=types[typeName];type.isInGroup(name)&&result.push(type)}0==result.length&&stream.err("No node type or group '"+name+"' found");return result}(stream,stream.next).map(type=>(null==stream.inline?stream.inline=type.isInline:stream.inline!=type.isInline&&stream.err("Mixing inline and block content"),{type:"name",value:type}));return stream.pos++,1==exprs.length?exprs[0]:{type:"choice",exprs}}stream.err("Unexpected token '"+stream.next+"'")}(stream);for(;;)if(stream.eat("+"))expr={type:"plus",expr};else if(stream.eat("*"))expr={type:"star",expr};else if(stream.eat("?"))expr={type:"opt",expr};else{if(!stream.eat("{"))break;expr=parseExprRange(stream,expr)}return expr}function parseNum(stream){/\D/.test(stream.next)&&stream.err("Expected number, got '"+stream.next+"'");let result=Number(stream.next);return stream.pos++,result}function parseExprRange(stream,expr){let min=parseNum(stream),max=min;return stream.eat(",")&&(max="}"!=stream.next?parseNum(stream):-1),stream.eat("}")||stream.err("Unclosed braced range"),{type:"range",min,max,expr}}function cmp(a,b){return b-a}function nullFrom(nfa,node){let result=[];return function scan(node){let edges=nfa[node];if(1==edges.length&&!edges[0].term)return scan(edges[0].to);result.push(node);for(let i=0;i<edges.length;i++){let{term,to}=edges[i];term||-1!=result.indexOf(to)||scan(to)}}(node),result.sort(cmp)}function defaultAttrs(attrs){let defaults=Object.create(null);for(let attrName in attrs){let attr=attrs[attrName];if(!attr.hasDefault)return null;defaults[attrName]=attr.default}return defaults}function computeAttrs(attrs,value){let built=Object.create(null);for(let name in attrs){let given=value&&value[name];if(void 0===given){let attr=attrs[name];if(!attr.hasDefault)throw new RangeError("No value supplied for attribute "+name);given=attr.default}built[name]=given}return built}function checkAttrs(attrs,values,type,name){for(let name in values)if(!(name in attrs))throw new RangeError(`Unsupported attribute ${name} for ${type} of type ${name}`);for(let name in attrs){let attr=attrs[name];attr.validate&&attr.validate(values[name])}}function initAttrs(typeName,attrs){let result=Object.create(null);if(attrs)for(let name in attrs)result[name]=new Attribute(typeName,name,attrs[name]);return result}class NodeType{constructor(name,schema,spec){this.name=name,this.schema=schema,this.spec=spec,this.markSet=null,this.groups=spec.group?spec.group.split(" "):[],this.attrs=initAttrs(name,spec.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(spec.inline||"text"==name),this.isText="text"==name}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(group){return this.groups.indexOf(group)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let n in this.attrs)if(this.attrs[n].isRequired)return!0;return!1}compatibleContent(other){return this==other||this.contentMatch.compatible(other.contentMatch)}computeAttrs(attrs){return!attrs&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,attrs)}create(attrs=null,content,marks){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new dist_Node(this,this.computeAttrs(attrs),dist_Fragment.from(content),Mark.setFrom(marks))}createChecked(attrs=null,content,marks){return content=dist_Fragment.from(content),this.checkContent(content),new dist_Node(this,this.computeAttrs(attrs),content,Mark.setFrom(marks))}createAndFill(attrs=null,content,marks){if(attrs=this.computeAttrs(attrs),(content=dist_Fragment.from(content)).size){let before=this.contentMatch.fillBefore(content);if(!before)return null;content=before.append(content)}let matched=this.contentMatch.matchFragment(content),after=matched&&matched.fillBefore(dist_Fragment.empty,!0);return after?new dist_Node(this,attrs,content.append(after),Mark.setFrom(marks)):null}validContent(content){let result=this.contentMatch.matchFragment(content);if(!result||!result.validEnd)return!1;for(let i=0;i<content.childCount;i++)if(!this.allowsMarks(content.child(i).marks))return!1;return!0}checkContent(content){if(!this.validContent(content))throw new RangeError(`Invalid content for node ${this.name}: ${content.toString().slice(0,50)}`)}checkAttrs(attrs){checkAttrs(this.attrs,attrs,"node",this.name)}allowsMarkType(markType){return null==this.markSet||this.markSet.indexOf(markType)>-1}allowsMarks(marks){if(null==this.markSet)return!0;for(let i=0;i<marks.length;i++)if(!this.allowsMarkType(marks[i].type))return!1;return!0}allowedMarks(marks){if(null==this.markSet)return marks;let copy;for(let i=0;i<marks.length;i++)this.allowsMarkType(marks[i].type)?copy&&copy.push(marks[i]):copy||(copy=marks.slice(0,i));return copy?copy.length?copy:Mark.none:marks}static compile(nodes,schema){let result=Object.create(null);nodes.forEach((name,spec)=>result[name]=new NodeType(name,schema,spec));let topType=schema.spec.topNode||"doc";if(!result[topType])throw new RangeError("Schema is missing its top node type ('"+topType+"')");if(!result.text)throw new RangeError("Every schema needs a 'text' type");for(let _ in result.text.attrs)throw new RangeError("The text node type should not have attributes");return result}}class Attribute{constructor(typeName,attrName,options){this.hasDefault=Object.prototype.hasOwnProperty.call(options,"default"),this.default=options.default,this.validate="string"==typeof options.validate?function validateType(typeName,attrName,type){let types=type.split("|");return value=>{let name=null===value?"null":typeof value;if(types.indexOf(name)<0)throw new RangeError(`Expected value of type ${types} for attribute ${attrName} on type ${typeName}, got ${name}`)}}(typeName,attrName,options.validate):options.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(name,rank,schema,spec){this.name=name,this.rank=rank,this.schema=schema,this.spec=spec,this.attrs=initAttrs(name,spec.attrs),this.excluded=null;let defaults=defaultAttrs(this.attrs);this.instance=defaults?new Mark(this,defaults):null}create(attrs=null){return!attrs&&this.instance?this.instance:new Mark(this,computeAttrs(this.attrs,attrs))}static compile(marks,schema){let result=Object.create(null),rank=0;return marks.forEach((name,spec)=>result[name]=new MarkType(name,rank++,schema,spec)),result}removeFromSet(set){for(var i=0;i<set.length;i++)set[i].type==this&&(set=set.slice(0,i).concat(set.slice(i+1)),i--);return set}isInSet(set){for(let i=0;i<set.length;i++)if(set[i].type==this)return set[i]}checkAttrs(attrs){checkAttrs(this.attrs,attrs,"mark",this.name)}excludes(other){return this.excluded.indexOf(other)>-1}}class Schema{constructor(spec){this.linebreakReplacement=null,this.cached=Object.create(null);let instanceSpec=this.spec={};for(let prop in spec)instanceSpec[prop]=spec[prop];instanceSpec.nodes=dist.from(spec.nodes),instanceSpec.marks=dist.from(spec.marks||{}),this.nodes=NodeType.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let contentExprCache=Object.create(null);for(let prop in this.nodes){if(prop in this.marks)throw new RangeError(prop+" can not be both a node and a mark");let type=this.nodes[prop],contentExpr=type.spec.content||"",markExpr=type.spec.marks;if(type.contentMatch=contentExprCache[contentExpr]||(contentExprCache[contentExpr]=ContentMatch.parse(contentExpr,this.nodes)),type.inlineContent=type.contentMatch.inlineContent,type.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!type.isInline||!type.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=type}type.markSet="_"==markExpr?null:markExpr?gatherMarks(this,markExpr.split(" ")):""!=markExpr&&type.inlineContent?null:[]}for(let prop in this.marks){let type=this.marks[prop],excl=type.spec.excludes;type.excluded=null==excl?[type]:""==excl?[]:gatherMarks(this,excl.split(" "))}this.nodeFromJSON=json=>dist_Node.fromJSON(this,json),this.markFromJSON=json=>Mark.fromJSON(this,json),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(type,attrs=null,content,marks){if("string"==typeof type)type=this.nodeType(type);else{if(!(type instanceof NodeType))throw new RangeError("Invalid node type: "+type);if(type.schema!=this)throw new RangeError("Node type from different schema used ("+type.name+")")}return type.createChecked(attrs,content,marks)}text(text,marks){let type=this.nodes.text;return new TextNode(type,type.defaultAttrs,text,Mark.setFrom(marks))}mark(type,attrs){return"string"==typeof type&&(type=this.marks[type]),type.create(attrs)}nodeType(name){let found=this.nodes[name];if(!found)throw new RangeError("Unknown node type: "+name);return found}}function gatherMarks(schema,marks){let found=[];for(let i=0;i<marks.length;i++){let name=marks[i],mark=schema.marks[name],ok=mark;if(mark)found.push(mark);else for(let prop in schema.marks){let mark=schema.marks[prop];("_"==name||mark.spec.group&&mark.spec.group.split(" ").indexOf(name)>-1)&&found.push(ok=mark)}if(!ok)throw new SyntaxError("Unknown mark type: '"+marks[i]+"'")}return found}class DOMParser{constructor(schema,rules){this.schema=schema,this.rules=rules,this.tags=[],this.styles=[];let matchedStyles=this.matchedStyles=[];rules.forEach(rule=>{if(function isTagRule(rule){return null!=rule.tag}(rule))this.tags.push(rule);else if(function isStyleRule(rule){return null!=rule.style}(rule)){let prop=/[^=]*/.exec(rule.style)[0];matchedStyles.indexOf(prop)<0&&matchedStyles.push(prop),this.styles.push(rule)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let node=schema.nodes[r.node];return node.contentMatch.matchType(node)})}parse(dom,options={}){let context=new ParseContext(this,options,!1);return context.addAll(dom,Mark.none,options.from,options.to),context.finish()}parseSlice(dom,options={}){let context=new ParseContext(this,options,!0);return context.addAll(dom,Mark.none,options.from,options.to),dist_Slice.maxOpen(context.finish())}matchTag(dom,context,after){for(let i=after?this.tags.indexOf(after)+1:0;i<this.tags.length;i++){let rule=this.tags[i];if(matches(dom,rule.tag)&&(void 0===rule.namespace||dom.namespaceURI==rule.namespace)&&(!rule.context||context.matchesContext(rule.context))){if(rule.getAttrs){let result=rule.getAttrs(dom);if(!1===result)continue;rule.attrs=result||void 0}return rule}}}matchStyle(prop,value,context,after){for(let i=after?this.styles.indexOf(after)+1:0;i<this.styles.length;i++){let rule=this.styles[i],style=rule.style;if(!(0!=style.indexOf(prop)||rule.context&&!context.matchesContext(rule.context)||style.length>prop.length&&(61!=style.charCodeAt(prop.length)||style.slice(prop.length+1)!=value))){if(rule.getAttrs){let result=rule.getAttrs(value);if(!1===result)continue;rule.attrs=result||void 0}return rule}}}static schemaRules(schema){let result=[];function insert(rule){let priority=null==rule.priority?50:rule.priority,i=0;for(;i<result.length;i++){let next=result[i];if((null==next.priority?50:next.priority)<priority)break}result.splice(i,0,rule)}for(let name in schema.marks){let rules=schema.marks[name].spec.parseDOM;rules&&rules.forEach(rule=>{insert(rule=front_copy(rule)),rule.mark||rule.ignore||rule.clearMark||(rule.mark=name)})}for(let name in schema.nodes){let rules=schema.nodes[name].spec.parseDOM;rules&&rules.forEach(rule=>{insert(rule=front_copy(rule)),rule.node||rule.ignore||rule.mark||(rule.node=name)})}return result}static fromSchema(schema){return schema.cached.domParser||(schema.cached.domParser=new DOMParser(schema,DOMParser.schemaRules(schema)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0};function wsOptionsFor(type,preserveWhitespace,base){return null!=preserveWhitespace?(preserveWhitespace?1:0)|("full"===preserveWhitespace?2:0):type&&"pre"==type.whitespace?3:-5&base}class NodeContext{constructor(type,attrs,marks,solid,match,options){this.type=type,this.attrs=attrs,this.marks=marks,this.solid=solid,this.options=options,this.content=[],this.activeMarks=Mark.none,this.match=match||(4&options?null:type.contentMatch)}findWrapping(node){if(!this.match){if(!this.type)return[];let fill=this.type.contentMatch.fillBefore(dist_Fragment.from(node));if(!fill){let wrap,start=this.type.contentMatch;return(wrap=start.findWrapping(node.type))?(this.match=start,wrap):null}this.match=this.type.contentMatch.matchFragment(fill)}return this.match.findWrapping(node.type)}finish(openEnd){if(!(1&this.options)){let m,last=this.content[this.content.length-1];if(last&&last.isText&&(m=/[ \t\r\n\u000c]+$/.exec(last.text))){let text=last;last.text.length==m[0].length?this.content.pop():this.content[this.content.length-1]=text.withText(text.text.slice(0,text.text.length-m[0].length))}}let content=dist_Fragment.from(this.content);return!openEnd&&this.match&&(content=content.append(this.match.fillBefore(dist_Fragment.empty,!0))),this.type?this.type.create(this.attrs,content,this.marks):content}inlineContext(node){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:node.parentNode&&!blockTags.hasOwnProperty(node.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(parser,options,isOpen){this.parser=parser,this.options=options,this.isOpen=isOpen,this.open=0,this.localPreserveWS=!1;let topContext,topNode=options.topNode,topOptions=wsOptionsFor(null,options.preserveWhitespace,0)|(isOpen?4:0);topContext=topNode?new NodeContext(topNode.type,topNode.attrs,Mark.none,!0,options.topMatch||topNode.type.contentMatch,topOptions):new NodeContext(isOpen?null:parser.schema.topNodeType,null,Mark.none,!0,null,topOptions),this.nodes=[topContext],this.find=options.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(dom,marks){3==dom.nodeType?this.addTextNode(dom,marks):1==dom.nodeType&&this.addElement(dom,marks)}addTextNode(dom,marks){let value=dom.nodeValue,top=this.top,preserveWS=2&top.options?"full":this.localPreserveWS||(1&top.options)>0;if("full"===preserveWS||top.inlineContext(dom)||/[^ \t\r\n\u000c]/.test(value)){if(preserveWS)value="full"!==preserveWS?value.replace(/\r?\n|\r/g," "):value.replace(/\r\n?/g,"\n");else if(value=value.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(value)&&this.open==this.nodes.length-1){let nodeBefore=top.content[top.content.length-1],domNodeBefore=dom.previousSibling;(!nodeBefore||domNodeBefore&&"BR"==domNodeBefore.nodeName||nodeBefore.isText&&/[ \t\r\n\u000c]$/.test(nodeBefore.text))&&(value=value.slice(1))}value&&this.insertNode(this.parser.schema.text(value),marks,!/\S/.test(value)),this.findInText(dom)}else this.findInside(dom)}addElement(dom,marks,matchAfter){let outerWS=this.localPreserveWS,top=this.top;("PRE"==dom.tagName||/pre/.test(dom.style&&dom.style.whiteSpace))&&(this.localPreserveWS=!0);let ruleID,name=dom.nodeName.toLowerCase();listTags.hasOwnProperty(name)&&this.parser.normalizeLists&&function normalizeList(dom){for(let child=dom.firstChild,prevItem=null;child;child=child.nextSibling){let name=1==child.nodeType?child.nodeName.toLowerCase():null;name&&listTags.hasOwnProperty(name)&&prevItem?(prevItem.appendChild(child),child=prevItem):"li"==name?prevItem=child:name&&(prevItem=null)}}(dom);let rule=this.options.ruleFromNode&&this.options.ruleFromNode(dom)||(ruleID=this.parser.matchTag(dom,this,matchAfter));out:if(rule?rule.ignore:ignoreTags.hasOwnProperty(name))this.findInside(dom),this.ignoreFallback(dom,marks);else if(!rule||rule.skip||rule.closeParent){rule&&rule.closeParent?this.open=Math.max(0,this.open-1):rule&&rule.skip.nodeType&&(dom=rule.skip);let sync,oldNeedsBlock=this.needsBlock;if(blockTags.hasOwnProperty(name))top.content.length&&top.content[0].isInline&&this.open&&(this.open--,top=this.top),sync=!0,top.type||(this.needsBlock=!0);else if(!dom.firstChild){this.leafFallback(dom,marks);break out}let innerMarks=rule&&rule.skip?marks:this.readStyles(dom,marks);innerMarks&&this.addAll(dom,innerMarks),sync&&this.sync(top),this.needsBlock=oldNeedsBlock}else{let innerMarks=this.readStyles(dom,marks);innerMarks&&this.addElementByRule(dom,rule,innerMarks,!1===rule.consuming?ruleID:void 0)}this.localPreserveWS=outerWS}leafFallback(dom,marks){"BR"==dom.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(dom.ownerDocument.createTextNode("\n"),marks)}ignoreFallback(dom,marks){"BR"!=dom.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),marks,!0)}readStyles(dom,marks){let styles=dom.style;if(styles&&styles.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let name=this.parser.matchedStyles[i],value=styles.getPropertyValue(name);if(value)for(let after;;){let rule=this.parser.matchStyle(name,value,this,after);if(!rule)break;if(rule.ignore)return null;if(marks=rule.clearMark?marks.filter(m=>!rule.clearMark(m)):marks.concat(this.parser.schema.marks[rule.mark].create(rule.attrs)),!1!==rule.consuming)break;after=rule}}return marks}addElementByRule(dom,rule,marks,continueAfter){let sync,nodeType;if(rule.node)if(nodeType=this.parser.schema.nodes[rule.node],nodeType.isLeaf)this.insertNode(nodeType.create(rule.attrs),marks,"BR"==dom.nodeName)||this.leafFallback(dom,marks);else{let inner=this.enter(nodeType,rule.attrs||null,marks,rule.preserveWhitespace);inner&&(sync=!0,marks=inner)}else{let markType=this.parser.schema.marks[rule.mark];marks=marks.concat(markType.create(rule.attrs))}let startIn=this.top;if(nodeType&&nodeType.isLeaf)this.findInside(dom);else if(continueAfter)this.addElement(dom,marks,continueAfter);else if(rule.getContent)this.findInside(dom),rule.getContent(dom,this.parser.schema).forEach(node=>this.insertNode(node,marks,!1));else{let contentDOM=dom;"string"==typeof rule.contentElement?contentDOM=dom.querySelector(rule.contentElement):"function"==typeof rule.contentElement?contentDOM=rule.contentElement(dom):rule.contentElement&&(contentDOM=rule.contentElement),this.findAround(dom,contentDOM,!0),this.addAll(contentDOM,marks),this.findAround(dom,contentDOM,!1)}sync&&this.sync(startIn)&&this.open--}addAll(parent,marks,startIndex,endIndex){let index=startIndex||0;for(let dom=startIndex?parent.childNodes[startIndex]:parent.firstChild,end=null==endIndex?null:parent.childNodes[endIndex];dom!=end;dom=dom.nextSibling,++index)this.findAtPoint(parent,index),this.addDOM(dom,marks);this.findAtPoint(parent,index)}findPlace(node,marks,cautious){let route,sync;for(let depth=this.open,penalty=0;depth>=0;depth--){let cx=this.nodes[depth],found=cx.findWrapping(node);if(found&&(!route||route.length>found.length+penalty)&&(route=found,sync=cx,!found.length))break;if(cx.solid){if(cautious)break;penalty+=2}}if(!route)return null;this.sync(sync);for(let i=0;i<route.length;i++)marks=this.enterInner(route[i],null,marks,!1);return marks}insertNode(node,marks,cautious){if(node.isInline&&this.needsBlock&&!this.top.type){let block=this.textblockFromContext();block&&(marks=this.enterInner(block,null,marks))}let innerMarks=this.findPlace(node,marks,cautious);if(innerMarks){this.closeExtra();let top=this.top;top.match&&(top.match=top.match.matchType(node.type));let nodeMarks=Mark.none;for(let m of innerMarks.concat(node.marks))(top.type?top.type.allowsMarkType(m.type):markMayApply(m.type,node.type))&&(nodeMarks=m.addToSet(nodeMarks));return top.content.push(node.mark(nodeMarks)),!0}return!1}enter(type,attrs,marks,preserveWS){let innerMarks=this.findPlace(type.create(attrs),marks,!1);return innerMarks&&(innerMarks=this.enterInner(type,attrs,marks,!0,preserveWS)),innerMarks}enterInner(type,attrs,marks,solid=!1,preserveWS){this.closeExtra();let top=this.top;top.match=top.match&&top.match.matchType(type);let options=wsOptionsFor(type,preserveWS,top.options);4&top.options&&0==top.content.length&&(options|=4);let applyMarks=Mark.none;return marks=marks.filter(m=>!(top.type?top.type.allowsMarkType(m.type):markMayApply(m.type,type))||(applyMarks=m.addToSet(applyMarks),!1)),this.nodes.push(new NodeContext(type,attrs,applyMarks,solid,null,options)),this.open++,marks}closeExtra(openEnd=!1){let i=this.nodes.length-1;if(i>this.open){for(;i>this.open;i--)this.nodes[i-1].content.push(this.nodes[i].finish(openEnd));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(to){for(let i=this.open;i>=0;i--){if(this.nodes[i]==to)return this.open=i,!0;this.localPreserveWS&&(this.nodes[i].options|=1)}return!1}get currentPos(){this.closeExtra();let pos=0;for(let i=this.open;i>=0;i--){let content=this.nodes[i].content;for(let j=content.length-1;j>=0;j--)pos+=content[j].nodeSize;i&&pos++}return pos}findAtPoint(parent,offset){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==parent&&this.find[i].offset==offset&&(this.find[i].pos=this.currentPos)}findInside(parent){if(this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==parent.nodeType&&parent.contains(this.find[i].node)&&(this.find[i].pos=this.currentPos)}findAround(parent,content,before){if(parent!=content&&this.find)for(let i=0;i<this.find.length;i++)if(null==this.find[i].pos&&1==parent.nodeType&&parent.contains(this.find[i].node)){content.compareDocumentPosition(this.find[i].node)&(before?2:4)&&(this.find[i].pos=this.currentPos)}}findInText(textNode){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==textNode&&(this.find[i].pos=this.currentPos-(textNode.nodeValue.length-this.find[i].offset))}matchesContext(context){if(context.indexOf("|")>-1)return context.split(/\s*\|\s*/).some(this.matchesContext,this);let parts=context.split("/"),option=this.options.context,useRoot=!(this.isOpen||option&&option.parent.type!=this.nodes[0].type),minDepth=-(option?option.depth+1:0)+(useRoot?0:1),match=(i,depth)=>{for(;i>=0;i--){let part=parts[i];if(""==part){if(i==parts.length-1||0==i)continue;for(;depth>=minDepth;depth--)if(match(i-1,depth))return!0;return!1}{let next=depth>0||0==depth&&useRoot?this.nodes[depth].type:option&&depth>=minDepth?option.node(depth-minDepth).type:null;if(!next||next.name!=part&&!next.isInGroup(part))return!1;depth--}}return!0};return match(parts.length-1,this.open)}textblockFromContext(){let $context=this.options.context;if($context)for(let d=$context.depth;d>=0;d--){let deflt=$context.node(d).contentMatchAt($context.indexAfter(d)).defaultType;if(deflt&&deflt.isTextblock&&deflt.defaultAttrs)return deflt}for(let name in this.parser.schema.nodes){let type=this.parser.schema.nodes[name];if(type.isTextblock&&type.defaultAttrs)return type}}}function matches(dom,selector){return(dom.matches||dom.msMatchesSelector||dom.webkitMatchesSelector||dom.mozMatchesSelector).call(dom,selector)}function front_copy(obj){let copy={};for(let prop in obj)copy[prop]=obj[prop];return copy}function markMayApply(markType,nodeType){let nodes=nodeType.schema.nodes;for(let name in nodes){let parent=nodes[name];if(!parent.allowsMarkType(markType))continue;let seen=[],scan=match=>{seen.push(match);for(let i=0;i<match.edgeCount;i++){let{type,next}=match.edge(i);if(type==nodeType)return!0;if(seen.indexOf(next)<0&&scan(next))return!0}};if(scan(parent.contentMatch))return!0}}class DOMSerializer{constructor(nodes,marks){this.nodes=nodes,this.marks=marks}serializeFragment(fragment,options={},target){target||(target=dist_doc(options).createDocumentFragment());let top=target,active=[];return fragment.forEach(node=>{if(active.length||node.marks.length){let keep=0,rendered=0;for(;keep<active.length&&rendered<node.marks.length;){let next=node.marks[rendered];if(this.marks[next.type.name]){if(!next.eq(active[keep][0])||!1===next.type.spec.spanning)break;keep++,rendered++}else rendered++}for(;keep<active.length;)top=active.pop()[1];for(;rendered<node.marks.length;){let add=node.marks[rendered++],markDOM=this.serializeMark(add,node.isInline,options);markDOM&&(active.push([add,top]),top.appendChild(markDOM.dom),top=markDOM.contentDOM||markDOM.dom)}}top.appendChild(this.serializeNodeInner(node,options))}),target}serializeNodeInner(node,options){let{dom,contentDOM}=renderSpec(dist_doc(options),this.nodes[node.type.name](node),null,node.attrs);if(contentDOM){if(node.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(node.content,options,contentDOM)}return dom}serializeNode(node,options={}){let dom=this.serializeNodeInner(node,options);for(let i=node.marks.length-1;i>=0;i--){let wrap=this.serializeMark(node.marks[i],node.isInline,options);wrap&&((wrap.contentDOM||wrap.dom).appendChild(dom),dom=wrap.dom)}return dom}serializeMark(mark,inline,options={}){let toDOM=this.marks[mark.type.name];return toDOM&&renderSpec(dist_doc(options),toDOM(mark,inline),null,mark.attrs)}static renderSpec(doc,structure,xmlNS=null,blockArraysIn){return renderSpec(doc,structure,xmlNS,blockArraysIn)}static fromSchema(schema){return schema.cached.domSerializer||(schema.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(schema),this.marksFromSchema(schema)))}static nodesFromSchema(schema){let result=gatherToDOM(schema.nodes);return result.text||(result.text=node=>node.text),result}static marksFromSchema(schema){return gatherToDOM(schema.marks)}}function gatherToDOM(obj){let result={};for(let name in obj){let toDOM=obj[name].spec.toDOM;toDOM&&(result[name]=toDOM)}return result}function dist_doc(options){return options.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(attrs){let value=suspiciousAttributeCache.get(attrs);return void 0===value&&suspiciousAttributeCache.set(attrs,value=function suspiciousAttributesInner(attrs){let result=null;function scan(value){if(value&&"object"==typeof value)if(Array.isArray(value))if("string"==typeof value[0])result||(result=[]),result.push(value);else for(let i=0;i<value.length;i++)scan(value[i]);else for(let prop in value)scan(value[prop])}return scan(attrs),result}(attrs)),value}function renderSpec(doc,structure,xmlNS,blockArraysIn){if("string"==typeof structure)return{dom:doc.createTextNode(structure)};if(null!=structure.nodeType)return{dom:structure};if(structure.dom&&null!=structure.dom.nodeType)return structure;let suspicious,tagName=structure[0];if("string"!=typeof tagName)throw new RangeError("Invalid array passed to renderSpec");if(blockArraysIn&&(suspicious=suspiciousAttributes(blockArraysIn))&&suspicious.indexOf(structure)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let contentDOM,space=tagName.indexOf(" ");space>0&&(xmlNS=tagName.slice(0,space),tagName=tagName.slice(space+1));let dom=xmlNS?doc.createElementNS(xmlNS,tagName):doc.createElement(tagName),attrs=structure[1],start=1;if(attrs&&"object"==typeof attrs&&null==attrs.nodeType&&!Array.isArray(attrs)){start=2;for(let name in attrs)if(null!=attrs[name]){let space=name.indexOf(" ");space>0?dom.setAttributeNS(name.slice(0,space),name.slice(space+1),attrs[name]):"style"==name&&dom.style?dom.style.cssText=attrs[name]:dom.setAttribute(name,attrs[name])}}for(let i=start;i<structure.length;i++){let child=structure[i];if(0===child){if(i<structure.length-1||i>start)throw new RangeError("Content hole must be the only child of its parent node");return{dom,contentDOM:dom}}{let{dom:inner,contentDOM:innerContent}=renderSpec(doc,child,xmlNS,blockArraysIn);if(dom.appendChild(inner),innerContent){if(contentDOM)throw new RangeError("Multiple content holes");contentDOM=innerContent}}}return{dom,contentDOM}}const factor16=Math.pow(2,16);function makeRecover(index,offset){return index+offset*factor16}function recoverIndex(value){return 65535&value}class MapResult{constructor(pos,delInfo,recover){this.pos=pos,this.delInfo=delInfo,this.recover=recover}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class StepMap{constructor(ranges,inverted=!1){if(this.ranges=ranges,this.inverted=inverted,!ranges.length&&StepMap.empty)return StepMap.empty}recover(value){let diff=0,index=recoverIndex(value);if(!this.inverted)for(let i=0;i<index;i++)diff+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*index]+diff+function recoverOffset(value){return(value-(65535&value))/factor16}(value)}mapResult(pos,assoc=1){return this._map(pos,assoc,!1)}map(pos,assoc=1){return this._map(pos,assoc,!0)}_map(pos,assoc,simple){let diff=0,oldIndex=this.inverted?2:1,newIndex=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let start=this.ranges[i]-(this.inverted?diff:0);if(start>pos)break;let oldSize=this.ranges[i+oldIndex],newSize=this.ranges[i+newIndex],end=start+oldSize;if(pos<=end){let result=start+diff+((oldSize?pos==start?-1:pos==end?1:assoc:assoc)<0?0:newSize);if(simple)return result;let recover=pos==(assoc<0?start:end)?null:makeRecover(i/3,pos-start),del=pos==start?2:pos==end?1:4;return(assoc<0?pos!=start:pos!=end)&&(del|=8),new MapResult(result,del,recover)}diff+=newSize-oldSize}return simple?pos+diff:new MapResult(pos+diff,0,null)}touches(pos,recover){let diff=0,index=recoverIndex(recover),oldIndex=this.inverted?2:1,newIndex=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let start=this.ranges[i]-(this.inverted?diff:0);if(start>pos)break;let oldSize=this.ranges[i+oldIndex];if(pos<=start+oldSize&&i==3*index)return!0;diff+=this.ranges[i+newIndex]-oldSize}return!1}forEach(f){let oldIndex=this.inverted?2:1,newIndex=this.inverted?1:2;for(let i=0,diff=0;i<this.ranges.length;i+=3){let start=this.ranges[i],oldStart=start-(this.inverted?diff:0),newStart=start+(this.inverted?0:diff),oldSize=this.ranges[i+oldIndex],newSize=this.ranges[i+newIndex];f(oldStart,oldStart+oldSize,newStart,newStart+newSize),diff+=newSize-oldSize}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(n){return 0==n?StepMap.empty:new StepMap(n<0?[0,-n,0]:[0,0,n])}}StepMap.empty=new StepMap([]);class dist_Mapping{constructor(maps,mirror,from=0,to=(maps?maps.length:0)){this.mirror=mirror,this.from=from,this.to=to,this._maps=maps||[],this.ownData=!(maps||mirror)}get maps(){return this._maps}slice(from=0,to=this.maps.length){return new dist_Mapping(this._maps,this.mirror,from,to)}appendMap(map,mirrors){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(map),null!=mirrors&&this.setMirror(this._maps.length-1,mirrors)}appendMapping(mapping){for(let i=0,startSize=this._maps.length;i<mapping._maps.length;i++){let mirr=mapping.getMirror(i);this.appendMap(mapping._maps[i],null!=mirr&&mirr<i?startSize+mirr:void 0)}}getMirror(n){if(this.mirror)for(let i=0;i<this.mirror.length;i++)if(this.mirror[i]==n)return this.mirror[i+(i%2?-1:1)]}setMirror(n,m){this.mirror||(this.mirror=[]),this.mirror.push(n,m)}appendMappingInverted(mapping){for(let i=mapping.maps.length-1,totalSize=this._maps.length+mapping._maps.length;i>=0;i--){let mirr=mapping.getMirror(i);this.appendMap(mapping._maps[i].invert(),null!=mirr&&mirr>i?totalSize-mirr-1:void 0)}}invert(){let inverse=new dist_Mapping;return inverse.appendMappingInverted(this),inverse}map(pos,assoc=1){if(this.mirror)return this._map(pos,assoc,!0);for(let i=this.from;i<this.to;i++)pos=this._maps[i].map(pos,assoc);return pos}mapResult(pos,assoc=1){return this._map(pos,assoc,!1)}_map(pos,assoc,simple){let delInfo=0;for(let i=this.from;i<this.to;i++){let result=this._maps[i].mapResult(pos,assoc);if(null!=result.recover){let corr=this.getMirror(i);if(null!=corr&&corr>i&&corr<this.to){i=corr,pos=this._maps[corr].recover(result.recover);continue}}delInfo|=result.delInfo,pos=result.pos}return simple?pos:new MapResult(pos,delInfo,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(other){return null}static fromJSON(schema,json){if(!json||!json.stepType)throw new RangeError("Invalid input for Step.fromJSON");let type=stepsByID[json.stepType];if(!type)throw new RangeError(`No step type ${json.stepType} defined`);return type.fromJSON(schema,json)}static jsonID(id,stepClass){if(id in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+id);return stepsByID[id]=stepClass,stepClass.prototype.jsonID=id,stepClass}}class StepResult{constructor(doc,failed){this.doc=doc,this.failed=failed}static ok(doc){return new StepResult(doc,null)}static fail(message){return new StepResult(null,message)}static fromReplace(doc,from,to,slice){try{return StepResult.ok(doc.replace(from,to,slice))}catch(e){if(e instanceof ReplaceError)return StepResult.fail(e.message);throw e}}}function mapFragment(fragment,f,parent){let mapped=[];for(let i=0;i<fragment.childCount;i++){let child=fragment.child(i);child.content.size&&(child=child.copy(mapFragment(child.content,f,child))),child.isInline&&(child=f(child,parent,i)),mapped.push(child)}return dist_Fragment.fromArray(mapped)}class AddMarkStep extends Step{constructor(from,to,mark){super(),this.from=from,this.to=to,this.mark=mark}apply(doc){let oldSlice=doc.slice(this.from,this.to),$from=doc.resolve(this.from),parent=$from.node($from.sharedDepth(this.to)),slice=new dist_Slice(mapFragment(oldSlice.content,(node,parent)=>node.isAtom&&parent.type.allowsMarkType(this.mark.type)?node.mark(this.mark.addToSet(node.marks)):node,parent),oldSlice.openStart,oldSlice.openEnd);return StepResult.fromReplace(doc,this.from,this.to,slice)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(mapping){let from=mapping.mapResult(this.from,1),to=mapping.mapResult(this.to,-1);return from.deleted&&to.deleted||from.pos>=to.pos?null:new AddMarkStep(from.pos,to.pos,this.mark)}merge(other){return other instanceof AddMarkStep&&other.mark.eq(this.mark)&&this.from<=other.to&&this.to>=other.from?new AddMarkStep(Math.min(this.from,other.from),Math.max(this.to,other.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(schema,json){if("number"!=typeof json.from||"number"!=typeof json.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(json.from,json.to,schema.markFromJSON(json.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(from,to,mark){super(),this.from=from,this.to=to,this.mark=mark}apply(doc){let oldSlice=doc.slice(this.from,this.to),slice=new dist_Slice(mapFragment(oldSlice.content,node=>node.mark(this.mark.removeFromSet(node.marks)),doc),oldSlice.openStart,oldSlice.openEnd);return StepResult.fromReplace(doc,this.from,this.to,slice)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(mapping){let from=mapping.mapResult(this.from,1),to=mapping.mapResult(this.to,-1);return from.deleted&&to.deleted||from.pos>=to.pos?null:new RemoveMarkStep(from.pos,to.pos,this.mark)}merge(other){return other instanceof RemoveMarkStep&&other.mark.eq(this.mark)&&this.from<=other.to&&this.to>=other.from?new RemoveMarkStep(Math.min(this.from,other.from),Math.max(this.to,other.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(schema,json){if("number"!=typeof json.from||"number"!=typeof json.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(json.from,json.to,schema.markFromJSON(json.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(pos,mark){super(),this.pos=pos,this.mark=mark}apply(doc){let node=doc.nodeAt(this.pos);if(!node)return StepResult.fail("No node at mark step's position");let updated=node.type.create(node.attrs,null,this.mark.addToSet(node.marks));return StepResult.fromReplace(doc,this.pos,this.pos+1,new dist_Slice(dist_Fragment.from(updated),0,node.isLeaf?0:1))}invert(doc){let node=doc.nodeAt(this.pos);if(node){let newSet=this.mark.addToSet(node.marks);if(newSet.length==node.marks.length){for(let i=0;i<node.marks.length;i++)if(!node.marks[i].isInSet(newSet))return new AddNodeMarkStep(this.pos,node.marks[i]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(mapping){let pos=mapping.mapResult(this.pos,1);return pos.deletedAfter?null:new AddNodeMarkStep(pos.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(schema,json){if("number"!=typeof json.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(json.pos,schema.markFromJSON(json.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(pos,mark){super(),this.pos=pos,this.mark=mark}apply(doc){let node=doc.nodeAt(this.pos);if(!node)return StepResult.fail("No node at mark step's position");let updated=node.type.create(node.attrs,null,this.mark.removeFromSet(node.marks));return StepResult.fromReplace(doc,this.pos,this.pos+1,new dist_Slice(dist_Fragment.from(updated),0,node.isLeaf?0:1))}invert(doc){let node=doc.nodeAt(this.pos);return node&&this.mark.isInSet(node.marks)?new AddNodeMarkStep(this.pos,this.mark):this}map(mapping){let pos=mapping.mapResult(this.pos,1);return pos.deletedAfter?null:new RemoveNodeMarkStep(pos.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(schema,json){if("number"!=typeof json.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(json.pos,schema.markFromJSON(json.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(from,to,slice,structure=!1){super(),this.from=from,this.to=to,this.slice=slice,this.structure=structure}apply(doc){return this.structure&&contentBetween(doc,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(doc,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(doc){return new ReplaceStep(this.from,this.from+this.slice.size,doc.slice(this.from,this.to))}map(mapping){let from=mapping.mapResult(this.from,1),to=mapping.mapResult(this.to,-1);return from.deletedAcross&&to.deletedAcross?null:new ReplaceStep(from.pos,Math.max(from.pos,to.pos),this.slice,this.structure)}merge(other){if(!(other instanceof ReplaceStep)||other.structure||this.structure)return null;if(this.from+this.slice.size!=other.from||this.slice.openEnd||other.slice.openStart){if(other.to!=this.from||this.slice.openStart||other.slice.openEnd)return null;{let slice=this.slice.size+other.slice.size==0?dist_Slice.empty:new dist_Slice(other.slice.content.append(this.slice.content),other.slice.openStart,this.slice.openEnd);return new ReplaceStep(other.from,this.to,slice,this.structure)}}{let slice=this.slice.size+other.slice.size==0?dist_Slice.empty:new dist_Slice(this.slice.content.append(other.slice.content),this.slice.openStart,other.slice.openEnd);return new ReplaceStep(this.from,this.to+(other.to-other.from),slice,this.structure)}}toJSON(){let json={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(json.slice=this.slice.toJSON()),this.structure&&(json.structure=!0),json}static fromJSON(schema,json){if("number"!=typeof json.from||"number"!=typeof json.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(json.from,json.to,dist_Slice.fromJSON(schema,json.slice),!!json.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(from,to,gapFrom,gapTo,slice,insert,structure=!1){super(),this.from=from,this.to=to,this.gapFrom=gapFrom,this.gapTo=gapTo,this.slice=slice,this.insert=insert,this.structure=structure}apply(doc){if(this.structure&&(contentBetween(doc,this.from,this.gapFrom)||contentBetween(doc,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let gap=doc.slice(this.gapFrom,this.gapTo);if(gap.openStart||gap.openEnd)return StepResult.fail("Gap is not a flat range");let inserted=this.slice.insertAt(this.insert,gap.content);return inserted?StepResult.fromReplace(doc,this.from,this.to,inserted):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(doc){let gap=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+gap,this.from+this.insert,this.from+this.insert+gap,doc.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(mapping){let from=mapping.mapResult(this.from,1),to=mapping.mapResult(this.to,-1),gapFrom=this.from==this.gapFrom?from.pos:mapping.map(this.gapFrom,-1),gapTo=this.to==this.gapTo?to.pos:mapping.map(this.gapTo,1);return from.deletedAcross&&to.deletedAcross||gapFrom<from.pos||gapTo>to.pos?null:new ReplaceAroundStep(from.pos,to.pos,gapFrom,gapTo,this.slice,this.insert,this.structure)}toJSON(){let json={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(json.slice=this.slice.toJSON()),this.structure&&(json.structure=!0),json}static fromJSON(schema,json){if("number"!=typeof json.from||"number"!=typeof json.to||"number"!=typeof json.gapFrom||"number"!=typeof json.gapTo||"number"!=typeof json.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(json.from,json.to,json.gapFrom,json.gapTo,dist_Slice.fromJSON(schema,json.slice),json.insert,!!json.structure)}}function contentBetween(doc,from,to){let $from=doc.resolve(from),dist=to-from,depth=$from.depth;for(;dist>0&&depth>0&&$from.indexAfter(depth)==$from.node(depth).childCount;)depth--,dist--;if(dist>0){let next=$from.node(depth).maybeChild($from.indexAfter(depth));for(;dist>0;){if(!next||next.isLeaf)return!0;next=next.firstChild,dist--}}return!1}function clearIncompatible(tr,pos,parentType,match=parentType.contentMatch,clearNewlines=!0){let node=tr.doc.nodeAt(pos),replSteps=[],cur=pos+1;for(let i=0;i<node.childCount;i++){let child=node.child(i),end=cur+child.nodeSize,allowed=match.matchType(child.type);if(allowed){match=allowed;for(let j=0;j<child.marks.length;j++)parentType.allowsMarkType(child.marks[j].type)||tr.step(new RemoveMarkStep(cur,end,child.marks[j]));if(clearNewlines&&child.isText&&"pre"!=parentType.whitespace){let m,slice,newline=/\r?\n|\r/g;for(;m=newline.exec(child.text);)slice||(slice=new dist_Slice(dist_Fragment.from(parentType.schema.text(" ",parentType.allowedMarks(child.marks))),0,0)),replSteps.push(new ReplaceStep(cur+m.index,cur+m.index+m[0].length,slice))}}else replSteps.push(new ReplaceStep(cur,end,dist_Slice.empty));cur=end}if(!match.validEnd){let fill=match.fillBefore(dist_Fragment.empty,!0);tr.replace(cur,cur,new dist_Slice(fill,0,0))}for(let i=replSteps.length-1;i>=0;i--)tr.step(replSteps[i])}function canCut(node,start,end){return(0==start||node.canReplace(start,node.childCount))&&(end==node.childCount||node.canReplace(0,end))}function liftTarget(range){let content=range.parent.content.cutByIndex(range.startIndex,range.endIndex);for(let depth=range.depth;;--depth){let node=range.$from.node(depth),index=range.$from.index(depth),endIndex=range.$to.indexAfter(depth);if(depth<range.depth&&node.canReplace(index,endIndex,content))return depth;if(0==depth||node.type.spec.isolating||!canCut(node,index,endIndex))break}return null}function findWrapping(range,nodeType,attrs=null,innerRange=range){let around=function findWrappingOutside(range,type){let{parent,startIndex,endIndex}=range,around=parent.contentMatchAt(startIndex).findWrapping(type);if(!around)return null;let outer=around.length?around[0]:type;return parent.canReplaceWith(startIndex,endIndex,outer)?around:null}(range,nodeType),inner=around&&function findWrappingInside(range,type){let{parent,startIndex,endIndex}=range,inner=parent.child(startIndex),inside=type.contentMatch.findWrapping(inner.type);if(!inside)return null;let innerMatch=(inside.length?inside[inside.length-1]:type).contentMatch;for(let i=startIndex;innerMatch&&i<endIndex;i++)innerMatch=innerMatch.matchType(parent.child(i).type);return innerMatch&&innerMatch.validEnd?inside:null}(innerRange,nodeType);return inner?around.map(withAttrs).concat({type:nodeType,attrs}).concat(inner.map(withAttrs)):null}function withAttrs(type){return{type,attrs:null}}function replaceNewlines(tr,node,pos,mapFrom){node.forEach((child,offset)=>{if(child.isText){let m,newline=/\r?\n|\r/g;for(;m=newline.exec(child.text);){let start=tr.mapping.slice(mapFrom).map(pos+1+offset+m.index);tr.replaceWith(start,start+1,node.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(tr,node,pos,mapFrom){node.forEach((child,offset)=>{if(child.type==child.type.schema.linebreakReplacement){let start=tr.mapping.slice(mapFrom).map(pos+1+offset);tr.replaceWith(start,start+1,node.type.schema.text("\n"))}})}function dist_canSplit(doc,pos,depth=1,typesAfter){let $pos=doc.resolve(pos),base=$pos.depth-depth,innerType=typesAfter&&typesAfter[typesAfter.length-1]||$pos.parent;if(base<0||$pos.parent.type.spec.isolating||!$pos.parent.canReplace($pos.index(),$pos.parent.childCount)||!innerType.type.validContent($pos.parent.content.cutByIndex($pos.index(),$pos.parent.childCount)))return!1;for(let d=$pos.depth-1,i=depth-2;d>base;d--,i--){let node=$pos.node(d),index=$pos.index(d);if(node.type.spec.isolating)return!1;let rest=node.content.cutByIndex(index,node.childCount),overrideChild=typesAfter&&typesAfter[i+1];overrideChild&&(rest=rest.replaceChild(0,overrideChild.type.create(overrideChild.attrs)));let after=typesAfter&&typesAfter[i]||node;if(!node.canReplace(index+1,node.childCount)||!after.type.validContent(rest))return!1}let index=$pos.indexAfter(base),baseType=typesAfter&&typesAfter[0];return $pos.node(base).canReplaceWith(index,index,baseType?baseType.type:$pos.node(base+1).type)}function dist_canJoin(doc,pos){let $pos=doc.resolve(pos),index=$pos.index();return dist_joinable($pos.nodeBefore,$pos.nodeAfter)&&$pos.parent.canReplace(index,index+1)}function dist_joinable(a,b){return!(!a||!b||a.isLeaf||!function canAppendWithSubstitutedLinebreaks(a,b){b.content.size||a.type.compatibleContent(b.type);let match=a.contentMatchAt(a.childCount),{linebreakReplacement}=a.type.schema;for(let i=0;i<b.childCount;i++){let child=b.child(i),type=child.type==linebreakReplacement?a.type.schema.nodes.text:child.type;if(match=match.matchType(type),!match)return!1;if(!a.type.allowsMarks(child.marks))return!1}return match.validEnd}(a,b))}function joinPoint(doc,pos,dir=-1){let $pos=doc.resolve(pos);for(let d=$pos.depth;;d--){let before,after,index=$pos.index(d);if(d==$pos.depth?(before=$pos.nodeBefore,after=$pos.nodeAfter):dir>0?(before=$pos.node(d+1),index++,after=$pos.node(d).maybeChild(index)):(before=$pos.node(d).maybeChild(index-1),after=$pos.node(d+1)),before&&!before.isTextblock&&dist_joinable(before,after)&&$pos.node(d).canReplace(index,index+1))return pos;if(0==d)break;pos=dir<0?$pos.before(d):$pos.after(d)}}function dropPoint(doc,pos,slice){let $pos=doc.resolve(pos);if(!slice.content.size)return pos;let content=slice.content;for(let i=0;i<slice.openStart;i++)content=content.firstChild.content;for(let pass=1;pass<=(0==slice.openStart&&slice.size?2:1);pass++)for(let d=$pos.depth;d>=0;d--){let bias=d==$pos.depth?0:$pos.pos<=($pos.start(d+1)+$pos.end(d+1))/2?-1:1,insertPos=$pos.index(d)+(bias>0?1:0),parent=$pos.node(d),fits=!1;if(1==pass)fits=parent.canReplace(insertPos,insertPos,content);else{let wrapping=parent.contentMatchAt(insertPos).findWrapping(content.firstChild.type);fits=wrapping&&parent.canReplaceWith(insertPos,insertPos,wrapping[0])}if(fits)return 0==bias?$pos.pos:bias<0?$pos.before(d+1):$pos.after(d+1)}return null}function replaceStep(doc,from,to=from,slice=dist_Slice.empty){if(from==to&&!slice.size)return null;let $from=doc.resolve(from),$to=doc.resolve(to);return fitsTrivially($from,$to,slice)?new ReplaceStep(from,to,slice):new Fitter($from,$to,slice).fit()}function fitsTrivially($from,$to,slice){return!slice.openStart&&!slice.openEnd&&$from.start()==$to.start()&&$from.parent.canReplace($from.index(),$to.index(),slice.content)}Step.jsonID("replaceAround",ReplaceAroundStep);class Fitter{constructor($from,$to,unplaced){this.$from=$from,this.$to=$to,this.unplaced=unplaced,this.frontier=[],this.placed=dist_Fragment.empty;for(let i=0;i<=$from.depth;i++){let node=$from.node(i);this.frontier.push({type:node.type,match:node.contentMatchAt($from.indexAfter(i))})}for(let i=$from.depth;i>0;i--)this.placed=dist_Fragment.from($from.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let fit=this.findFittable();fit?this.placeNodes(fit):this.openMore()||this.dropNode()}let moveInline=this.mustMoveInline(),placedSize=this.placed.size-this.depth-this.$from.depth,$from=this.$from,$to=this.close(moveInline<0?this.$to:$from.doc.resolve(moveInline));if(!$to)return null;let content=this.placed,openStart=$from.depth,openEnd=$to.depth;for(;openStart&&openEnd&&1==content.childCount;)content=content.firstChild.content,openStart--,openEnd--;let slice=new dist_Slice(content,openStart,openEnd);return moveInline>-1?new ReplaceAroundStep($from.pos,moveInline,this.$to.pos,this.$to.end(),slice,placedSize):slice.size||$from.pos!=this.$to.pos?new ReplaceStep($from.pos,$to.pos,slice):null}findFittable(){let startDepth=this.unplaced.openStart;for(let cur=this.unplaced.content,d=0,openEnd=this.unplaced.openEnd;d<startDepth;d++){let node=cur.firstChild;if(cur.childCount>1&&(openEnd=0),node.type.spec.isolating&&openEnd<=d){startDepth=d;break}cur=node.content}for(let pass=1;pass<=2;pass++)for(let sliceDepth=1==pass?startDepth:this.unplaced.openStart;sliceDepth>=0;sliceDepth--){let fragment,parent=null;sliceDepth?(parent=contentAt(this.unplaced.content,sliceDepth-1).firstChild,fragment=parent.content):fragment=this.unplaced.content;let first=fragment.firstChild;for(let frontierDepth=this.depth;frontierDepth>=0;frontierDepth--){let wrap,{type,match}=this.frontier[frontierDepth],inject=null;if(1==pass&&(first?match.matchType(first.type)||(inject=match.fillBefore(dist_Fragment.from(first),!1)):parent&&type.compatibleContent(parent.type)))return{sliceDepth,frontierDepth,parent,inject};if(2==pass&&first&&(wrap=match.findWrapping(first.type)))return{sliceDepth,frontierDepth,parent,wrap};if(parent&&match.matchType(parent.type))break}}}openMore(){let{content,openStart,openEnd}=this.unplaced,inner=contentAt(content,openStart);return!(!inner.childCount||inner.firstChild.isLeaf)&&(this.unplaced=new dist_Slice(content,openStart+1,Math.max(openEnd,inner.size+openStart>=content.size-openEnd?openStart+1:0)),!0)}dropNode(){let{content,openStart,openEnd}=this.unplaced,inner=contentAt(content,openStart);if(inner.childCount<=1&&openStart>0){let openAtEnd=content.size-openStart<=openStart+inner.size;this.unplaced=new dist_Slice(dropFromFragment(content,openStart-1,1),openStart-1,openAtEnd?openStart-1:openEnd)}else this.unplaced=new dist_Slice(dropFromFragment(content,openStart,1),openStart,openEnd)}placeNodes({sliceDepth,frontierDepth,parent,inject,wrap}){for(;this.depth>frontierDepth;)this.closeFrontierNode();if(wrap)for(let i=0;i<wrap.length;i++)this.openFrontierNode(wrap[i]);let slice=this.unplaced,fragment=parent?parent.content:slice.content,openStart=slice.openStart-sliceDepth,taken=0,add=[],{match,type}=this.frontier[frontierDepth];if(inject){for(let i=0;i<inject.childCount;i++)add.push(inject.child(i));match=match.matchFragment(inject)}let openEndCount=fragment.size+sliceDepth-(slice.content.size-slice.openEnd);for(;taken<fragment.childCount;){let next=fragment.child(taken),matches=match.matchType(next.type);if(!matches)break;taken++,(taken>1||0==openStart||next.content.size)&&(match=matches,add.push(closeNodeStart(next.mark(type.allowedMarks(next.marks)),1==taken?openStart:0,taken==fragment.childCount?openEndCount:-1)))}let toEnd=taken==fragment.childCount;toEnd||(openEndCount=-1),this.placed=addToFragment(this.placed,frontierDepth,dist_Fragment.from(add)),this.frontier[frontierDepth].match=match,toEnd&&openEndCount<0&&parent&&parent.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let i=0,cur=fragment;i<openEndCount;i++){let node=cur.lastChild;this.frontier.push({type:node.type,match:node.contentMatchAt(node.childCount)}),cur=node.content}this.unplaced=toEnd?0==sliceDepth?dist_Slice.empty:new dist_Slice(dropFromFragment(slice.content,sliceDepth-1,1),sliceDepth-1,openEndCount<0?slice.openEnd:sliceDepth-1):new dist_Slice(dropFromFragment(slice.content,sliceDepth,taken),slice.openStart,slice.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let level,top=this.frontier[this.depth];if(!top.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,top.type,top.match,!1)||this.$to.depth==this.depth&&(level=this.findCloseLevel(this.$to))&&level.depth==this.depth)return-1;let{depth}=this.$to,after=this.$to.after(depth);for(;depth>1&&after==this.$to.end(--depth);)++after;return after}findCloseLevel($to){scan:for(let i=Math.min(this.depth,$to.depth);i>=0;i--){let{match,type}=this.frontier[i],dropInner=i<$to.depth&&$to.end(i+1)==$to.pos+($to.depth-(i+1)),fit=contentAfterFits($to,i,type,match,dropInner);if(fit){for(let d=i-1;d>=0;d--){let{match,type}=this.frontier[d],matches=contentAfterFits($to,d,type,match,!0);if(!matches||matches.childCount)continue scan}return{depth:i,fit,move:dropInner?$to.doc.resolve($to.after(i+1)):$to}}}}close($to){let close=this.findCloseLevel($to);if(!close)return null;for(;this.depth>close.depth;)this.closeFrontierNode();close.fit.childCount&&(this.placed=addToFragment(this.placed,close.depth,close.fit)),$to=close.move;for(let d=close.depth+1;d<=$to.depth;d++){let node=$to.node(d),add=node.type.contentMatch.fillBefore(node.content,!0,$to.index(d));this.openFrontierNode(node.type,node.attrs,add)}return $to}openFrontierNode(type,attrs=null,content){let top=this.frontier[this.depth];top.match=top.match.matchType(type),this.placed=addToFragment(this.placed,this.depth,dist_Fragment.from(type.create(attrs,content))),this.frontier.push({type,match:type.contentMatch})}closeFrontierNode(){let add=this.frontier.pop().match.fillBefore(dist_Fragment.empty,!0);add.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,add))}}function dropFromFragment(fragment,depth,count){return 0==depth?fragment.cutByIndex(count,fragment.childCount):fragment.replaceChild(0,fragment.firstChild.copy(dropFromFragment(fragment.firstChild.content,depth-1,count)))}function addToFragment(fragment,depth,content){return 0==depth?fragment.append(content):fragment.replaceChild(fragment.childCount-1,fragment.lastChild.copy(addToFragment(fragment.lastChild.content,depth-1,content)))}function contentAt(fragment,depth){for(let i=0;i<depth;i++)fragment=fragment.firstChild.content;return fragment}function closeNodeStart(node,openStart,openEnd){if(openStart<=0)return node;let frag=node.content;return openStart>1&&(frag=frag.replaceChild(0,closeNodeStart(frag.firstChild,openStart-1,1==frag.childCount?openEnd-1:0))),openStart>0&&(frag=node.type.contentMatch.fillBefore(frag).append(frag),openEnd<=0&&(frag=frag.append(node.type.contentMatch.matchFragment(frag).fillBefore(dist_Fragment.empty,!0)))),node.copy(frag)}function contentAfterFits($to,depth,type,match,open){let node=$to.node(depth),index=open?$to.indexAfter(depth):$to.index(depth);if(index==node.childCount&&!type.compatibleContent(node.type))return null;let fit=match.fillBefore(node.content,!0,index);return fit&&!function invalidMarks(type,fragment,start){for(let i=start;i<fragment.childCount;i++)if(!type.allowsMarks(fragment.child(i).marks))return!0;return!1}(type,node.content,index)?fit:null}function definesContent(type){return type.spec.defining||type.spec.definingForContent}function closeFragment(fragment,depth,oldOpen,newOpen,parent){if(depth<oldOpen){let first=fragment.firstChild;fragment=fragment.replaceChild(0,first.copy(closeFragment(first.content,depth+1,oldOpen,newOpen,first)))}if(depth>newOpen){let match=parent.contentMatchAt(0),start=match.fillBefore(fragment).append(fragment);fragment=start.append(match.matchFragment(start).fillBefore(dist_Fragment.empty,!0))}return fragment}function coveredDepths($from,$to){let result=[];for(let d=Math.min($from.depth,$to.depth);d>=0;d--){let start=$from.start(d);if(start<$from.pos-($from.depth-d)||$to.end(d)>$to.pos+($to.depth-d)||$from.node(d).type.spec.isolating||$to.node(d).type.spec.isolating)break;(start==$to.start(d)||d==$from.depth&&d==$to.depth&&$from.parent.inlineContent&&$to.parent.inlineContent&&d&&$to.start(d-1)==start-1)&&result.push(d)}return result}class AttrStep extends Step{constructor(pos,attr,value){super(),this.pos=pos,this.attr=attr,this.value=value}apply(doc){let node=doc.nodeAt(this.pos);if(!node)return StepResult.fail("No node at attribute step's position");let attrs=Object.create(null);for(let name in node.attrs)attrs[name]=node.attrs[name];attrs[this.attr]=this.value;let updated=node.type.create(attrs,null,node.marks);return StepResult.fromReplace(doc,this.pos,this.pos+1,new dist_Slice(dist_Fragment.from(updated),0,node.isLeaf?0:1))}getMap(){return StepMap.empty}invert(doc){return new AttrStep(this.pos,this.attr,doc.nodeAt(this.pos).attrs[this.attr])}map(mapping){let pos=mapping.mapResult(this.pos,1);return pos.deletedAfter?null:new AttrStep(pos.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(schema,json){if("number"!=typeof json.pos||"string"!=typeof json.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(json.pos,json.attr,json.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(attr,value){super(),this.attr=attr,this.value=value}apply(doc){let attrs=Object.create(null);for(let name in doc.attrs)attrs[name]=doc.attrs[name];attrs[this.attr]=this.value;let updated=doc.type.create(attrs,doc.content,doc.marks);return StepResult.ok(updated)}getMap(){return StepMap.empty}invert(doc){return new DocAttrStep(this.attr,doc.attrs[this.attr])}map(mapping){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(schema,json){if("string"!=typeof json.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(json.attr,json.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function TransformError(message){let err=Error.call(this,message);return err.__proto__=TransformError.prototype,err},(TransformError.prototype=Object.create(Error.prototype)).constructor=TransformError,TransformError.prototype.name="TransformError";class Transform{constructor(doc){this.doc=doc,this.steps=[],this.docs=[],this.mapping=new dist_Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(step){let result=this.maybeStep(step);if(result.failed)throw new TransformError(result.failed);return this}maybeStep(step){let result=step.apply(this.doc);return result.failed||this.addStep(step,result.doc),result}get docChanged(){return this.steps.length>0}addStep(step,doc){this.docs.push(this.doc),this.steps.push(step),this.mapping.appendMap(step.getMap()),this.doc=doc}replace(from,to=from,slice=dist_Slice.empty){let step=replaceStep(this.doc,from,to,slice);return step&&this.step(step),this}replaceWith(from,to,content){return this.replace(from,to,new dist_Slice(dist_Fragment.from(content),0,0))}delete(from,to){return this.replace(from,to,dist_Slice.empty)}insert(pos,content){return this.replaceWith(pos,pos,content)}replaceRange(from,to,slice){return function replaceRange(tr,from,to,slice){if(!slice.size)return tr.deleteRange(from,to);let $from=tr.doc.resolve(from),$to=tr.doc.resolve(to);if(fitsTrivially($from,$to,slice))return tr.step(new ReplaceStep(from,to,slice));let targetDepths=coveredDepths($from,tr.doc.resolve(to));0==targetDepths[targetDepths.length-1]&&targetDepths.pop();let preferredTarget=-($from.depth+1);targetDepths.unshift(preferredTarget);for(let d=$from.depth,pos=$from.pos-1;d>0;d--,pos--){let spec=$from.node(d).type.spec;if(spec.defining||spec.definingAsContext||spec.isolating)break;targetDepths.indexOf(d)>-1?preferredTarget=d:$from.before(d)==pos&&targetDepths.splice(1,0,-d)}let preferredTargetIndex=targetDepths.indexOf(preferredTarget),leftNodes=[],preferredDepth=slice.openStart;for(let content=slice.content,i=0;;i++){let node=content.firstChild;if(leftNodes.push(node),i==slice.openStart)break;content=node.content}for(let d=preferredDepth-1;d>=0;d--){let leftNode=leftNodes[d],def=definesContent(leftNode.type);if(def&&!leftNode.sameMarkup($from.node(Math.abs(preferredTarget)-1)))preferredDepth=d;else if(def||!leftNode.type.isTextblock)break}for(let j=slice.openStart;j>=0;j--){let openDepth=(j+preferredDepth+1)%(slice.openStart+1),insert=leftNodes[openDepth];if(insert)for(let i=0;i<targetDepths.length;i++){let targetDepth=targetDepths[(i+preferredTargetIndex)%targetDepths.length],expand=!0;targetDepth<0&&(expand=!1,targetDepth=-targetDepth);let parent=$from.node(targetDepth-1),index=$from.index(targetDepth-1);if(parent.canReplaceWith(index,index,insert.type,insert.marks))return tr.replace($from.before(targetDepth),expand?$to.after(targetDepth):to,new dist_Slice(closeFragment(slice.content,0,slice.openStart,openDepth),openDepth,slice.openEnd))}}let startSteps=tr.steps.length;for(let i=targetDepths.length-1;i>=0&&(tr.replace(from,to,slice),!(tr.steps.length>startSteps));i--){let depth=targetDepths[i];depth<0||(from=$from.before(depth),to=$to.after(depth))}}(this,from,to,slice),this}replaceRangeWith(from,to,node){return function replaceRangeWith(tr,from,to,node){if(!node.isInline&&from==to&&tr.doc.resolve(from).parent.content.size){let point=function insertPoint(doc,pos,nodeType){let $pos=doc.resolve(pos);if($pos.parent.canReplaceWith($pos.index(),$pos.index(),nodeType))return pos;if(0==$pos.parentOffset)for(let d=$pos.depth-1;d>=0;d--){let index=$pos.index(d);if($pos.node(d).canReplaceWith(index,index,nodeType))return $pos.before(d+1);if(index>0)return null}if($pos.parentOffset==$pos.parent.content.size)for(let d=$pos.depth-1;d>=0;d--){let index=$pos.indexAfter(d);if($pos.node(d).canReplaceWith(index,index,nodeType))return $pos.after(d+1);if(index<$pos.node(d).childCount)return null}return null}(tr.doc,from,node.type);null!=point&&(from=to=point)}tr.replaceRange(from,to,new dist_Slice(dist_Fragment.from(node),0,0))}(this,from,to,node),this}deleteRange(from,to){return function deleteRange(tr,from,to){let $from=tr.doc.resolve(from),$to=tr.doc.resolve(to),covered=coveredDepths($from,$to);for(let i=0;i<covered.length;i++){let depth=covered[i],last=i==covered.length-1;if(last&&0==depth||$from.node(depth).type.contentMatch.validEnd)return tr.delete($from.start(depth),$to.end(depth));if(depth>0&&(last||$from.node(depth-1).canReplace($from.index(depth-1),$to.indexAfter(depth-1))))return tr.delete($from.before(depth),$to.after(depth))}for(let d=1;d<=$from.depth&&d<=$to.depth;d++)if(from-$from.start(d)==$from.depth-d&&to>$from.end(d)&&$to.end(d)-to!=$to.depth-d&&$from.start(d-1)==$to.start(d-1)&&$from.node(d-1).canReplace($from.index(d-1),$to.index(d-1)))return tr.delete($from.before(d),to);tr.delete(from,to)}(this,from,to),this}lift(range,target){return function lift(tr,range,target){let{$from,$to,depth}=range,gapStart=$from.before(depth+1),gapEnd=$to.after(depth+1),start=gapStart,end=gapEnd,before=dist_Fragment.empty,openStart=0;for(let d=depth,splitting=!1;d>target;d--)splitting||$from.index(d)>0?(splitting=!0,before=dist_Fragment.from($from.node(d).copy(before)),openStart++):start--;let after=dist_Fragment.empty,openEnd=0;for(let d=depth,splitting=!1;d>target;d--)splitting||$to.after(d+1)<$to.end(d)?(splitting=!0,after=dist_Fragment.from($to.node(d).copy(after)),openEnd++):end++;tr.step(new ReplaceAroundStep(start,end,gapStart,gapEnd,new dist_Slice(before.append(after),openStart,openEnd),before.size-openStart,!0))}(this,range,target),this}join(pos,depth=1){return function join(tr,pos,depth){let convertNewlines=null,{linebreakReplacement}=tr.doc.type.schema,$before=tr.doc.resolve(pos-depth),beforeType=$before.node().type;if(linebreakReplacement&&beforeType.inlineContent){let pre="pre"==beforeType.whitespace,supportLinebreak=!!beforeType.contentMatch.matchType(linebreakReplacement);pre&&!supportLinebreak?convertNewlines=!1:!pre&&supportLinebreak&&(convertNewlines=!0)}let mapFrom=tr.steps.length;if(!1===convertNewlines){let $after=tr.doc.resolve(pos+depth);replaceLinebreaks(tr,$after.node(),$after.before(),mapFrom)}beforeType.inlineContent&&clearIncompatible(tr,pos+depth-1,beforeType,$before.node().contentMatchAt($before.index()),null==convertNewlines);let mapping=tr.mapping.slice(mapFrom),start=mapping.map(pos-depth);if(tr.step(new ReplaceStep(start,mapping.map(pos+depth,-1),dist_Slice.empty,!0)),!0===convertNewlines){let $full=tr.doc.resolve(start);replaceNewlines(tr,$full.node(),$full.before(),tr.steps.length)}return tr}(this,pos,depth),this}wrap(range,wrappers){return function dist_wrap(tr,range,wrappers){let content=dist_Fragment.empty;for(let i=wrappers.length-1;i>=0;i--){if(content.size){let match=wrappers[i].type.contentMatch.matchFragment(content);if(!match||!match.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}content=dist_Fragment.from(wrappers[i].type.create(wrappers[i].attrs,content))}let start=range.start,end=range.end;tr.step(new ReplaceAroundStep(start,end,start,end,new dist_Slice(content,0,0),wrappers.length,!0))}(this,range,wrappers),this}setBlockType(from,to=from,type,attrs=null){return function setBlockType(tr,from,to,type,attrs){if(!type.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let mapFrom=tr.steps.length;tr.doc.nodesBetween(from,to,(node,pos)=>{let attrsHere="function"==typeof attrs?attrs(node):attrs;if(node.isTextblock&&!node.hasMarkup(type,attrsHere)&&function canChangeType(doc,pos,type){let $pos=doc.resolve(pos),index=$pos.index();return $pos.parent.canReplaceWith(index,index+1,type)}(tr.doc,tr.mapping.slice(mapFrom).map(pos),type)){let convertNewlines=null;if(type.schema.linebreakReplacement){let pre="pre"==type.whitespace,supportLinebreak=!!type.contentMatch.matchType(type.schema.linebreakReplacement);pre&&!supportLinebreak?convertNewlines=!1:!pre&&supportLinebreak&&(convertNewlines=!0)}!1===convertNewlines&&replaceLinebreaks(tr,node,pos,mapFrom),clearIncompatible(tr,tr.mapping.slice(mapFrom).map(pos,1),type,void 0,null===convertNewlines);let mapping=tr.mapping.slice(mapFrom),startM=mapping.map(pos,1),endM=mapping.map(pos+node.nodeSize,1);return tr.step(new ReplaceAroundStep(startM,endM,startM+1,endM-1,new dist_Slice(dist_Fragment.from(type.create(attrsHere,null,node.marks)),0,0),1,!0)),!0===convertNewlines&&replaceNewlines(tr,node,pos,mapFrom),!1}})}(this,from,to,type,attrs),this}setNodeMarkup(pos,type,attrs=null,marks){return function setNodeMarkup(tr,pos,type,attrs,marks){let node=tr.doc.nodeAt(pos);if(!node)throw new RangeError("No node at given position");type||(type=node.type);let newNode=type.create(attrs,null,marks||node.marks);if(node.isLeaf)return tr.replaceWith(pos,pos+node.nodeSize,newNode);if(!type.validContent(node.content))throw new RangeError("Invalid content for node type "+type.name);tr.step(new ReplaceAroundStep(pos,pos+node.nodeSize,pos+1,pos+node.nodeSize-1,new dist_Slice(dist_Fragment.from(newNode),0,0),1,!0))}(this,pos,type,attrs,marks),this}setNodeAttribute(pos,attr,value){return this.step(new AttrStep(pos,attr,value)),this}setDocAttribute(attr,value){return this.step(new DocAttrStep(attr,value)),this}addNodeMark(pos,mark){return this.step(new AddNodeMarkStep(pos,mark)),this}removeNodeMark(pos,mark){let node=this.doc.nodeAt(pos);if(!node)throw new RangeError("No node at position "+pos);if(mark instanceof Mark)mark.isInSet(node.marks)&&this.step(new RemoveNodeMarkStep(pos,mark));else{let found,set=node.marks,steps=[];for(;found=mark.isInSet(set);)steps.push(new RemoveNodeMarkStep(pos,found)),set=found.removeFromSet(set);for(let i=steps.length-1;i>=0;i--)this.step(steps[i])}return this}split(pos,depth=1,typesAfter){return function split(tr,pos,depth=1,typesAfter){let $pos=tr.doc.resolve(pos),before=dist_Fragment.empty,after=dist_Fragment.empty;for(let d=$pos.depth,e=$pos.depth-depth,i=depth-1;d>e;d--,i--){before=dist_Fragment.from($pos.node(d).copy(before));let typeAfter=typesAfter&&typesAfter[i];after=dist_Fragment.from(typeAfter?typeAfter.type.create(typeAfter.attrs,after):$pos.node(d).copy(after))}tr.step(new ReplaceStep(pos,pos,new dist_Slice(before.append(after),depth,depth),!0))}(this,pos,depth,typesAfter),this}addMark(from,to,mark){return function addMark(tr,from,to,mark){let removing,adding,removed=[],added=[];tr.doc.nodesBetween(from,to,(node,pos,parent)=>{if(!node.isInline)return;let marks=node.marks;if(!mark.isInSet(marks)&&parent.type.allowsMarkType(mark.type)){let start=Math.max(pos,from),end=Math.min(pos+node.nodeSize,to),newSet=mark.addToSet(marks);for(let i=0;i<marks.length;i++)marks[i].isInSet(newSet)||(removing&&removing.to==start&&removing.mark.eq(marks[i])?removing.to=end:removed.push(removing=new RemoveMarkStep(start,end,marks[i])));adding&&adding.to==start?adding.to=end:added.push(adding=new AddMarkStep(start,end,mark))}}),removed.forEach(s=>tr.step(s)),added.forEach(s=>tr.step(s))}(this,from,to,mark),this}removeMark(from,to,mark){return function removeMark(tr,from,to,mark){let matched=[],step=0;tr.doc.nodesBetween(from,to,(node,pos)=>{if(!node.isInline)return;step++;let toRemove=null;if(mark instanceof MarkType){let found,set=node.marks;for(;found=mark.isInSet(set);)(toRemove||(toRemove=[])).push(found),set=found.removeFromSet(set)}else mark?mark.isInSet(node.marks)&&(toRemove=[mark]):toRemove=node.marks;if(toRemove&&toRemove.length){let end=Math.min(pos+node.nodeSize,to);for(let i=0;i<toRemove.length;i++){let found,style=toRemove[i];for(let j=0;j<matched.length;j++){let m=matched[j];m.step==step-1&&style.eq(matched[j].style)&&(found=m)}found?(found.to=end,found.step=step):matched.push({style,from:Math.max(pos,from),to:end,step})}}}),matched.forEach(m=>tr.step(new RemoveMarkStep(m.from,m.to,m.style)))}(this,from,to,mark),this}clearIncompatible(pos,parentType,match){return clearIncompatible(this,pos,parentType,match),this}}const classesById=Object.create(null);class dist_Selection{constructor($anchor,$head,ranges){this.$anchor=$anchor,this.$head=$head,this.ranges=ranges||[new dist_SelectionRange($anchor.min($head),$anchor.max($head))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let ranges=this.ranges;for(let i=0;i<ranges.length;i++)if(ranges[i].$from.pos!=ranges[i].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(tr,content=dist_Slice.empty){let lastNode=content.content.lastChild,lastParent=null;for(let i=0;i<content.openEnd;i++)lastParent=lastNode,lastNode=lastNode.lastChild;let mapFrom=tr.steps.length,ranges=this.ranges;for(let i=0;i<ranges.length;i++){let{$from,$to}=ranges[i],mapping=tr.mapping.slice(mapFrom);tr.replaceRange(mapping.map($from.pos),mapping.map($to.pos),i?dist_Slice.empty:content),0==i&&selectionToInsertionEnd(tr,mapFrom,(lastNode?lastNode.isInline:lastParent&&lastParent.isTextblock)?-1:1)}}replaceWith(tr,node){let mapFrom=tr.steps.length,ranges=this.ranges;for(let i=0;i<ranges.length;i++){let{$from,$to}=ranges[i],mapping=tr.mapping.slice(mapFrom),from=mapping.map($from.pos),to=mapping.map($to.pos);i?tr.deleteRange(from,to):(tr.replaceRangeWith(from,to,node),selectionToInsertionEnd(tr,mapFrom,node.isInline?-1:1))}}static findFrom($pos,dir,textOnly=!1){let inner=$pos.parent.inlineContent?new TextSelection($pos):findSelectionIn($pos.node(0),$pos.parent,$pos.pos,$pos.index(),dir,textOnly);if(inner)return inner;for(let depth=$pos.depth-1;depth>=0;depth--){let found=dir<0?findSelectionIn($pos.node(0),$pos.node(depth),$pos.before(depth+1),$pos.index(depth),dir,textOnly):findSelectionIn($pos.node(0),$pos.node(depth),$pos.after(depth+1),$pos.index(depth)+1,dir,textOnly);if(found)return found}return null}static near($pos,bias=1){return this.findFrom($pos,bias)||this.findFrom($pos,-bias)||new AllSelection($pos.node(0))}static atStart(doc){return findSelectionIn(doc,doc,0,0,1)||new AllSelection(doc)}static atEnd(doc){return findSelectionIn(doc,doc,doc.content.size,doc.childCount,-1)||new AllSelection(doc)}static fromJSON(doc,json){if(!json||!json.type)throw new RangeError("Invalid input for Selection.fromJSON");let cls=classesById[json.type];if(!cls)throw new RangeError(`No selection type ${json.type} defined`);return cls.fromJSON(doc,json)}static jsonID(id,selectionClass){if(id in classesById)throw new RangeError("Duplicate use of selection JSON ID "+id);return classesById[id]=selectionClass,selectionClass.prototype.jsonID=id,selectionClass}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}dist_Selection.prototype.visible=!0;class dist_SelectionRange{constructor($from,$to){this.$from=$from,this.$to=$to}}let warnedAboutTextSelection=!1;function checkTextSelection($pos){warnedAboutTextSelection||$pos.parent.inlineContent||(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+$pos.parent.type.name+")"))}class TextSelection extends dist_Selection{constructor($anchor,$head=$anchor){checkTextSelection($anchor),checkTextSelection($head),super($anchor,$head)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(doc,mapping){let $head=doc.resolve(mapping.map(this.head));if(!$head.parent.inlineContent)return dist_Selection.near($head);let $anchor=doc.resolve(mapping.map(this.anchor));return new TextSelection($anchor.parent.inlineContent?$anchor:$head,$head)}replace(tr,content=dist_Slice.empty){if(super.replace(tr,content),content==dist_Slice.empty){let marks=this.$from.marksAcross(this.$to);marks&&tr.ensureMarks(marks)}}eq(other){return other instanceof TextSelection&&other.anchor==this.anchor&&other.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(doc,json){if("number"!=typeof json.anchor||"number"!=typeof json.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(doc.resolve(json.anchor),doc.resolve(json.head))}static create(doc,anchor,head=anchor){let $anchor=doc.resolve(anchor);return new this($anchor,head==anchor?$anchor:doc.resolve(head))}static between($anchor,$head,bias){let dPos=$anchor.pos-$head.pos;if(bias&&!dPos||(bias=dPos>=0?1:-1),!$head.parent.inlineContent){let found=dist_Selection.findFrom($head,bias,!0)||dist_Selection.findFrom($head,-bias,!0);if(!found)return dist_Selection.near($head,bias);$head=found.$head}return $anchor.parent.inlineContent||(0==dPos||($anchor=(dist_Selection.findFrom($anchor,-bias,!0)||dist_Selection.findFrom($anchor,bias,!0)).$anchor).pos<$head.pos!=dPos<0)&&($anchor=$head),new TextSelection($anchor,$head)}}dist_Selection.jsonID("text",TextSelection);class TextBookmark{constructor(anchor,head){this.anchor=anchor,this.head=head}map(mapping){return new TextBookmark(mapping.map(this.anchor),mapping.map(this.head))}resolve(doc){return TextSelection.between(doc.resolve(this.anchor),doc.resolve(this.head))}}class NodeSelection extends dist_Selection{constructor($pos){let node=$pos.nodeAfter,$end=$pos.node(0).resolve($pos.pos+node.nodeSize);super($pos,$end),this.node=node}map(doc,mapping){let{deleted,pos}=mapping.mapResult(this.anchor),$pos=doc.resolve(pos);return deleted?dist_Selection.near($pos):new NodeSelection($pos)}content(){return new dist_Slice(dist_Fragment.from(this.node),0,0)}eq(other){return other instanceof NodeSelection&&other.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(doc,json){if("number"!=typeof json.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(doc.resolve(json.anchor))}static create(doc,from){return new NodeSelection(doc.resolve(from))}static isSelectable(node){return!node.isText&&!1!==node.type.spec.selectable}}NodeSelection.prototype.visible=!1,dist_Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(anchor){this.anchor=anchor}map(mapping){let{deleted,pos}=mapping.mapResult(this.anchor);return deleted?new TextBookmark(pos,pos):new NodeBookmark(pos)}resolve(doc){let $pos=doc.resolve(this.anchor),node=$pos.nodeAfter;return node&&NodeSelection.isSelectable(node)?new NodeSelection($pos):dist_Selection.near($pos)}}class AllSelection extends dist_Selection{constructor(doc){super(doc.resolve(0),doc.resolve(doc.content.size))}replace(tr,content=dist_Slice.empty){if(content==dist_Slice.empty){tr.delete(0,tr.doc.content.size);let sel=dist_Selection.atStart(tr.doc);sel.eq(tr.selection)||tr.setSelection(sel)}else super.replace(tr,content)}toJSON(){return{type:"all"}}static fromJSON(doc){return new AllSelection(doc)}map(doc){return new AllSelection(doc)}eq(other){return other instanceof AllSelection}getBookmark(){return AllBookmark}}dist_Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve:doc=>new AllSelection(doc)};function findSelectionIn(doc,node,pos,index,dir,text=!1){if(node.inlineContent)return TextSelection.create(doc,pos);for(let i=index-(dir>0?0:1);dir>0?i<node.childCount:i>=0;i+=dir){let child=node.child(i);if(child.isAtom){if(!text&&NodeSelection.isSelectable(child))return NodeSelection.create(doc,pos-(dir<0?child.nodeSize:0))}else{let inner=findSelectionIn(doc,child,pos+dir,dir<0?child.childCount:0,dir,text);if(inner)return inner}pos+=child.nodeSize*dir}return null}function selectionToInsertionEnd(tr,startLen,bias){let last=tr.steps.length-1;if(last<startLen)return;let end,step=tr.steps[last];(step instanceof ReplaceStep||step instanceof ReplaceAroundStep)&&(tr.mapping.maps[last].forEach((_from,_to,_newFrom,newTo)=>{null==end&&(end=newTo)}),tr.setSelection(dist_Selection.near(tr.doc.resolve(end),bias)))}class dist_Transaction extends Transform{constructor(state){super(state.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=state.selection,this.storedMarks=state.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(selection){if(selection.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=selection,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(marks){return this.storedMarks=marks,this.updated|=2,this}ensureMarks(marks){return Mark.sameSet(this.storedMarks||this.selection.$from.marks(),marks)||this.setStoredMarks(marks),this}addStoredMark(mark){return this.ensureMarks(mark.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(mark){return this.ensureMarks(mark.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(step,doc){super.addStep(step,doc),this.updated=-3&this.updated,this.storedMarks=null}setTime(time){return this.time=time,this}replaceSelection(slice){return this.selection.replace(this,slice),this}replaceSelectionWith(node,inheritMarks=!0){let selection=this.selection;return inheritMarks&&(node=node.mark(this.storedMarks||(selection.empty?selection.$from.marks():selection.$from.marksAcross(selection.$to)||Mark.none))),selection.replaceWith(this,node),this}deleteSelection(){return this.selection.replace(this),this}insertText(text,from,to){let schema=this.doc.type.schema;if(null==from)return text?this.replaceSelectionWith(schema.text(text),!0):this.deleteSelection();{if(null==to&&(to=from),to=null==to?from:to,!text)return this.deleteRange(from,to);let marks=this.storedMarks;if(!marks){let $from=this.doc.resolve(from);marks=to==from?$from.marks():$from.marksAcross(this.doc.resolve(to))}return this.replaceRangeWith(from,to,schema.text(text,marks)),this.selection.empty||this.setSelection(dist_Selection.near(this.selection.$to)),this}}setMeta(key,value){return this.meta["string"==typeof key?key:key.key]=value,this}getMeta(key){return this.meta["string"==typeof key?key:key.key]}get isGeneric(){for(let _ in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function dist_bind(f,self){return self&&f?f.bind(self):f}class FieldDesc{constructor(name,desc,self){this.name=name,this.init=dist_bind(desc.init,self),this.apply=dist_bind(desc.apply,self)}}const baseFields=[new FieldDesc("doc",{init:config=>config.doc||config.schema.topNodeType.createAndFill(),apply:tr=>tr.doc}),new FieldDesc("selection",{init:(config,instance)=>config.selection||dist_Selection.atStart(instance.doc),apply:tr=>tr.selection}),new FieldDesc("storedMarks",{init:config=>config.storedMarks||null,apply:(tr,_marks,_old,state)=>state.selection.$cursor?tr.storedMarks:null}),new FieldDesc("scrollToSelection",{init:()=>0,apply:(tr,prev)=>tr.scrolledIntoView?prev+1:prev})];class Configuration{constructor(schema,plugins){this.schema=schema,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),plugins&&plugins.forEach(plugin=>{if(this.pluginsByKey[plugin.key])throw new RangeError("Adding different instances of a keyed plugin ("+plugin.key+")");this.plugins.push(plugin),this.pluginsByKey[plugin.key]=plugin,plugin.spec.state&&this.fields.push(new FieldDesc(plugin.key,plugin.spec.state,plugin))})}}class EditorState{constructor(config){this.config=config}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(tr){return this.applyTransaction(tr).state}filterTransaction(tr,ignore=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=ignore){let plugin=this.config.plugins[i];if(plugin.spec.filterTransaction&&!plugin.spec.filterTransaction.call(plugin,tr,this))return!1}return!0}applyTransaction(rootTr){if(!this.filterTransaction(rootTr))return{state:this,transactions:[]};let trs=[rootTr],newState=this.applyInner(rootTr),seen=null;for(;;){let haveNew=!1;for(let i=0;i<this.config.plugins.length;i++){let plugin=this.config.plugins[i];if(plugin.spec.appendTransaction){let n=seen?seen[i].n:0,oldState=seen?seen[i].state:this,tr=n<trs.length&&plugin.spec.appendTransaction.call(plugin,n?trs.slice(n):trs,oldState,newState);if(tr&&newState.filterTransaction(tr,i)){if(tr.setMeta("appendedTransaction",rootTr),!seen){seen=[];for(let j=0;j<this.config.plugins.length;j++)seen.push(j<i?{state:newState,n:trs.length}:{state:this,n:0})}trs.push(tr),newState=newState.applyInner(tr),haveNew=!0}seen&&(seen[i]={state:newState,n:trs.length})}}if(!haveNew)return{state:newState,transactions:trs}}}applyInner(tr){if(!tr.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let newInstance=new EditorState(this.config),fields=this.config.fields;for(let i=0;i<fields.length;i++){let field=fields[i];newInstance[field.name]=field.apply(tr,this[field.name],this,newInstance)}return newInstance}get tr(){return new dist_Transaction(this)}static create(config){let $config=new Configuration(config.doc?config.doc.type.schema:config.schema,config.plugins),instance=new EditorState($config);for(let i=0;i<$config.fields.length;i++)instance[$config.fields[i].name]=$config.fields[i].init(config,instance);return instance}reconfigure(config){let $config=new Configuration(this.schema,config.plugins),fields=$config.fields,instance=new EditorState($config);for(let i=0;i<fields.length;i++){let name=fields[i].name;instance[name]=this.hasOwnProperty(name)?this[name]:fields[i].init(config,instance)}return instance}toJSON(pluginFields){let result={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(result.storedMarks=this.storedMarks.map(m=>m.toJSON())),pluginFields&&"object"==typeof pluginFields)for(let prop in pluginFields){if("doc"==prop||"selection"==prop)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let plugin=pluginFields[prop],state=plugin.spec.state;state&&state.toJSON&&(result[prop]=state.toJSON.call(plugin,this[plugin.key]))}return result}static fromJSON(config,json,pluginFields){if(!json)throw new RangeError("Invalid input for EditorState.fromJSON");if(!config.schema)throw new RangeError("Required config field 'schema' missing");let $config=new Configuration(config.schema,config.plugins),instance=new EditorState($config);return $config.fields.forEach(field=>{if("doc"==field.name)instance.doc=dist_Node.fromJSON(config.schema,json.doc);else if("selection"==field.name)instance.selection=dist_Selection.fromJSON(instance.doc,json.selection);else if("storedMarks"==field.name)json.storedMarks&&(instance.storedMarks=json.storedMarks.map(config.schema.markFromJSON));else{if(pluginFields)for(let prop in pluginFields){let plugin=pluginFields[prop],state=plugin.spec.state;if(plugin.key==field.name&&state&&state.fromJSON&&Object.prototype.hasOwnProperty.call(json,prop))return void(instance[field.name]=state.fromJSON.call(plugin,config,json[prop],instance))}instance[field.name]=field.init(config,instance)}}),instance}}function bindProps(obj,self,target){for(let prop in obj){let val=obj[prop];val instanceof Function?val=val.bind(self):"handleDOMEvents"==prop&&(val=bindProps(val,self,{})),target[prop]=val}return target}class Plugin{constructor(spec){this.spec=spec,this.props={},spec.props&&bindProps(spec.props,this,this.props),this.key=spec.key?spec.key.key:createKey("plugin")}getState(state){return state[this.key]}}const dist_keys=Object.create(null);function createKey(name){return name in dist_keys?name+"$"+ ++dist_keys[name]:(dist_keys[name]=0,name+"$")}class PluginKey{constructor(name="key"){this.key=createKey(name)}get(state){return state.config.pluginsByKey[this.key]}getState(state){return state[this.key]}}const domIndex=function(node){for(var index=0;;index++)if(!(node=node.previousSibling))return index},parentNode=function(node){let parent=node.assignedSlot||node.parentNode;return parent&&11==parent.nodeType?parent.host:parent};let reusedRange=null;const textRange=function(node,from,to){let range=reusedRange||(reusedRange=document.createRange());return range.setEnd(node,null==to?node.nodeValue.length:to),range.setStart(node,from||0),range},isEquivalentPosition=function(node,off,targetNode,targetOff){return targetNode&&(scanFor(node,off,targetNode,targetOff,-1)||scanFor(node,off,targetNode,targetOff,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(node,off,targetNode,targetOff,dir){for(var _a;;){if(node==targetNode&&off==targetOff)return!0;if(off==(dir<0?0:nodeSize(node))){let parent=node.parentNode;if(!parent||1!=parent.nodeType||hasBlockDesc(node)||atomElements.test(node.nodeName)||"false"==node.contentEditable)return!1;off=domIndex(node)+(dir<0?0:1),node=parent}else{if(1!=node.nodeType)return!1;{let child=node.childNodes[off+(dir<0?-1:0)];if(1==child.nodeType&&"false"==child.contentEditable){if(!(null===(_a=child.pmViewDesc)||void 0===_a?void 0:_a.ignoreForSelection))return!1;off+=dir}else node=child,off=dir<0?nodeSize(node):0}}}}function nodeSize(node){return 3==node.nodeType?node.nodeValue.length:node.childNodes.length}function hasBlockDesc(dom){let desc;for(let cur=dom;cur&&!(desc=cur.pmViewDesc);cur=cur.parentNode);return desc&&desc.node&&desc.node.isBlock&&(desc.dom==dom||desc.contentDOM==dom)}const selectionCollapsed=function(domSel){return domSel.focusNode&&isEquivalentPosition(domSel.focusNode,domSel.focusOffset,domSel.anchorNode,domSel.anchorOffset)};function keyEvent(keyCode,key){let event=document.createEvent("Event");return event.initEvent("keydown",!0,!0),event.keyCode=keyCode,event.key=event.code=key,event}const nav="undefined"!=typeof navigator?navigator:null,prosemirror_view_dist_doc="undefined"!=typeof document?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),dist_ie=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!dist_ie&&/gecko\/(\d+)/i.test(agent);gecko&&(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!dist_ie&&/Chrome\/(\d+)/.exec(agent),dist_chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!dist_ie&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac=ios||!!nav&&/Mac/.test(nav.platform),windows=!!nav&&/Win/.test(nav.platform),android=/Android \d/.test(agent),webkit=!!prosemirror_view_dist_doc&&"webkitFontSmoothing"in prosemirror_view_dist_doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(doc){let vp=doc.defaultView&&doc.defaultView.visualViewport;return vp?{left:0,right:vp.width,top:0,bottom:vp.height}:{left:0,right:doc.documentElement.clientWidth,top:0,bottom:doc.documentElement.clientHeight}}function getSide(value,side){return"number"==typeof value?value:value[side]}function clientRect(node){let rect=node.getBoundingClientRect(),scaleX=rect.width/node.offsetWidth||1,scaleY=rect.height/node.offsetHeight||1;return{left:rect.left,right:rect.left+node.clientWidth*scaleX,top:rect.top,bottom:rect.top+node.clientHeight*scaleY}}function scrollRectIntoView(view,rect,startDOM){let scrollThreshold=view.someProp("scrollThreshold")||0,scrollMargin=view.someProp("scrollMargin")||5,doc=view.dom.ownerDocument;for(let parent=startDOM||view.dom;parent;){if(1!=parent.nodeType){parent=parentNode(parent);continue}let elt=parent,atTop=elt==doc.body,bounding=atTop?windowRect(doc):clientRect(elt),moveX=0,moveY=0;if(rect.top<bounding.top+getSide(scrollThreshold,"top")?moveY=-(bounding.top-rect.top+getSide(scrollMargin,"top")):rect.bottom>bounding.bottom-getSide(scrollThreshold,"bottom")&&(moveY=rect.bottom-rect.top>bounding.bottom-bounding.top?rect.top+getSide(scrollMargin,"top")-bounding.top:rect.bottom-bounding.bottom+getSide(scrollMargin,"bottom")),rect.left<bounding.left+getSide(scrollThreshold,"left")?moveX=-(bounding.left-rect.left+getSide(scrollMargin,"left")):rect.right>bounding.right-getSide(scrollThreshold,"right")&&(moveX=rect.right-bounding.right+getSide(scrollMargin,"right")),moveX||moveY)if(atTop)doc.defaultView.scrollBy(moveX,moveY);else{let startX=elt.scrollLeft,startY=elt.scrollTop;moveY&&(elt.scrollTop+=moveY),moveX&&(elt.scrollLeft+=moveX);let dX=elt.scrollLeft-startX,dY=elt.scrollTop-startY;rect={left:rect.left-dX,top:rect.top-dY,right:rect.right-dX,bottom:rect.bottom-dY}}let pos=atTop?"fixed":getComputedStyle(parent).position;if(/^(fixed|sticky)$/.test(pos))break;parent="absolute"==pos?parent.offsetParent:parentNode(parent)}}function scrollStack(dom){let stack=[],doc=dom.ownerDocument;for(let cur=dom;cur&&(stack.push({dom:cur,top:cur.scrollTop,left:cur.scrollLeft}),dom!=doc);cur=parentNode(cur));return stack}function restoreScrollStack(stack,dTop){for(let i=0;i<stack.length;i++){let{dom,top,left}=stack[i];dom.scrollTop!=top+dTop&&(dom.scrollTop=top+dTop),dom.scrollLeft!=left&&(dom.scrollLeft=left)}}let preventScrollSupported=null;function findOffsetInNode(node,coords){let closest,coordsClosest,firstBelow,coordsBelow,dxClosest=2e8,offset=0,rowBot=coords.top,rowTop=coords.top;for(let child=node.firstChild,childIndex=0;child;child=child.nextSibling,childIndex++){let rects;if(1==child.nodeType)rects=child.getClientRects();else{if(3!=child.nodeType)continue;rects=textRange(child).getClientRects()}for(let i=0;i<rects.length;i++){let rect=rects[i];if(rect.top<=rowBot&&rect.bottom>=rowTop){rowBot=Math.max(rect.bottom,rowBot),rowTop=Math.min(rect.top,rowTop);let dx=rect.left>coords.left?rect.left-coords.left:rect.right<coords.left?coords.left-rect.right:0;if(dx<dxClosest){closest=child,dxClosest=dx,coordsClosest=dx&&3==closest.nodeType?{left:rect.right<coords.left?rect.right:rect.left,top:coords.top}:coords,1==child.nodeType&&dx&&(offset=childIndex+(coords.left>=(rect.left+rect.right)/2?1:0));continue}}else rect.top>coords.top&&!firstBelow&&rect.left<=coords.left&&rect.right>=coords.left&&(firstBelow=child,coordsBelow={left:Math.max(rect.left,Math.min(rect.right,coords.left)),top:rect.top});!closest&&(coords.left>=rect.right&&coords.top>=rect.top||coords.left>=rect.left&&coords.top>=rect.bottom)&&(offset=childIndex+1)}}return!closest&&firstBelow&&(closest=firstBelow,coordsClosest=coordsBelow,dxClosest=0),closest&&3==closest.nodeType?function findOffsetInText(node,coords){let len=node.nodeValue.length,range=document.createRange();for(let i=0;i<len;i++){range.setEnd(node,i+1),range.setStart(node,i);let rect=singleRect(range,1);if(rect.top!=rect.bottom&&inRect(coords,rect))return{node,offset:i+(coords.left>=(rect.left+rect.right)/2?1:0)}}return{node,offset:0}}(closest,coordsClosest):!closest||dxClosest&&1==closest.nodeType?{node,offset}:findOffsetInNode(closest,coordsClosest)}function inRect(coords,rect){return coords.left>=rect.left-1&&coords.left<=rect.right+1&&coords.top>=rect.top-1&&coords.top<=rect.bottom+1}function elementFromPoint(element,coords,box){let len=element.childNodes.length;if(len&&box.top<box.bottom)for(let startI=Math.max(0,Math.min(len-1,Math.floor(len*(coords.top-box.top)/(box.bottom-box.top))-2)),i=startI;;){let child=element.childNodes[i];if(1==child.nodeType){let rects=child.getClientRects();for(let j=0;j<rects.length;j++){let rect=rects[j];if(inRect(coords,rect))return elementFromPoint(child,coords,rect)}}if((i=(i+1)%len)==startI)break}return element}function posAtCoords(view,coords){let node,doc=view.dom.ownerDocument,offset=0,caret=function caretFromPoint(doc,x,y){if(doc.caretPositionFromPoint)try{let pos=doc.caretPositionFromPoint(x,y);if(pos)return{node:pos.offsetNode,offset:Math.min(nodeSize(pos.offsetNode),pos.offset)}}catch(_){}if(doc.caretRangeFromPoint){let range=doc.caretRangeFromPoint(x,y);if(range)return{node:range.startContainer,offset:Math.min(nodeSize(range.startContainer),range.startOffset)}}}(doc,coords.left,coords.top);caret&&({node,offset}=caret);let pos,elt=(view.root.elementFromPoint?view.root:doc).elementFromPoint(coords.left,coords.top);if(!elt||!view.dom.contains(1!=elt.nodeType?elt.parentNode:elt)){let box=view.dom.getBoundingClientRect();if(!inRect(coords,box))return null;if(elt=elementFromPoint(view.dom,coords,box),!elt)return null}if(safari)for(let p=elt;node&&p;p=parentNode(p))p.draggable&&(node=void 0);if(elt=function targetKludge(dom,coords){let parent=dom.parentNode;return parent&&/^li$/i.test(parent.nodeName)&&coords.left<dom.getBoundingClientRect().left?parent:dom}(elt,coords),node){if(gecko&&1==node.nodeType&&(offset=Math.min(offset,node.childNodes.length),offset<node.childNodes.length)){let box,next=node.childNodes[offset];"IMG"==next.nodeName&&(box=next.getBoundingClientRect()).right<=coords.left&&box.bottom>coords.top&&offset++}let prev;webkit&&offset&&1==node.nodeType&&1==(prev=node.childNodes[offset-1]).nodeType&&"false"==prev.contentEditable&&prev.getBoundingClientRect().top>=coords.top&&offset--,node==view.dom&&offset==node.childNodes.length-1&&1==node.lastChild.nodeType&&coords.top>node.lastChild.getBoundingClientRect().bottom?pos=view.state.doc.content.size:0!=offset&&1==node.nodeType&&"BR"==node.childNodes[offset-1].nodeName||(pos=function posFromCaret(view,node,offset,coords){let outsideBlock=-1;for(let cur=node,sawBlock=!1;cur!=view.dom;){let rect,desc=view.docView.nearestDesc(cur,!0);if(!desc)return null;if(1==desc.dom.nodeType&&(desc.node.isBlock&&desc.parent||!desc.contentDOM)&&((rect=desc.dom.getBoundingClientRect()).width||rect.height)&&(desc.node.isBlock&&desc.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(desc.dom.nodeName)&&(!sawBlock&&rect.left>coords.left||rect.top>coords.top?outsideBlock=desc.posBefore:(!sawBlock&&rect.right<coords.left||rect.bottom<coords.top)&&(outsideBlock=desc.posAfter),sawBlock=!0),!desc.contentDOM&&outsideBlock<0&&!desc.node.isText))return(desc.node.isBlock?coords.top<(rect.top+rect.bottom)/2:coords.left<(rect.left+rect.right)/2)?desc.posBefore:desc.posAfter;cur=desc.dom.parentNode}return outsideBlock>-1?outsideBlock:view.docView.posFromDOM(node,offset,-1)}(view,node,offset,coords))}null==pos&&(pos=function posFromElement(view,elt,coords){let{node,offset}=findOffsetInNode(elt,coords),bias=-1;if(1==node.nodeType&&!node.firstChild){let rect=node.getBoundingClientRect();bias=rect.left!=rect.right&&coords.left>(rect.left+rect.right)/2?1:-1}return view.docView.posFromDOM(node,offset,bias)}(view,elt,coords));let desc=view.docView.nearestDesc(elt,!0);return{pos,inside:desc?desc.posAtStart-desc.border:-1}}function nonZero(rect){return rect.top<rect.bottom||rect.left<rect.right}function singleRect(target,bias){let rects=target.getClientRects();if(rects.length){let first=rects[bias<0?0:rects.length-1];if(nonZero(first))return first}return Array.prototype.find.call(rects,nonZero)||target.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(view,pos,side){let{node,offset,atom}=view.docView.domFromPos(pos,side<0?-1:1),supportEmptyRange=webkit||gecko;if(3==node.nodeType){if(!supportEmptyRange||!BIDI.test(node.nodeValue)&&(side<0?offset:offset!=node.nodeValue.length)){let from=offset,to=offset,takeSide=side<0?1:-1;return side<0&&!offset?(to++,takeSide=-1):side>=0&&offset==node.nodeValue.length?(from--,takeSide=1):side<0?from--:to++,flattenV(singleRect(textRange(node,from,to),takeSide),takeSide<0)}{let rect=singleRect(textRange(node,offset,offset),side);if(gecko&&offset&&/\s/.test(node.nodeValue[offset-1])&&offset<node.nodeValue.length){let rectBefore=singleRect(textRange(node,offset-1,offset-1),-1);if(rectBefore.top==rect.top){let rectAfter=singleRect(textRange(node,offset,offset+1),-1);if(rectAfter.top!=rect.top)return flattenV(rectAfter,rectAfter.left<rectBefore.left)}}return rect}}if(!view.state.doc.resolve(pos-(atom||0)).parent.inlineContent){if(null==atom&&offset&&(side<0||offset==nodeSize(node))){let before=node.childNodes[offset-1];if(1==before.nodeType)return flattenH(before.getBoundingClientRect(),!1)}if(null==atom&&offset<nodeSize(node)){let after=node.childNodes[offset];if(1==after.nodeType)return flattenH(after.getBoundingClientRect(),!0)}return flattenH(node.getBoundingClientRect(),side>=0)}if(null==atom&&offset&&(side<0||offset==nodeSize(node))){let before=node.childNodes[offset-1],target=3==before.nodeType?textRange(before,nodeSize(before)-(supportEmptyRange?0:1)):1!=before.nodeType||"BR"==before.nodeName&&before.nextSibling?null:before;if(target)return flattenV(singleRect(target,1),!1)}if(null==atom&&offset<nodeSize(node)){let after=node.childNodes[offset];for(;after.pmViewDesc&&after.pmViewDesc.ignoreForCoords;)after=after.nextSibling;let target=after?3==after.nodeType?textRange(after,0,supportEmptyRange?0:1):1==after.nodeType?after:null:null;if(target)return flattenV(singleRect(target,-1),!0)}return flattenV(singleRect(3==node.nodeType?textRange(node):node,-side),side>=0)}function flattenV(rect,left){if(0==rect.width)return rect;let x=left?rect.left:rect.right;return{top:rect.top,bottom:rect.bottom,left:x,right:x}}function flattenH(rect,top){if(0==rect.height)return rect;let y=top?rect.top:rect.bottom;return{top:y,bottom:y,left:rect.left,right:rect.right}}function withFlushedState(view,state,f){let viewState=view.state,active=view.root.activeElement;viewState!=state&&view.updateState(state),active!=view.dom&&view.focus();try{return f()}finally{viewState!=state&&view.updateState(viewState),active!=view.dom&&active&&active.focus()}}const maybeRTL=/[\u0590-\u08ac]/;let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(view,state,dir){return cachedState==state&&cachedDir==dir?cachedResult:(cachedState=state,cachedDir=dir,cachedResult="up"==dir||"down"==dir?function endOfTextblockVertical(view,state,dir){let sel=state.selection,$pos="up"==dir?sel.$from:sel.$to;return withFlushedState(view,state,()=>{let{node:dom}=view.docView.domFromPos($pos.pos,"up"==dir?-1:1);for(;;){let nearest=view.docView.nearestDesc(dom,!0);if(!nearest)break;if(nearest.node.isBlock){dom=nearest.contentDOM||nearest.dom;break}dom=nearest.dom.parentNode}let coords=coordsAtPos(view,$pos.pos,1);for(let child=dom.firstChild;child;child=child.nextSibling){let boxes;if(1==child.nodeType)boxes=child.getClientRects();else{if(3!=child.nodeType)continue;boxes=textRange(child,0,child.nodeValue.length).getClientRects()}for(let i=0;i<boxes.length;i++){let box=boxes[i];if(box.bottom>box.top+1&&("up"==dir?coords.top-box.top>2*(box.bottom-coords.top):box.bottom-coords.bottom>2*(coords.bottom-box.top)))return!1}}return!0})}(view,state,dir):function endOfTextblockHorizontal(view,state,dir){let{$head}=state.selection;if(!$head.parent.isTextblock)return!1;let offset=$head.parentOffset,atStart=!offset,atEnd=offset==$head.parent.content.size,sel=view.domSelection();return sel?maybeRTL.test($head.parent.textContent)&&sel.modify?withFlushedState(view,state,()=>{let{focusNode:oldNode,focusOffset:oldOff,anchorNode,anchorOffset}=view.domSelectionRange(),oldBidiLevel=sel.caretBidiLevel;sel.modify("move",dir,"character");let parentDOM=$head.depth?view.docView.domAfterPos($head.before()):view.dom,{focusNode:newNode,focusOffset:newOff}=view.domSelectionRange(),result=newNode&&!parentDOM.contains(1==newNode.nodeType?newNode:newNode.parentNode)||oldNode==newNode&&oldOff==newOff;try{sel.collapse(anchorNode,anchorOffset),oldNode&&(oldNode!=anchorNode||oldOff!=anchorOffset)&&sel.extend&&sel.extend(oldNode,oldOff)}catch(_){}return null!=oldBidiLevel&&(sel.caretBidiLevel=oldBidiLevel),result}):"left"==dir||"backward"==dir?atStart:atEnd:$head.pos==$head.start()||$head.pos==$head.end()}(view,state,dir))}class ViewDesc{constructor(parent,children,dom,contentDOM){this.parent=parent,this.children=children,this.dom=dom,this.contentDOM=contentDOM,this.dirty=0,dom.pmViewDesc=this}matchesWidget(widget){return!1}matchesMark(mark){return!1}matchesNode(node,outerDeco,innerDeco){return!1}matchesHack(nodeName){return!1}parseRule(){return null}stopEvent(event){return!1}get size(){let size=0;for(let i=0;i<this.children.length;i++)size+=this.children[i].size;return size}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let i=0;i<this.children.length;i++)this.children[i].destroy()}posBeforeChild(child){for(let i=0,pos=this.posAtStart;;i++){let cur=this.children[i];if(cur==child)return pos;pos+=cur.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(dom,offset,bias){if(this.contentDOM&&this.contentDOM.contains(1==dom.nodeType?dom:dom.parentNode)){if(bias<0){let domBefore,desc;if(dom==this.contentDOM)domBefore=dom.childNodes[offset-1];else{for(;dom.parentNode!=this.contentDOM;)dom=dom.parentNode;domBefore=dom.previousSibling}for(;domBefore&&(!(desc=domBefore.pmViewDesc)||desc.parent!=this);)domBefore=domBefore.previousSibling;return domBefore?this.posBeforeChild(desc)+desc.size:this.posAtStart}{let domAfter,desc;if(dom==this.contentDOM)domAfter=dom.childNodes[offset];else{for(;dom.parentNode!=this.contentDOM;)dom=dom.parentNode;domAfter=dom.nextSibling}for(;domAfter&&(!(desc=domAfter.pmViewDesc)||desc.parent!=this);)domAfter=domAfter.nextSibling;return domAfter?this.posBeforeChild(desc):this.posAtEnd}}let atEnd;if(dom==this.dom&&this.contentDOM)atEnd=offset>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))atEnd=2&dom.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==offset)for(let search=dom;;search=search.parentNode){if(search==this.dom){atEnd=!1;break}if(search.previousSibling)break}if(null==atEnd&&offset==dom.childNodes.length)for(let search=dom;;search=search.parentNode){if(search==this.dom){atEnd=!0;break}if(search.nextSibling)break}}return(null==atEnd?bias>0:atEnd)?this.posAtEnd:this.posAtStart}nearestDesc(dom,onlyNodes=!1){for(let first=!0,cur=dom;cur;cur=cur.parentNode){let nodeDOM,desc=this.getDesc(cur);if(desc&&(!onlyNodes||desc.node)){if(!first||!(nodeDOM=desc.nodeDOM)||(1==nodeDOM.nodeType?nodeDOM.contains(1==dom.nodeType?dom:dom.parentNode):nodeDOM==dom))return desc;first=!1}}}getDesc(dom){let desc=dom.pmViewDesc;for(let cur=desc;cur;cur=cur.parent)if(cur==this)return desc}posFromDOM(dom,offset,bias){for(let scan=dom;scan;scan=scan.parentNode){let desc=this.getDesc(scan);if(desc)return desc.localPosFromDOM(dom,offset,bias)}return-1}descAt(pos){for(let i=0,offset=0;i<this.children.length;i++){let child=this.children[i],end=offset+child.size;if(offset==pos&&end!=offset){for(;!child.border&&child.children.length;)for(let i=0;i<child.children.length;i++){let inner=child.children[i];if(inner.size){child=inner;break}}return child}if(pos<end)return child.descAt(pos-offset-child.border);offset=end}}domFromPos(pos,side){if(!this.contentDOM)return{node:this.dom,offset:0,atom:pos+1};let i=0,offset=0;for(let curPos=0;i<this.children.length;i++){let child=this.children[i],end=curPos+child.size;if(end>pos||child instanceof TrailingHackViewDesc){offset=pos-curPos;break}curPos=end}if(offset)return this.children[i].domFromPos(offset-this.children[i].border,side);for(let prev;i&&!(prev=this.children[i-1]).size&&prev instanceof WidgetViewDesc&&prev.side>=0;i--);if(side<=0){let prev,enter=!0;for(;prev=i?this.children[i-1]:null,prev&&prev.dom.parentNode!=this.contentDOM;i--,enter=!1);return prev&&side&&enter&&!prev.border&&!prev.domAtom?prev.domFromPos(prev.size,side):{node:this.contentDOM,offset:prev?domIndex(prev.dom)+1:0}}{let next,enter=!0;for(;next=i<this.children.length?this.children[i]:null,next&&next.dom.parentNode!=this.contentDOM;i++,enter=!1);return next&&enter&&!next.border&&!next.domAtom?next.domFromPos(0,side):{node:this.contentDOM,offset:next?domIndex(next.dom):this.contentDOM.childNodes.length}}}parseRange(from,to,base=0){if(0==this.children.length)return{node:this.contentDOM,from,to,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let fromOffset=-1,toOffset=-1;for(let offset=base,i=0;;i++){let child=this.children[i],end=offset+child.size;if(-1==fromOffset&&from<=end){let childBase=offset+child.border;if(from>=childBase&&to<=end-child.border&&child.node&&child.contentDOM&&this.contentDOM.contains(child.contentDOM))return child.parseRange(from,to,childBase);from=offset;for(let j=i;j>0;j--){let prev=this.children[j-1];if(prev.size&&prev.dom.parentNode==this.contentDOM&&!prev.emptyChildAt(1)){fromOffset=domIndex(prev.dom)+1;break}from-=prev.size}-1==fromOffset&&(fromOffset=0)}if(fromOffset>-1&&(end>to||i==this.children.length-1)){to=end;for(let j=i+1;j<this.children.length;j++){let next=this.children[j];if(next.size&&next.dom.parentNode==this.contentDOM&&!next.emptyChildAt(-1)){toOffset=domIndex(next.dom);break}to+=next.size}-1==toOffset&&(toOffset=this.contentDOM.childNodes.length);break}offset=end}return{node:this.contentDOM,from,to,fromOffset,toOffset}}emptyChildAt(side){if(this.border||!this.contentDOM||!this.children.length)return!1;let child=this.children[side<0?0:this.children.length-1];return 0==child.size||child.emptyChildAt(side)}domAfterPos(pos){let{node,offset}=this.domFromPos(pos,0);if(1!=node.nodeType||offset==node.childNodes.length)throw new RangeError("No node after pos "+pos);return node.childNodes[offset]}setSelection(anchor,head,view,force=!1){let from=Math.min(anchor,head),to=Math.max(anchor,head);for(let i=0,offset=0;i<this.children.length;i++){let child=this.children[i],end=offset+child.size;if(from>offset&&to<end)return child.setSelection(anchor-offset-child.border,head-offset-child.border,view,force);offset=end}let anchorDOM=this.domFromPos(anchor,anchor?-1:1),headDOM=head==anchor?anchorDOM:this.domFromPos(head,head?-1:1),domSel=view.root.getSelection(),selRange=view.domSelectionRange(),brKludge=!1;if((gecko||safari)&&anchor==head){let{node,offset}=anchorDOM;if(3==node.nodeType){if(brKludge=!(!offset||"\n"!=node.nodeValue[offset-1]),brKludge&&offset==node.nodeValue.length)for(let after,scan=node;scan;scan=scan.parentNode){if(after=scan.nextSibling){"BR"==after.nodeName&&(anchorDOM=headDOM={node:after.parentNode,offset:domIndex(after)+1});break}let desc=scan.pmViewDesc;if(desc&&desc.node&&desc.node.isBlock)break}}else{let prev=node.childNodes[offset-1];brKludge=prev&&("BR"==prev.nodeName||"false"==prev.contentEditable)}}if(gecko&&selRange.focusNode&&selRange.focusNode!=headDOM.node&&1==selRange.focusNode.nodeType){let after=selRange.focusNode.childNodes[selRange.focusOffset];after&&"false"==after.contentEditable&&(force=!0)}if(!(force||brKludge&&safari)&&isEquivalentPosition(anchorDOM.node,anchorDOM.offset,selRange.anchorNode,selRange.anchorOffset)&&isEquivalentPosition(headDOM.node,headDOM.offset,selRange.focusNode,selRange.focusOffset))return;let domSelExtended=!1;if((domSel.extend||anchor==head)&&!brKludge){domSel.collapse(anchorDOM.node,anchorDOM.offset);try{anchor!=head&&domSel.extend(headDOM.node,headDOM.offset),domSelExtended=!0}catch(_){}}if(!domSelExtended){if(anchor>head){let tmp=anchorDOM;anchorDOM=headDOM,headDOM=tmp}let range=document.createRange();range.setEnd(headDOM.node,headDOM.offset),range.setStart(anchorDOM.node,anchorDOM.offset),domSel.removeAllRanges(),domSel.addRange(range)}}ignoreMutation(mutation){return!this.contentDOM&&"selection"!=mutation.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(from,to){for(let offset=0,i=0;i<this.children.length;i++){let child=this.children[i],end=offset+child.size;if(offset==end?from<=end&&to>=offset:from<end&&to>offset){let startInside=offset+child.border,endInside=end-child.border;if(from>=startInside&&to<=endInside)return this.dirty=from==offset||to==end?2:1,void(from!=startInside||to!=endInside||!child.contentLost&&child.dom.parentNode==this.contentDOM?child.markDirty(from-startInside,to-startInside):child.dirty=3);child.dirty=child.dom!=child.contentDOM||child.dom.parentNode!=this.contentDOM||child.children.length?3:2}offset=end}this.dirty=2}markParentsDirty(){let level=1;for(let node=this.parent;node;node=node.parent,level++){let dirty=1==level?2:1;node.dirty<dirty&&(node.dirty=dirty)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(text){return!1}}class WidgetViewDesc extends ViewDesc{constructor(parent,widget,view,pos){let self,dom=widget.type.toDOM;if("function"==typeof dom&&(dom=dom(view,()=>self?self.parent?self.parent.posBeforeChild(self):void 0:pos)),!widget.type.spec.raw){if(1!=dom.nodeType){let wrap=document.createElement("span");wrap.appendChild(dom),dom=wrap}dom.contentEditable="false",dom.classList.add("ProseMirror-widget")}super(parent,[],dom,null),this.widget=widget,this.widget=widget,self=this}matchesWidget(widget){return 0==this.dirty&&widget.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(event){let stop=this.widget.spec.stopEvent;return!!stop&&stop(event)}ignoreMutation(mutation){return"selection"!=mutation.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(parent,dom,textDOM,text){super(parent,[],dom,null),this.textDOM=textDOM,this.text=text}get size(){return this.text.length}localPosFromDOM(dom,offset){return dom!=this.textDOM?this.posAtStart+(offset?this.size:0):this.posAtStart+offset}domFromPos(pos){return{node:this.textDOM,offset:pos}}ignoreMutation(mut){return"characterData"===mut.type&&mut.target.nodeValue==mut.oldValue}}class MarkViewDesc extends ViewDesc{constructor(parent,mark,dom,contentDOM,spec){super(parent,[],dom,contentDOM),this.mark=mark,this.spec=spec}static create(parent,mark,inline,view){let custom=view.nodeViews[mark.type.name],spec=custom&&custom(mark,view,inline);return spec&&spec.dom||(spec=DOMSerializer.renderSpec(document,mark.type.spec.toDOM(mark,inline),null,mark.attrs)),new MarkViewDesc(parent,mark,spec.dom,spec.contentDOM||spec.dom,spec)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(mark){return 3!=this.dirty&&this.mark.eq(mark)}markDirty(from,to){if(super.markDirty(from,to),0!=this.dirty){let parent=this.parent;for(;!parent.node;)parent=parent.parent;parent.dirty<this.dirty&&(parent.dirty=this.dirty),this.dirty=0}}slice(from,to,view){let copy=MarkViewDesc.create(this.parent,this.mark,!0,view),nodes=this.children,size=this.size;to<size&&(nodes=replaceNodes(nodes,to,size,view)),from>0&&(nodes=replaceNodes(nodes,0,from,view));for(let i=0;i<nodes.length;i++)nodes[i].parent=copy;return copy.children=nodes,copy}ignoreMutation(mutation){return this.spec.ignoreMutation?this.spec.ignoreMutation(mutation):super.ignoreMutation(mutation)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(parent,node,outerDeco,innerDeco,dom,contentDOM,nodeDOM,view,pos){super(parent,[],dom,contentDOM),this.node=node,this.outerDeco=outerDeco,this.innerDeco=innerDeco,this.nodeDOM=nodeDOM}static create(parent,node,outerDeco,innerDeco,view,pos){let descObj,custom=view.nodeViews[node.type.name],spec=custom&&custom(node,view,()=>descObj?descObj.parent?descObj.parent.posBeforeChild(descObj):void 0:pos,outerDeco,innerDeco),dom=spec&&spec.dom,contentDOM=spec&&spec.contentDOM;if(node.isText)if(dom){if(3!=dom.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else dom=document.createTextNode(node.text);else if(!dom){let spec=DOMSerializer.renderSpec(document,node.type.spec.toDOM(node),null,node.attrs);({dom,contentDOM}=spec)}contentDOM||node.isText||"BR"==dom.nodeName||(dom.hasAttribute("contenteditable")||(dom.contentEditable="false"),node.type.spec.draggable&&(dom.draggable=!0));let nodeDOM=dom;return dom=applyOuterDeco(dom,outerDeco,node),spec?descObj=new CustomNodeViewDesc(parent,node,outerDeco,innerDeco,dom,contentDOM||null,nodeDOM,spec,view,pos+1):node.isText?new TextViewDesc(parent,node,outerDeco,innerDeco,dom,nodeDOM,view):new NodeViewDesc(parent,node,outerDeco,innerDeco,dom,contentDOM||null,nodeDOM,view,pos+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let rule={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(rule.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let i=this.children.length-1;i>=0;i--){let child=this.children[i];if(this.dom.contains(child.dom.parentNode)){rule.contentElement=child.dom.parentNode;break}}rule.contentElement||(rule.getContent=()=>dist_Fragment.empty)}else rule.contentElement=this.contentDOM;else rule.getContent=()=>this.node.content;return rule}matchesNode(node,outerDeco,innerDeco){return 0==this.dirty&&node.eq(this.node)&&sameOuterDeco(outerDeco,this.outerDeco)&&innerDeco.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(view,pos){let inline=this.node.inlineContent,off=pos,composition=view.composing?this.localCompositionInfo(view,pos):null,localComposition=composition&&composition.pos>-1?composition:null,compositionInChild=composition&&composition.pos<0,updater=new ViewTreeUpdater(this,localComposition&&localComposition.node,view);!function iterDeco(parent,deco,onWidget,onNode){let locals=deco.locals(parent),offset=0;if(0==locals.length){for(let i=0;i<parent.childCount;i++){let child=parent.child(i);onNode(child,locals,deco.forChild(offset,child),i),offset+=child.nodeSize}return}let decoIndex=0,active=[],restNode=null;for(let parentIndex=0;;){let widget,widgets,child,index;for(;decoIndex<locals.length&&locals[decoIndex].to==offset;){let next=locals[decoIndex++];next.widget&&(widget?(widgets||(widgets=[widget])).push(next):widget=next)}if(widget)if(widgets){widgets.sort(compareSide);for(let i=0;i<widgets.length;i++)onWidget(widgets[i],parentIndex,!!restNode)}else onWidget(widget,parentIndex,!!restNode);if(restNode)index=-1,child=restNode,restNode=null;else{if(!(parentIndex<parent.childCount))break;index=parentIndex,child=parent.child(parentIndex++)}for(let i=0;i<active.length;i++)active[i].to<=offset&&active.splice(i--,1);for(;decoIndex<locals.length&&locals[decoIndex].from<=offset&&locals[decoIndex].to>offset;)active.push(locals[decoIndex++]);let end=offset+child.nodeSize;if(child.isText){let cutAt=end;decoIndex<locals.length&&locals[decoIndex].from<cutAt&&(cutAt=locals[decoIndex].from);for(let i=0;i<active.length;i++)active[i].to<cutAt&&(cutAt=active[i].to);cutAt<end&&(restNode=child.cut(cutAt-offset),child=child.cut(0,cutAt-offset),end=cutAt,index=-1)}else for(;decoIndex<locals.length&&locals[decoIndex].to<end;)decoIndex++;let outerDeco=child.isInline&&!child.isLeaf?active.filter(d=>!d.inline):active.slice();onNode(child,outerDeco,deco.forChild(offset,child),index),offset=end}}(this.node,this.innerDeco,(widget,i,insideNode)=>{widget.spec.marks?updater.syncToMarks(widget.spec.marks,inline,view):widget.type.side>=0&&!insideNode&&updater.syncToMarks(i==this.node.childCount?Mark.none:this.node.child(i).marks,inline,view),updater.placeWidget(widget,view,off)},(child,outerDeco,innerDeco,i)=>{let compIndex;updater.syncToMarks(child.marks,inline,view),updater.findNodeMatch(child,outerDeco,innerDeco,i)||compositionInChild&&view.state.selection.from>off&&view.state.selection.to<off+child.nodeSize&&(compIndex=updater.findIndexWithChild(composition.node))>-1&&updater.updateNodeAt(child,outerDeco,innerDeco,compIndex,view)||updater.updateNextNode(child,outerDeco,innerDeco,view,i,off)||updater.addNode(child,outerDeco,innerDeco,view,off),off+=child.nodeSize}),updater.syncToMarks([],inline,view),this.node.isTextblock&&updater.addTextblockHacks(),updater.destroyRest(),(updater.changed||2==this.dirty)&&(localComposition&&this.protectLocalComposition(view,localComposition),renderDescs(this.contentDOM,this.children,view),ios&&function iosHacks(dom){if("UL"==dom.nodeName||"OL"==dom.nodeName){let oldCSS=dom.style.cssText;dom.style.cssText=oldCSS+"; list-style: square !important",window.getComputedStyle(dom).listStyle,dom.style.cssText=oldCSS}}(this.dom))}localCompositionInfo(view,pos){let{from,to}=view.state.selection;if(!(view.state.selection instanceof TextSelection)||from<pos||to>pos+this.node.content.size)return null;let textNode=view.input.compositionNode;if(!textNode||!this.dom.contains(textNode.parentNode))return null;if(this.node.inlineContent){let text=textNode.nodeValue,textPos=function findTextInFragment(frag,text,from,to){for(let i=0,pos=0;i<frag.childCount&&pos<=to;){let child=frag.child(i++),childStart=pos;if(pos+=child.nodeSize,!child.isText)continue;let str=child.text;for(;i<frag.childCount;){let next=frag.child(i++);if(pos+=next.nodeSize,!next.isText)break;str+=next.text}if(pos>=from){if(pos>=to&&str.slice(to-text.length-childStart,to-childStart)==text)return to-text.length;let found=childStart<to?str.lastIndexOf(text,to-childStart-1):-1;if(found>=0&&found+text.length+childStart>=from)return childStart+found;if(from==to&&str.length>=to+text.length-childStart&&str.slice(to-childStart,to-childStart+text.length)==text)return to}}return-1}(this.node.content,text,from-pos,to-pos);return textPos<0?null:{node:textNode,pos:textPos,text}}return{node:textNode,pos:-1,text:""}}protectLocalComposition(view,{node,pos,text}){if(this.getDesc(node))return;let topNode=node;for(;topNode.parentNode!=this.contentDOM;topNode=topNode.parentNode){for(;topNode.previousSibling;)topNode.parentNode.removeChild(topNode.previousSibling);for(;topNode.nextSibling;)topNode.parentNode.removeChild(topNode.nextSibling);topNode.pmViewDesc&&(topNode.pmViewDesc=void 0)}let desc=new CompositionViewDesc(this,topNode,node,text);view.input.compositionNodes.push(desc),this.children=replaceNodes(this.children,pos,pos+text.length,view,desc)}update(node,outerDeco,innerDeco,view){return!(3==this.dirty||!node.sameMarkup(this.node))&&(this.updateInner(node,outerDeco,innerDeco,view),!0)}updateInner(node,outerDeco,innerDeco,view){this.updateOuterDeco(outerDeco),this.node=node,this.innerDeco=innerDeco,this.contentDOM&&this.updateChildren(view,this.posAtStart),this.dirty=0}updateOuterDeco(outerDeco){if(sameOuterDeco(outerDeco,this.outerDeco))return;let needsWrap=1!=this.nodeDOM.nodeType,oldDOM=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,needsWrap),computeOuterDeco(outerDeco,this.node,needsWrap)),this.dom!=oldDOM&&(oldDOM.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=outerDeco}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(doc,outerDeco,innerDeco,dom,view){applyOuterDeco(dom,outerDeco,doc);let docView=new NodeViewDesc(void 0,doc,outerDeco,innerDeco,dom,dom,dom,view,0);return docView.contentDOM&&docView.updateChildren(view,0),docView}class TextViewDesc extends NodeViewDesc{constructor(parent,node,outerDeco,innerDeco,dom,nodeDOM,view){super(parent,node,outerDeco,innerDeco,dom,null,nodeDOM,view,0)}parseRule(){let skip=this.nodeDOM.parentNode;for(;skip&&skip!=this.dom&&!skip.pmIsDeco;)skip=skip.parentNode;return{skip:skip||!0}}update(node,outerDeco,innerDeco,view){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!node.sameMarkup(this.node))&&(this.updateOuterDeco(outerDeco),0==this.dirty&&node.text==this.node.text||node.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=node.text,view.trackWrites==this.nodeDOM&&(view.trackWrites=null)),this.node=node,this.dirty=0,!0)}inParent(){let parentDOM=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==parentDOM)return!0;return!1}domFromPos(pos){return{node:this.nodeDOM,offset:pos}}localPosFromDOM(dom,offset,bias){return dom==this.nodeDOM?this.posAtStart+Math.min(offset,this.node.text.length):super.localPosFromDOM(dom,offset,bias)}ignoreMutation(mutation){return"characterData"!=mutation.type&&"selection"!=mutation.type}slice(from,to,view){let node=this.node.cut(from,to),dom=document.createTextNode(node.text);return new TextViewDesc(this.parent,node,this.outerDeco,this.innerDeco,dom,dom,view)}markDirty(from,to){super.markDirty(from,to),this.dom==this.nodeDOM||0!=from&&to!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(text){return this.node.text==text}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(nodeName){return 0==this.dirty&&this.dom.nodeName==nodeName}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class CustomNodeViewDesc extends NodeViewDesc{constructor(parent,node,outerDeco,innerDeco,dom,contentDOM,nodeDOM,spec,view,pos){super(parent,node,outerDeco,innerDeco,dom,contentDOM,nodeDOM,view,pos),this.spec=spec}update(node,outerDeco,innerDeco,view){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==node.type||this.spec.multiType)){let result=this.spec.update(node,outerDeco,innerDeco);return result&&this.updateInner(node,outerDeco,innerDeco,view),result}return!(!this.contentDOM&&!node.isLeaf)&&super.update(node,outerDeco,innerDeco,view)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(anchor,head,view,force){this.spec.setSelection?this.spec.setSelection(anchor,head,view.root):super.setSelection(anchor,head,view,force)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(event){return!!this.spec.stopEvent&&this.spec.stopEvent(event)}ignoreMutation(mutation){return this.spec.ignoreMutation?this.spec.ignoreMutation(mutation):super.ignoreMutation(mutation)}}function renderDescs(parentDOM,descs,view){let dom=parentDOM.firstChild,written=!1;for(let i=0;i<descs.length;i++){let desc=descs[i],childDOM=desc.dom;if(childDOM.parentNode==parentDOM){for(;childDOM!=dom;)dom=rm(dom),written=!0;dom=dom.nextSibling}else written=!0,parentDOM.insertBefore(childDOM,dom);if(desc instanceof MarkViewDesc){let pos=dom?dom.previousSibling:parentDOM.lastChild;renderDescs(desc.contentDOM,desc.children,view),dom=pos?pos.nextSibling:parentDOM.firstChild}}for(;dom;)dom=rm(dom),written=!0;written&&view.trackWrites==parentDOM&&(view.trackWrites=null)}const OuterDecoLevel=function(nodeName){nodeName&&(this.nodeName=nodeName)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(outerDeco,node,needsWrap){if(0==outerDeco.length)return noDeco;let top=needsWrap?noDeco[0]:new OuterDecoLevel,result=[top];for(let i=0;i<outerDeco.length;i++){let attrs=outerDeco[i].type.attrs;if(attrs){attrs.nodeName&&result.push(top=new OuterDecoLevel(attrs.nodeName));for(let name in attrs){let val=attrs[name];null!=val&&(needsWrap&&1==result.length&&result.push(top=new OuterDecoLevel(node.isInline?"span":"div")),"class"==name?top.class=(top.class?top.class+" ":"")+val:"style"==name?top.style=(top.style?top.style+";":"")+val:"nodeName"!=name&&(top[name]=val))}}}return result}function patchOuterDeco(outerDOM,nodeDOM,prevComputed,curComputed){if(prevComputed==noDeco&&curComputed==noDeco)return nodeDOM;let curDOM=nodeDOM;for(let i=0;i<curComputed.length;i++){let deco=curComputed[i],prev=prevComputed[i];if(i){let parent;prev&&prev.nodeName==deco.nodeName&&curDOM!=outerDOM&&(parent=curDOM.parentNode)&&parent.nodeName.toLowerCase()==deco.nodeName||(parent=document.createElement(deco.nodeName),parent.pmIsDeco=!0,parent.appendChild(curDOM),prev=noDeco[0]),curDOM=parent}patchAttributes(curDOM,prev||noDeco[0],deco)}return curDOM}function patchAttributes(dom,prev,cur){for(let name in prev)"class"==name||"style"==name||"nodeName"==name||name in cur||dom.removeAttribute(name);for(let name in cur)"class"!=name&&"style"!=name&&"nodeName"!=name&&cur[name]!=prev[name]&&dom.setAttribute(name,cur[name]);if(prev.class!=cur.class){let prevList=prev.class?prev.class.split(" ").filter(Boolean):[],curList=cur.class?cur.class.split(" ").filter(Boolean):[];for(let i=0;i<prevList.length;i++)-1==curList.indexOf(prevList[i])&&dom.classList.remove(prevList[i]);for(let i=0;i<curList.length;i++)-1==prevList.indexOf(curList[i])&&dom.classList.add(curList[i]);0==dom.classList.length&&dom.removeAttribute("class")}if(prev.style!=cur.style){if(prev.style){let m,prop=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;m=prop.exec(prev.style);)dom.style.removeProperty(m[1])}cur.style&&(dom.style.cssText+=cur.style)}}function applyOuterDeco(dom,deco,node){return patchOuterDeco(dom,dom,noDeco,computeOuterDeco(deco,node,1!=dom.nodeType))}function sameOuterDeco(a,b){if(a.length!=b.length)return!1;for(let i=0;i<a.length;i++)if(!a[i].type.eq(b[i].type))return!1;return!0}function rm(dom){let next=dom.nextSibling;return dom.parentNode.removeChild(dom),next}class ViewTreeUpdater{constructor(top,lock,view){this.lock=lock,this.view=view,this.index=0,this.stack=[],this.changed=!1,this.top=top,this.preMatch=function preMatch(frag,parentDesc){let curDesc=parentDesc,descI=curDesc.children.length,fI=frag.childCount,matched=new Map,matches=[];outer:for(;fI>0;){let desc;for(;;)if(descI){let next=curDesc.children[descI-1];if(!(next instanceof MarkViewDesc)){desc=next,descI--;break}curDesc=next,descI=next.children.length}else{if(curDesc==parentDesc)break outer;descI=curDesc.parent.children.indexOf(curDesc),curDesc=curDesc.parent}let node=desc.node;if(node){if(node!=frag.child(fI-1))break;--fI,matched.set(desc,fI),matches.push(desc)}}return{index:fI,matched,matches:matches.reverse()}}(top.node.content,top)}destroyBetween(start,end){if(start!=end){for(let i=start;i<end;i++)this.top.children[i].destroy();this.top.children.splice(start,end-start),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(marks,inline,view){let keep=0,depth=this.stack.length>>1,maxKeep=Math.min(depth,marks.length);for(;keep<maxKeep&&(keep==depth-1?this.top:this.stack[keep+1<<1]).matchesMark(marks[keep])&&!1!==marks[keep].type.spec.spanning;)keep++;for(;keep<depth;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),depth--;for(;depth<marks.length;){this.stack.push(this.top,this.index+1);let found=-1;for(let i=this.index;i<Math.min(this.index+3,this.top.children.length);i++){let next=this.top.children[i];if(next.matchesMark(marks[depth])&&!this.isLocked(next.dom)){found=i;break}}if(found>-1)found>this.index&&(this.changed=!0,this.destroyBetween(this.index,found)),this.top=this.top.children[this.index];else{let markDesc=MarkViewDesc.create(this.top,marks[depth],inline,view);this.top.children.splice(this.index,0,markDesc),this.top=markDesc,this.changed=!0}this.index=0,depth++}}findNodeMatch(node,outerDeco,innerDeco,index){let targetDesc,found=-1;if(index>=this.preMatch.index&&(targetDesc=this.preMatch.matches[index-this.preMatch.index]).parent==this.top&&targetDesc.matchesNode(node,outerDeco,innerDeco))found=this.top.children.indexOf(targetDesc,this.index);else for(let i=this.index,e=Math.min(this.top.children.length,i+5);i<e;i++){let child=this.top.children[i];if(child.matchesNode(node,outerDeco,innerDeco)&&!this.preMatch.matched.has(child)){found=i;break}}return!(found<0)&&(this.destroyBetween(this.index,found),this.index++,!0)}updateNodeAt(node,outerDeco,innerDeco,index,view){let child=this.top.children[index];return 3==child.dirty&&child.dom==child.contentDOM&&(child.dirty=2),!!child.update(node,outerDeco,innerDeco,view)&&(this.destroyBetween(this.index,index),this.index++,!0)}findIndexWithChild(domNode){for(;;){let parent=domNode.parentNode;if(!parent)return-1;if(parent==this.top.contentDOM){let desc=domNode.pmViewDesc;if(desc)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==desc)return i;return-1}domNode=parent}}updateNextNode(node,outerDeco,innerDeco,view,index,pos){for(let i=this.index;i<this.top.children.length;i++){let next=this.top.children[i];if(next instanceof NodeViewDesc){let preMatch=this.preMatch.matched.get(next);if(null!=preMatch&&preMatch!=index)return!1;let updated,nextDOM=next.dom,locked=this.isLocked(nextDOM)&&!(node.isText&&next.node&&next.node.isText&&next.nodeDOM.nodeValue==node.text&&3!=next.dirty&&sameOuterDeco(outerDeco,next.outerDeco));if(!locked&&next.update(node,outerDeco,innerDeco,view))return this.destroyBetween(this.index,i),next.dom!=nextDOM&&(this.changed=!0),this.index++,!0;if(!locked&&(updated=this.recreateWrapper(next,node,outerDeco,innerDeco,view,pos)))return this.destroyBetween(this.index,i),this.top.children[this.index]=updated,updated.contentDOM&&(updated.dirty=2,updated.updateChildren(view,pos+1),updated.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(next,node,outerDeco,innerDeco,view,pos){if(next.dirty||node.isAtom||!next.children.length||!next.node.content.eq(node.content)||!sameOuterDeco(outerDeco,next.outerDeco)||!innerDeco.eq(next.innerDeco))return null;let wrapper=NodeViewDesc.create(this.top,node,outerDeco,innerDeco,view,pos);if(wrapper.contentDOM){wrapper.children=next.children,next.children=[];for(let ch of wrapper.children)ch.parent=wrapper}return next.destroy(),wrapper}addNode(node,outerDeco,innerDeco,view,pos){let desc=NodeViewDesc.create(this.top,node,outerDeco,innerDeco,view,pos);desc.contentDOM&&desc.updateChildren(view,pos+1),this.top.children.splice(this.index++,0,desc),this.changed=!0}placeWidget(widget,view,pos){let next=this.index<this.top.children.length?this.top.children[this.index]:null;if(!next||!next.matchesWidget(widget)||widget!=next.widget&&next.widget.type.toDOM.parentNode){let desc=new WidgetViewDesc(this.top,widget,view,pos);this.top.children.splice(this.index++,0,desc),this.changed=!0}else this.index++}addTextblockHacks(){let lastChild=this.top.children[this.index-1],parent=this.top;for(;lastChild instanceof MarkViewDesc;)parent=lastChild,lastChild=parent.children[parent.children.length-1];(!lastChild||!(lastChild instanceof TextViewDesc)||/\n$/.test(lastChild.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(lastChild.node.text))&&((safari||dist_chrome)&&lastChild&&"false"==lastChild.dom.contentEditable&&this.addHackNode("IMG",parent),this.addHackNode("BR",this.top))}addHackNode(nodeName,parent){if(parent==this.top&&this.index<parent.children.length&&parent.children[this.index].matchesHack(nodeName))this.index++;else{let dom=document.createElement(nodeName);"IMG"==nodeName&&(dom.className="ProseMirror-separator",dom.alt=""),"BR"==nodeName&&(dom.className="ProseMirror-trailingBreak");let hack=new TrailingHackViewDesc(this.top,[],dom,null);parent!=this.top?parent.children.push(hack):parent.children.splice(this.index++,0,hack),this.changed=!0}}isLocked(node){return this.lock&&(node==this.lock||1==node.nodeType&&node.contains(this.lock.parentNode))}}function compareSide(a,b){return a.type.side-b.type.side}function replaceNodes(nodes,from,to,view,replacement){let result=[];for(let i=0,off=0;i<nodes.length;i++){let child=nodes[i],start=off,end=off+=child.size;start>=to||end<=from?result.push(child):(start<from&&result.push(child.slice(0,from-start,view)),replacement&&(result.push(replacement),replacement=void 0),end>to&&result.push(child.slice(to-start,child.size,view)))}return result}function selectionFromDOM(view,origin=null){let domSel=view.domSelectionRange(),doc=view.state.doc;if(!domSel.focusNode)return null;let nearestDesc=view.docView.nearestDesc(domSel.focusNode),inWidget=nearestDesc&&0==nearestDesc.size,head=view.docView.posFromDOM(domSel.focusNode,domSel.focusOffset,1);if(head<0)return null;let anchor,selection,$head=doc.resolve(head);if(selectionCollapsed(domSel)){for(anchor=head;nearestDesc&&!nearestDesc.node;)nearestDesc=nearestDesc.parent;let nearestDescNode=nearestDesc.node;if(nearestDesc&&nearestDescNode.isAtom&&NodeSelection.isSelectable(nearestDescNode)&&nearestDesc.parent&&(!nearestDescNode.isInline||!function isOnEdge(node,offset,parent){for(let atStart=0==offset,atEnd=offset==nodeSize(node);atStart||atEnd;){if(node==parent)return!0;let index=domIndex(node);if(!(node=node.parentNode))return!1;atStart=atStart&&0==index,atEnd=atEnd&&index==nodeSize(node)}}(domSel.focusNode,domSel.focusOffset,nearestDesc.dom))){let pos=nearestDesc.posBefore;selection=new NodeSelection(head==pos?$head:doc.resolve(pos))}}else{if(domSel instanceof view.dom.ownerDocument.defaultView.Selection&&domSel.rangeCount>1){let min=head,max=head;for(let i=0;i<domSel.rangeCount;i++){let range=domSel.getRangeAt(i);min=Math.min(min,view.docView.posFromDOM(range.startContainer,range.startOffset,1)),max=Math.max(max,view.docView.posFromDOM(range.endContainer,range.endOffset,-1))}if(min<0)return null;[anchor,head]=max==view.state.selection.anchor?[max,min]:[min,max],$head=doc.resolve(head)}else anchor=view.docView.posFromDOM(domSel.anchorNode,domSel.anchorOffset,1);if(anchor<0)return null}let $anchor=doc.resolve(anchor);if(!selection){selection=selectionBetween(view,$anchor,$head,"pointer"==origin||view.state.selection.head<$head.pos&&!inWidget?1:-1)}return selection}function editorOwnsSelection(view){return view.editable?view.hasFocus():hasSelection(view)&&document.activeElement&&document.activeElement.contains(view.dom)}function selectionToDOM(view,force=!1){let sel=view.state.selection;if(syncNodeSelection(view,sel),editorOwnsSelection(view)){if(!force&&view.input.mouseDown&&view.input.mouseDown.allowDefault&&dist_chrome){let domSel=view.domSelectionRange(),curSel=view.domObserver.currentSelection;if(domSel.anchorNode&&curSel.anchorNode&&isEquivalentPosition(domSel.anchorNode,domSel.anchorOffset,curSel.anchorNode,curSel.anchorOffset))return view.input.mouseDown.delayedSelectionSync=!0,void view.domObserver.setCurSelection()}if(view.domObserver.disconnectSelection(),view.cursorWrapper)!function selectCursorWrapper(view){let domSel=view.domSelection(),range=document.createRange();if(!domSel)return;let node=view.cursorWrapper.dom,img="IMG"==node.nodeName;img?range.setStart(node.parentNode,domIndex(node)+1):range.setStart(node,0);range.collapse(!0),domSel.removeAllRanges(),domSel.addRange(range),!img&&!view.state.selection.visible&&dist_ie&&ie_version<=11&&(node.disabled=!0,node.disabled=!1)}(view);else{let resetEditableFrom,resetEditableTo,{anchor,head}=sel;!brokenSelectBetweenUneditable||sel instanceof TextSelection||(sel.$from.parent.inlineContent||(resetEditableFrom=temporarilyEditableNear(view,sel.from)),sel.empty||sel.$from.parent.inlineContent||(resetEditableTo=temporarilyEditableNear(view,sel.to))),view.docView.setSelection(anchor,head,view,force),brokenSelectBetweenUneditable&&(resetEditableFrom&&resetEditable(resetEditableFrom),resetEditableTo&&resetEditable(resetEditableTo)),sel.visible?view.dom.classList.remove("ProseMirror-hideselection"):(view.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function removeClassOnSelectionChange(view){let doc=view.dom.ownerDocument;doc.removeEventListener("selectionchange",view.input.hideSelectionGuard);let domSel=view.domSelectionRange(),node=domSel.anchorNode,offset=domSel.anchorOffset;doc.addEventListener("selectionchange",view.input.hideSelectionGuard=()=>{domSel.anchorNode==node&&domSel.anchorOffset==offset||(doc.removeEventListener("selectionchange",view.input.hideSelectionGuard),setTimeout(()=>{editorOwnsSelection(view)&&!view.state.selection.visible||view.dom.classList.remove("ProseMirror-hideselection")},20))})}(view))}view.domObserver.setCurSelection(),view.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||dist_chrome&&chrome_version<63;function temporarilyEditableNear(view,pos){let{node,offset}=view.docView.domFromPos(pos,0),after=offset<node.childNodes.length?node.childNodes[offset]:null,before=offset?node.childNodes[offset-1]:null;if(safari&&after&&"false"==after.contentEditable)return setEditable(after);if(!(after&&"false"!=after.contentEditable||before&&"false"!=before.contentEditable)){if(after)return setEditable(after);if(before)return setEditable(before)}}function setEditable(element){return element.contentEditable="true",safari&&element.draggable&&(element.draggable=!1,element.wasDraggable=!0),element}function resetEditable(element){element.contentEditable="false",element.wasDraggable&&(element.draggable=!0,element.wasDraggable=null)}function syncNodeSelection(view,sel){if(sel instanceof NodeSelection){let desc=view.docView.descAt(sel.from);desc!=view.lastSelectedViewDesc&&(clearNodeSelection(view),desc&&desc.selectNode(),view.lastSelectedViewDesc=desc)}else clearNodeSelection(view)}function clearNodeSelection(view){view.lastSelectedViewDesc&&(view.lastSelectedViewDesc.parent&&view.lastSelectedViewDesc.deselectNode(),view.lastSelectedViewDesc=void 0)}function selectionBetween(view,$anchor,$head,bias){return view.someProp("createSelectionBetween",f=>f(view,$anchor,$head))||TextSelection.between($anchor,$head,bias)}function hasFocusAndSelection(view){return!(view.editable&&!view.hasFocus())&&hasSelection(view)}function hasSelection(view){let sel=view.domSelectionRange();if(!sel.anchorNode)return!1;try{return view.dom.contains(3==sel.anchorNode.nodeType?sel.anchorNode.parentNode:sel.anchorNode)&&(view.editable||view.dom.contains(3==sel.focusNode.nodeType?sel.focusNode.parentNode:sel.focusNode))}catch(_){return!1}}function moveSelectionBlock(state,dir){let{$anchor,$head}=state.selection,$side=dir>0?$anchor.max($head):$anchor.min($head),$start=$side.parent.inlineContent?$side.depth?state.doc.resolve(dir>0?$side.after():$side.before()):null:$side;return $start&&dist_Selection.findFrom($start,dir)}function apply(view,sel){return view.dispatch(view.state.tr.setSelection(sel).scrollIntoView()),!0}function selectHorizontally(view,dir,mods){let sel=view.state.selection;if(!(sel instanceof TextSelection)){if(sel instanceof NodeSelection&&sel.node.isInline)return apply(view,new TextSelection(dir>0?sel.$to:sel.$from));{let next=moveSelectionBlock(view.state,dir);return!!next&&apply(view,next)}}if(mods.indexOf("s")>-1){let{$head}=sel,node=$head.textOffset?null:dir<0?$head.nodeBefore:$head.nodeAfter;if(!node||node.isText||!node.isLeaf)return!1;let $newHead=view.state.doc.resolve($head.pos+node.nodeSize*(dir<0?-1:1));return apply(view,new TextSelection(sel.$anchor,$newHead))}if(!sel.empty)return!1;if(view.endOfTextblock(dir>0?"forward":"backward")){let next=moveSelectionBlock(view.state,dir);return!!(next&&next instanceof NodeSelection)&&apply(view,next)}if(!(mac&&mods.indexOf("m")>-1)){let desc,$head=sel.$head,node=$head.textOffset?null:dir<0?$head.nodeBefore:$head.nodeAfter;if(!node||node.isText)return!1;let nodePos=dir<0?$head.pos-node.nodeSize:$head.pos;return!!(node.isAtom||(desc=view.docView.descAt(nodePos))&&!desc.contentDOM)&&(NodeSelection.isSelectable(node)?apply(view,new NodeSelection(dir<0?view.state.doc.resolve($head.pos-node.nodeSize):$head)):!!webkit&&apply(view,new TextSelection(view.state.doc.resolve(dir<0?nodePos:nodePos+node.nodeSize))))}}function nodeLen(node){return 3==node.nodeType?node.nodeValue.length:node.childNodes.length}function isIgnorable(dom,dir){let desc=dom.pmViewDesc;return desc&&0==desc.size&&(dir<0||dom.nextSibling||"BR"!=dom.nodeName)}function skipIgnoredNodes(view,dir){return dir<0?function skipIgnoredNodesBefore(view){let sel=view.domSelectionRange(),node=sel.focusNode,offset=sel.focusOffset;if(!node)return;let moveNode,moveOffset,force=!1;gecko&&1==node.nodeType&&offset<nodeLen(node)&&isIgnorable(node.childNodes[offset],-1)&&(force=!0);for(;;)if(offset>0){if(1!=node.nodeType)break;{let before=node.childNodes[offset-1];if(isIgnorable(before,-1))moveNode=node,moveOffset=--offset;else{if(3!=before.nodeType)break;node=before,offset=node.nodeValue.length}}}else{if(isBlockNode(node))break;{let prev=node.previousSibling;for(;prev&&isIgnorable(prev,-1);)moveNode=node.parentNode,moveOffset=domIndex(prev),prev=prev.previousSibling;if(prev)node=prev,offset=nodeLen(node);else{if(node=node.parentNode,node==view.dom)break;offset=0}}}force?setSelFocus(view,node,offset):moveNode&&setSelFocus(view,moveNode,moveOffset)}(view):function skipIgnoredNodesAfter(view){let sel=view.domSelectionRange(),node=sel.focusNode,offset=sel.focusOffset;if(!node)return;let moveNode,moveOffset,len=nodeLen(node);for(;;)if(offset<len){if(1!=node.nodeType)break;if(!isIgnorable(node.childNodes[offset],1))break;moveNode=node,moveOffset=++offset}else{if(isBlockNode(node))break;{let next=node.nextSibling;for(;next&&isIgnorable(next,1);)moveNode=next.parentNode,moveOffset=domIndex(next)+1,next=next.nextSibling;if(next)node=next,offset=0,len=nodeLen(node);else{if(node=node.parentNode,node==view.dom)break;offset=len=0}}}moveNode&&setSelFocus(view,moveNode,moveOffset)}(view)}function isBlockNode(dom){let desc=dom.pmViewDesc;return desc&&desc.node&&desc.node.isBlock}function setSelFocus(view,node,offset){if(3!=node.nodeType){let before,after;(after=function textNodeAfter(node,offset){for(;node&&offset==node.childNodes.length&&!hasBlockDesc(node);)offset=domIndex(node)+1,node=node.parentNode;for(;node&&offset<node.childNodes.length;){let next=node.childNodes[offset];if(3==next.nodeType)return next;if(1==next.nodeType&&"false"==next.contentEditable)break;node=next,offset=0}}(node,offset))?(node=after,offset=0):(before=function textNodeBefore(node,offset){for(;node&&!offset&&!hasBlockDesc(node);)offset=domIndex(node),node=node.parentNode;for(;node&&offset;){let next=node.childNodes[offset-1];if(3==next.nodeType)return next;if(1==next.nodeType&&"false"==next.contentEditable)break;offset=(node=next).childNodes.length}}(node,offset))&&(node=before,offset=before.nodeValue.length)}let sel=view.domSelection();if(!sel)return;if(selectionCollapsed(sel)){let range=document.createRange();range.setEnd(node,offset),range.setStart(node,offset),sel.removeAllRanges(),sel.addRange(range)}else sel.extend&&sel.extend(node,offset);view.domObserver.setCurSelection();let{state}=view;setTimeout(()=>{view.state==state&&selectionToDOM(view)},50)}function findDirection(view,pos){let $pos=view.state.doc.resolve(pos);if(!dist_chrome&&!windows&&$pos.parent.inlineContent){let coords=view.coordsAtPos(pos);if(pos>$pos.start()){let before=view.coordsAtPos(pos-1),mid=(before.top+before.bottom)/2;if(mid>coords.top&&mid<coords.bottom&&Math.abs(before.left-coords.left)>1)return before.left<coords.left?"ltr":"rtl"}if(pos<$pos.end()){let after=view.coordsAtPos(pos+1),mid=(after.top+after.bottom)/2;if(mid>coords.top&&mid<coords.bottom&&Math.abs(after.left-coords.left)>1)return after.left>coords.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(view.dom).direction?"rtl":"ltr"}function selectVertically(view,dir,mods){let sel=view.state.selection;if(sel instanceof TextSelection&&!sel.empty||mods.indexOf("s")>-1)return!1;if(mac&&mods.indexOf("m")>-1)return!1;let{$from,$to}=sel;if(!$from.parent.inlineContent||view.endOfTextblock(dir<0?"up":"down")){let next=moveSelectionBlock(view.state,dir);if(next&&next instanceof NodeSelection)return apply(view,next)}if(!$from.parent.inlineContent){let side=dir<0?$from:$to,beyond=sel instanceof AllSelection?dist_Selection.near(side,dir):dist_Selection.findFrom(side,dir);return!!beyond&&apply(view,beyond)}return!1}function stopNativeHorizontalDelete(view,dir){if(!(view.state.selection instanceof TextSelection))return!0;let{$head,$anchor,empty}=view.state.selection;if(!$head.sameParent($anchor))return!0;if(!empty)return!1;if(view.endOfTextblock(dir>0?"forward":"backward"))return!0;let nextNode=!$head.textOffset&&(dir<0?$head.nodeBefore:$head.nodeAfter);if(nextNode&&!nextNode.isText){let tr=view.state.tr;return dir<0?tr.delete($head.pos-nextNode.nodeSize,$head.pos):tr.delete($head.pos,$head.pos+nextNode.nodeSize),view.dispatch(tr),!0}return!1}function switchEditable(view,node,state){view.domObserver.stop(),node.contentEditable=state,view.domObserver.start()}function captureKeyDown(view,event){let code=event.keyCode,mods=function getMods(event){let result="";return event.ctrlKey&&(result+="c"),event.metaKey&&(result+="m"),event.altKey&&(result+="a"),event.shiftKey&&(result+="s"),result}(event);if(8==code||mac&&72==code&&"c"==mods)return stopNativeHorizontalDelete(view,-1)||skipIgnoredNodes(view,-1);if(46==code&&!event.shiftKey||mac&&68==code&&"c"==mods)return stopNativeHorizontalDelete(view,1)||skipIgnoredNodes(view,1);if(13==code||27==code)return!0;if(37==code||mac&&66==code&&"c"==mods){let dir=37==code?"ltr"==findDirection(view,view.state.selection.from)?-1:1:-1;return selectHorizontally(view,dir,mods)||skipIgnoredNodes(view,dir)}if(39==code||mac&&70==code&&"c"==mods){let dir=39==code?"ltr"==findDirection(view,view.state.selection.from)?1:-1:1;return selectHorizontally(view,dir,mods)||skipIgnoredNodes(view,dir)}return 38==code||mac&&80==code&&"c"==mods?selectVertically(view,-1,mods)||skipIgnoredNodes(view,-1):40==code||mac&&78==code&&"c"==mods?function safariDownArrowBug(view){if(!safari||view.state.selection.$head.parentOffset>0)return!1;let{focusNode,focusOffset}=view.domSelectionRange();if(focusNode&&1==focusNode.nodeType&&0==focusOffset&&focusNode.firstChild&&"false"==focusNode.firstChild.contentEditable){let child=focusNode.firstChild;switchEditable(view,child,"true"),setTimeout(()=>switchEditable(view,child,"false"),20)}return!1}(view)||selectVertically(view,1,mods)||skipIgnoredNodes(view,1):mods==(mac?"m":"c")&&(66==code||73==code||89==code||90==code)}function serializeForClipboard(view,slice){view.someProp("transformCopied",f=>{slice=f(slice,view)});let context=[],{content,openStart,openEnd}=slice;for(;openStart>1&&openEnd>1&&1==content.childCount&&1==content.firstChild.childCount;){openStart--,openEnd--;let node=content.firstChild;context.push(node.type.name,node.attrs!=node.type.defaultAttrs?node.attrs:null),content=node.content}let serializer=view.someProp("clipboardSerializer")||DOMSerializer.fromSchema(view.state.schema),doc=detachedDoc(),wrap=doc.createElement("div");wrap.appendChild(serializer.serializeFragment(content,{document:doc}));let needsWrap,firstChild=wrap.firstChild,wrappers=0;for(;firstChild&&1==firstChild.nodeType&&(needsWrap=wrapMap[firstChild.nodeName.toLowerCase()]);){for(let i=needsWrap.length-1;i>=0;i--){let wrapper=doc.createElement(needsWrap[i]);for(;wrap.firstChild;)wrapper.appendChild(wrap.firstChild);wrap.appendChild(wrapper),wrappers++}firstChild=wrap.firstChild}firstChild&&1==firstChild.nodeType&&firstChild.setAttribute("data-pm-slice",`${openStart} ${openEnd}${wrappers?` -${wrappers}`:""} ${JSON.stringify(context)}`);let text=view.someProp("clipboardTextSerializer",f=>f(slice,view))||slice.content.textBetween(0,slice.content.size,"\n\n");return{dom:wrap,text,slice}}function parseFromClipboard(view,text,html,plainText,$context){let dom,slice,inCode=$context.parent.type.spec.code;if(!html&&!text)return null;let asText=text&&(plainText||inCode||!html);if(asText){if(view.someProp("transformPastedText",f=>{text=f(text,inCode||plainText,view)}),inCode)return text?new dist_Slice(dist_Fragment.from(view.state.schema.text(text.replace(/\r\n?/g,"\n"))),0,0):dist_Slice.empty;let parsed=view.someProp("clipboardTextParser",f=>f(text,$context,plainText,view));if(parsed)slice=parsed;else{let marks=$context.marks(),{schema}=view.state,serializer=DOMSerializer.fromSchema(schema);dom=document.createElement("div"),text.split(/(?:\r\n?|\n)+/).forEach(block=>{let p=dom.appendChild(document.createElement("p"));block&&p.appendChild(serializer.serializeNode(schema.text(block,marks)))})}}else view.someProp("transformPastedHTML",f=>{html=f(html,view)}),dom=function readHTML(html){let metas=/^(\s*<meta [^>]*>)*/.exec(html);metas&&(html=html.slice(metas[0].length));let wrap,elt=detachedDoc().createElement("div"),firstTag=/<([a-z][^>\s]+)/i.exec(html);(wrap=firstTag&&wrapMap[firstTag[1].toLowerCase()])&&(html=wrap.map(n=>"<"+n+">").join("")+html+wrap.map(n=>"</"+n+">").reverse().join(""));if(elt.innerHTML=function maybeWrapTrusted(html){let trustedTypes=window.trustedTypes;if(!trustedTypes)return html;_policy||(_policy=trustedTypes.defaultPolicy||trustedTypes.createPolicy("ProseMirrorClipboard",{createHTML:s=>s}));return _policy.createHTML(html)}(html),wrap)for(let i=0;i<wrap.length;i++)elt=elt.querySelector(wrap[i])||elt;return elt}(html),webkit&&function restoreReplacedSpaces(dom){let nodes=dom.querySelectorAll(dist_chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let i=0;i<nodes.length;i++){let node=nodes[i];1==node.childNodes.length&&""==node.textContent&&node.parentNode&&node.parentNode.replaceChild(dom.ownerDocument.createTextNode(" "),node)}}(dom);let contextNode=dom&&dom.querySelector("[data-pm-slice]"),sliceData=contextNode&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(contextNode.getAttribute("data-pm-slice")||"");if(sliceData&&sliceData[3])for(let i=+sliceData[3];i>0;i--){let child=dom.firstChild;for(;child&&1!=child.nodeType;)child=child.nextSibling;if(!child)break;dom=child}if(!slice){let parser=view.someProp("clipboardParser")||view.someProp("domParser")||DOMParser.fromSchema(view.state.schema);slice=parser.parseSlice(dom,{preserveWhitespace:!(!asText&&!sliceData),context:$context,ruleFromNode:dom=>"BR"!=dom.nodeName||dom.nextSibling||!dom.parentNode||inlineParents.test(dom.parentNode.nodeName)?null:{ignore:!0}})}if(sliceData)slice=function addContext(slice,context){if(!slice.size)return slice;let array,schema=slice.content.firstChild.type.schema;try{array=JSON.parse(context)}catch(e){return slice}let{content,openStart,openEnd}=slice;for(let i=array.length-2;i>=0;i-=2){let type=schema.nodes[array[i]];if(!type||type.hasRequiredAttrs())break;content=dist_Fragment.from(type.create(array[i+1],content)),openStart++,openEnd++}return new dist_Slice(content,openStart,openEnd)}(closeSlice(slice,+sliceData[1],+sliceData[2]),sliceData[4]);else if(slice=dist_Slice.maxOpen(function normalizeSiblings(fragment,$context){if(fragment.childCount<2)return fragment;for(let d=$context.depth;d>=0;d--){let lastWrap,match=$context.node(d).contentMatchAt($context.index(d)),result=[];if(fragment.forEach(node=>{if(!result)return;let inLast,wrap=match.findWrapping(node.type);if(!wrap)return result=null;if(inLast=result.length&&lastWrap.length&&addToSibling(wrap,lastWrap,node,result[result.length-1],0))result[result.length-1]=inLast;else{result.length&&(result[result.length-1]=closeRight(result[result.length-1],lastWrap.length));let wrapped=withWrappers(node,wrap);result.push(wrapped),match=match.matchType(wrapped.type),lastWrap=wrap}}),result)return dist_Fragment.from(result)}return fragment}(slice.content,$context),!0),slice.openStart||slice.openEnd){let openStart=0,openEnd=0;for(let node=slice.content.firstChild;openStart<slice.openStart&&!node.type.spec.isolating;openStart++,node=node.firstChild);for(let node=slice.content.lastChild;openEnd<slice.openEnd&&!node.type.spec.isolating;openEnd++,node=node.lastChild);slice=closeSlice(slice,openStart,openEnd)}return view.someProp("transformPasted",f=>{slice=f(slice,view)}),slice}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function withWrappers(node,wrap,from=0){for(let i=wrap.length-1;i>=from;i--)node=wrap[i].create(null,dist_Fragment.from(node));return node}function addToSibling(wrap,lastWrap,node,sibling,depth){if(depth<wrap.length&&depth<lastWrap.length&&wrap[depth]==lastWrap[depth]){let inner=addToSibling(wrap,lastWrap,node,sibling.lastChild,depth+1);if(inner)return sibling.copy(sibling.content.replaceChild(sibling.childCount-1,inner));if(sibling.contentMatchAt(sibling.childCount).matchType(depth==wrap.length-1?node.type:wrap[depth+1]))return sibling.copy(sibling.content.append(dist_Fragment.from(withWrappers(node,wrap,depth+1))))}}function closeRight(node,depth){if(0==depth)return node;let fragment=node.content.replaceChild(node.childCount-1,closeRight(node.lastChild,depth-1)),fill=node.contentMatchAt(node.childCount).fillBefore(dist_Fragment.empty,!0);return node.copy(fragment.append(fill))}function closeRange(fragment,side,from,to,depth,openEnd){let node=side<0?fragment.firstChild:fragment.lastChild,inner=node.content;return fragment.childCount>1&&(openEnd=0),depth<to-1&&(inner=closeRange(inner,side,from,to,depth+1,openEnd)),depth>=from&&(inner=side<0?node.contentMatchAt(0).fillBefore(inner,openEnd<=depth).append(inner):inner.append(node.contentMatchAt(node.childCount).fillBefore(dist_Fragment.empty,!0))),fragment.replaceChild(side<0?0:fragment.childCount-1,node.copy(inner))}function closeSlice(slice,openStart,openEnd){return openStart<slice.openStart&&(slice=new dist_Slice(closeRange(slice.content,-1,openStart,slice.openStart,0,slice.openEnd),openStart,slice.openEnd)),openEnd<slice.openEnd&&(slice=new dist_Slice(closeRange(slice.content,1,openEnd,slice.openEnd,0,0),slice.openStart,openEnd)),slice}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function setSelectionOrigin(view,origin){view.input.lastSelectionOrigin=origin,view.input.lastSelectionTime=Date.now()}function ensureListeners(view){view.someProp("handleDOMEvents",currentHandlers=>{for(let type in currentHandlers)view.input.eventHandlers[type]||view.dom.addEventListener(type,view.input.eventHandlers[type]=event=>runCustomHandler(view,event))})}function runCustomHandler(view,event){return view.someProp("handleDOMEvents",handlers=>{let handler=handlers[event.type];return!!handler&&(handler(view,event)||event.defaultPrevented)})}function eventBelongsToView(view,event){if(!event.bubbles)return!0;if(event.defaultPrevented)return!1;for(let node=event.target;node!=view.dom;node=node.parentNode)if(!node||11==node.nodeType||node.pmViewDesc&&node.pmViewDesc.stopEvent(event))return!1;return!0}function eventCoords(event){return{left:event.clientX,top:event.clientY}}function runHandlerOnContext(view,propName,pos,inside,event){if(-1==inside)return!1;let $pos=view.state.doc.resolve(inside);for(let i=$pos.depth+1;i>0;i--)if(view.someProp(propName,f=>i>$pos.depth?f(view,pos,$pos.nodeAfter,$pos.before(i),event,!0):f(view,pos,$pos.node(i),$pos.before(i),event,!1)))return!0;return!1}function updateSelection(view,selection,origin){if(view.focused||view.focus(),view.state.selection.eq(selection))return;let tr=view.state.tr.setSelection(selection);"pointer"==origin&&tr.setMeta("pointer",!0),view.dispatch(tr)}function handleSingleClick(view,pos,inside,event,selectNode){return runHandlerOnContext(view,"handleClickOn",pos,inside,event)||view.someProp("handleClick",f=>f(view,pos,event))||(selectNode?function selectClickedNode(view,inside){if(-1==inside)return!1;let selectedNode,selectAt,sel=view.state.selection;sel instanceof NodeSelection&&(selectedNode=sel.node);let $pos=view.state.doc.resolve(inside);for(let i=$pos.depth+1;i>0;i--){let node=i>$pos.depth?$pos.nodeAfter:$pos.node(i);if(NodeSelection.isSelectable(node)){selectAt=selectedNode&&sel.$from.depth>0&&i>=sel.$from.depth&&$pos.before(sel.$from.depth+1)==sel.$from.pos?$pos.before(sel.$from.depth):$pos.before(i);break}}return null!=selectAt&&(updateSelection(view,NodeSelection.create(view.state.doc,selectAt),"pointer"),!0)}(view,inside):function selectClickedLeaf(view,inside){if(-1==inside)return!1;let $pos=view.state.doc.resolve(inside),node=$pos.nodeAfter;return!!(node&&node.isAtom&&NodeSelection.isSelectable(node))&&(updateSelection(view,new NodeSelection($pos),"pointer"),!0)}(view,inside))}function handleDoubleClick(view,pos,inside,event){return runHandlerOnContext(view,"handleDoubleClickOn",pos,inside,event)||view.someProp("handleDoubleClick",f=>f(view,pos,event))}function handleTripleClick(view,pos,inside,event){return runHandlerOnContext(view,"handleTripleClickOn",pos,inside,event)||view.someProp("handleTripleClick",f=>f(view,pos,event))||function defaultTripleClick(view,inside,event){if(0!=event.button)return!1;let doc=view.state.doc;if(-1==inside)return!!doc.inlineContent&&(updateSelection(view,TextSelection.create(doc,0,doc.content.size),"pointer"),!0);let $pos=doc.resolve(inside);for(let i=$pos.depth+1;i>0;i--){let node=i>$pos.depth?$pos.nodeAfter:$pos.node(i),nodePos=$pos.before(i);if(node.inlineContent)updateSelection(view,TextSelection.create(doc,nodePos+1,nodePos+1+node.content.size),"pointer");else{if(!NodeSelection.isSelectable(node))continue;updateSelection(view,NodeSelection.create(doc,nodePos),"pointer")}return!0}}(view,inside,event)}function forceDOMFlush(view){return endComposition(view)}editHandlers.keydown=(view,_event)=>{let event=_event;if(view.input.shiftKey=16==event.keyCode||event.shiftKey,!inOrNearComposition(view,event)&&(view.input.lastKeyCode=event.keyCode,view.input.lastKeyCodeTime=Date.now(),!android||!dist_chrome||13!=event.keyCode))if(229!=event.keyCode&&view.domObserver.forceFlush(),!ios||13!=event.keyCode||event.ctrlKey||event.altKey||event.metaKey)view.someProp("handleKeyDown",f=>f(view,event))||captureKeyDown(view,event)?event.preventDefault():setSelectionOrigin(view,"key");else{let now=Date.now();view.input.lastIOSEnter=now,view.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{view.input.lastIOSEnter==now&&(view.someProp("handleKeyDown",f=>f(view,keyEvent(13,"Enter"))),view.input.lastIOSEnter=0)},200)}},editHandlers.keyup=(view,event)=>{16==event.keyCode&&(view.input.shiftKey=!1)},editHandlers.keypress=(view,_event)=>{let event=_event;if(inOrNearComposition(view,event)||!event.charCode||event.ctrlKey&&!event.altKey||mac&&event.metaKey)return;if(view.someProp("handleKeyPress",f=>f(view,event)))return void event.preventDefault();let sel=view.state.selection;if(!(sel instanceof TextSelection&&sel.$from.sameParent(sel.$to))){let text=String.fromCharCode(event.charCode),deflt=()=>view.state.tr.insertText(text).scrollIntoView();/[\r\n]/.test(text)||view.someProp("handleTextInput",f=>f(view,sel.$from.pos,sel.$to.pos,text,deflt))||view.dispatch(deflt()),event.preventDefault()}};const selectNodeModifier=mac?"metaKey":"ctrlKey";handlers.mousedown=(view,_event)=>{let event=_event;view.input.shiftKey=event.shiftKey;let flushed=forceDOMFlush(view),now=Date.now(),type="singleClick";now-view.input.lastClick.time<500&&function isNear(event,click){let dx=click.x-event.clientX,dy=click.y-event.clientY;return dx*dx+dy*dy<100}(event,view.input.lastClick)&&!event[selectNodeModifier]&&view.input.lastClick.button==event.button&&("singleClick"==view.input.lastClick.type?type="doubleClick":"doubleClick"==view.input.lastClick.type&&(type="tripleClick")),view.input.lastClick={time:now,x:event.clientX,y:event.clientY,type,button:event.button};let pos=view.posAtCoords(eventCoords(event));pos&&("singleClick"==type?(view.input.mouseDown&&view.input.mouseDown.done(),view.input.mouseDown=new MouseDown(view,pos,event,!!flushed)):("doubleClick"==type?handleDoubleClick:handleTripleClick)(view,pos.pos,pos.inside,event)?event.preventDefault():setSelectionOrigin(view,"pointer"))};class MouseDown{constructor(view,pos,event,flushed){let targetNode,targetPos;if(this.view=view,this.pos=pos,this.event=event,this.flushed=flushed,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=view.state.doc,this.selectNode=!!event[selectNodeModifier],this.allowDefault=event.shiftKey,pos.inside>-1)targetNode=view.state.doc.nodeAt(pos.inside),targetPos=pos.inside;else{let $pos=view.state.doc.resolve(pos.pos);targetNode=$pos.parent,targetPos=$pos.depth?$pos.before():0}const target=flushed?null:event.target,targetDesc=target?view.docView.nearestDesc(target,!0):null;this.target=targetDesc&&1==targetDesc.dom.nodeType?targetDesc.dom:null;let{selection}=view.state;(0==event.button&&targetNode.type.spec.draggable&&!1!==targetNode.type.spec.selectable||selection instanceof NodeSelection&&selection.from<=targetPos&&selection.to>targetPos)&&(this.mightDrag={node:targetNode,pos:targetPos,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!gecko||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),view.root.addEventListener("mouseup",this.up=this.up.bind(this)),view.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(view,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(event){if(this.done(),!this.view.dom.contains(event.target))return;let pos=this.pos;this.view.state.doc!=this.startDoc&&(pos=this.view.posAtCoords(eventCoords(event))),this.updateAllowDefault(event),this.allowDefault||!pos?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,pos.pos,pos.inside,event,this.selectNode)?event.preventDefault():0==event.button&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||dist_chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(pos.pos-this.view.state.selection.from),Math.abs(pos.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,dist_Selection.near(this.view.state.doc.resolve(pos.pos)),"pointer"),event.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(event){this.updateAllowDefault(event),setSelectionOrigin(this.view,"pointer"),0==event.buttons&&this.done()}updateAllowDefault(event){!this.allowDefault&&(Math.abs(this.event.x-event.clientX)>4||Math.abs(this.event.y-event.clientY)>4)&&(this.allowDefault=!0)}}function inOrNearComposition(view,event){return!!view.composing||!!(safari&&Math.abs(event.timeStamp-view.input.compositionEndedAt)<500)&&(view.input.compositionEndedAt=-2e8,!0)}handlers.touchstart=view=>{view.input.lastTouch=Date.now(),forceDOMFlush(view),setSelectionOrigin(view,"pointer")},handlers.touchmove=view=>{view.input.lastTouch=Date.now(),setSelectionOrigin(view,"pointer")},handlers.contextmenu=view=>forceDOMFlush(view);const timeoutComposition=android?5e3:-1;function scheduleComposeEnd(view,delay){clearTimeout(view.input.composingTimeout),delay>-1&&(view.input.composingTimeout=setTimeout(()=>endComposition(view),delay))}function clearComposition(view){for(view.composing&&(view.input.composing=!1,view.input.compositionEndedAt=function timestampFromCustomEvent(){let event=document.createEvent("Event");return event.initEvent("event",!0,!0),event.timeStamp}());view.input.compositionNodes.length>0;)view.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(view){let sel=view.domSelectionRange();if(!sel.focusNode)return null;let textBefore=function textNodeBefore$1(node,offset){for(;;){if(3==node.nodeType&&offset)return node;if(1==node.nodeType&&offset>0){if("false"==node.contentEditable)return null;offset=nodeSize(node=node.childNodes[offset-1])}else{if(!node.parentNode||hasBlockDesc(node))return null;offset=domIndex(node),node=node.parentNode}}}(sel.focusNode,sel.focusOffset),textAfter=function textNodeAfter$1(node,offset){for(;;){if(3==node.nodeType&&offset<node.nodeValue.length)return node;if(1==node.nodeType&&offset<node.childNodes.length){if("false"==node.contentEditable)return null;node=node.childNodes[offset],offset=0}else{if(!node.parentNode||hasBlockDesc(node))return null;offset=domIndex(node)+1,node=node.parentNode}}}(sel.focusNode,sel.focusOffset);if(textBefore&&textAfter&&textBefore!=textAfter){let descAfter=textAfter.pmViewDesc,lastChanged=view.domObserver.lastChangedTextNode;if(textBefore==lastChanged||textAfter==lastChanged)return lastChanged;if(!descAfter||!descAfter.isText(textAfter.nodeValue))return textAfter;if(view.input.compositionNode==textAfter){let descBefore=textBefore.pmViewDesc;if(descBefore&&descBefore.isText(textBefore.nodeValue))return textAfter}}return textBefore||textAfter}function endComposition(view,restarting=!1){if(!(android&&view.domObserver.flushingSoon>=0)){if(view.domObserver.forceFlush(),clearComposition(view),restarting||view.docView&&view.docView.dirty){let sel=selectionFromDOM(view),cur=view.state.selection;return sel&&!sel.eq(cur)?view.dispatch(view.state.tr.setSelection(sel)):!view.markCursor&&!restarting||cur.$from.node(cur.$from.sharedDepth(cur.to)).inlineContent?view.updateState(view.state):view.dispatch(view.state.tr.deleteSelection()),!0}return!1}}editHandlers.compositionstart=editHandlers.compositionupdate=view=>{if(!view.composing){view.domObserver.flush();let{state}=view,$pos=state.selection.$to;if(state.selection instanceof TextSelection&&(state.storedMarks||!$pos.textOffset&&$pos.parentOffset&&$pos.nodeBefore.marks.some(m=>!1===m.type.spec.inclusive)))view.markCursor=view.state.storedMarks||$pos.marks(),endComposition(view,!0),view.markCursor=null;else if(endComposition(view,!state.selection.empty),gecko&&state.selection.empty&&$pos.parentOffset&&!$pos.textOffset&&$pos.nodeBefore.marks.length){let sel=view.domSelectionRange();for(let node=sel.focusNode,offset=sel.focusOffset;node&&1==node.nodeType&&0!=offset;){let before=offset<0?node.lastChild:node.childNodes[offset-1];if(!before)break;if(3==before.nodeType){let sel=view.domSelection();sel&&sel.collapse(before,before.nodeValue.length);break}node=before,offset=-1}}view.input.composing=!0}scheduleComposeEnd(view,timeoutComposition)},editHandlers.compositionend=(view,event)=>{view.composing&&(view.input.composing=!1,view.input.compositionEndedAt=event.timeStamp,view.input.compositionPendingChanges=view.domObserver.pendingRecords().length?view.input.compositionID:0,view.input.compositionNode=null,view.input.compositionPendingChanges&&Promise.resolve().then(()=>view.domObserver.flush()),view.input.compositionID++,scheduleComposeEnd(view,20))};const brokenClipboardAPI=dist_ie&&ie_version<15||ios&&webkit_version<604;function doPaste(view,text,html,preferPlain,event){let slice=parseFromClipboard(view,text,html,preferPlain,view.state.selection.$from);if(view.someProp("handlePaste",f=>f(view,event,slice||dist_Slice.empty)))return!0;if(!slice)return!1;let singleNode=function sliceSingleNode(slice){return 0==slice.openStart&&0==slice.openEnd&&1==slice.content.childCount?slice.content.firstChild:null}(slice),tr=singleNode?view.state.tr.replaceSelectionWith(singleNode,preferPlain):view.state.tr.replaceSelection(slice);return view.dispatch(tr.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText(clipboardData){let text=clipboardData.getData("text/plain")||clipboardData.getData("Text");if(text)return text;let uris=clipboardData.getData("text/uri-list");return uris?uris.replace(/\r?\n/g," "):""}handlers.copy=editHandlers.cut=(view,_event)=>{let event=_event,sel=view.state.selection,cut="cut"==event.type;if(sel.empty)return;let data=brokenClipboardAPI?null:event.clipboardData,slice=sel.content(),{dom,text}=serializeForClipboard(view,slice);data?(event.preventDefault(),data.clearData(),data.setData("text/html",dom.innerHTML),data.setData("text/plain",text)):function captureCopy(view,dom){if(!view.dom.parentNode)return;let wrap=view.dom.parentNode.appendChild(document.createElement("div"));wrap.appendChild(dom),wrap.style.cssText="position: fixed; left: -10000px; top: 10px";let sel=getSelection(),range=document.createRange();range.selectNodeContents(dom),view.dom.blur(),sel.removeAllRanges(),sel.addRange(range),setTimeout(()=>{wrap.parentNode&&wrap.parentNode.removeChild(wrap),view.focus()},50)}(view,dom),cut&&view.dispatch(view.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},editHandlers.paste=(view,_event)=>{let event=_event;if(view.composing&&!android)return;let data=brokenClipboardAPI?null:event.clipboardData,plain=view.input.shiftKey&&45!=view.input.lastKeyCode;data&&doPaste(view,getText(data),data.getData("text/html"),plain,event)?event.preventDefault():function capturePaste(view,event){if(!view.dom.parentNode)return;let plainText=view.input.shiftKey||view.state.selection.$from.parent.type.spec.code,target=view.dom.parentNode.appendChild(document.createElement(plainText?"textarea":"div"));plainText||(target.contentEditable="true"),target.style.cssText="position: fixed; left: -10000px; top: 10px",target.focus();let plain=view.input.shiftKey&&45!=view.input.lastKeyCode;setTimeout(()=>{view.focus(),target.parentNode&&target.parentNode.removeChild(target),plainText?doPaste(view,target.value,null,plain,event):doPaste(view,target.textContent,target.innerHTML,plain,event)},50)}(view,event)};class Dragging{constructor(slice,move,node){this.slice=slice,this.move=move,this.node=node}}const dragCopyModifier=mac?"altKey":"ctrlKey";function dragMoves(view,event){let moves=view.someProp("dragCopies",test=>!test(event));return null!=moves?moves:!event[dragCopyModifier]}handlers.dragstart=(view,_event)=>{let event=_event,mouseDown=view.input.mouseDown;if(mouseDown&&mouseDown.done(),!event.dataTransfer)return;let node,sel=view.state.selection,pos=sel.empty?null:view.posAtCoords(eventCoords(event));if(pos&&pos.pos>=sel.from&&pos.pos<=(sel instanceof NodeSelection?sel.to-1:sel.to));else if(mouseDown&&mouseDown.mightDrag)node=NodeSelection.create(view.state.doc,mouseDown.mightDrag.pos);else if(event.target&&1==event.target.nodeType){let desc=view.docView.nearestDesc(event.target,!0);desc&&desc.node.type.spec.draggable&&desc!=view.docView&&(node=NodeSelection.create(view.state.doc,desc.posBefore))}let draggedSlice=(node||view.state.selection).content(),{dom,text,slice}=serializeForClipboard(view,draggedSlice);(!event.dataTransfer.files.length||!dist_chrome||chrome_version>120)&&event.dataTransfer.clearData(),event.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",dom.innerHTML),event.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||event.dataTransfer.setData("text/plain",text),view.dragging=new Dragging(slice,dragMoves(view,event),node)},handlers.dragend=view=>{let dragging=view.dragging;window.setTimeout(()=>{view.dragging==dragging&&(view.dragging=null)},50)},editHandlers.dragover=editHandlers.dragenter=(_,e)=>e.preventDefault(),editHandlers.drop=(view,_event)=>{let event=_event,dragging=view.dragging;if(view.dragging=null,!event.dataTransfer)return;let eventPos=view.posAtCoords(eventCoords(event));if(!eventPos)return;let $mouse=view.state.doc.resolve(eventPos.pos),slice=dragging&&dragging.slice;slice?view.someProp("transformPasted",f=>{slice=f(slice,view)}):slice=parseFromClipboard(view,getText(event.dataTransfer),brokenClipboardAPI?null:event.dataTransfer.getData("text/html"),!1,$mouse);let move=!(!dragging||!dragMoves(view,event));if(view.someProp("handleDrop",f=>f(view,event,slice||dist_Slice.empty,move)))return void event.preventDefault();if(!slice)return;event.preventDefault();let insertPos=slice?dropPoint(view.state.doc,$mouse.pos,slice):$mouse.pos;null==insertPos&&(insertPos=$mouse.pos);let tr=view.state.tr;if(move){let{node}=dragging;node?node.replace(tr):tr.deleteSelection()}let pos=tr.mapping.map(insertPos),isNode=0==slice.openStart&&0==slice.openEnd&&1==slice.content.childCount,beforeInsert=tr.doc;if(isNode?tr.replaceRangeWith(pos,pos,slice.content.firstChild):tr.replaceRange(pos,pos,slice),tr.doc.eq(beforeInsert))return;let $pos=tr.doc.resolve(pos);if(isNode&&NodeSelection.isSelectable(slice.content.firstChild)&&$pos.nodeAfter&&$pos.nodeAfter.sameMarkup(slice.content.firstChild))tr.setSelection(new NodeSelection($pos));else{let end=tr.mapping.map(insertPos);tr.mapping.maps[tr.mapping.maps.length-1].forEach((_from,_to,_newFrom,newTo)=>end=newTo),tr.setSelection(selectionBetween(view,$pos,tr.doc.resolve(end)))}view.focus(),view.dispatch(tr.setMeta("uiEvent","drop"))},handlers.focus=view=>{view.input.lastFocus=Date.now(),view.focused||(view.domObserver.stop(),view.dom.classList.add("ProseMirror-focused"),view.domObserver.start(),view.focused=!0,setTimeout(()=>{view.docView&&view.hasFocus()&&!view.domObserver.currentSelection.eq(view.domSelectionRange())&&selectionToDOM(view)},20))},handlers.blur=(view,_event)=>{let event=_event;view.focused&&(view.domObserver.stop(),view.dom.classList.remove("ProseMirror-focused"),view.domObserver.start(),event.relatedTarget&&view.dom.contains(event.relatedTarget)&&view.domObserver.currentSelection.clear(),view.focused=!1)},handlers.beforeinput=(view,_event)=>{if(dist_chrome&&android&&"deleteContentBackward"==_event.inputType){view.domObserver.flushSoon();let{domChangeCount}=view.input;setTimeout(()=>{if(view.input.domChangeCount!=domChangeCount)return;if(view.dom.blur(),view.focus(),view.someProp("handleKeyDown",f=>f(view,keyEvent(8,"Backspace"))))return;let{$cursor}=view.state.selection;$cursor&&$cursor.pos>0&&view.dispatch(view.state.tr.delete($cursor.pos-1,$cursor.pos).scrollIntoView())},50)}};for(let prop in editHandlers)handlers[prop]=editHandlers[prop];function compareObjs(a,b){if(a==b)return!0;for(let p in a)if(a[p]!==b[p])return!1;for(let p in b)if(!(p in a))return!1;return!0}class WidgetType{constructor(toDOM,spec){this.toDOM=toDOM,this.spec=spec||noSpec,this.side=this.spec.side||0}map(mapping,span,offset,oldOffset){let{pos,deleted}=mapping.mapResult(span.from+oldOffset,this.side<0?-1:1);return deleted?null:new Decoration(pos-offset,pos-offset,this)}valid(){return!0}eq(other){return this==other||other instanceof WidgetType&&(this.spec.key&&this.spec.key==other.spec.key||this.toDOM==other.toDOM&&compareObjs(this.spec,other.spec))}destroy(node){this.spec.destroy&&this.spec.destroy(node)}}class InlineType{constructor(attrs,spec){this.attrs=attrs,this.spec=spec||noSpec}map(mapping,span,offset,oldOffset){let from=mapping.map(span.from+oldOffset,this.spec.inclusiveStart?-1:1)-offset,to=mapping.map(span.to+oldOffset,this.spec.inclusiveEnd?1:-1)-offset;return from>=to?null:new Decoration(from,to,this)}valid(_,span){return span.from<span.to}eq(other){return this==other||other instanceof InlineType&&compareObjs(this.attrs,other.attrs)&&compareObjs(this.spec,other.spec)}static is(span){return span.type instanceof InlineType}destroy(){}}class dist_NodeType{constructor(attrs,spec){this.attrs=attrs,this.spec=spec||noSpec}map(mapping,span,offset,oldOffset){let from=mapping.mapResult(span.from+oldOffset,1);if(from.deleted)return null;let to=mapping.mapResult(span.to+oldOffset,-1);return to.deleted||to.pos<=from.pos?null:new Decoration(from.pos-offset,to.pos-offset,this)}valid(node,span){let child,{index,offset}=node.content.findIndex(span.from);return offset==span.from&&!(child=node.child(index)).isText&&offset+child.nodeSize==span.to}eq(other){return this==other||other instanceof dist_NodeType&&compareObjs(this.attrs,other.attrs)&&compareObjs(this.spec,other.spec)}destroy(){}}class Decoration{constructor(from,to,type){this.from=from,this.to=to,this.type=type}copy(from,to){return new Decoration(from,to,this.type)}eq(other,offset=0){return this.type.eq(other.type)&&this.from+offset==other.from&&this.to+offset==other.to}map(mapping,offset,oldOffset){return this.type.map(mapping,this,offset,oldOffset)}static widget(pos,toDOM,spec){return new Decoration(pos,pos,new WidgetType(toDOM,spec))}static inline(from,to,attrs,spec){return new Decoration(from,to,new InlineType(attrs,spec))}static node(from,to,attrs,spec){return new Decoration(from,to,new dist_NodeType(attrs,spec))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(local,children){this.local=local.length?local:none,this.children=children.length?children:none}static create(doc,decorations){return decorations.length?buildTree(decorations,doc,0,noSpec):empty}find(start,end,predicate){let result=[];return this.findInner(null==start?0:start,null==end?1e9:end,result,0,predicate),result}findInner(start,end,result,offset,predicate){for(let i=0;i<this.local.length;i++){let span=this.local[i];span.from<=end&&span.to>=start&&(!predicate||predicate(span.spec))&&result.push(span.copy(span.from+offset,span.to+offset))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<end&&this.children[i+1]>start){let childOff=this.children[i]+1;this.children[i+2].findInner(start-childOff,end-childOff,result,offset+childOff,predicate)}}map(mapping,doc,options){return this==empty||0==mapping.maps.length?this:this.mapInner(mapping,doc,0,0,options||noSpec)}mapInner(mapping,node,offset,oldOffset,options){let newLocal;for(let i=0;i<this.local.length;i++){let mapped=this.local[i].map(mapping,offset,oldOffset);mapped&&mapped.type.valid(node,mapped)?(newLocal||(newLocal=[])).push(mapped):options.onRemove&&options.onRemove(this.local[i].spec)}return this.children.length?function mapChildren(oldChildren,newLocal,mapping,node,offset,oldOffset,options){let children=oldChildren.slice();for(let i=0,baseOffset=oldOffset;i<mapping.maps.length;i++){let moved=0;mapping.maps[i].forEach((oldStart,oldEnd,newStart,newEnd)=>{let dSize=newEnd-newStart-(oldEnd-oldStart);for(let i=0;i<children.length;i+=3){let end=children[i+1];if(end<0||oldStart>end+baseOffset-moved)continue;let start=children[i]+baseOffset-moved;oldEnd>=start?children[i+1]=oldStart<=start?-2:-1:oldStart>=baseOffset&&dSize&&(children[i]+=dSize,children[i+1]+=dSize)}moved+=dSize}),baseOffset=mapping.maps[i].map(baseOffset,-1)}let mustRebuild=!1;for(let i=0;i<children.length;i+=3)if(children[i+1]<0){if(-2==children[i+1]){mustRebuild=!0,children[i+1]=-1;continue}let from=mapping.map(oldChildren[i]+oldOffset),fromLocal=from-offset;if(fromLocal<0||fromLocal>=node.content.size){mustRebuild=!0;continue}let toLocal=mapping.map(oldChildren[i+1]+oldOffset,-1)-offset,{index,offset:childOffset}=node.content.findIndex(fromLocal),childNode=node.maybeChild(index);if(childNode&&childOffset==fromLocal&&childOffset+childNode.nodeSize==toLocal){let mapped=children[i+2].mapInner(mapping,childNode,from+1,oldChildren[i]+oldOffset+1,options);mapped!=empty?(children[i]=fromLocal,children[i+1]=toLocal,children[i+2]=mapped):(children[i+1]=-2,mustRebuild=!0)}else mustRebuild=!0}if(mustRebuild){let decorations=function mapAndGatherRemainingDecorations(children,oldChildren,decorations,mapping,offset,oldOffset,options){function gather(set,oldOffset){for(let i=0;i<set.local.length;i++){let mapped=set.local[i].map(mapping,offset,oldOffset);mapped?decorations.push(mapped):options.onRemove&&options.onRemove(set.local[i].spec)}for(let i=0;i<set.children.length;i+=3)gather(set.children[i+2],set.children[i]+oldOffset+1)}for(let i=0;i<children.length;i+=3)-1==children[i+1]&&gather(children[i+2],oldChildren[i]+oldOffset+1);return decorations}(children,oldChildren,newLocal,mapping,offset,oldOffset,options),built=buildTree(decorations,node,0,options);newLocal=built.local;for(let i=0;i<children.length;i+=3)children[i+1]<0&&(children.splice(i,3),i-=3);for(let i=0,j=0;i<built.children.length;i+=3){let from=built.children[i];for(;j<children.length&&children[j]<from;)j+=3;children.splice(j,0,built.children[i],built.children[i+1],built.children[i+2])}}return new DecorationSet(newLocal.sort(byPos),children)}(this.children,newLocal||[],mapping,node,offset,oldOffset,options):newLocal?new DecorationSet(newLocal.sort(byPos),none):empty}add(doc,decorations){return decorations.length?this==empty?DecorationSet.create(doc,decorations):this.addInner(doc,decorations,0):this}addInner(doc,decorations,offset){let children,childIndex=0;doc.forEach((childNode,childOffset)=>{let found,baseOffset=childOffset+offset;if(found=takeSpansForNode(decorations,childNode,baseOffset)){for(children||(children=this.children.slice());childIndex<children.length&&children[childIndex]<childOffset;)childIndex+=3;children[childIndex]==childOffset?children[childIndex+2]=children[childIndex+2].addInner(childNode,found,baseOffset+1):children.splice(childIndex,0,childOffset,childOffset+childNode.nodeSize,buildTree(found,childNode,baseOffset+1,noSpec)),childIndex+=3}});let local=moveSpans(childIndex?withoutNulls(decorations):decorations,-offset);for(let i=0;i<local.length;i++)local[i].type.valid(doc,local[i])||local.splice(i--,1);return new DecorationSet(local.length?this.local.concat(local).sort(byPos):this.local,children||this.children)}remove(decorations){return 0==decorations.length||this==empty?this:this.removeInner(decorations,0)}removeInner(decorations,offset){let children=this.children,local=this.local;for(let i=0;i<children.length;i+=3){let found,from=children[i]+offset,to=children[i+1]+offset;for(let span,j=0;j<decorations.length;j++)(span=decorations[j])&&span.from>from&&span.to<to&&(decorations[j]=null,(found||(found=[])).push(span));if(!found)continue;children==this.children&&(children=this.children.slice());let removed=children[i+2].removeInner(found,from+1);removed!=empty?children[i+2]=removed:(children.splice(i,3),i-=3)}if(local.length)for(let span,i=0;i<decorations.length;i++)if(span=decorations[i])for(let j=0;j<local.length;j++)local[j].eq(span,offset)&&(local==this.local&&(local=this.local.slice()),local.splice(j--,1));return children==this.children&&local==this.local?this:local.length||children.length?new DecorationSet(local,children):empty}forChild(offset,node){if(this==empty)return this;if(node.isLeaf)return DecorationSet.empty;let child,local;for(let i=0;i<this.children.length;i+=3)if(this.children[i]>=offset){this.children[i]==offset&&(child=this.children[i+2]);break}let start=offset+1,end=start+node.content.size;for(let i=0;i<this.local.length;i++){let dec=this.local[i];if(dec.from<end&&dec.to>start&&dec.type instanceof InlineType){let from=Math.max(start,dec.from)-start,to=Math.min(end,dec.to)-start;from<to&&(local||(local=[])).push(dec.copy(from,to))}}if(local){let localSet=new DecorationSet(local.sort(byPos),none);return child?new DecorationGroup([localSet,child]):localSet}return child||empty}eq(other){if(this==other)return!0;if(!(other instanceof DecorationSet)||this.local.length!=other.local.length||this.children.length!=other.children.length)return!1;for(let i=0;i<this.local.length;i++)if(!this.local[i].eq(other.local[i]))return!1;for(let i=0;i<this.children.length;i+=3)if(this.children[i]!=other.children[i]||this.children[i+1]!=other.children[i+1]||!this.children[i+2].eq(other.children[i+2]))return!1;return!0}locals(node){return removeOverlap(this.localsInner(node))}localsInner(node){if(this==empty)return none;if(node.inlineContent||!this.local.some(InlineType.is))return this.local;let result=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof InlineType||result.push(this.local[i]);return result}forEachSet(f){f(this)}}DecorationSet.empty=new DecorationSet([],[]),DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(members){this.members=members}map(mapping,doc){const mappedDecos=this.members.map(member=>member.map(mapping,doc,noSpec));return DecorationGroup.from(mappedDecos)}forChild(offset,child){if(child.isLeaf)return DecorationSet.empty;let found=[];for(let i=0;i<this.members.length;i++){let result=this.members[i].forChild(offset,child);result!=empty&&(result instanceof DecorationGroup?found=found.concat(result.members):found.push(result))}return DecorationGroup.from(found)}eq(other){if(!(other instanceof DecorationGroup)||other.members.length!=this.members.length)return!1;for(let i=0;i<this.members.length;i++)if(!this.members[i].eq(other.members[i]))return!1;return!0}locals(node){let result,sorted=!0;for(let i=0;i<this.members.length;i++){let locals=this.members[i].localsInner(node);if(locals.length)if(result){sorted&&(result=result.slice(),sorted=!1);for(let j=0;j<locals.length;j++)result.push(locals[j])}else result=locals}return result?removeOverlap(sorted?result:result.sort(byPos)):none}static from(members){switch(members.length){case 0:return empty;case 1:return members[0];default:return new DecorationGroup(members.every(m=>m instanceof DecorationSet)?members:members.reduce((r,m)=>r.concat(m instanceof DecorationSet?m:m.members),[]))}}forEachSet(f){for(let i=0;i<this.members.length;i++)this.members[i].forEachSet(f)}}function moveSpans(spans,offset){if(!offset||!spans.length)return spans;let result=[];for(let i=0;i<spans.length;i++){let span=spans[i];result.push(new Decoration(span.from+offset,span.to+offset,span.type))}return result}function takeSpansForNode(spans,node,offset){if(node.isLeaf)return null;let end=offset+node.nodeSize,found=null;for(let span,i=0;i<spans.length;i++)(span=spans[i])&&span.from>offset&&span.to<end&&((found||(found=[])).push(span),spans[i]=null);return found}function withoutNulls(array){let result=[];for(let i=0;i<array.length;i++)null!=array[i]&&result.push(array[i]);return result}function buildTree(spans,node,offset,options){let children=[],hasNulls=!1;node.forEach((childNode,localStart)=>{let found=takeSpansForNode(spans,childNode,localStart+offset);if(found){hasNulls=!0;let subtree=buildTree(found,childNode,offset+localStart+1,options);subtree!=empty&&children.push(localStart,localStart+childNode.nodeSize,subtree)}});let locals=moveSpans(hasNulls?withoutNulls(spans):spans,-offset).sort(byPos);for(let i=0;i<locals.length;i++)locals[i].type.valid(node,locals[i])||(options.onRemove&&options.onRemove(locals[i].spec),locals.splice(i--,1));return locals.length||children.length?new DecorationSet(locals,children):empty}function byPos(a,b){return a.from-b.from||a.to-b.to}function removeOverlap(spans){let working=spans;for(let i=0;i<working.length-1;i++){let span=working[i];if(span.from!=span.to)for(let j=i+1;j<working.length;j++){let next=working[j];if(next.from!=span.from){next.from<span.to&&(working==spans&&(working=spans.slice()),working[i]=span.copy(span.from,next.from),insertAhead(working,j,span.copy(next.from,span.to)));break}next.to!=span.to&&(working==spans&&(working=spans.slice()),working[j]=next.copy(next.from,span.to),insertAhead(working,j+1,next.copy(span.to,next.to)))}}return working}function insertAhead(array,i,deco){for(;i<array.length&&byPos(deco,array[i])>0;)i++;array.splice(i,0,deco)}function viewDecorations(view){let found=[];return view.someProp("decorations",f=>{let result=f(view.state);result&&result!=empty&&found.push(result)}),view.cursorWrapper&&found.push(DecorationSet.create(view.state.doc,[view.cursorWrapper.deco])),DecorationGroup.from(found)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=dist_ie&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(sel){this.anchorNode=sel.anchorNode,this.anchorOffset=sel.anchorOffset,this.focusNode=sel.focusNode,this.focusOffset=sel.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(sel){return sel.anchorNode==this.anchorNode&&sel.anchorOffset==this.anchorOffset&&sel.focusNode==this.focusNode&&sel.focusOffset==this.focusOffset}}class DOMObserver{constructor(view,handleDOMChange){this.view=view,this.handleDOMChange=handleDOMChange,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(mutations=>{for(let i=0;i<mutations.length;i++)this.queue.push(mutations[i]);dist_ie&&ie_version<=11&&mutations.some(m=>"childList"==m.type&&m.removedNodes.length||"characterData"==m.type&&m.oldValue.length>m.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let take=this.observer.takeRecords();if(take.length){for(let i=0;i<take.length;i++)this.queue.push(take[i]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(dist_ie&&ie_version<=11&&!this.view.state.selection.empty){let sel=this.view.domSelectionRange();if(sel.focusNode&&isEquivalentPosition(sel.focusNode,sel.focusOffset,sel.anchorNode,sel.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(sel){if(!sel.focusNode)return!0;let container,ancestors=new Set;for(let scan=sel.focusNode;scan;scan=parentNode(scan))ancestors.add(scan);for(let scan=sel.anchorNode;scan;scan=parentNode(scan))if(ancestors.has(scan)){container=scan;break}let desc=container&&this.view.docView.nearestDesc(container);return desc&&desc.ignoreMutation({type:"selection",target:3==container.nodeType?container.parentNode:container})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let mut of this.observer.takeRecords())this.queue.push(mut);return this.queue}flush(){let{view}=this;if(!view.docView||this.flushingSoon>-1)return;let mutations=this.pendingRecords();mutations.length&&(this.queue=[]);let sel=view.domSelectionRange(),newSel=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(sel)&&hasFocusAndSelection(view)&&!this.ignoreSelectionChange(sel),from=-1,to=-1,typeOver=!1,added=[];if(view.editable)for(let i=0;i<mutations.length;i++){let result=this.registerMutation(mutations[i],added);result&&(from=from<0?result.from:Math.min(result.from,from),to=to<0?result.to:Math.max(result.to,to),result.typeOver&&(typeOver=!0))}if(gecko&&added.length){let brs=added.filter(n=>"BR"==n.nodeName);if(2==brs.length){let[a,b]=brs;a.parentNode&&a.parentNode.parentNode==b.parentNode?b.remove():a.remove()}else{let{focusNode}=this.currentSelection;for(let br of brs){let parent=br.parentNode;!parent||"LI"!=parent.nodeName||focusNode&&blockParent(view,focusNode)==parent||br.remove()}}}let readSel=null;from<0&&newSel&&view.input.lastFocus>Date.now()-200&&Math.max(view.input.lastTouch,view.input.lastClick.time)<Date.now()-300&&selectionCollapsed(sel)&&(readSel=selectionFromDOM(view))&&readSel.eq(dist_Selection.near(view.state.doc.resolve(0),1))?(view.input.lastFocus=0,selectionToDOM(view),this.currentSelection.set(sel),view.scrollToSelection()):(from>-1||newSel)&&(from>-1&&(view.docView.markDirty(from,to),function checkCSS(view){if(cssChecked.has(view))return;if(cssChecked.set(view,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(view.dom).whiteSpace)){if(view.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}(view)),this.handleDOMChange(from,to,typeOver,added),view.docView&&view.docView.dirty?view.updateState(view.state):this.currentSelection.eq(sel)||selectionToDOM(view),this.currentSelection.set(sel))}registerMutation(mut,added){if(added.indexOf(mut.target)>-1)return null;let desc=this.view.docView.nearestDesc(mut.target);if("attributes"==mut.type&&(desc==this.view.docView||"contenteditable"==mut.attributeName||"style"==mut.attributeName&&!mut.oldValue&&!mut.target.getAttribute("style")))return null;if(!desc||desc.ignoreMutation(mut))return null;if("childList"==mut.type){for(let i=0;i<mut.addedNodes.length;i++){let node=mut.addedNodes[i];added.push(node),3==node.nodeType&&(this.lastChangedTextNode=node)}if(desc.contentDOM&&desc.contentDOM!=desc.dom&&!desc.contentDOM.contains(mut.target))return{from:desc.posBefore,to:desc.posAfter};let prev=mut.previousSibling,next=mut.nextSibling;if(dist_ie&&ie_version<=11&&mut.addedNodes.length)for(let i=0;i<mut.addedNodes.length;i++){let{previousSibling,nextSibling}=mut.addedNodes[i];(!previousSibling||Array.prototype.indexOf.call(mut.addedNodes,previousSibling)<0)&&(prev=previousSibling),(!nextSibling||Array.prototype.indexOf.call(mut.addedNodes,nextSibling)<0)&&(next=nextSibling)}let fromOffset=prev&&prev.parentNode==mut.target?domIndex(prev)+1:0,from=desc.localPosFromDOM(mut.target,fromOffset,-1),toOffset=next&&next.parentNode==mut.target?domIndex(next):mut.target.childNodes.length;return{from,to:desc.localPosFromDOM(mut.target,toOffset,1)}}return"attributes"==mut.type?{from:desc.posAtStart-desc.border,to:desc.posAtEnd+desc.border}:(this.lastChangedTextNode=mut.target,{from:desc.posAtStart,to:desc.posAtEnd,typeOver:mut.target.nodeValue==mut.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function rangeToSelectionRange(view,range){let anchorNode=range.startContainer,anchorOffset=range.startOffset,focusNode=range.endContainer,focusOffset=range.endOffset,currentAnchor=view.domAtPos(view.state.selection.anchor);return isEquivalentPosition(currentAnchor.node,currentAnchor.offset,focusNode,focusOffset)&&([anchorNode,anchorOffset,focusNode,focusOffset]=[focusNode,focusOffset,anchorNode,anchorOffset]),{anchorNode,anchorOffset,focusNode,focusOffset}}function blockParent(view,node){for(let p=node.parentNode;p&&p!=view.dom;p=p.parentNode){let desc=view.docView.nearestDesc(p,!0);if(desc&&desc.node.isBlock)return p}return null}function ruleFromNode(dom){let desc=dom.pmViewDesc;if(desc)return desc.parseRule();if("BR"==dom.nodeName&&dom.parentNode){if(safari&&/^(ul|ol)$/i.test(dom.parentNode.nodeName)){let skip=document.createElement("div");return skip.appendChild(document.createElement("li")),{skip}}if(dom.parentNode.lastChild==dom||safari&&/^(tr|table)$/i.test(dom.parentNode.nodeName))return{ignore:!0}}else if("IMG"==dom.nodeName&&dom.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(view,from,to,typeOver,addedNodes){let compositionID=view.input.compositionPendingChanges||(view.composing?view.input.compositionID:0);if(view.input.compositionPendingChanges=0,from<0){let origin=view.input.lastSelectionTime>Date.now()-50?view.input.lastSelectionOrigin:null,newSel=selectionFromDOM(view,origin);if(newSel&&!view.state.selection.eq(newSel)){if(dist_chrome&&android&&13===view.input.lastKeyCode&&Date.now()-100<view.input.lastKeyCodeTime&&view.someProp("handleKeyDown",f=>f(view,keyEvent(13,"Enter"))))return;let tr=view.state.tr.setSelection(newSel);"pointer"==origin?tr.setMeta("pointer",!0):"key"==origin&&tr.scrollIntoView(),compositionID&&tr.setMeta("composition",compositionID),view.dispatch(tr)}return}let $before=view.state.doc.resolve(from),shared=$before.sharedDepth(to);from=$before.before(shared+1),to=view.state.doc.resolve(to).after(shared+1);let preferredPos,preferredSide,sel=view.state.selection,parse=function parseBetween(view,from_,to_){let find,{node:parent,fromOffset,toOffset,from,to}=view.docView.parseRange(from_,to_),domSel=view.domSelectionRange(),anchor=domSel.anchorNode;if(anchor&&view.dom.contains(1==anchor.nodeType?anchor:anchor.parentNode)&&(find=[{node:anchor,offset:domSel.anchorOffset}],selectionCollapsed(domSel)||find.push({node:domSel.focusNode,offset:domSel.focusOffset})),dist_chrome&&8===view.input.lastKeyCode)for(let off=toOffset;off>fromOffset;off--){let node=parent.childNodes[off-1],desc=node.pmViewDesc;if("BR"==node.nodeName&&!desc){toOffset=off;break}if(!desc||desc.size)break}let startDoc=view.state.doc,parser=view.someProp("domParser")||DOMParser.fromSchema(view.state.schema),$from=startDoc.resolve(from),sel=null,doc=parser.parse(parent,{topNode:$from.parent,topMatch:$from.parent.contentMatchAt($from.index()),topOpen:!0,from:fromOffset,to:toOffset,preserveWhitespace:"pre"!=$from.parent.type.whitespace||"full",findPositions:find,ruleFromNode,context:$from});if(find&&null!=find[0].pos){let anchor=find[0].pos,head=find[1]&&find[1].pos;null==head&&(head=anchor),sel={anchor:anchor+from,head:head+from}}return{doc,sel,from,to}}(view,from,to),doc=view.state.doc,compare=doc.slice(parse.from,parse.to);8===view.input.lastKeyCode&&Date.now()-100<view.input.lastKeyCodeTime?(preferredPos=view.state.selection.to,preferredSide="end"):(preferredPos=view.state.selection.from,preferredSide="start"),view.input.lastKeyCode=null;let change=function findDiff(a,b,pos,preferredPos,preferredSide){let start=a.findDiffStart(b,pos);if(null==start)return null;let{a:endA,b:endB}=a.findDiffEnd(b,pos+a.size,pos+b.size);if("end"==preferredSide){preferredPos-=endA+Math.max(0,start-Math.min(endA,endB))-start}if(endA<start&&a.size<b.size){let move=preferredPos<=start&&preferredPos>=endA?start-preferredPos:0;start-=move,start&&start<b.size&&isSurrogatePair(b.textBetween(start-1,start+1))&&(start+=move?1:-1),endB=start+(endB-endA),endA=start}else if(endB<start){let move=preferredPos<=start&&preferredPos>=endB?start-preferredPos:0;start-=move,start&&start<a.size&&isSurrogatePair(a.textBetween(start-1,start+1))&&(start+=move?1:-1),endA=start+(endA-endB),endB=start}return{start,endA,endB}}(compare.content,parse.doc.content,parse.from,preferredPos,preferredSide);if(change&&view.input.domChangeCount++,(ios&&view.input.lastIOSEnter>Date.now()-225||android)&&addedNodes.some(n=>1==n.nodeType&&!isInline.test(n.nodeName))&&(!change||change.endA>=change.endB)&&view.someProp("handleKeyDown",f=>f(view,keyEvent(13,"Enter"))))return void(view.input.lastIOSEnter=0);if(!change){if(!(typeOver&&sel instanceof TextSelection&&!sel.empty&&sel.$head.sameParent(sel.$anchor))||view.composing||parse.sel&&parse.sel.anchor!=parse.sel.head){if(parse.sel){let sel=resolveSelection(view,view.state.doc,parse.sel);if(sel&&!sel.eq(view.state.selection)){let tr=view.state.tr.setSelection(sel);compositionID&&tr.setMeta("composition",compositionID),view.dispatch(tr)}}return}change={start:sel.from,endA:sel.to,endB:sel.to}}view.state.selection.from<view.state.selection.to&&change.start==change.endB&&view.state.selection instanceof TextSelection&&(change.start>view.state.selection.from&&change.start<=view.state.selection.from+2&&view.state.selection.from>=parse.from?change.start=view.state.selection.from:change.endA<view.state.selection.to&&change.endA>=view.state.selection.to-2&&view.state.selection.to<=parse.to&&(change.endB+=view.state.selection.to-change.endA,change.endA=view.state.selection.to)),dist_ie&&ie_version<=11&&change.endB==change.start+1&&change.endA==change.start&&change.start>parse.from&&" "==parse.doc.textBetween(change.start-parse.from-1,change.start-parse.from+1)&&(change.start--,change.endA--,change.endB--);let nextSel,$from=parse.doc.resolveNoCache(change.start-parse.from),$to=parse.doc.resolveNoCache(change.endB-parse.from),$fromA=doc.resolve(change.start),inlineChange=$from.sameParent($to)&&$from.parent.inlineContent&&$fromA.end()>=change.endA;if((ios&&view.input.lastIOSEnter>Date.now()-225&&(!inlineChange||addedNodes.some(n=>"DIV"==n.nodeName||"P"==n.nodeName))||!inlineChange&&$from.pos<parse.doc.content.size&&(!$from.sameParent($to)||!$from.parent.inlineContent)&&!/\S/.test(parse.doc.textBetween($from.pos,$to.pos,"",""))&&(nextSel=dist_Selection.findFrom(parse.doc.resolve($from.pos+1),1,!0))&&nextSel.head>$from.pos)&&view.someProp("handleKeyDown",f=>f(view,keyEvent(13,"Enter"))))return void(view.input.lastIOSEnter=0);if(view.state.selection.anchor>change.start&&function looksLikeBackspace(old,start,end,$newStart,$newEnd){if(end-start<=$newEnd.pos-$newStart.pos||skipClosingAndOpening($newStart,!0,!1)<$newEnd.pos)return!1;let $start=old.resolve(start);if(!$newStart.parent.isTextblock){let after=$start.nodeAfter;return null!=after&&end==start+after.nodeSize}if($start.parentOffset<$start.parent.content.size||!$start.parent.isTextblock)return!1;let $next=old.resolve(skipClosingAndOpening($start,!0,!0));return!(!$next.parent.isTextblock||$next.pos>end||skipClosingAndOpening($next,!0,!1)<end)&&$newStart.parent.content.cut($newStart.parentOffset).eq($next.parent.content)}(doc,change.start,change.endA,$from,$to)&&view.someProp("handleKeyDown",f=>f(view,keyEvent(8,"Backspace"))))return void(android&&dist_chrome&&view.domObserver.suppressSelectionUpdates());dist_chrome&&change.endB==change.start&&(view.input.lastChromeDelete=Date.now()),android&&!inlineChange&&$from.start()!=$to.start()&&0==$to.parentOffset&&$from.depth==$to.depth&&parse.sel&&parse.sel.anchor==parse.sel.head&&parse.sel.head==change.endA&&(change.endB-=2,$to=parse.doc.resolveNoCache(change.endB-parse.from),setTimeout(()=>{view.someProp("handleKeyDown",function(f){return f(view,keyEvent(13,"Enter"))})},20));let markChange,chFrom=change.start,chTo=change.endA,mkTr=base=>{let tr=base||view.state.tr.replace(chFrom,chTo,parse.doc.slice(change.start-parse.from,change.endB-parse.from));if(parse.sel){let sel=resolveSelection(view,tr.doc,parse.sel);sel&&!(dist_chrome&&view.composing&&sel.empty&&(change.start!=change.endB||view.input.lastChromeDelete<Date.now()-100)&&(sel.head==chFrom||sel.head==tr.mapping.map(chTo)-1)||dist_ie&&sel.empty&&sel.head==chFrom)&&tr.setSelection(sel)}return compositionID&&tr.setMeta("composition",compositionID),tr.scrollIntoView()};if(inlineChange){if($from.pos==$to.pos){dist_ie&&ie_version<=11&&0==$from.parentOffset&&(view.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(view),20));let tr=mkTr(view.state.tr.delete(chFrom,chTo)),marks=doc.resolve(change.start).marksAcross(doc.resolve(change.endA));marks&&tr.ensureMarks(marks),view.dispatch(tr)}else if(change.endA==change.endB&&(markChange=function isMarkChange(cur,prev){let type,mark,update,curMarks=cur.firstChild.marks,prevMarks=prev.firstChild.marks,added=curMarks,removed=prevMarks;for(let i=0;i<prevMarks.length;i++)added=prevMarks[i].removeFromSet(added);for(let i=0;i<curMarks.length;i++)removed=curMarks[i].removeFromSet(removed);if(1==added.length&&0==removed.length)mark=added[0],type="add",update=node=>node.mark(mark.addToSet(node.marks));else{if(0!=added.length||1!=removed.length)return null;mark=removed[0],type="remove",update=node=>node.mark(mark.removeFromSet(node.marks))}let updated=[];for(let i=0;i<prev.childCount;i++)updated.push(update(prev.child(i)));if(dist_Fragment.from(updated).eq(cur))return{mark,type}}($from.parent.content.cut($from.parentOffset,$to.parentOffset),$fromA.parent.content.cut($fromA.parentOffset,change.endA-$fromA.start())))){let tr=mkTr(view.state.tr);"add"==markChange.type?tr.addMark(chFrom,chTo,markChange.mark):tr.removeMark(chFrom,chTo,markChange.mark),view.dispatch(tr)}else if($from.parent.child($from.index()).isText&&$from.index()==$to.index()-($to.textOffset?0:1)){let text=$from.parent.textBetween($from.parentOffset,$to.parentOffset),deflt=()=>mkTr(view.state.tr.insertText(text,chFrom,chTo));view.someProp("handleTextInput",f=>f(view,chFrom,chTo,text,deflt))||view.dispatch(deflt())}}else view.dispatch(mkTr())}function resolveSelection(view,doc,parsedSel){return Math.max(parsedSel.anchor,parsedSel.head)>doc.content.size?null:selectionBetween(view,doc.resolve(parsedSel.anchor),doc.resolve(parsedSel.head))}function skipClosingAndOpening($pos,fromEnd,mayOpen){let depth=$pos.depth,end=fromEnd?$pos.end():$pos.pos;for(;depth>0&&(fromEnd||$pos.indexAfter(depth)==$pos.node(depth).childCount);)depth--,end++,fromEnd=!1;if(mayOpen){let next=$pos.node(depth).maybeChild($pos.indexAfter(depth));for(;next&&!next.isLeaf;)next=next.firstChild,end++}return end}function isSurrogatePair(str){if(2!=str.length)return!1;let a=str.charCodeAt(0),b=str.charCodeAt(1);return a>=56320&&a<=57343&&b>=55296&&b<=56319}class EditorView{constructor(place,props){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=props,this.state=props.state,this.directPlugins=props.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=place&&place.mount||document.createElement("div"),place&&(place.appendChild?place.appendChild(this.dom):"function"==typeof place?place(this.dom):place.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(from,to,typeOver,added)=>readDOMChange(this,from,to,typeOver,added)),this.domObserver.start(),function initInput(view){for(let event in handlers){let handler=handlers[event];view.dom.addEventListener(event,view.input.eventHandlers[event]=event=>{!eventBelongsToView(view,event)||runCustomHandler(view,event)||!view.editable&&event.type in editHandlers||handler(view,event)},passiveHandlers[event]?{passive:!0}:void 0)}safari&&view.dom.addEventListener("input",()=>null),ensureListeners(view)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let prev=this._props;this._props={};for(let name in prev)this._props[name]=prev[name];this._props.state=this.state}return this._props}update(props){props.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let prevProps=this._props;this._props=props,props.plugins&&(props.plugins.forEach(checkStateComponent),this.directPlugins=props.plugins),this.updateStateInner(props.state,prevProps)}setProps(props){let updated={};for(let name in this._props)updated[name]=this._props[name];updated.state=this.state;for(let name in props)updated[name]=props[name];this.update(updated)}updateState(state){this.updateStateInner(state,this._props)}updateStateInner(state,prevProps){var _a;let prev=this.state,redraw=!1,updateSel=!1;state.storedMarks&&this.composing&&(clearComposition(this),updateSel=!0),this.state=state;let pluginsChanged=prev.plugins!=state.plugins||this._props.plugins!=prevProps.plugins;if(pluginsChanged||this._props.plugins!=prevProps.plugins||this._props.nodeViews!=prevProps.nodeViews){let nodeViews=buildNodeViews(this);(function changedNodeViews(a,b){let nA=0,nB=0;for(let prop in a){if(a[prop]!=b[prop])return!0;nA++}for(let _ in b)nB++;return nA!=nB})(nodeViews,this.nodeViews)&&(this.nodeViews=nodeViews,redraw=!0)}(pluginsChanged||prevProps.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let innerDeco=viewDecorations(this),outerDeco=computeDocDeco(this),scroll=prev.plugins==state.plugins||prev.doc.eq(state.doc)?state.scrollToSelection>prev.scrollToSelection?"to selection":"preserve":"reset",updateDoc=redraw||!this.docView.matchesNode(state.doc,outerDeco,innerDeco);!updateDoc&&state.selection.eq(prev.selection)||(updateSel=!0);let oldScrollPos="preserve"==scroll&&updateSel&&null==this.dom.style.overflowAnchor&&function storeScrollPos(view){let refDOM,refTop,rect=view.dom.getBoundingClientRect(),startY=Math.max(0,rect.top);for(let x=(rect.left+rect.right)/2,y=startY+1;y<Math.min(innerHeight,rect.bottom);y+=5){let dom=view.root.elementFromPoint(x,y);if(!dom||dom==view.dom||!view.dom.contains(dom))continue;let localRect=dom.getBoundingClientRect();if(localRect.top>=startY-20){refDOM=dom,refTop=localRect.top;break}}return{refDOM,refTop,stack:scrollStack(view.dom)}}(this);if(updateSel){this.domObserver.stop();let forceSelUpdate=updateDoc&&(dist_ie||dist_chrome)&&!this.composing&&!prev.selection.empty&&!state.selection.empty&&function selectionContextChanged(sel1,sel2){let depth=Math.min(sel1.$anchor.sharedDepth(sel1.head),sel2.$anchor.sharedDepth(sel2.head));return sel1.$anchor.start(depth)!=sel2.$anchor.start(depth)}(prev.selection,state.selection);if(updateDoc){let chromeKludge=dist_chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),!redraw&&this.docView.update(state.doc,outerDeco,innerDeco,this)||(this.docView.updateOuterDeco(outerDeco),this.docView.destroy(),this.docView=docViewDesc(state.doc,outerDeco,innerDeco,this.dom,this)),chromeKludge&&!this.trackWrites&&(forceSelUpdate=!0)}forceSelUpdate||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function anchorInRightPlace(view){let anchorDOM=view.docView.domFromPos(view.state.selection.anchor,0),domSel=view.domSelectionRange();return isEquivalentPosition(anchorDOM.node,anchorDOM.offset,domSel.anchorNode,domSel.anchorOffset)}(this))?selectionToDOM(this,forceSelUpdate):(syncNodeSelection(this,state.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(prev),(null===(_a=this.dragging)||void 0===_a?void 0:_a.node)&&!prev.doc.eq(state.doc)&&this.updateDraggedNode(this.dragging,prev),"reset"==scroll?this.dom.scrollTop=0:"to selection"==scroll?this.scrollToSelection():oldScrollPos&&function resetScrollPos({refDOM,refTop,stack}){let newRefTop=refDOM?refDOM.getBoundingClientRect().top:0;restoreScrollStack(stack,0==newRefTop?0:newRefTop-refTop)}(oldScrollPos)}scrollToSelection(){let startDOM=this.domSelectionRange().focusNode;if(startDOM&&this.dom.contains(1==startDOM.nodeType?startDOM:startDOM.parentNode))if(this.someProp("handleScrollToSelection",f=>f(this)));else if(this.state.selection instanceof NodeSelection){let target=this.docView.domAfterPos(this.state.selection.from);1==target.nodeType&&scrollRectIntoView(this,target.getBoundingClientRect(),startDOM)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),startDOM);else;}destroyPluginViews(){let view;for(;view=this.pluginViews.pop();)view.destroy&&view.destroy()}updatePluginViews(prevState){if(prevState&&prevState.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let i=0;i<this.pluginViews.length;i++){let pluginView=this.pluginViews[i];pluginView.update&&pluginView.update(this,prevState)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let i=0;i<this.directPlugins.length;i++){let plugin=this.directPlugins[i];plugin.spec.view&&this.pluginViews.push(plugin.spec.view(this))}for(let i=0;i<this.state.plugins.length;i++){let plugin=this.state.plugins[i];plugin.spec.view&&this.pluginViews.push(plugin.spec.view(this))}}}updateDraggedNode(dragging,prev){let sel=dragging.node,found=-1;if(this.state.doc.nodeAt(sel.from)==sel.node)found=sel.from;else{let movedPos=sel.from+(this.state.doc.content.size-prev.doc.content.size);(movedPos>0&&this.state.doc.nodeAt(movedPos))==sel.node&&(found=movedPos)}this.dragging=new Dragging(dragging.slice,dragging.move,found<0?void 0:NodeSelection.create(this.state.doc,found))}someProp(propName,f){let value,prop=this._props&&this._props[propName];if(null!=prop&&(value=f?f(prop):prop))return value;for(let i=0;i<this.directPlugins.length;i++){let prop=this.directPlugins[i].props[propName];if(null!=prop&&(value=f?f(prop):prop))return value}let plugins=this.state.plugins;if(plugins)for(let i=0;i<plugins.length;i++){let prop=plugins[i].props[propName];if(null!=prop&&(value=f?f(prop):prop))return value}}hasFocus(){if(dist_ie){let node=this.root.activeElement;if(node==this.dom)return!0;if(!node||!this.dom.contains(node))return!1;for(;node&&this.dom!=node&&this.dom.contains(node);){if("false"==node.contentEditable)return!1;node=node.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function focusPreventScroll(dom){if(dom.setActive)return dom.setActive();if(preventScrollSupported)return dom.focus(preventScrollSupported);let stored=scrollStack(dom);dom.focus(null==preventScrollSupported?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(stored,0))}(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let cached=this._root;if(null==cached)for(let search=this.dom.parentNode;search;search=search.parentNode)if(9==search.nodeType||11==search.nodeType&&search.host)return search.getSelection||(Object.getPrototypeOf(search).getSelection=()=>search.ownerDocument.getSelection()),this._root=search;return cached||document}updateRoot(){this._root=null}posAtCoords(coords){return posAtCoords(this,coords)}coordsAtPos(pos,side=1){return coordsAtPos(this,pos,side)}domAtPos(pos,side=0){return this.docView.domFromPos(pos,side)}nodeDOM(pos){let desc=this.docView.descAt(pos);return desc?desc.nodeDOM:null}posAtDOM(node,offset,bias=-1){let pos=this.docView.posFromDOM(node,offset,bias);if(null==pos)throw new RangeError("DOM position not inside the editor");return pos}endOfTextblock(dir,state){return endOfTextblock(this,state||this.state,dir)}pasteHTML(html,event){return doPaste(this,"",html,!1,event||new ClipboardEvent("paste"))}pasteText(text,event){return doPaste(this,text,null,!0,event||new ClipboardEvent("paste"))}serializeForClipboard(slice){return serializeForClipboard(this,slice)}destroy(){this.docView&&(!function destroyInput(view){view.domObserver.stop();for(let type in view.input.eventHandlers)view.dom.removeEventListener(type,view.input.eventHandlers[type]);clearTimeout(view.input.composingTimeout),clearTimeout(view.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,reusedRange=null)}get isDestroyed(){return null==this.docView}dispatchEvent(event){return function dispatchEvent(view,event){runCustomHandler(view,event)||!handlers[event.type]||!view.editable&&event.type in editHandlers||handlers[event.type](view,event)}(this,event)}domSelectionRange(){let sel=this.domSelection();return sel?safari&&11===this.root.nodeType&&function deepActiveElement(doc){let elt=doc.activeElement;for(;elt&&elt.shadowRoot;)elt=elt.shadowRoot.activeElement;return elt}(this.dom.ownerDocument)==this.dom&&function safariShadowSelectionRange(view,selection){if(selection.getComposedRanges){let range=selection.getComposedRanges(view.root)[0];if(range)return rangeToSelectionRange(view,range)}let found;function read(event){event.preventDefault(),event.stopImmediatePropagation(),found=event.getTargetRanges()[0]}return view.dom.addEventListener("beforeinput",read,!0),document.execCommand("indent"),view.dom.removeEventListener("beforeinput",read,!0),found?rangeToSelectionRange(view,found):null}(this,sel)||sel:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function computeDocDeco(view){let attrs=Object.create(null);return attrs.class="ProseMirror",attrs.contenteditable=String(view.editable),view.someProp("attributes",value=>{if("function"==typeof value&&(value=value(view.state)),value)for(let attr in value)"class"==attr?attrs.class+=" "+value[attr]:"style"==attr?attrs.style=(attrs.style?attrs.style+";":"")+value[attr]:attrs[attr]||"contenteditable"==attr||"nodeName"==attr||(attrs[attr]=String(value[attr]))}),attrs.translate||(attrs.translate="no"),[Decoration.node(0,view.state.doc.content.size,attrs)]}function updateCursorWrapper(view){if(view.markCursor){let dom=document.createElement("img");dom.className="ProseMirror-separator",dom.setAttribute("mark-placeholder","true"),dom.setAttribute("alt",""),view.cursorWrapper={dom,deco:Decoration.widget(view.state.selection.from,dom,{raw:!0,marks:view.markCursor})}}else view.cursorWrapper=null}function getEditable(view){return!view.someProp("editable",value=>!1===value(view.state))}function buildNodeViews(view){let result=Object.create(null);function add(obj){for(let prop in obj)Object.prototype.hasOwnProperty.call(result,prop)||(result[prop]=obj[prop])}return view.someProp("nodeViews",add),view.someProp("markViews",add),result}function checkStateComponent(plugin){if(plugin.spec.state||plugin.spec.filterTransaction||plugin.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}EditorView.prototype.dispatch=function(tr){let dispatchTransaction=this._props.dispatchTransaction;dispatchTransaction?dispatchTransaction.call(this,tr):this.updateState(this.state.apply(tr))};for(var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},w3c_keyname_mac="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),w3c_keyname_ie="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(i=1;i<=24;i++)base[i+111]="F"+i;for(i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);const dist_mac="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),dist_windows="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function normalizeKeyName(name){let alt,ctrl,shift,meta,parts=name.split(/-(?!$)/),result=parts[parts.length-1];"Space"==result&&(result=" ");for(let i=0;i<parts.length-1;i++){let mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))meta=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else if(/^s(hift)?$/i.test(mod))shift=!0;else{if(!/^mod$/i.test(mod))throw new Error("Unrecognized modifier name: "+mod);dist_mac?meta=!0:ctrl=!0}}return alt&&(result="Alt-"+result),ctrl&&(result="Ctrl-"+result),meta&&(result="Meta-"+result),shift&&(result="Shift-"+result),result}function modifiers(name,event,shift=!0){return event.altKey&&(name="Alt-"+name),event.ctrlKey&&(name="Ctrl-"+name),event.metaKey&&(name="Meta-"+name),shift&&event.shiftKey&&(name="Shift-"+name),name}function keydownHandler(bindings){let map=function normalize(map){let copy=Object.create(null);for(let prop in map)copy[normalizeKeyName(prop)]=map[prop];return copy}(bindings);return function(view,event){let baseName,name=function keyName(event){var name=!(w3c_keyname_mac&&event.metaKey&&event.shiftKey&&!event.ctrlKey&&!event.altKey||w3c_keyname_ie&&event.shiftKey&&event.key&&1==event.key.length||"Unidentified"==event.key)&&event.key||(event.shiftKey?shift:base)[event.keyCode]||event.key||"Unidentified";return"Esc"==name&&(name="Escape"),"Del"==name&&(name="Delete"),"Left"==name&&(name="ArrowLeft"),"Up"==name&&(name="ArrowUp"),"Right"==name&&(name="ArrowRight"),"Down"==name&&(name="ArrowDown"),name}(event),direct=map[modifiers(name,event)];if(direct&&direct(view.state,view.dispatch,view))return!0;if(1==name.length&&" "!=name){if(event.shiftKey){let noShift=map[modifiers(name,event,!1)];if(noShift&&noShift(view.state,view.dispatch,view))return!0}if((event.altKey||event.metaKey||event.ctrlKey)&&!(dist_windows&&event.ctrlKey&&event.altKey)&&(baseName=base[event.keyCode])&&baseName!=name){let fromCode=map[modifiers(baseName,event)];if(fromCode&&fromCode(view.state,view.dispatch,view))return!0}}return!1}}const deleteSelection=(state,dispatch)=>!state.selection.empty&&(dispatch&&dispatch(state.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(state,view){let{$cursor}=state.selection;return!$cursor||(view?!view.endOfTextblock("backward",state):$cursor.parentOffset>0)?null:$cursor}const joinBackward=(state,dispatch,view)=>{let $cursor=atBlockStart(state,view);if(!$cursor)return!1;let $cut=findCutBefore($cursor);if(!$cut){let range=$cursor.blockRange(),target=range&&liftTarget(range);return null!=target&&(dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0)}let before=$cut.nodeBefore;if(deleteBarrier(state,$cut,dispatch,-1))return!0;if(0==$cursor.parent.content.size&&(textblockAt(before,"end")||NodeSelection.isSelectable(before)))for(let depth=$cursor.depth;;depth--){let delStep=replaceStep(state.doc,$cursor.before(depth),$cursor.after(depth),dist_Slice.empty);if(delStep&&delStep.slice.size<delStep.to-delStep.from){if(dispatch){let tr=state.tr.step(delStep);tr.setSelection(textblockAt(before,"end")?dist_Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos,-1)),-1):NodeSelection.create(tr.doc,$cut.pos-before.nodeSize)),dispatch(tr.scrollIntoView())}return!0}if(1==depth||$cursor.node(depth-1).childCount>1)break}return!(!before.isAtom||$cut.depth!=$cursor.depth-1)&&(dispatch&&dispatch(state.tr.delete($cut.pos-before.nodeSize,$cut.pos).scrollIntoView()),!0)};function joinTextblocksAround(state,$cut,dispatch){let beforeText=$cut.nodeBefore,beforePos=$cut.pos-1;for(;!beforeText.isTextblock;beforePos--){if(beforeText.type.spec.isolating)return!1;let child=beforeText.lastChild;if(!child)return!1;beforeText=child}let afterText=$cut.nodeAfter,afterPos=$cut.pos+1;for(;!afterText.isTextblock;afterPos++){if(afterText.type.spec.isolating)return!1;let child=afterText.firstChild;if(!child)return!1;afterText=child}let step=replaceStep(state.doc,beforePos,afterPos,dist_Slice.empty);if(!step||step.from!=beforePos||step instanceof ReplaceStep&&step.slice.size>=afterPos-beforePos)return!1;if(dispatch){let tr=state.tr.step(step);tr.setSelection(TextSelection.create(tr.doc,beforePos)),dispatch(tr.scrollIntoView())}return!0}function textblockAt(node,side,only=!1){for(let scan=node;scan;scan="start"==side?scan.firstChild:scan.lastChild){if(scan.isTextblock)return!0;if(only&&1!=scan.childCount)return!1}return!1}const selectNodeBackward=(state,dispatch,view)=>{let{$head,empty}=state.selection,$cut=$head;if(!empty)return!1;if($head.parent.isTextblock){if(view?!view.endOfTextblock("backward",state):$head.parentOffset>0)return!1;$cut=findCutBefore($head)}let node=$cut&&$cut.nodeBefore;return!(!node||!NodeSelection.isSelectable(node))&&(dispatch&&dispatch(state.tr.setSelection(NodeSelection.create(state.doc,$cut.pos-node.nodeSize)).scrollIntoView()),!0)};function findCutBefore($pos){if(!$pos.parent.type.spec.isolating)for(let i=$pos.depth-1;i>=0;i--){if($pos.index(i)>0)return $pos.doc.resolve($pos.before(i+1));if($pos.node(i).type.spec.isolating)break}return null}function atBlockEnd(state,view){let{$cursor}=state.selection;return!$cursor||(view?!view.endOfTextblock("forward",state):$cursor.parentOffset<$cursor.parent.content.size)?null:$cursor}const joinForward=(state,dispatch,view)=>{let $cursor=atBlockEnd(state,view);if(!$cursor)return!1;let $cut=findCutAfter($cursor);if(!$cut)return!1;let after=$cut.nodeAfter;if(deleteBarrier(state,$cut,dispatch,1))return!0;if(0==$cursor.parent.content.size&&(textblockAt(after,"start")||NodeSelection.isSelectable(after))){let delStep=replaceStep(state.doc,$cursor.before(),$cursor.after(),dist_Slice.empty);if(delStep&&delStep.slice.size<delStep.to-delStep.from){if(dispatch){let tr=state.tr.step(delStep);tr.setSelection(textblockAt(after,"start")?dist_Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)),1):NodeSelection.create(tr.doc,tr.mapping.map($cut.pos))),dispatch(tr.scrollIntoView())}return!0}}return!(!after.isAtom||$cut.depth!=$cursor.depth-1)&&(dispatch&&dispatch(state.tr.delete($cut.pos,$cut.pos+after.nodeSize).scrollIntoView()),!0)},selectNodeForward=(state,dispatch,view)=>{let{$head,empty}=state.selection,$cut=$head;if(!empty)return!1;if($head.parent.isTextblock){if(view?!view.endOfTextblock("forward",state):$head.parentOffset<$head.parent.content.size)return!1;$cut=findCutAfter($head)}let node=$cut&&$cut.nodeAfter;return!(!node||!NodeSelection.isSelectable(node))&&(dispatch&&dispatch(state.tr.setSelection(NodeSelection.create(state.doc,$cut.pos)).scrollIntoView()),!0)};function findCutAfter($pos){if(!$pos.parent.type.spec.isolating)for(let i=$pos.depth-1;i>=0;i--){let parent=$pos.node(i);if($pos.index(i)+1<parent.childCount)return $pos.doc.resolve($pos.after(i+1));if(parent.type.spec.isolating)break}return null}const newlineInCode=(state,dispatch)=>{let{$head,$anchor}=state.selection;return!(!$head.parent.type.spec.code||!$head.sameParent($anchor))&&(dispatch&&dispatch(state.tr.insertText("\n").scrollIntoView()),!0)};function defaultBlockAt(match){for(let i=0;i<match.edgeCount;i++){let{type}=match.edge(i);if(type.isTextblock&&!type.hasRequiredAttrs())return type}return null}const exitCode=(state,dispatch)=>{let{$head,$anchor}=state.selection;if(!$head.parent.type.spec.code||!$head.sameParent($anchor))return!1;let above=$head.node(-1),after=$head.indexAfter(-1),type=defaultBlockAt(above.contentMatchAt(after));if(!type||!above.canReplaceWith(after,after,type))return!1;if(dispatch){let pos=$head.after(),tr=state.tr.replaceWith(pos,pos,type.createAndFill());tr.setSelection(dist_Selection.near(tr.doc.resolve(pos),1)),dispatch(tr.scrollIntoView())}return!0},createParagraphNear=(state,dispatch)=>{let sel=state.selection,{$from,$to}=sel;if(sel instanceof AllSelection||$from.parent.inlineContent||$to.parent.inlineContent)return!1;let type=defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));if(!type||!type.isTextblock)return!1;if(dispatch){let side=(!$from.parentOffset&&$to.index()<$to.parent.childCount?$from:$to).pos,tr=state.tr.insert(side,type.createAndFill());tr.setSelection(TextSelection.create(tr.doc,side+1)),dispatch(tr.scrollIntoView())}return!0},liftEmptyBlock=(state,dispatch)=>{let{$cursor}=state.selection;if(!$cursor||$cursor.parent.content.size)return!1;if($cursor.depth>1&&$cursor.after()!=$cursor.end(-1)){let before=$cursor.before();if(dist_canSplit(state.doc,before))return dispatch&&dispatch(state.tr.split(before).scrollIntoView()),!0}let range=$cursor.blockRange(),target=range&&liftTarget(range);return null!=target&&(dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0)};const splitBlock=function splitBlockAs(splitNode){return(state,dispatch)=>{let{$from,$to}=state.selection;if(state.selection instanceof NodeSelection&&state.selection.node.isBlock)return!(!$from.parentOffset||!dist_canSplit(state.doc,$from.pos))&&(dispatch&&dispatch(state.tr.split($from.pos).scrollIntoView()),!0);if(!$from.depth)return!1;let splitDepth,deflt,types=[],atEnd=!1,atStart=!1;for(let d=$from.depth;;d--){if($from.node(d).isBlock){atEnd=$from.end(d)==$from.pos+($from.depth-d),atStart=$from.start(d)==$from.pos-($from.depth-d),deflt=defaultBlockAt($from.node(d-1).contentMatchAt($from.indexAfter(d-1)));let splitType=splitNode&&splitNode($to.parent,atEnd,$from);types.unshift(splitType||(atEnd&&deflt?{type:deflt}:null)),splitDepth=d;break}if(1==d)return!1;types.unshift(null)}let tr=state.tr;(state.selection instanceof TextSelection||state.selection instanceof AllSelection)&&tr.deleteSelection();let splitPos=tr.mapping.map($from.pos),can=dist_canSplit(tr.doc,splitPos,types.length,types);if(can||(types[0]=deflt?{type:deflt}:null,can=dist_canSplit(tr.doc,splitPos,types.length,types)),!can)return!1;if(tr.split(splitPos,types.length,types),!atEnd&&atStart&&$from.node(splitDepth).type!=deflt){let first=tr.mapping.map($from.before(splitDepth)),$first=tr.doc.resolve(first);deflt&&$from.node(splitDepth-1).canReplaceWith($first.index(),$first.index()+1,deflt)&&tr.setNodeMarkup(tr.mapping.map($from.before(splitDepth)),deflt)}return dispatch&&dispatch(tr.scrollIntoView()),!0}}();function deleteBarrier(state,$cut,dispatch,dir){let conn,match,before=$cut.nodeBefore,after=$cut.nodeAfter,isolated=before.type.spec.isolating||after.type.spec.isolating;if(!isolated&&function joinMaybeClear(state,$pos,dispatch){let before=$pos.nodeBefore,after=$pos.nodeAfter,index=$pos.index();return!(!(before&&after&&before.type.compatibleContent(after.type))||(!before.content.size&&$pos.parent.canReplace(index-1,index)?(dispatch&&dispatch(state.tr.delete($pos.pos-before.nodeSize,$pos.pos).scrollIntoView()),0):!$pos.parent.canReplace(index,index+1)||!after.isTextblock&&!dist_canJoin(state.doc,$pos.pos)||(dispatch&&dispatch(state.tr.join($pos.pos).scrollIntoView()),0)))}(state,$cut,dispatch))return!0;let canDelAfter=!isolated&&$cut.parent.canReplace($cut.index(),$cut.index()+1);if(canDelAfter&&(conn=(match=before.contentMatchAt(before.childCount)).findWrapping(after.type))&&match.matchType(conn[0]||after.type).validEnd){if(dispatch){let end=$cut.pos+after.nodeSize,wrap=dist_Fragment.empty;for(let i=conn.length-1;i>=0;i--)wrap=dist_Fragment.from(conn[i].create(null,wrap));wrap=dist_Fragment.from(before.copy(wrap));let tr=state.tr.step(new ReplaceAroundStep($cut.pos-1,end,$cut.pos,end,new dist_Slice(wrap,1,0),conn.length,!0)),$joinAt=tr.doc.resolve(end+2*conn.length);$joinAt.nodeAfter&&$joinAt.nodeAfter.type==before.type&&dist_canJoin(tr.doc,$joinAt.pos)&&tr.join($joinAt.pos),dispatch(tr.scrollIntoView())}return!0}let selAfter=after.type.spec.isolating||dir>0&&isolated?null:dist_Selection.findFrom($cut,1),range=selAfter&&selAfter.$from.blockRange(selAfter.$to),target=range&&liftTarget(range);if(null!=target&&target>=$cut.depth)return dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0;if(canDelAfter&&textblockAt(after,"start",!0)&&textblockAt(before,"end")){let at=before,wrap=[];for(;wrap.push(at),!at.isTextblock;)at=at.lastChild;let afterText=after,afterDepth=1;for(;!afterText.isTextblock;afterText=afterText.firstChild)afterDepth++;if(at.canReplace(at.childCount,at.childCount,afterText.content)){if(dispatch){let end=dist_Fragment.empty;for(let i=wrap.length-1;i>=0;i--)end=dist_Fragment.from(wrap[i].copy(end));dispatch(state.tr.step(new ReplaceAroundStep($cut.pos-wrap.length,$cut.pos+after.nodeSize,$cut.pos+afterDepth,$cut.pos+after.nodeSize-afterDepth,new dist_Slice(end,wrap.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function selectTextblockSide(side){return function(state,dispatch){let sel=state.selection,$pos=side<0?sel.$from:sel.$to,depth=$pos.depth;for(;$pos.node(depth).isInline;){if(!depth)return!1;depth--}return!!$pos.node(depth).isTextblock&&(dispatch&&dispatch(state.tr.setSelection(TextSelection.create(state.doc,side<0?$pos.start(depth):$pos.end(depth)))),!0)}}const selectTextblockStart=selectTextblockSide(-1),selectTextblockEnd=selectTextblockSide(1);function dist_setBlockType(nodeType,attrs=null){return function(state,dispatch){let applicable=!1;for(let i=0;i<state.selection.ranges.length&&!applicable;i++){let{$from:{pos:from},$to:{pos:to}}=state.selection.ranges[i];state.doc.nodesBetween(from,to,(node,pos)=>{if(applicable)return!1;if(node.isTextblock&&!node.hasMarkup(nodeType,attrs))if(node.type==nodeType)applicable=!0;else{let $pos=state.doc.resolve(pos),index=$pos.index();applicable=$pos.parent.canReplaceWith(index,index+1,nodeType)}})}if(!applicable)return!1;if(dispatch){let tr=state.tr;for(let i=0;i<state.selection.ranges.length;i++){let{$from:{pos:from},$to:{pos:to}}=state.selection.ranges[i];tr.setBlockType(from,to,nodeType,attrs)}dispatch(tr.scrollIntoView())}return!0}}function chainCommands(...commands){return function(state,dispatch,view){for(let i=0;i<commands.length;i++)if(commands[i](state,dispatch,view))return!0;return!1}}let backspace=chainCommands(deleteSelection,joinBackward,selectNodeBackward),del=chainCommands(deleteSelection,joinForward,selectNodeForward);const pcBaseKeymap={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:backspace,"Mod-Backspace":backspace,"Shift-Backspace":backspace,Delete:del,"Mod-Delete":del,"Mod-a":(state,dispatch)=>(dispatch&&dispatch(state.tr.setSelection(new AllSelection(state.doc))),!0)},macBaseKeymap={"Ctrl-h":pcBaseKeymap.Backspace,"Alt-Backspace":pcBaseKeymap["Mod-Backspace"],"Ctrl-d":pcBaseKeymap.Delete,"Ctrl-Alt-Backspace":pcBaseKeymap["Mod-Delete"],"Alt-Delete":pcBaseKeymap["Mod-Delete"],"Alt-d":pcBaseKeymap["Mod-Delete"],"Ctrl-a":selectTextblockStart,"Ctrl-e":selectTextblockEnd};for(let key in pcBaseKeymap)macBaseKeymap[key]=pcBaseKeymap[key];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function wrapInList(listType,attrs=null){return function(state,dispatch){let{$from,$to}=state.selection,range=$from.blockRange($to);if(!range)return!1;let tr=dispatch?state.tr:null;return!!function wrapRangeInList(tr,range,listType,attrs=null){let doJoin=!1,outerRange=range,doc=range.$from.doc;if(range.depth>=2&&range.$from.node(range.depth-1).type.compatibleContent(listType)&&0==range.startIndex){if(0==range.$from.index(range.depth-1))return!1;let $insert=doc.resolve(range.start-2);outerRange=new NodeRange($insert,$insert,range.depth),range.endIndex<range.parent.childCount&&(range=new NodeRange(range.$from,doc.resolve(range.$to.end(range.depth)),range.depth)),doJoin=!0}let wrap=findWrapping(outerRange,listType,attrs,range);if(!wrap)return!1;tr&&function doWrapInList(tr,range,wrappers,joinBefore,listType){let content=dist_Fragment.empty;for(let i=wrappers.length-1;i>=0;i--)content=dist_Fragment.from(wrappers[i].type.create(wrappers[i].attrs,content));tr.step(new ReplaceAroundStep(range.start-(joinBefore?2:0),range.end,range.start,range.end,new dist_Slice(content,0,0),wrappers.length,!0));let found=0;for(let i=0;i<wrappers.length;i++)wrappers[i].type==listType&&(found=i+1);let splitDepth=wrappers.length-found,splitPos=range.start+wrappers.length-(joinBefore?2:0),parent=range.parent;for(let i=range.startIndex,e=range.endIndex,first=!0;i<e;i++,first=!1)!first&&dist_canSplit(tr.doc,splitPos,splitDepth)&&(tr.split(splitPos,splitDepth),splitPos+=2*splitDepth),splitPos+=parent.child(i).nodeSize;return tr}(tr,range,wrap,doJoin,listType);return!0}(tr,range,listType,attrs)&&(dispatch&&dispatch(tr.scrollIntoView()),!0)}}function liftListItem(itemType){return function(state,dispatch){let{$from,$to}=state.selection,range=$from.blockRange($to,node=>node.childCount>0&&node.firstChild.type==itemType);return!!range&&(!dispatch||($from.node(range.depth-1).type==itemType?function liftToOuterList(state,dispatch,itemType,range){let tr=state.tr,end=range.end,endOfList=range.$to.end(range.depth);end<endOfList&&(tr.step(new ReplaceAroundStep(end-1,endOfList,end,endOfList,new dist_Slice(dist_Fragment.from(itemType.create(null,range.parent.copy())),1,0),1,!0)),range=new NodeRange(tr.doc.resolve(range.$from.pos),tr.doc.resolve(endOfList),range.depth));const target=liftTarget(range);if(null==target)return!1;tr.lift(range,target);let $after=tr.doc.resolve(tr.mapping.map(end,-1)-1);dist_canJoin(tr.doc,$after.pos)&&$after.nodeBefore.type==$after.nodeAfter.type&&tr.join($after.pos);return dispatch(tr.scrollIntoView()),!0}(state,dispatch,itemType,range):function liftOutOfList(state,dispatch,range){let tr=state.tr,list=range.parent;for(let pos=range.end,i=range.endIndex-1,e=range.startIndex;i>e;i--)pos-=list.child(i).nodeSize,tr.delete(pos-1,pos+1);let $start=tr.doc.resolve(range.start),item=$start.nodeAfter;if(tr.mapping.map(range.end)!=range.start+$start.nodeAfter.nodeSize)return!1;let atStart=0==range.startIndex,atEnd=range.endIndex==list.childCount,parent=$start.node(-1),indexBefore=$start.index(-1);if(!parent.canReplace(indexBefore+(atStart?0:1),indexBefore+1,item.content.append(atEnd?dist_Fragment.empty:dist_Fragment.from(list))))return!1;let start=$start.pos,end=start+item.nodeSize;return tr.step(new ReplaceAroundStep(start-(atStart?1:0),end+(atEnd?1:0),start+1,end-1,new dist_Slice((atStart?dist_Fragment.empty:dist_Fragment.from(list.copy(dist_Fragment.empty))).append(atEnd?dist_Fragment.empty:dist_Fragment.from(list.copy(dist_Fragment.empty))),atStart?0:1,atEnd?0:1),atStart?0:1)),dispatch(tr.scrollIntoView()),!0}(state,dispatch,range)))}}var __defProp=Object.defineProperty,__export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})};function createChainableState(config){const{state,transaction}=config;let{selection}=transaction,{doc}=transaction,{storedMarks}=transaction;return{...state,apply:state.apply.bind(state),applyTransaction:state.applyTransaction.bind(state),plugins:state.plugins,schema:state.schema,reconfigure:state.reconfigure.bind(state),toJSON:state.toJSON.bind(state),get storedMarks(){return storedMarks},get selection(){return selection},get doc(){return doc},get tr(){return selection=transaction.selection,doc=transaction.doc,storedMarks=transaction.storedMarks,transaction}}}var CommandManager=class{constructor(props){this.editor=props.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=props.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands,editor,state}=this,{view}=editor,{tr}=state,props=this.buildProps(tr);return Object.fromEntries(Object.entries(rawCommands).map(([name,command2])=>[name,(...args)=>{const callback=command2(...args)(props);return tr.getMeta("preventDispatch")||this.hasCustomState||view.dispatch(tr),callback}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(startTr,shouldDispatch=!0){const{rawCommands,editor,state}=this,{view}=editor,callbacks=[],hasStartTransaction=!!startTr,tr=startTr||state.tr,chain={...Object.fromEntries(Object.entries(rawCommands).map(([name,command2])=>[name,(...args)=>{const props=this.buildProps(tr,shouldDispatch),callback=command2(...args)(props);return callbacks.push(callback),chain}])),run:()=>(hasStartTransaction||!shouldDispatch||tr.getMeta("preventDispatch")||this.hasCustomState||view.dispatch(tr),callbacks.every(callback=>!0===callback))};return chain}createCan(startTr){const{rawCommands,state}=this,tr=startTr||state.tr,props=this.buildProps(tr,false);return{...Object.fromEntries(Object.entries(rawCommands).map(([name,command2])=>[name,(...args)=>command2(...args)({...props,dispatch:void 0})])),chain:()=>this.createChain(tr,false)}}buildProps(tr,shouldDispatch=!0){const{rawCommands,editor,state}=this,{view}=editor,props={tr,editor,view,state:createChainableState({state,transaction:tr}),dispatch:shouldDispatch?()=>{}:void 0,chain:()=>this.createChain(tr,shouldDispatch),can:()=>this.createCan(tr),get commands(){return Object.fromEntries(Object.entries(rawCommands).map(([name,command2])=>[name,(...args)=>command2(...args)(props)]))}};return props}},EventEmitter=class{constructor(){this.callbacks={}}on(event,fn){return this.callbacks[event]||(this.callbacks[event]=[]),this.callbacks[event].push(fn),this}emit(event,...args){const callbacks=this.callbacks[event];return callbacks&&callbacks.forEach(callback=>callback.apply(this,args)),this}off(event,fn){const callbacks=this.callbacks[event];return callbacks&&(fn?this.callbacks[event]=callbacks.filter(callback=>callback!==fn):delete this.callbacks[event]),this}once(event,fn){const onceFn=(...args)=>{this.off(event,onceFn),fn.apply(this,args)};return this.on(event,onceFn)}removeAllListeners(){this.callbacks={}}};function combineTransactionSteps(oldDoc,transactions){const transform=new Transform(oldDoc);return transactions.forEach(transaction=>{transaction.steps.forEach(step=>{transform.step(step)})}),transform}var removeWhitespaces=node=>{const children=node.childNodes;for(let i=children.length-1;i>=0;i-=1){const child=children[i];3===child.nodeType&&child.nodeValue&&/^(\n\s\s|\n)$/.test(child.nodeValue)?node.removeChild(child):1===child.nodeType&&removeWhitespaces(child)}return node};function elementFromString(value){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const wrappedValue=`<body>${value}</body>`,html=(new window.DOMParser).parseFromString(wrappedValue,"text/html").body;return removeWhitespaces(html)}function createNodeFromContent(content,schema,options){if(content instanceof dist_Node||content instanceof dist_Fragment)return content;options={slice:!0,parseOptions:{},...options};const isTextContent="string"==typeof content;if("object"==typeof content&&null!==content)try{if(Array.isArray(content)&&content.length>0)return dist_Fragment.fromArray(content.map(item=>schema.nodeFromJSON(item)));const node=schema.nodeFromJSON(content);return options.errorOnInvalidContent&&node.check(),node}catch(error){if(options.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:error});return console.warn("[tiptap warn]: Invalid content.","Passed value:",content,"Error:",error),createNodeFromContent("",schema,options)}if(isTextContent){if(options.errorOnInvalidContent){let hasInvalidContent=!1,invalidContent="";const contentCheckSchema=new Schema({topNode:schema.spec.topNode,marks:schema.spec.marks,nodes:schema.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(hasInvalidContent=!0,invalidContent="string"==typeof e?e:e.outerHTML,null)}]}})});if(options.slice?DOMParser.fromSchema(contentCheckSchema).parseSlice(elementFromString(content),options.parseOptions):DOMParser.fromSchema(contentCheckSchema).parse(elementFromString(content),options.parseOptions),options.errorOnInvalidContent&&hasInvalidContent)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${invalidContent}`)})}const parser=DOMParser.fromSchema(schema);return options.slice?parser.parseSlice(elementFromString(content),options.parseOptions).content:parser.parse(elementFromString(content),options.parseOptions)}return createNodeFromContent("",schema,options)}function createDocument(content,schema,parseOptions={},options={}){return createNodeFromContent(content,schema,{slice:!1,parseOptions,errorOnInvalidContent:options.errorOnInvalidContent})}function findParentNode(predicate){return selection=>function findParentNodeClosestToPos($pos,predicate){for(let i=$pos.depth;i>0;i-=1){const node=$pos.node(i);if(predicate(node))return{pos:i>0?$pos.before(i):0,start:$pos.start(i),depth:i,node}}}(selection.$from,predicate)}function getExtensionField(extension,field,context){if(void 0===extension.config[field]&&extension.parent)return getExtensionField(extension.parent,field,context);if("function"==typeof extension.config[field]){return extension.config[field].bind({...context,parent:extension.parent?getExtensionField(extension.parent,field,context):null})}return extension.config[field]}function flattenExtensions(extensions){return extensions.map(extension=>{const addExtensions=getExtensionField(extension,"addExtensions",{name:extension.name,options:extension.options,storage:extension.storage});return addExtensions?[extension,...flattenExtensions(addExtensions())]:extension}).flat(10)}function getHTMLFromFragment(fragment,schema){const documentFragment=DOMSerializer.fromSchema(schema).serializeFragment(fragment),container=document.implementation.createHTMLDocument().createElement("div");return container.appendChild(documentFragment),container.innerHTML}function dist_isFunction(value){return"function"==typeof value}function callOrReturn(value,context=void 0,...props){return dist_isFunction(value)?context?value.bind(context)(...props):value(...props):value}function splitExtensions(extensions){return{baseExtensions:extensions.filter(extension=>"extension"===extension.type),nodeExtensions:extensions.filter(extension=>"node"===extension.type),markExtensions:extensions.filter(extension=>"mark"===extension.type)}}function getAttributesFromExtensions(extensions){const extensionAttributes=[],{nodeExtensions,markExtensions}=splitExtensions(extensions),nodeAndMarkExtensions=[...nodeExtensions,...markExtensions],defaultAttribute={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return extensions.forEach(extension=>{const addGlobalAttributes=getExtensionField(extension,"addGlobalAttributes",{name:extension.name,options:extension.options,storage:extension.storage,extensions:nodeAndMarkExtensions});if(!addGlobalAttributes)return;addGlobalAttributes().forEach(globalAttribute=>{globalAttribute.types.forEach(type=>{Object.entries(globalAttribute.attributes).forEach(([name,attribute])=>{extensionAttributes.push({type,name,attribute:{...defaultAttribute,...attribute}})})})})}),nodeAndMarkExtensions.forEach(extension=>{const context={name:extension.name,options:extension.options,storage:extension.storage},addAttributes=getExtensionField(extension,"addAttributes",context);if(!addAttributes)return;const attributes=addAttributes();Object.entries(attributes).forEach(([name,attribute])=>{const mergedAttr={...defaultAttribute,...attribute};"function"==typeof(null==mergedAttr?void 0:mergedAttr.default)&&(mergedAttr.default=mergedAttr.default()),(null==mergedAttr?void 0:mergedAttr.isRequired)&&void 0===(null==mergedAttr?void 0:mergedAttr.default)&&delete mergedAttr.default,extensionAttributes.push({type:extension.name,name,attribute:mergedAttr})})}),extensionAttributes}function mergeAttributes(...objects){return objects.filter(item=>!!item).reduce((items,item)=>{const mergedAttributes={...items};return Object.entries(item).forEach(([key,value])=>{if(mergedAttributes[key])if("class"===key){const valueClasses=value?String(value).split(" "):[],existingClasses=mergedAttributes[key]?mergedAttributes[key].split(" "):[],insertClasses=valueClasses.filter(valueClass=>!existingClasses.includes(valueClass));mergedAttributes[key]=[...existingClasses,...insertClasses].join(" ")}else if("style"===key){const newStyles=value?value.split(";").map(style2=>style2.trim()).filter(Boolean):[],existingStyles=mergedAttributes[key]?mergedAttributes[key].split(";").map(style2=>style2.trim()).filter(Boolean):[],styleMap=new Map;existingStyles.forEach(style2=>{const[property,val]=style2.split(":").map(part=>part.trim());styleMap.set(property,val)}),newStyles.forEach(style2=>{const[property,val]=style2.split(":").map(part=>part.trim());styleMap.set(property,val)}),mergedAttributes[key]=Array.from(styleMap.entries()).map(([property,val])=>`${property}: ${val}`).join("; ")}else mergedAttributes[key]=value;else mergedAttributes[key]=value}),mergedAttributes},{})}function getRenderedAttributes(nodeOrMark,extensionAttributes){return extensionAttributes.filter(attribute=>attribute.type===nodeOrMark.type.name).filter(item=>item.attribute.rendered).map(item=>item.attribute.renderHTML?item.attribute.renderHTML(nodeOrMark.attrs)||{}:{[item.name]:nodeOrMark.attrs[item.name]}).reduce((attributes,attribute)=>mergeAttributes(attributes,attribute),{})}function injectExtensionAttributesToParseRule(parseRule,extensionAttributes){return"style"in parseRule?parseRule:{...parseRule,getAttrs:node=>{const oldAttributes=parseRule.getAttrs?parseRule.getAttrs(node):parseRule.attrs;if(!1===oldAttributes)return!1;const newAttributes=extensionAttributes.reduce((items,item)=>{const value=item.attribute.parseHTML?item.attribute.parseHTML(node):function fromString(value){return"string"!=typeof value?value:value.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(value):"true"===value||"false"!==value&&value}(node.getAttribute(item.name));return null==value?items:{...items,[item.name]:value}},{});return{...oldAttributes,...newAttributes}}}}function cleanUpSchemaItem(data){return Object.fromEntries(Object.entries(data).filter(([key,value])=>("attrs"!==key||!function isEmptyObject(value={}){return 0===Object.keys(value).length&&value.constructor===Object}(value))&&null!=value))}function getSchemaByResolvedExtensions(extensions,editor){var _a;const allAttributes=getAttributesFromExtensions(extensions),{nodeExtensions,markExtensions}=splitExtensions(extensions),topNode=null==(_a=nodeExtensions.find(extension=>getExtensionField(extension,"topNode")))?void 0:_a.name,nodes=Object.fromEntries(nodeExtensions.map(extension=>{const extensionAttributes=allAttributes.filter(attribute=>attribute.type===extension.name),context={name:extension.name,options:extension.options,storage:extension.storage,editor},schema=cleanUpSchemaItem({...extensions.reduce((fields,e)=>{const extendNodeSchema=getExtensionField(e,"extendNodeSchema",context);return{...fields,...extendNodeSchema?extendNodeSchema(extension):{}}},{}),content:callOrReturn(getExtensionField(extension,"content",context)),marks:callOrReturn(getExtensionField(extension,"marks",context)),group:callOrReturn(getExtensionField(extension,"group",context)),inline:callOrReturn(getExtensionField(extension,"inline",context)),atom:callOrReturn(getExtensionField(extension,"atom",context)),selectable:callOrReturn(getExtensionField(extension,"selectable",context)),draggable:callOrReturn(getExtensionField(extension,"draggable",context)),code:callOrReturn(getExtensionField(extension,"code",context)),whitespace:callOrReturn(getExtensionField(extension,"whitespace",context)),linebreakReplacement:callOrReturn(getExtensionField(extension,"linebreakReplacement",context)),defining:callOrReturn(getExtensionField(extension,"defining",context)),isolating:callOrReturn(getExtensionField(extension,"isolating",context)),attrs:Object.fromEntries(extensionAttributes.map(extensionAttribute=>{var _a2,_b;return[extensionAttribute.name,{default:null==(_a2=null==extensionAttribute?void 0:extensionAttribute.attribute)?void 0:_a2.default,validate:null==(_b=null==extensionAttribute?void 0:extensionAttribute.attribute)?void 0:_b.validate}]}))}),parseHTML=callOrReturn(getExtensionField(extension,"parseHTML",context));parseHTML&&(schema.parseDOM=parseHTML.map(parseRule=>injectExtensionAttributesToParseRule(parseRule,extensionAttributes)));const renderHTML=getExtensionField(extension,"renderHTML",context);renderHTML&&(schema.toDOM=node=>renderHTML({node,HTMLAttributes:getRenderedAttributes(node,extensionAttributes)}));const renderText=getExtensionField(extension,"renderText",context);return renderText&&(schema.toText=renderText),[extension.name,schema]})),marks=Object.fromEntries(markExtensions.map(extension=>{const extensionAttributes=allAttributes.filter(attribute=>attribute.type===extension.name),context={name:extension.name,options:extension.options,storage:extension.storage,editor},schema=cleanUpSchemaItem({...extensions.reduce((fields,e)=>{const extendMarkSchema=getExtensionField(e,"extendMarkSchema",context);return{...fields,...extendMarkSchema?extendMarkSchema(extension):{}}},{}),inclusive:callOrReturn(getExtensionField(extension,"inclusive",context)),excludes:callOrReturn(getExtensionField(extension,"excludes",context)),group:callOrReturn(getExtensionField(extension,"group",context)),spanning:callOrReturn(getExtensionField(extension,"spanning",context)),code:callOrReturn(getExtensionField(extension,"code",context)),attrs:Object.fromEntries(extensionAttributes.map(extensionAttribute=>{var _a2,_b;return[extensionAttribute.name,{default:null==(_a2=null==extensionAttribute?void 0:extensionAttribute.attribute)?void 0:_a2.default,validate:null==(_b=null==extensionAttribute?void 0:extensionAttribute.attribute)?void 0:_b.validate}]}))}),parseHTML=callOrReturn(getExtensionField(extension,"parseHTML",context));parseHTML&&(schema.parseDOM=parseHTML.map(parseRule=>injectExtensionAttributesToParseRule(parseRule,extensionAttributes)));const renderHTML=getExtensionField(extension,"renderHTML",context);return renderHTML&&(schema.toDOM=mark=>renderHTML({mark,HTMLAttributes:getRenderedAttributes(mark,extensionAttributes)})),[extension.name,schema]}));return new Schema({topNode,nodes,marks})}function sortExtensions(extensions){return extensions.sort((a,b)=>{const priorityA=getExtensionField(a,"priority")||100,priorityB=getExtensionField(b,"priority")||100;return priorityA>priorityB?-1:priorityA<priorityB?1:0})}function resolveExtensions(extensions){const resolvedExtensions=sortExtensions(flattenExtensions(extensions)),duplicatedNames=function findDuplicates(items){const filtered=items.filter((el,index)=>items.indexOf(el)!==index);return Array.from(new Set(filtered))}(resolvedExtensions.map(extension=>extension.name));return duplicatedNames.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${duplicatedNames.map(item=>`'${item}'`).join(", ")}]. This can lead to issues.`),resolvedExtensions}function getTextBetween(startNode,range,options){const{from,to}=range,{blockSeparator="\n\n",textSerializers={}}=options||{};let text="";return startNode.nodesBetween(from,to,(node,pos,parent,index)=>{var _a;node.isBlock&&pos>from&&(text+=blockSeparator);const textSerializer=null==textSerializers?void 0:textSerializers[node.type.name];if(textSerializer)return parent&&(text+=textSerializer({node,pos,parent,index,range})),!1;node.isText&&(text+=null==(_a=null==node?void 0:node.text)?void 0:_a.slice(Math.max(from,pos)-pos,to-pos))}),text}function dist_getText(node,options){return getTextBetween(node,{from:0,to:node.content.size},options)}function getTextSerializersFromSchema(schema){return Object.fromEntries(Object.entries(schema.nodes).filter(([,node])=>node.spec.toText).map(([name,node])=>[name,node.spec.toText]))}function getMarkType(nameOrType,schema){if("string"==typeof nameOrType){if(!schema.marks[nameOrType])throw Error(`There is no mark type named '${nameOrType}'. Maybe you forgot to add the extension?`);return schema.marks[nameOrType]}return nameOrType}function getMarkAttributes(state,typeOrName){const type=getMarkType(typeOrName,state.schema),{from,to,empty}=state.selection,marks=[];empty?(state.storedMarks&&marks.push(...state.storedMarks),marks.push(...state.selection.$head.marks())):state.doc.nodesBetween(from,to,node=>{marks.push(...node.marks)});const mark=marks.find(markItem=>markItem.type.name===type.name);return mark?{...mark.attrs}:{}}function getNodeType(nameOrType,schema){if("string"==typeof nameOrType){if(!schema.nodes[nameOrType])throw Error(`There is no node type named '${nameOrType}'. Maybe you forgot to add the extension?`);return schema.nodes[nameOrType]}return nameOrType}function getSchemaTypeNameByName(name,schema){return schema.nodes[name]?"node":schema.marks[name]?"mark":null}function getAttributes(state,typeOrName){const schemaType=getSchemaTypeNameByName("string"==typeof typeOrName?typeOrName:typeOrName.name,state.schema);return"node"===schemaType?function getNodeAttributes(state,typeOrName){const type=getNodeType(typeOrName,state.schema),{from,to}=state.selection,nodes=[];state.doc.nodesBetween(from,to,node2=>{nodes.push(node2)});const node=nodes.reverse().find(nodeItem=>nodeItem.type.name===type.name);return node?{...node.attrs}:{}}(state,typeOrName):"mark"===schemaType?getMarkAttributes(state,typeOrName):{}}function simplifyChangedRanges(changes){const uniqueChanges=function removeDuplicates(array,by=JSON.stringify){const seen={};return array.filter(item=>{const key=by(item);return!Object.prototype.hasOwnProperty.call(seen,key)&&(seen[key]=!0)})}(changes);return 1===uniqueChanges.length?uniqueChanges:uniqueChanges.filter((change,index)=>{const rest=uniqueChanges.filter((_,i)=>i!==index);return!rest.some(otherChange=>change.oldRange.from>=otherChange.oldRange.from&&change.oldRange.to<=otherChange.oldRange.to&&change.newRange.from>=otherChange.newRange.from&&change.newRange.to<=otherChange.newRange.to)})}function getChangedRanges(transform){const{mapping,steps}=transform,changes=[];return mapping.maps.forEach((stepMap,index)=>{const ranges=[];if(stepMap.ranges.length)stepMap.forEach((from,to)=>{ranges.push({from,to})});else{const{from,to}=steps[index];if(void 0===from||void 0===to)return;ranges.push({from,to})}ranges.forEach(({from,to})=>{const newStart=mapping.slice(index).map(from,-1),newEnd=mapping.slice(index).map(to),oldStart=mapping.invert().map(newStart,-1),oldEnd=mapping.invert().map(newEnd);changes.push({oldRange:{from:oldStart,to:oldEnd},newRange:{from:newStart,to:newEnd}})})}),simplifyChangedRanges(changes)}function isRegExp(value){return"[object RegExp]"===Object.prototype.toString.call(value)}function objectIncludes(object1,object2,options={strict:!0}){const keys=Object.keys(object2);return!keys.length||keys.every(key=>options.strict?object2[key]===object1[key]:isRegExp(object2[key])?object2[key].test(object1[key]):object2[key]===object1[key])}function findMarkInSet(marks,type,attributes={}){return marks.find(item=>item.type===type&&objectIncludes(Object.fromEntries(Object.keys(attributes).map(k=>[k,item.attrs[k]])),attributes))}function isMarkInSet(marks,type,attributes={}){return!!findMarkInSet(marks,type,attributes)}function getMarkRange($pos,type,attributes){var _a;if(!$pos||!type)return;let start=$pos.parent.childAfter($pos.parentOffset);if(start.node&&start.node.marks.some(mark2=>mark2.type===type)||(start=$pos.parent.childBefore($pos.parentOffset)),!start.node||!start.node.marks.some(mark2=>mark2.type===type))return;attributes=attributes||(null==(_a=start.node.marks[0])?void 0:_a.attrs);if(!findMarkInSet([...start.node.marks],type,attributes))return;let startIndex=start.index,startPos=$pos.start()+start.offset,endIndex=startIndex+1,endPos=startPos+start.node.nodeSize;for(;startIndex>0&&isMarkInSet([...$pos.parent.child(startIndex-1).marks],type,attributes);)startIndex-=1,startPos-=$pos.parent.child(startIndex).nodeSize;for(;endIndex<$pos.parent.childCount&&isMarkInSet([...$pos.parent.child(endIndex).marks],type,attributes);)endPos+=$pos.parent.child(endIndex).nodeSize,endIndex+=1;return{from:startPos,to:endPos}}function getMarksBetween(from,to,doc){const marks=[];return from===to?doc.resolve(from).marks().forEach(mark=>{const range=getMarkRange(doc.resolve(from),mark.type);range&&marks.push({mark,...range})}):doc.nodesBetween(from,to,(node,pos)=>{node&&void 0!==(null==node?void 0:node.nodeSize)&&marks.push(...node.marks.map(mark=>({from:pos,to:pos+node.nodeSize,mark})))}),marks}function getSchemaTypeByName(name,schema){return schema.nodes[name]||schema.marks[name]||null}function getSplittedAttributes(extensionAttributes,typeName,attributes){return Object.fromEntries(Object.entries(attributes).filter(([name])=>{const extensionAttribute=extensionAttributes.find(item=>item.type===typeName&&item.name===name);return!!extensionAttribute&&extensionAttribute.attribute.keepOnSplit}))}function isMarkActive(state,typeOrName,attributes={}){const{empty,ranges}=state.selection,type=typeOrName?getMarkType(typeOrName,state.schema):null;if(empty)return!!(state.storedMarks||state.selection.$from.marks()).filter(mark=>!type||type.name===mark.type.name).find(mark=>objectIncludes(mark.attrs,attributes,{strict:!1}));let selectionRange=0;const markRanges=[];if(ranges.forEach(({$from,$to})=>{const from=$from.pos,to=$to.pos;state.doc.nodesBetween(from,to,(node,pos)=>{if(!node.isText&&!node.marks.length)return;const relativeFrom=Math.max(from,pos),relativeTo=Math.min(to,pos+node.nodeSize);selectionRange+=relativeTo-relativeFrom,markRanges.push(...node.marks.map(mark=>({mark,from:relativeFrom,to:relativeTo})))})}),0===selectionRange)return!1;const matchedRange=markRanges.filter(markRange=>!type||type.name===markRange.mark.type.name).filter(markRange=>objectIncludes(markRange.mark.attrs,attributes,{strict:!1})).reduce((sum,markRange)=>sum+markRange.to-markRange.from,0),excludedRange=markRanges.filter(markRange=>!type||markRange.mark.type!==type&&markRange.mark.type.excludes(type)).reduce((sum,markRange)=>sum+markRange.to-markRange.from,0);return(matchedRange>0?matchedRange+excludedRange:matchedRange)>=selectionRange}function isNodeActive(state,typeOrName,attributes={}){const{from,to,empty}=state.selection,type=typeOrName?getNodeType(typeOrName,state.schema):null,nodeRanges=[];state.doc.nodesBetween(from,to,(node,pos)=>{if(node.isText)return;const relativeFrom=Math.max(from,pos),relativeTo=Math.min(to,pos+node.nodeSize);nodeRanges.push({node,from:relativeFrom,to:relativeTo})});const selectionRange=to-from,matchedNodeRanges=nodeRanges.filter(nodeRange=>!type||type.name===nodeRange.node.type.name).filter(nodeRange=>objectIncludes(nodeRange.node.attrs,attributes,{strict:!1}));if(empty)return!!matchedNodeRanges.length;const range=matchedNodeRanges.reduce((sum,nodeRange)=>sum+nodeRange.to-nodeRange.from,0);return range>=selectionRange}function isExtensionRulesEnabled(extension,enabled){return Array.isArray(enabled)?enabled.some(enabledExtension=>("string"==typeof enabledExtension?enabledExtension:enabledExtension.name)===extension.name):enabled}function isList(name,extensions){const{nodeExtensions}=splitExtensions(extensions),extension=nodeExtensions.find(item=>item.name===name);if(!extension)return!1;const group=callOrReturn(getExtensionField(extension,"group",{name:extension.name,options:extension.options,storage:extension.storage}));return"string"==typeof group&&group.split(" ").includes("list")}function isNodeEmpty(node,{checkChildren=!0,ignoreWhitespace=!1}={}){var _a;if(ignoreWhitespace){if("hardBreak"===node.type.name)return!0;if(node.isText)return/^\s*$/m.test(null!=(_a=node.text)?_a:"")}if(node.isText)return!node.text;if(node.isAtom||node.isLeaf)return!1;if(0===node.content.childCount)return!0;if(checkChildren){let isContentEmpty=!0;return node.content.forEach(childNode=>{!1!==isContentEmpty&&(isNodeEmpty(childNode,{ignoreWhitespace,checkChildren})||(isContentEmpty=!1))}),isContentEmpty}return!1}function isNodeSelection(value){return value instanceof NodeSelection}function isTextSelection(value){return value instanceof TextSelection}function minMax(value=0,min=0,max=0){return Math.min(Math.max(value,min),max)}function resolveFocusPosition(doc,position=null){if(!position)return null;const selectionAtStart=dist_Selection.atStart(doc),selectionAtEnd=dist_Selection.atEnd(doc);if("start"===position||!0===position)return selectionAtStart;if("end"===position)return selectionAtEnd;const minPos=selectionAtStart.from,maxPos=selectionAtEnd.to;return"all"===position?TextSelection.create(doc,minMax(0,minPos,maxPos),minMax(doc.content.size,minPos,maxPos)):TextSelection.create(doc,minMax(position,minPos,maxPos),minMax(position,minPos,maxPos))}var InputRule=class{constructor(config){this.find=config.find,this.handler=config.handler}};function run(config){var _a;const{editor,from,to,text,rules,plugin}=config,{view}=editor;if(view.composing)return!1;const $from=view.state.doc.resolve(from);if($from.parent.type.spec.code||(null==(_a=$from.nodeBefore||$from.nodeAfter)?void 0:_a.marks.find(mark=>mark.type.spec.code)))return!1;let matched=!1;const textBefore=(($from,maxMatch=500)=>{let textBefore="";const sliceEndPos=$from.parentOffset;return $from.parent.nodesBetween(Math.max(0,sliceEndPos-maxMatch),sliceEndPos,(node,pos,parent,index)=>{var _a,_b;const chunk=(null==(_b=(_a=node.type.spec).toText)?void 0:_b.call(_a,{node,pos,parent,index}))||node.textContent||"%leaf%";textBefore+=node.isAtom&&!node.isText?chunk:chunk.slice(0,Math.max(0,sliceEndPos-pos))}),textBefore})($from)+text;return rules.forEach(rule=>{if(matched)return;const match=((text,find)=>{if(isRegExp(find))return find.exec(text);const inputRuleMatch=find(text);if(!inputRuleMatch)return null;const result=[inputRuleMatch.text];return result.index=inputRuleMatch.index,result.input=text,result.data=inputRuleMatch.data,inputRuleMatch.replaceWith&&(inputRuleMatch.text.includes(inputRuleMatch.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),result.push(inputRuleMatch.replaceWith)),result})(textBefore,rule.find);if(!match)return;const tr=view.state.tr,state=createChainableState({state:view.state,transaction:tr}),range={from:from-(match[0].length-text.length),to},{commands,chain,can}=new CommandManager({editor,state});null!==rule.handler({state,range,match,commands,chain,can})&&tr.steps.length&&(tr.setMeta(plugin,{transform:tr,from,to,text}),view.dispatch(tr),matched=!0)}),matched}function inputRulesPlugin(props){const{editor,rules}=props,plugin=new Plugin({state:{init:()=>null,apply(tr,prev,state){const stored=tr.getMeta(plugin);if(stored)return stored;const simulatedInputMeta=tr.getMeta("applyInputRules");return!!simulatedInputMeta&&setTimeout(()=>{let{text}=simulatedInputMeta;"string"==typeof text||(text=getHTMLFromFragment(dist_Fragment.from(text),state.schema));const{from}=simulatedInputMeta,to=from+text.length;run({editor,from,to,text,rules,plugin})}),tr.selectionSet||tr.docChanged?null:prev}},props:{handleTextInput:(view,from,to,text)=>run({editor,from,to,text,rules,plugin}),handleDOMEvents:{compositionend:view=>(setTimeout(()=>{const{$cursor}=view.state.selection;$cursor&&run({editor,from:$cursor.pos,to:$cursor.pos,text:"",rules,plugin})}),!1)},handleKeyDown(view,event){if("Enter"!==event.key)return!1;const{$cursor}=view.state.selection;return!!$cursor&&run({editor,from:$cursor.pos,to:$cursor.pos,text:"\n",rules,plugin})}},isInputRules:!0});return plugin}function isPlainObject(value){return"Object"===function getType(value){return Object.prototype.toString.call(value).slice(8,-1)}(value)&&(value.constructor===Object&&Object.getPrototypeOf(value)===Object.prototype)}function mergeDeep(target,source){const output={...target};return isPlainObject(target)&&isPlainObject(source)&&Object.keys(source).forEach(key=>{isPlainObject(source[key])&&isPlainObject(target[key])?output[key]=mergeDeep(target[key],source[key]):output[key]=source[key]}),output}var Extendable=class{constructor(config={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...config},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(options={}){const extension=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,options)});return extension.name=this.name,extension.parent=this.parent,extension}extend(extendedConfig={}){const extension=new this.constructor({...this.config,...extendedConfig});return extension.parent=this,this.child=extension,extension.name="name"in extendedConfig?extendedConfig.name:extension.parent.name,extension}},dist_Mark=class _Mark extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(config={}){const resolvedConfig="function"==typeof config?config():config;return new _Mark(resolvedConfig)}static handleExit({editor,mark}){const{tr}=editor.state,currentPos=editor.state.selection.$from;if(currentPos.pos===currentPos.end()){const currentMarks=currentPos.marks(),isInMark=!!currentMarks.find(m=>(null==m?void 0:m.type.name)===mark.name);if(!isInMark)return!1;const removeMark=currentMarks.find(m=>(null==m?void 0:m.type.name)===mark.name);return removeMark&&tr.removeStoredMark(removeMark),tr.insertText(" ",currentPos.pos),editor.view.dispatch(tr),!0}return!1}configure(options){return super.configure(options)}extend(extendedConfig){const resolvedConfig="function"==typeof extendedConfig?extendedConfig():extendedConfig;return super.extend(resolvedConfig)}};var PasteRule=class{constructor(config){this.find=config.find,this.handler=config.handler}};function run2(config){const{editor,state,from,to,rule,pasteEvent,dropEvent}=config,{commands,chain,can}=new CommandManager({editor,state}),handlers=[];state.doc.nodesBetween(from,to,(node,pos)=>{if(!node.isTextblock||node.type.spec.code)return;const resolvedFrom=Math.max(from,pos),resolvedTo=Math.min(to,pos+node.content.size),matches=((text,find,event)=>{if(isRegExp(find))return[...text.matchAll(find)];const matches=find(text,event);return matches?matches.map(pasteRuleMatch=>{const result=[pasteRuleMatch.text];return result.index=pasteRuleMatch.index,result.input=text,result.data=pasteRuleMatch.data,pasteRuleMatch.replaceWith&&(pasteRuleMatch.text.includes(pasteRuleMatch.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),result.push(pasteRuleMatch.replaceWith)),result}):[]})(node.textBetween(resolvedFrom-pos,resolvedTo-pos,void 0,""),rule.find,pasteEvent);matches.forEach(match=>{if(void 0===match.index)return;const start=resolvedFrom+match.index+1,end=start+match[0].length,range={from:state.tr.mapping.map(start),to:state.tr.mapping.map(end)},handler=rule.handler({state,range,match,commands,chain,can,pasteEvent,dropEvent});handlers.push(handler)})});return handlers.every(handler=>null!==handler)}var tiptapDragFromOtherEditor=null;function pasteRulesPlugin(props){const{editor,rules}=props;let dropEvent,dragSourceElement=null,isPastedFromProseMirror=!1,isDroppedFromProseMirror=!1,pasteEvent="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{dropEvent="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{dropEvent=null}const processEvent=({state,from,to,rule,pasteEvt})=>{const tr=state.tr,chainableState=createChainableState({state,transaction:tr});if(run2({editor,state:chainableState,from:Math.max(from-1,0),to:to.b-1,rule,pasteEvent:pasteEvt,dropEvent})&&tr.steps.length){try{dropEvent="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{dropEvent=null}return pasteEvent="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,tr}},plugins=rules.map(rule=>new Plugin({view(view){const handleDragstart=event=>{var _a;dragSourceElement=(null==(_a=view.dom.parentElement)?void 0:_a.contains(event.target))?view.dom.parentElement:null,dragSourceElement&&(tiptapDragFromOtherEditor=editor)},handleDragend=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",handleDragstart),window.addEventListener("dragend",handleDragend),{destroy(){window.removeEventListener("dragstart",handleDragstart),window.removeEventListener("dragend",handleDragend)}}},props:{handleDOMEvents:{drop:(view,event)=>{if(isDroppedFromProseMirror=dragSourceElement===view.dom.parentElement,dropEvent=event,!isDroppedFromProseMirror){const dragFromOtherEditor=tiptapDragFromOtherEditor;(null==dragFromOtherEditor?void 0:dragFromOtherEditor.isEditable)&&setTimeout(()=>{const selection=dragFromOtherEditor.state.selection;selection&&dragFromOtherEditor.commands.deleteRange({from:selection.from,to:selection.to})},10)}return!1},paste:(_view,event)=>{var _a;const html=null==(_a=event.clipboardData)?void 0:_a.getData("text/html");return pasteEvent=event,isPastedFromProseMirror=!!(null==html?void 0:html.includes("data-pm-slice")),!1}}},appendTransaction:(transactions,oldState,state)=>{const transaction=transactions[0],isPaste="paste"===transaction.getMeta("uiEvent")&&!isPastedFromProseMirror,isDrop="drop"===transaction.getMeta("uiEvent")&&!isDroppedFromProseMirror,simulatedPasteMeta=transaction.getMeta("applyPasteRules"),isSimulatedPaste=!!simulatedPasteMeta;if(!isPaste&&!isDrop&&!isSimulatedPaste)return;if(isSimulatedPaste){let{text}=simulatedPasteMeta;"string"==typeof text||(text=getHTMLFromFragment(dist_Fragment.from(text),state.schema));const{from:from2}=simulatedPasteMeta,to2=from2+text.length,pasteEvt=(text=>{var _a;const event=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(_a=event.clipboardData)||_a.setData("text/html",text),event})(text);return processEvent({rule,state,from:from2,to:{b:to2},pasteEvt})}const from=oldState.doc.content.findDiffStart(state.doc.content),to=oldState.doc.content.findDiffEnd(state.doc.content);return function isNumber(value){return"number"==typeof value}(from)&&to&&from!==to.b?processEvent({rule,state,from,to,pasteEvt:pasteEvent}):void 0}}));return plugins}var ExtensionManager=class{constructor(extensions,editor){this.splittableMarks=[],this.editor=editor,this.extensions=resolveExtensions(extensions),this.schema=getSchemaByResolvedExtensions(this.extensions,editor),this.setupExtensions()}get commands(){return this.extensions.reduce((commands,extension)=>{const addCommands=getExtensionField(extension,"addCommands",{name:extension.name,options:extension.options,storage:this.editor.extensionStorage[extension.name],editor:this.editor,type:getSchemaTypeByName(extension.name,this.schema)});return addCommands?{...commands,...addCommands()}:commands},{})}get plugins(){const{editor}=this,extensions=sortExtensions([...this.extensions].reverse()),inputRules=[],pasteRules=[],allPlugins=extensions.map(extension=>{const context={name:extension.name,options:extension.options,storage:this.editor.extensionStorage[extension.name],editor,type:getSchemaTypeByName(extension.name,this.schema)},plugins=[],addKeyboardShortcuts=getExtensionField(extension,"addKeyboardShortcuts",context);let defaultBindings={};if("mark"===extension.type&&getExtensionField(extension,"exitable",context)&&(defaultBindings.ArrowRight=()=>dist_Mark.handleExit({editor,mark:extension})),addKeyboardShortcuts){const bindings=Object.fromEntries(Object.entries(addKeyboardShortcuts()).map(([shortcut,method])=>[shortcut,()=>method({editor})]));defaultBindings={...defaultBindings,...bindings}}const keyMapPlugin=function keymap(bindings){return new Plugin({props:{handleKeyDown:keydownHandler(bindings)}})}(defaultBindings);plugins.push(keyMapPlugin);const addInputRules=getExtensionField(extension,"addInputRules",context);isExtensionRulesEnabled(extension,editor.options.enableInputRules)&&addInputRules&&inputRules.push(...addInputRules());const addPasteRules=getExtensionField(extension,"addPasteRules",context);isExtensionRulesEnabled(extension,editor.options.enablePasteRules)&&addPasteRules&&pasteRules.push(...addPasteRules());const addProseMirrorPlugins=getExtensionField(extension,"addProseMirrorPlugins",context);if(addProseMirrorPlugins){const proseMirrorPlugins=addProseMirrorPlugins();plugins.push(...proseMirrorPlugins)}return plugins}).flat();return[inputRulesPlugin({editor,rules:inputRules}),...pasteRulesPlugin({editor,rules:pasteRules}),...allPlugins]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor}=this,{nodeExtensions}=splitExtensions(this.extensions);return Object.fromEntries(nodeExtensions.filter(extension=>!!getExtensionField(extension,"addNodeView")).map(extension=>{const extensionAttributes=this.attributes.filter(attribute=>attribute.type===extension.name),context={name:extension.name,options:extension.options,storage:this.editor.extensionStorage[extension.name],editor,type:getNodeType(extension.name,this.schema)},addNodeView=getExtensionField(extension,"addNodeView",context);if(!addNodeView)return[];return[extension.name,(node,view,getPos,decorations,innerDecorations)=>{const HTMLAttributes=getRenderedAttributes(node,extensionAttributes);return addNodeView()({node,view,getPos,decorations,innerDecorations,editor,extension,HTMLAttributes})}]}))}get markViews(){const{editor}=this,{markExtensions}=splitExtensions(this.extensions);return Object.fromEntries(markExtensions.filter(extension=>!!getExtensionField(extension,"addMarkView")).map(extension=>{const extensionAttributes=this.attributes.filter(attribute=>attribute.type===extension.name),context={name:extension.name,options:extension.options,storage:this.editor.extensionStorage[extension.name],editor,type:getMarkType(extension.name,this.schema)},addMarkView=getExtensionField(extension,"addMarkView",context);if(!addMarkView)return[];return[extension.name,(mark,view,inline)=>{const HTMLAttributes=getRenderedAttributes(mark,extensionAttributes);return addMarkView()({mark,view,inline,editor,extension,HTMLAttributes,updateAttributes:attrs=>{updateMarkViewAttributes(mark,editor,attrs)}})}]}))}setupExtensions(){const extensions=this.extensions;this.editor.extensionStorage=Object.fromEntries(extensions.map(extension=>[extension.name,extension.storage])),extensions.forEach(extension=>{var _a;const context={name:extension.name,options:extension.options,storage:this.editor.extensionStorage[extension.name],editor:this.editor,type:getSchemaTypeByName(extension.name,this.schema)};if("mark"===extension.type){(null==(_a=callOrReturn(getExtensionField(extension,"keepOnSplit",context)))||_a)&&this.splittableMarks.push(extension.name)}const onBeforeCreate=getExtensionField(extension,"onBeforeCreate",context),onCreate=getExtensionField(extension,"onCreate",context),onUpdate=getExtensionField(extension,"onUpdate",context),onSelectionUpdate=getExtensionField(extension,"onSelectionUpdate",context),onTransaction=getExtensionField(extension,"onTransaction",context),onFocus=getExtensionField(extension,"onFocus",context),onBlur=getExtensionField(extension,"onBlur",context),onDestroy=getExtensionField(extension,"onDestroy",context);onBeforeCreate&&this.editor.on("beforeCreate",onBeforeCreate),onCreate&&this.editor.on("create",onCreate),onUpdate&&this.editor.on("update",onUpdate),onSelectionUpdate&&this.editor.on("selectionUpdate",onSelectionUpdate),onTransaction&&this.editor.on("transaction",onTransaction),onFocus&&this.editor.on("focus",onFocus),onBlur&&this.editor.on("blur",onBlur),onDestroy&&this.editor.on("destroy",onDestroy)})}};ExtensionManager.resolve=resolveExtensions,ExtensionManager.sort=sortExtensions,ExtensionManager.flatten=flattenExtensions;__export({},{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>dist_Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class _Extension extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(config={}){const resolvedConfig="function"==typeof config?config():config;return new _Extension(resolvedConfig)}configure(options){return super.configure(options)}extend(extendedConfig){const resolvedConfig="function"==typeof extendedConfig?extendedConfig():extendedConfig;return super.extend(resolvedConfig)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor}=this,{state,schema}=editor,{doc,selection}=state,{ranges}=selection,from=Math.min(...ranges.map(range2=>range2.$from.pos)),to=Math.max(...ranges.map(range2=>range2.$to.pos)),textSerializers=getTextSerializersFromSchema(schema);return getTextBetween(doc,{from,to},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers})}}})]}}),commands_exports={};__export(commands_exports,{blur:()=>dist_blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>dist_createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>dist_deleteRange,deleteSelection:()=>dist_deleteSelection,enter:()=>enter,exitCode:()=>dist_exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>dist_focus,forEach:()=>dist_forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>dist_joinBackward,joinDown:()=>dist_joinDown,joinForward:()=>dist_joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>dist_joinTextblockBackward,joinTextblockForward:()=>dist_joinTextblockForward,joinUp:()=>dist_joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>core_dist_lift,liftEmptyBlock:()=>dist_liftEmptyBlock,liftListItem:()=>dist_liftListItem,newlineInCode:()=>dist_newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>dist_selectAll,selectNodeBackward:()=>dist_selectNodeBackward,selectNodeForward:()=>dist_selectNodeForward,selectParentNode:()=>dist_selectParentNode,selectTextblockEnd:()=>dist_selectTextblockEnd,selectTextblockStart:()=>dist_selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextSelection:()=>setTextSelection,sinkListItem:()=>dist_sinkListItem,splitBlock:()=>dist_splitBlock,splitListItem:()=>dist_splitListItem,toggleList:()=>toggleList,toggleMark:()=>dist_toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,updateAttributes:()=>updateAttributes,wrapIn:()=>dist_wrapIn,wrapInList:()=>dist_wrapInList});var dist_blur=()=>({editor,view})=>(requestAnimationFrame(()=>{var _a;editor.isDestroyed||(view.dom.blur(),null==(_a=null==window?void 0:window.getSelection())||_a.removeAllRanges())}),!0),clearContent=(emitUpdate=!0)=>({commands})=>commands.setContent("",{emitUpdate}),clearNodes=()=>({state,tr,dispatch})=>{const{selection}=tr,{ranges}=selection;return!dispatch||(ranges.forEach(({$from,$to})=>{state.doc.nodesBetween($from.pos,$to.pos,(node,pos)=>{if(node.type.isText)return;const{doc,mapping}=tr,$mappedFrom=doc.resolve(mapping.map(pos)),$mappedTo=doc.resolve(mapping.map(pos+node.nodeSize)),nodeRange=$mappedFrom.blockRange($mappedTo);if(!nodeRange)return;const targetLiftDepth=liftTarget(nodeRange);if(node.type.isTextblock){const{defaultType}=$mappedFrom.parent.contentMatchAt($mappedFrom.index());tr.setNodeMarkup(nodeRange.start,defaultType)}(targetLiftDepth||0===targetLiftDepth)&&tr.lift(nodeRange,targetLiftDepth)})}),!0)},command=fn=>props=>fn(props),dist_createParagraphNear=()=>({state,dispatch})=>createParagraphNear(state,dispatch),cut=(originRange,targetPos)=>({editor,tr})=>{const{state}=editor,contentSlice=state.doc.slice(originRange.from,originRange.to);tr.deleteRange(originRange.from,originRange.to);const newPos=tr.mapping.map(targetPos);return tr.insert(newPos,contentSlice.content),tr.setSelection(new TextSelection(tr.doc.resolve(Math.max(newPos-1,0)))),!0},deleteCurrentNode=()=>({tr,dispatch})=>{const{selection}=tr,currentNode=selection.$anchor.node();if(currentNode.content.size>0)return!1;const $pos=tr.selection.$anchor;for(let depth=$pos.depth;depth>0;depth-=1){if($pos.node(depth).type===currentNode.type){if(dispatch){const from=$pos.before(depth),to=$pos.after(depth);tr.delete(from,to).scrollIntoView()}return!0}}return!1},deleteNode=typeOrName=>({tr,state,dispatch})=>{const type=getNodeType(typeOrName,state.schema),$pos=tr.selection.$anchor;for(let depth=$pos.depth;depth>0;depth-=1){if($pos.node(depth).type===type){if(dispatch){const from=$pos.before(depth),to=$pos.after(depth);tr.delete(from,to).scrollIntoView()}return!0}}return!1},dist_deleteRange=range=>({tr,dispatch})=>{const{from,to}=range;return dispatch&&tr.delete(from,to),!0},dist_deleteSelection=()=>({state,dispatch})=>deleteSelection(state,dispatch),enter=()=>({commands})=>commands.keyboardShortcut("Enter"),dist_exitCode=()=>({state,dispatch})=>exitCode(state,dispatch),extendMarkRange=(typeOrName,attributes={})=>({tr,state,dispatch})=>{const type=getMarkType(typeOrName,state.schema),{doc,selection}=tr,{$from,from,to}=selection;if(dispatch){const range=getMarkRange($from,type,attributes);if(range&&range.from<=from&&range.to>=to){const newSelection=TextSelection.create(doc,range.from,range.to);tr.setSelection(newSelection)}}return!0},first=commands=>props=>{const items="function"==typeof commands?commands(props):commands;for(let i=0;i<items.length;i+=1)if(items[i](props))return!0;return!1};function isAndroid(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var dist_focus=(position=null,options={})=>({editor,view,tr,dispatch})=>{options={scrollIntoView:!0,...options};const delayedFocus=()=>{(isiOS()||isAndroid())&&view.dom.focus(),requestAnimationFrame(()=>{editor.isDestroyed||(view.focus(),(null==options?void 0:options.scrollIntoView)&&editor.commands.scrollIntoView())})};if(view.hasFocus()&&null===position||!1===position)return!0;if(dispatch&&null===position&&!isTextSelection(editor.state.selection))return delayedFocus(),!0;const selection=resolveFocusPosition(tr.doc,position)||editor.state.selection,isSameSelection=editor.state.selection.eq(selection);return dispatch&&(isSameSelection||tr.setSelection(selection),isSameSelection&&tr.storedMarks&&tr.setStoredMarks(tr.storedMarks),delayedFocus()),!0},dist_forEach=(items,fn)=>props=>items.every((item,index)=>fn(item,{...props,index})),insertContent=(value,options)=>({tr,commands})=>commands.insertContentAt({from:tr.selection.from,to:tr.selection.to},value,options),insertContentAt=(position,value,options)=>({tr,dispatch,editor})=>{var _a;if(dispatch){let content;options={parseOptions:editor.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...options};const{selection}=editor.state,emitContentError=error=>{editor.emit("contentError",{editor,error,disableCollaboration:()=>{"collaboration"in editor.storage&&"object"==typeof editor.storage.collaboration&&editor.storage.collaboration&&(editor.storage.collaboration.isDisabled=!0)}})},parseOptions={preserveWhitespace:"full",...options.parseOptions};if(!options.errorOnInvalidContent&&!editor.options.enableContentCheck&&editor.options.emitContentError)try{createNodeFromContent(value,editor.schema,{parseOptions,errorOnInvalidContent:!0})}catch(e){emitContentError(e)}try{content=createNodeFromContent(value,editor.schema,{parseOptions,errorOnInvalidContent:null!=(_a=options.errorOnInvalidContent)?_a:editor.options.enableContentCheck})}catch(e){return emitContentError(e),!1}let{from,to}="number"==typeof position?{from:position,to:position}:{from:position.from,to:position.to},isOnlyTextContent=!0,isOnlyBlockContent=!0;if(("type"in content?[content]:content).forEach(node=>{node.check(),isOnlyTextContent=!!isOnlyTextContent&&(node.isText&&0===node.marks.length),isOnlyBlockContent=!!isOnlyBlockContent&&node.isBlock}),from===to&&isOnlyBlockContent){const{parent}=tr.doc.resolve(from);parent.isTextblock&&!parent.type.spec.code&&!parent.childCount&&(from-=1,to+=1)}let newContent;if(isOnlyTextContent){if(Array.isArray(value))newContent=value.map(v=>v.text||"").join("");else if(value instanceof dist_Fragment){let text="";value.forEach(node=>{node.text&&(text+=node.text)}),newContent=text}else newContent="object"==typeof value&&value&&value.text?value.text:value;tr.insertText(newContent,from,to)}else{newContent=content;const fromSelectionAtStart=0===selection.$from.parentOffset,isTextSelection2=selection.$from.node().isText||selection.$from.node().isTextblock,hasContent=selection.$from.node().content.size>0;fromSelectionAtStart&&isTextSelection2&&hasContent&&(from=Math.max(0,from-1)),tr.replaceWith(from,to,newContent)}options.updateSelection&&function dist_selectionToInsertionEnd(tr,startLen,bias){const last=tr.steps.length-1;if(last<startLen)return;const step=tr.steps[last];if(!(step instanceof ReplaceStep||step instanceof ReplaceAroundStep))return;const map=tr.mapping.maps[last];let end=0;map.forEach((_from,_to,_newFrom,newTo)=>{0===end&&(end=newTo)}),tr.setSelection(dist_Selection.near(tr.doc.resolve(end),bias))}(tr,tr.steps.length-1,-1),options.applyInputRules&&tr.setMeta("applyInputRules",{from,text:newContent}),options.applyPasteRules&&tr.setMeta("applyPasteRules",{from,text:newContent})}return!0},dist_joinUp=()=>({state,dispatch})=>((state,dispatch)=>{let point,sel=state.selection,nodeSel=sel instanceof NodeSelection;if(nodeSel){if(sel.node.isTextblock||!dist_canJoin(state.doc,sel.from))return!1;point=sel.from}else if(point=joinPoint(state.doc,sel.from,-1),null==point)return!1;if(dispatch){let tr=state.tr.join(point);nodeSel&&tr.setSelection(NodeSelection.create(tr.doc,point-state.doc.resolve(point).nodeBefore.nodeSize)),dispatch(tr.scrollIntoView())}return!0})(state,dispatch),dist_joinDown=()=>({state,dispatch})=>((state,dispatch)=>{let point,sel=state.selection;if(sel instanceof NodeSelection){if(sel.node.isTextblock||!dist_canJoin(state.doc,sel.to))return!1;point=sel.to}else if(point=joinPoint(state.doc,sel.to,1),null==point)return!1;return dispatch&&dispatch(state.tr.join(point).scrollIntoView()),!0})(state,dispatch),dist_joinBackward=()=>({state,dispatch})=>joinBackward(state,dispatch),dist_joinForward=()=>({state,dispatch})=>joinForward(state,dispatch),joinItemBackward=()=>({state,dispatch,tr})=>{try{const point=joinPoint(state.doc,state.selection.$from.pos,-1);return null!=point&&(tr.join(point,2),dispatch&&dispatch(tr),!0)}catch{return!1}},joinItemForward=()=>({state,dispatch,tr})=>{try{const point=joinPoint(state.doc,state.selection.$from.pos,1);return null!=point&&(tr.join(point,2),dispatch&&dispatch(tr),!0)}catch{return!1}},dist_joinTextblockBackward=()=>({state,dispatch})=>((state,dispatch,view)=>{let $cursor=atBlockStart(state,view);if(!$cursor)return!1;let $cut=findCutBefore($cursor);return!!$cut&&joinTextblocksAround(state,$cut,dispatch)})(state,dispatch),dist_joinTextblockForward=()=>({state,dispatch})=>((state,dispatch,view)=>{let $cursor=atBlockEnd(state,view);if(!$cursor)return!1;let $cut=findCutAfter($cursor);return!!$cut&&joinTextblocksAround(state,$cut,dispatch)})(state,dispatch);function isMacOS(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var keyboardShortcut=name=>({editor,view,tr,dispatch})=>{const keys=function dist_normalizeKeyName(name){const parts=name.split(/-(?!$)/);let alt,ctrl,shift,meta,result=parts[parts.length-1];"Space"===result&&(result=" ");for(let i=0;i<parts.length-1;i+=1){const mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))meta=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else if(/^s(hift)?$/i.test(mod))shift=!0;else{if(!/^mod$/i.test(mod))throw new Error(`Unrecognized modifier name: ${mod}`);isiOS()||isMacOS()?meta=!0:ctrl=!0}}return alt&&(result=`Alt-${result}`),ctrl&&(result=`Ctrl-${result}`),meta&&(result=`Meta-${result}`),shift&&(result=`Shift-${result}`),result}(name).split(/-(?!$)/),key=keys.find(item=>!["Alt","Ctrl","Meta","Shift"].includes(item)),event=new KeyboardEvent("keydown",{key:"Space"===key?" ":key,altKey:keys.includes("Alt"),ctrlKey:keys.includes("Ctrl"),metaKey:keys.includes("Meta"),shiftKey:keys.includes("Shift"),bubbles:!0,cancelable:!0}),capturedTransaction=editor.captureTransaction(()=>{view.someProp("handleKeyDown",f=>f(view,event))});return null==capturedTransaction||capturedTransaction.steps.forEach(step=>{const newStep=step.map(tr.mapping);newStep&&dispatch&&tr.maybeStep(newStep)}),!0},core_dist_lift=(typeOrName,attributes={})=>({state,dispatch})=>!!isNodeActive(state,getNodeType(typeOrName,state.schema),attributes)&&((state,dispatch)=>{let{$from,$to}=state.selection,range=$from.blockRange($to),target=range&&liftTarget(range);return null!=target&&(dispatch&&dispatch(state.tr.lift(range,target).scrollIntoView()),!0)})(state,dispatch),dist_liftEmptyBlock=()=>({state,dispatch})=>liftEmptyBlock(state,dispatch),dist_liftListItem=typeOrName=>({state,dispatch})=>liftListItem(getNodeType(typeOrName,state.schema))(state,dispatch),dist_newlineInCode=()=>({state,dispatch})=>newlineInCode(state,dispatch);function deleteProps(obj,propOrProps){const props="string"==typeof propOrProps?[propOrProps]:propOrProps;return Object.keys(obj).reduce((newObj,prop)=>(props.includes(prop)||(newObj[prop]=obj[prop]),newObj),{})}var resetAttributes=(typeOrName,attributes)=>({tr,state,dispatch})=>{let nodeType=null,markType=null;const schemaType=getSchemaTypeNameByName("string"==typeof typeOrName?typeOrName:typeOrName.name,state.schema);return!!schemaType&&("node"===schemaType&&(nodeType=getNodeType(typeOrName,state.schema)),"mark"===schemaType&&(markType=getMarkType(typeOrName,state.schema)),dispatch&&tr.selection.ranges.forEach(range=>{state.doc.nodesBetween(range.$from.pos,range.$to.pos,(node,pos)=>{nodeType&&nodeType===node.type&&tr.setNodeMarkup(pos,void 0,deleteProps(node.attrs,attributes)),markType&&node.marks.length&&node.marks.forEach(mark=>{markType===mark.type&&tr.addMark(pos,pos+node.nodeSize,markType.create(deleteProps(mark.attrs,attributes)))})})}),!0)},scrollIntoView=()=>({tr,dispatch})=>(dispatch&&tr.scrollIntoView(),!0),dist_selectAll=()=>({tr,dispatch})=>{if(dispatch){const selection=new AllSelection(tr.doc);tr.setSelection(selection)}return!0},dist_selectNodeBackward=()=>({state,dispatch})=>selectNodeBackward(state,dispatch),dist_selectNodeForward=()=>({state,dispatch})=>selectNodeForward(state,dispatch),dist_selectParentNode=()=>({state,dispatch})=>((state,dispatch)=>{let pos,{$from,to}=state.selection,same=$from.sharedDepth(to);return 0!=same&&(pos=$from.before(same),dispatch&&dispatch(state.tr.setSelection(NodeSelection.create(state.doc,pos))),!0)})(state,dispatch),dist_selectTextblockEnd=()=>({state,dispatch})=>selectTextblockEnd(state,dispatch),dist_selectTextblockStart=()=>({state,dispatch})=>selectTextblockStart(state,dispatch),setContent=(content,{errorOnInvalidContent,emitUpdate=!0,parseOptions={}}={})=>({editor,tr,dispatch,commands})=>{const{doc}=tr;if("full"!==parseOptions.preserveWhitespace){const document2=createDocument(content,editor.schema,parseOptions,{errorOnInvalidContent:null!=errorOnInvalidContent?errorOnInvalidContent:editor.options.enableContentCheck});return dispatch&&tr.replaceWith(0,doc.content.size,document2).setMeta("preventUpdate",!emitUpdate),!0}return dispatch&&tr.setMeta("preventUpdate",!emitUpdate),commands.insertContentAt({from:0,to:doc.content.size},content,{parseOptions,errorOnInvalidContent:null!=errorOnInvalidContent?errorOnInvalidContent:editor.options.enableContentCheck})};var setMark=(typeOrName,attributes={})=>({tr,state,dispatch})=>{const{selection}=tr,{empty,ranges}=selection,type=getMarkType(typeOrName,state.schema);if(dispatch)if(empty){const oldAttributes=getMarkAttributes(state,type);tr.addStoredMark(type.create({...oldAttributes,...attributes}))}else ranges.forEach(range=>{const from=range.$from.pos,to=range.$to.pos;state.doc.nodesBetween(from,to,(node,pos)=>{const trimmedFrom=Math.max(pos,from),trimmedTo=Math.min(pos+node.nodeSize,to);node.marks.find(mark=>mark.type===type)?node.marks.forEach(mark=>{type===mark.type&&tr.addMark(trimmedFrom,trimmedTo,type.create({...mark.attrs,...attributes}))}):tr.addMark(trimmedFrom,trimmedTo,type.create(attributes))})});return function canSetMark(state,tr,newMarkType){var _a;const{selection}=tr;let cursor=null;if(isTextSelection(selection)&&(cursor=selection.$cursor),cursor){const currentMarks=null!=(_a=state.storedMarks)?_a:cursor.marks();return!!newMarkType.isInSet(currentMarks)||!currentMarks.some(mark=>mark.type.excludes(newMarkType))}const{ranges}=selection;return ranges.some(({$from,$to})=>{let someNodeSupportsMark=0===$from.depth&&state.doc.inlineContent&&state.doc.type.allowsMarkType(newMarkType);return state.doc.nodesBetween($from.pos,$to.pos,(node,_pos,parent)=>{if(someNodeSupportsMark)return!1;if(node.isInline){const parentAllowsMarkType=!parent||parent.type.allowsMarkType(newMarkType),currentMarksAllowMarkType=!!newMarkType.isInSet(node.marks)||!node.marks.some(otherMark=>otherMark.type.excludes(newMarkType));someNodeSupportsMark=parentAllowsMarkType&&currentMarksAllowMarkType}return!someNodeSupportsMark}),someNodeSupportsMark})}(state,tr,type)},setMeta=(key,value)=>({tr})=>(tr.setMeta(key,value),!0),setNode=(typeOrName,attributes={})=>({state,dispatch,chain})=>{const type=getNodeType(typeOrName,state.schema);let attributesToCopy;return state.selection.$anchor.sameParent(state.selection.$head)&&(attributesToCopy=state.selection.$anchor.parent.attrs),type.isTextblock?chain().command(({commands})=>!!dist_setBlockType(type,{...attributesToCopy,...attributes})(state)||commands.clearNodes()).command(({state:updatedState})=>dist_setBlockType(type,{...attributesToCopy,...attributes})(updatedState,dispatch)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=position=>({tr,dispatch})=>{if(dispatch){const{doc}=tr,from=minMax(position,0,doc.content.size),selection=NodeSelection.create(doc,from);tr.setSelection(selection)}return!0},setTextSelection=position=>({tr,dispatch})=>{if(dispatch){const{doc}=tr,{from,to}="number"==typeof position?{from:position,to:position}:position,minPos=TextSelection.atStart(doc).from,maxPos=TextSelection.atEnd(doc).to,resolvedFrom=minMax(from,minPos,maxPos),resolvedEnd=minMax(to,minPos,maxPos),selection=TextSelection.create(doc,resolvedFrom,resolvedEnd);tr.setSelection(selection)}return!0},dist_sinkListItem=typeOrName=>({state,dispatch})=>function sinkListItem(itemType){return function(state,dispatch){let{$from,$to}=state.selection,range=$from.blockRange($to,node=>node.childCount>0&&node.firstChild.type==itemType);if(!range)return!1;let startIndex=range.startIndex;if(0==startIndex)return!1;let parent=range.parent,nodeBefore=parent.child(startIndex-1);if(nodeBefore.type!=itemType)return!1;if(dispatch){let nestedBefore=nodeBefore.lastChild&&nodeBefore.lastChild.type==parent.type,inner=dist_Fragment.from(nestedBefore?itemType.create():null),slice=new dist_Slice(dist_Fragment.from(itemType.create(null,dist_Fragment.from(parent.type.create(null,inner)))),nestedBefore?3:1,0),before=range.start,after=range.end;dispatch(state.tr.step(new ReplaceAroundStep(before-(nestedBefore?3:1),after,before,after,slice,1,!0)).scrollIntoView())}return!0}}(getNodeType(typeOrName,state.schema))(state,dispatch);function ensureMarks(state,splittableMarks){const marks=state.storedMarks||state.selection.$to.parentOffset&&state.selection.$from.marks();if(marks){const filteredMarks=marks.filter(mark=>null==splittableMarks?void 0:splittableMarks.includes(mark.type.name));state.tr.ensureMarks(filteredMarks)}}var dist_splitBlock=({keepMarks=!0}={})=>({tr,state,dispatch,editor})=>{const{selection,doc}=tr,{$from,$to}=selection,newAttributes=getSplittedAttributes(editor.extensionManager.attributes,$from.node().type.name,$from.node().attrs);if(selection instanceof NodeSelection&&selection.node.isBlock)return!(!$from.parentOffset||!dist_canSplit(doc,$from.pos))&&(dispatch&&(keepMarks&&ensureMarks(state,editor.extensionManager.splittableMarks),tr.split($from.pos).scrollIntoView()),!0);if(!$from.parent.isBlock)return!1;const atEnd=$to.parentOffset===$to.parent.content.size,deflt=0===$from.depth?void 0:function dist_defaultBlockAt(match){for(let i=0;i<match.edgeCount;i+=1){const{type}=match.edge(i);if(type.isTextblock&&!type.hasRequiredAttrs())return type}return null}($from.node(-1).contentMatchAt($from.indexAfter(-1)));let types=atEnd&&deflt?[{type:deflt,attrs:newAttributes}]:void 0,can=dist_canSplit(tr.doc,tr.mapping.map($from.pos),1,types);if(types||can||!dist_canSplit(tr.doc,tr.mapping.map($from.pos),1,deflt?[{type:deflt}]:void 0)||(can=!0,types=deflt?[{type:deflt,attrs:newAttributes}]:void 0),dispatch){if(can&&(selection instanceof TextSelection&&tr.deleteSelection(),tr.split(tr.mapping.map($from.pos),1,types),deflt&&!atEnd&&!$from.parentOffset&&$from.parent.type!==deflt)){const first2=tr.mapping.map($from.before()),$first=tr.doc.resolve(first2);$from.node(-1).canReplaceWith($first.index(),$first.index()+1,deflt)&&tr.setNodeMarkup(tr.mapping.map($from.before()),deflt)}keepMarks&&ensureMarks(state,editor.extensionManager.splittableMarks),tr.scrollIntoView()}return can},dist_splitListItem=(typeOrName,overrideAttrs={})=>({tr,state,dispatch,editor})=>{var _a;const type=getNodeType(typeOrName,state.schema),{$from,$to}=state.selection,node=state.selection.node;if(node&&node.isBlock||$from.depth<2||!$from.sameParent($to))return!1;const grandParent=$from.node(-1);if(grandParent.type!==type)return!1;const extensionAttributes=editor.extensionManager.attributes;if(0===$from.parent.content.size&&$from.node(-1).childCount===$from.indexAfter(-1)){if(2===$from.depth||$from.node(-3).type!==type||$from.index(-2)!==$from.node(-2).childCount-1)return!1;if(dispatch){let wrap=dist_Fragment.empty;const depthBefore=$from.index(-1)?1:$from.index(-2)?2:3;for(let d=$from.depth-depthBefore;d>=$from.depth-3;d-=1)wrap=dist_Fragment.from($from.node(d).copy(wrap));const depthAfter=$from.indexAfter(-1)<$from.node(-2).childCount?1:$from.indexAfter(-2)<$from.node(-3).childCount?2:3,newNextTypeAttributes2={...getSplittedAttributes(extensionAttributes,$from.node().type.name,$from.node().attrs),...overrideAttrs},nextType2=(null==(_a=type.contentMatch.defaultType)?void 0:_a.createAndFill(newNextTypeAttributes2))||void 0;wrap=wrap.append(dist_Fragment.from(type.createAndFill(null,nextType2)||void 0));const start=$from.before($from.depth-(depthBefore-1));tr.replace(start,$from.after(-depthAfter),new dist_Slice(wrap,4-depthBefore,0));let sel=-1;tr.doc.nodesBetween(start,tr.doc.content.size,(n,pos)=>{if(sel>-1)return!1;n.isTextblock&&0===n.content.size&&(sel=pos+1)}),sel>-1&&tr.setSelection(TextSelection.near(tr.doc.resolve(sel))),tr.scrollIntoView()}return!0}const nextType=$to.pos===$from.end()?grandParent.contentMatchAt(0).defaultType:null,newTypeAttributes={...getSplittedAttributes(extensionAttributes,grandParent.type.name,grandParent.attrs),...overrideAttrs},newNextTypeAttributes={...getSplittedAttributes(extensionAttributes,$from.node().type.name,$from.node().attrs),...overrideAttrs};tr.delete($from.pos,$to.pos);const types=nextType?[{type,attrs:newTypeAttributes},{type:nextType,attrs:newNextTypeAttributes}]:[{type,attrs:newTypeAttributes}];if(!dist_canSplit(tr.doc,$from.pos,2))return!1;if(dispatch){const{selection,storedMarks}=state,{splittableMarks}=editor.extensionManager,marks=storedMarks||selection.$to.parentOffset&&selection.$from.marks();if(tr.split($from.pos,2,types).scrollIntoView(),!marks||!dispatch)return!0;const filteredMarks=marks.filter(mark=>splittableMarks.includes(mark.type.name));tr.ensureMarks(filteredMarks)}return!0},joinListBackwards=(tr,listType)=>{const list=findParentNode(node=>node.type===listType)(tr.selection);if(!list)return!0;const before=tr.doc.resolve(Math.max(0,list.pos-1)).before(list.depth);if(void 0===before)return!0;const nodeBefore=tr.doc.nodeAt(before);return list.node.type!==(null==nodeBefore?void 0:nodeBefore.type)||!dist_canJoin(tr.doc,list.pos)||(tr.join(list.pos),!0)},joinListForwards=(tr,listType)=>{const list=findParentNode(node=>node.type===listType)(tr.selection);if(!list)return!0;const after=tr.doc.resolve(list.start).after(list.depth);if(void 0===after)return!0;const nodeAfter=tr.doc.nodeAt(after);return list.node.type!==(null==nodeAfter?void 0:nodeAfter.type)||!dist_canJoin(tr.doc,after)||(tr.join(after),!0)},toggleList=(listTypeOrName,itemTypeOrName,keepMarks,attributes={})=>({editor,tr,state,dispatch,chain,commands,can})=>{const{extensions,splittableMarks}=editor.extensionManager,listType=getNodeType(listTypeOrName,state.schema),itemType=getNodeType(itemTypeOrName,state.schema),{selection,storedMarks}=state,{$from,$to}=selection,range=$from.blockRange($to),marks=storedMarks||selection.$to.parentOffset&&selection.$from.marks();if(!range)return!1;const parentList=findParentNode(node=>isList(node.type.name,extensions))(selection);if(range.depth>=1&&parentList&&range.depth-parentList.depth<=1){if(parentList.node.type===listType)return commands.liftListItem(itemType);if(isList(parentList.node.type.name,extensions)&&listType.validContent(parentList.node.content)&&dispatch)return chain().command(()=>(tr.setNodeMarkup(parentList.pos,listType),!0)).command(()=>joinListBackwards(tr,listType)).command(()=>joinListForwards(tr,listType)).run()}return keepMarks&&marks&&dispatch?chain().command(()=>{const canWrapInList=can().wrapInList(listType,attributes),filteredMarks=marks.filter(mark=>splittableMarks.includes(mark.type.name));return tr.ensureMarks(filteredMarks),!!canWrapInList||commands.clearNodes()}).wrapInList(listType,attributes).command(()=>joinListBackwards(tr,listType)).command(()=>joinListForwards(tr,listType)).run():chain().command(()=>!!can().wrapInList(listType,attributes)||commands.clearNodes()).wrapInList(listType,attributes).command(()=>joinListBackwards(tr,listType)).command(()=>joinListForwards(tr,listType)).run()},dist_toggleMark=(typeOrName,attributes={},options={})=>({state,commands})=>{const{extendEmptyMarkRange=!1}=options,type=getMarkType(typeOrName,state.schema);return isMarkActive(state,type,attributes)?commands.unsetMark(type,{extendEmptyMarkRange}):commands.setMark(type,attributes)},toggleNode=(typeOrName,toggleTypeOrName,attributes={})=>({state,commands})=>{const type=getNodeType(typeOrName,state.schema),toggleType=getNodeType(toggleTypeOrName,state.schema),isActive2=isNodeActive(state,type,attributes);let attributesToCopy;return state.selection.$anchor.sameParent(state.selection.$head)&&(attributesToCopy=state.selection.$anchor.parent.attrs),isActive2?commands.setNode(toggleType,attributesToCopy):commands.setNode(type,{...attributesToCopy,...attributes})},toggleWrap=(typeOrName,attributes={})=>({state,commands})=>{const type=getNodeType(typeOrName,state.schema);return isNodeActive(state,type,attributes)?commands.lift(type):commands.wrapIn(type,attributes)},undoInputRule=()=>({state,dispatch})=>{const plugins=state.plugins;for(let i=0;i<plugins.length;i+=1){const plugin=plugins[i];let undoable;if(plugin.spec.isInputRules&&(undoable=plugin.getState(state))){if(dispatch){const tr=state.tr,toUndo=undoable.transform;for(let j=toUndo.steps.length-1;j>=0;j-=1)tr.step(toUndo.steps[j].invert(toUndo.docs[j]));if(undoable.text){const marks=tr.doc.resolve(undoable.from).marks();tr.replaceWith(undoable.from,undoable.to,state.schema.text(undoable.text,marks))}else tr.delete(undoable.from,undoable.to)}return!0}}return!1},unsetAllMarks=()=>({tr,dispatch})=>{const{selection}=tr,{empty,ranges}=selection;return empty||dispatch&&ranges.forEach(range=>{tr.removeMark(range.$from.pos,range.$to.pos)}),!0},unsetMark=(typeOrName,options={})=>({tr,state,dispatch})=>{var _a;const{extendEmptyMarkRange=!1}=options,{selection}=tr,type=getMarkType(typeOrName,state.schema),{$from,empty,ranges}=selection;if(!dispatch)return!0;if(empty&&extendEmptyMarkRange){let{from,to}=selection;const attrs=null==(_a=$from.marks().find(mark=>mark.type===type))?void 0:_a.attrs,range=getMarkRange($from,type,attrs);range&&(from=range.from,to=range.to),tr.removeMark(from,to,type)}else ranges.forEach(range=>{tr.removeMark(range.$from.pos,range.$to.pos,type)});return tr.removeStoredMark(type),!0},updateAttributes=(typeOrName,attributes={})=>({tr,state,dispatch})=>{let nodeType=null,markType=null;const schemaType=getSchemaTypeNameByName("string"==typeof typeOrName?typeOrName:typeOrName.name,state.schema);return!!schemaType&&("node"===schemaType&&(nodeType=getNodeType(typeOrName,state.schema)),"mark"===schemaType&&(markType=getMarkType(typeOrName,state.schema)),dispatch&&tr.selection.ranges.forEach(range=>{const from=range.$from.pos,to=range.$to.pos;let lastPos,lastNode,trimmedFrom,trimmedTo;tr.selection.empty?state.doc.nodesBetween(from,to,(node,pos)=>{nodeType&&nodeType===node.type&&(trimmedFrom=Math.max(pos,from),trimmedTo=Math.min(pos+node.nodeSize,to),lastPos=pos,lastNode=node)}):state.doc.nodesBetween(from,to,(node,pos)=>{pos<from&&nodeType&&nodeType===node.type&&(trimmedFrom=Math.max(pos,from),trimmedTo=Math.min(pos+node.nodeSize,to),lastPos=pos,lastNode=node),pos>=from&&pos<=to&&(nodeType&&nodeType===node.type&&tr.setNodeMarkup(pos,void 0,{...node.attrs,...attributes}),markType&&node.marks.length&&node.marks.forEach(mark=>{if(markType===mark.type){const trimmedFrom2=Math.max(pos,from),trimmedTo2=Math.min(pos+node.nodeSize,to);tr.addMark(trimmedFrom2,trimmedTo2,markType.create({...mark.attrs,...attributes}))}}))}),lastNode&&(void 0!==lastPos&&tr.setNodeMarkup(lastPos,void 0,{...lastNode.attrs,...attributes}),markType&&lastNode.marks.length&&lastNode.marks.forEach(mark=>{markType===mark.type&&tr.addMark(trimmedFrom,trimmedTo,markType.create({...mark.attrs,...attributes}))}))}),!0)},dist_wrapIn=(typeOrName,attributes={})=>({state,dispatch})=>function wrapIn(nodeType,attrs=null){return function(state,dispatch){let{$from,$to}=state.selection,range=$from.blockRange($to),wrapping=range&&findWrapping(range,nodeType,attrs);return!!wrapping&&(dispatch&&dispatch(state.tr.wrap(range,wrapping).scrollIntoView()),!0)}}(getNodeType(typeOrName,state.schema),attributes)(state,dispatch),dist_wrapInList=(typeOrName,attributes={})=>({state,dispatch})=>wrapInList(getNodeType(typeOrName,state.schema),attributes)(state,dispatch),Commands=Extension.create({name:"commands",addCommands:()=>({...commands_exports})}),dist_Delete=Extension.create({name:"delete",onUpdate({transaction,appendedTransactions}){var _a,_b,_c;const callback=()=>{var _a2,_b2,_c2,_d;if(null!=(_d=null==(_c2=null==(_b2=null==(_a2=this.editor.options.coreExtensionOptions)?void 0:_a2.delete)?void 0:_b2.filterTransaction)?void 0:_c2.call(_b2,transaction))?_d:transaction.getMeta("y-sync$"))return;const nextTransaction=combineTransactionSteps(transaction.before,[transaction,...appendedTransactions]);getChangedRanges(nextTransaction).forEach(change=>{nextTransaction.mapping.mapResult(change.oldRange.from).deletedAfter&&nextTransaction.mapping.mapResult(change.oldRange.to).deletedBefore&&nextTransaction.before.nodesBetween(change.oldRange.from,change.oldRange.to,(node,from)=>{const to=from+node.nodeSize-2,isFullyWithinRange=change.oldRange.from<=from&&to<=change.oldRange.to;this.editor.emit("delete",{type:"node",node,from,to,newFrom:nextTransaction.mapping.map(from),newTo:nextTransaction.mapping.map(to),deletedRange:change.oldRange,newRange:change.newRange,partial:!isFullyWithinRange,editor:this.editor,transaction,combinedTransform:nextTransaction})})});const mapping=nextTransaction.mapping;nextTransaction.steps.forEach((step,index)=>{var _a3,_b3;if(step instanceof RemoveMarkStep){const newStart=mapping.slice(index).map(step.from,-1),newEnd=mapping.slice(index).map(step.to),oldStart=mapping.invert().map(newStart,-1),oldEnd=mapping.invert().map(newEnd),foundBeforeMark=null==(_a3=nextTransaction.doc.nodeAt(newStart-1))?void 0:_a3.marks.some(mark=>mark.eq(step.mark)),foundAfterMark=null==(_b3=nextTransaction.doc.nodeAt(newEnd))?void 0:_b3.marks.some(mark=>mark.eq(step.mark));this.editor.emit("delete",{type:"mark",mark:step.mark,from:step.from,to:step.to,deletedRange:{from:oldStart,to:oldEnd},newRange:{from:newStart,to:newEnd},partial:Boolean(foundAfterMark||foundBeforeMark),editor:this.editor,transaction,combinedTransform:nextTransaction})}})};null==(_c=null==(_b=null==(_a=this.editor.options.coreExtensionOptions)?void 0:_a.delete)?void 0:_b.async)||_c?setTimeout(callback,0):callback()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(_,e,slice,moved)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice,moved})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(view,event)=>{editor.isFocused=!0;const transaction=editor.state.tr.setMeta("focus",{event}).setMeta("addToHistory",!1);return view.dispatch(transaction),!1},blur:(view,event)=>{editor.isFocused=!1;const transaction=editor.state.tr.setMeta("blur",{event}).setMeta("addToHistory",!1);return view.dispatch(transaction),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const handleBackspace=()=>this.editor.commands.first(({commands})=>[()=>commands.undoInputRule(),()=>commands.command(({tr})=>{const{selection,doc}=tr,{empty,$anchor}=selection,{pos,parent}=$anchor,$parentPos=$anchor.parent.isTextblock&&pos>0?tr.doc.resolve(pos-1):$anchor,parentIsIsolating=$parentPos.parent.type.spec.isolating,parentPos=$anchor.pos-$anchor.parentOffset,isAtStart=parentIsIsolating&&1===$parentPos.parent.childCount?parentPos===$anchor.pos:dist_Selection.atStart(doc).from===pos;return!(!empty||!parent.type.isTextblock||parent.textContent.length||!isAtStart||isAtStart&&"paragraph"===$anchor.parent.type.name)&&commands.clearNodes()}),()=>commands.deleteSelection(),()=>commands.joinBackward(),()=>commands.selectNodeBackward()]),handleDelete=()=>this.editor.commands.first(({commands})=>[()=>commands.deleteSelection(),()=>commands.deleteCurrentNode(),()=>commands.joinForward(),()=>commands.selectNodeForward()]),baseKeymap={Enter:()=>this.editor.commands.first(({commands})=>[()=>commands.newlineInCode(),()=>commands.createParagraphNear(),()=>commands.liftEmptyBlock(),()=>commands.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:handleBackspace,"Mod-Backspace":handleBackspace,"Shift-Backspace":handleBackspace,Delete:handleDelete,"Mod-Delete":handleDelete,"Mod-a":()=>this.editor.commands.selectAll()},pcKeymap={...baseKeymap},macKeymap={...baseKeymap,"Ctrl-h":handleBackspace,"Alt-Backspace":handleBackspace,"Ctrl-d":handleDelete,"Ctrl-Alt-Backspace":handleDelete,"Alt-Delete":handleDelete,"Alt-d":handleDelete,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?macKeymap:pcKeymap},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(transactions,oldState,newState)=>{if(transactions.some(tr2=>tr2.getMeta("composition")))return;const docChanges=transactions.some(transaction=>transaction.docChanged)&&!oldState.doc.eq(newState.doc),ignoreTr=transactions.some(transaction=>transaction.getMeta("preventClearDocument"));if(!docChanges||ignoreTr)return;const{empty,from,to}=oldState.selection,allFrom=dist_Selection.atStart(oldState.doc).from,allEnd=dist_Selection.atEnd(oldState.doc).to;if(empty||!(from===allFrom&&to===allEnd))return;if(!isNodeEmpty(newState.doc))return;const tr=newState.tr,state=createChainableState({state:newState,transaction:tr}),{commands}=new CommandManager({editor:this.editor,state});return commands.clearNodes(),tr.steps.length?tr:void 0}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(_view,e,slice)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),NodePos=class _NodePos{constructor(pos,editor,isBlock=!1,node=null){this.currentNode=null,this.actualDepth=null,this.isBlock=isBlock,this.resolvedPos=pos,this.editor=editor,this.currentNode=node}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var _a;return null!=(_a=this.actualDepth)?_a:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(content){let from=this.from,to=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);from=this.from+1,to=this.to-1}this.editor.commands.insertContentAt({from,to},content)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const parentPos=this.resolvedPos.start(this.resolvedPos.depth-1),$pos=this.resolvedPos.doc.resolve(parentPos);return new _NodePos($pos,this.editor)}get before(){let $pos=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return $pos.depth!==this.depth&&($pos=this.resolvedPos.doc.resolve(this.from-3)),new _NodePos($pos,this.editor)}get after(){let $pos=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return $pos.depth!==this.depth&&($pos=this.resolvedPos.doc.resolve(this.to+3)),new _NodePos($pos,this.editor)}get children(){const children=[];return this.node.content.forEach((node,offset)=>{const isBlock=node.isBlock&&!node.isTextblock,isNonTextAtom=node.isAtom&&!node.isText,targetPos=this.pos+offset+(isNonTextAtom?0:1);if(targetPos<0||targetPos>this.resolvedPos.doc.nodeSize-2)return;const $pos=this.resolvedPos.doc.resolve(targetPos);if(!isBlock&&$pos.depth<=this.depth)return;const childNodePos=new _NodePos($pos,this.editor,isBlock,isBlock?node:null);isBlock&&(childNodePos.actualDepth=this.depth+1),children.push(new _NodePos($pos,this.editor,isBlock,isBlock?node:null))}),children}get firstChild(){return this.children[0]||null}get lastChild(){const children=this.children;return children[children.length-1]||null}closest(selector,attributes={}){let node=null,currentNode=this.parent;for(;currentNode&&!node;){if(currentNode.node.type.name===selector)if(Object.keys(attributes).length>0){const nodeAttributes=currentNode.node.attrs,attrKeys=Object.keys(attributes);for(let index=0;index<attrKeys.length;index+=1){const key=attrKeys[index];if(nodeAttributes[key]!==attributes[key])break}}else node=currentNode;currentNode=currentNode.parent}return node}querySelector(selector,attributes={}){return this.querySelectorAll(selector,attributes,!0)[0]||null}querySelectorAll(selector,attributes={},firstItemOnly=!1){let nodes=[];if(!this.children||0===this.children.length)return nodes;const attrKeys=Object.keys(attributes);return this.children.forEach(childPos=>{if(!(firstItemOnly&&nodes.length>0)){if(childPos.node.type.name===selector){const doesAllAttributesMatch=attrKeys.every(key=>attributes[key]===childPos.node.attrs[key]);doesAllAttributesMatch&&nodes.push(childPos)}firstItemOnly&&nodes.length>0||(nodes=nodes.concat(childPos.querySelectorAll(selector,attributes,firstItemOnly)))}}),nodes}setAttribute(attributes){const{tr}=this.editor.state;tr.setNodeMarkup(this.from,void 0,{...this.node.attrs,...attributes}),this.editor.view.dispatch(tr)}};var Editor=class extends EventEmitter{constructor(options={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error})=>{throw error},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(options),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event,slice,moved})=>this.options.onDrop(event,slice,moved)),this.on("paste",({event,slice})=>this.options.onPaste(event,slice)),this.on("delete",this.options.onDelete);const initialDoc=this.createDoc(),selection=resolveFocusPosition(initialDoc,this.options.autofocus);this.editorState=EditorState.create({doc:initialDoc,schema:this.schema,selection:selection||void 0}),this.options.element&&this.mount(this.options.element)}mount(el){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(el),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var _a;if(this.editorView){const dom=this.editorView.dom;(null==dom?void 0:dom.editor)&&delete dom.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,null==(_a=this.css)||_a.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function createStyleTag(style2,nonce,suffix){const tiptapStyleTag=document.querySelector(`style[data-tiptap-style${suffix?`-${suffix}`:""}]`);if(null!==tiptapStyleTag)return tiptapStyleTag;const styleNode=document.createElement("style");return nonce&&styleNode.setAttribute("nonce",nonce),styleNode.setAttribute("data-tiptap-style"+(suffix?`-${suffix}`:""),""),styleNode.innerHTML=style2,document.getElementsByTagName("head")[0].appendChild(styleNode),styleNode}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(options={}){this.options={...this.options,...options},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(editable,emitUpdate=!0){this.setOptions({editable}),emitUpdate&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:state=>{this.editorState=state},dispatch:tr=>{this.editorState=this.state.apply(tr)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(obj,key)=>{if("state"===key)return this.editorState;if(key in obj)return Reflect.get(obj,key);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${key}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(plugin,handlePlugins){const plugins=dist_isFunction(handlePlugins)?handlePlugins(plugin,[...this.state.plugins]):[...this.state.plugins,plugin],state=this.state.reconfigure({plugins});return this.view.updateState(state),state}unregisterPlugin(nameOrPluginKeyToRemove){if(this.isDestroyed)return;const prevPlugins=this.state.plugins;let plugins=prevPlugins;if([].concat(nameOrPluginKeyToRemove).forEach(nameOrPluginKey=>{const name="string"==typeof nameOrPluginKey?`${nameOrPluginKey}$`:nameOrPluginKey.key;plugins=plugins.filter(plugin=>!plugin.key.startsWith(name))}),prevPlugins.length===plugins.length)return;const state=this.state.reconfigure({plugins});return this.view.updateState(state),state}createExtensionManager(){var _a,_b;const allExtensions=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:null==(_b=null==(_a=this.options.coreExtensionOptions)?void 0:_a.clipboardTextSerializer)?void 0:_b.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,dist_Delete].filter(ext=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[ext.name]):[],...this.options.extensions].filter(extension=>["extension","node","mark"].includes(null==extension?void 0:extension.type));this.extensionManager=new ExtensionManager(allExtensions,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let doc;try{doc=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message)))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(extension=>"collaboration"!==extension.name),this.createExtensionManager()}}),doc=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return doc}createView(element){var _a;this.editorView=new EditorView(element,{...this.options.editorProps,attributes:{role:"textbox",...null==(_a=this.options.editorProps)?void 0:_a.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const newState=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(newState),this.createNodeViews(),this.prependClass(),this.injectCSS();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(fn){this.isCapturingTransaction=!0,fn(),this.isCapturingTransaction=!1;const tr=this.capturedTransaction;return this.capturedTransaction=null,tr}dispatchTransaction(transaction){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void transaction.steps.forEach(step=>{var _a;return null==(_a=this.capturedTransaction)?void 0:_a.step(step)}):void(this.capturedTransaction=transaction);const{state,transactions}=this.state.applyTransaction(transaction),selectionHasChanged=!this.state.selection.eq(state.selection),rootTrWasApplied=transactions.includes(transaction),prevState=this.state;if(this.emit("beforeTransaction",{editor:this,transaction,nextState:state}),!rootTrWasApplied)return;this.view.updateState(state),this.emit("transaction",{editor:this,transaction,appendedTransactions:transactions.slice(1)}),selectionHasChanged&&this.emit("selectionUpdate",{editor:this,transaction});const mostRecentFocusTr=transactions.findLast(tr=>tr.getMeta("focus")||tr.getMeta("blur")),focus2=null==mostRecentFocusTr?void 0:mostRecentFocusTr.getMeta("focus"),blur2=null==mostRecentFocusTr?void 0:mostRecentFocusTr.getMeta("blur");focus2&&this.emit("focus",{editor:this,event:focus2.event,transaction:mostRecentFocusTr}),blur2&&this.emit("blur",{editor:this,event:blur2.event,transaction:mostRecentFocusTr}),transaction.getMeta("preventUpdate")||!transactions.some(tr=>tr.docChanged)||prevState.doc.eq(state.doc)||this.emit("update",{editor:this,transaction,appendedTransactions:transactions.slice(1)})}getAttributes(nameOrType){return getAttributes(this.state,nameOrType)}isActive(nameOrAttributes,attributesOrUndefined){const name="string"==typeof nameOrAttributes?nameOrAttributes:null,attributes="string"==typeof nameOrAttributes?attributesOrUndefined:nameOrAttributes;return function isActive(state,name,attributes={}){if(!name)return isNodeActive(state,null,attributes)||isMarkActive(state,null,attributes);const schemaType=getSchemaTypeNameByName(name,state.schema);return"node"===schemaType?isNodeActive(state,name,attributes):"mark"===schemaType&&isMarkActive(state,name,attributes)}(this.state,name,attributes)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(options){const{blockSeparator="\n\n",textSerializers={}}=options||{};return dist_getText(this.state.doc,{blockSeparator,textSerializers:{...getTextSerializersFromSchema(this.schema),...textSerializers}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var _a,_b;return null==(_b=null==(_a=this.editorView)?void 0:_a.isDestroyed)||_b}$node(selector,attributes){var _a;return(null==(_a=this.$doc)?void 0:_a.querySelector(selector,attributes))||null}$nodes(selector,attributes){var _a;return(null==(_a=this.$doc)?void 0:_a.querySelectorAll(selector,attributes))||null}$pos(pos){const $pos=this.state.doc.resolve(pos);return new NodePos($pos,this)}get $doc(){return this.$pos(0)}};function markInputRule(config){return new InputRule({find:config.find,handler:({state,range,match})=>{const attributes=callOrReturn(config.getAttributes,void 0,match);if(!1===attributes||null===attributes)return null;const{tr}=state,captureGroup=match[match.length-1],fullMatch=match[0];if(captureGroup){const startSpaces=fullMatch.search(/\S/),textStart=range.from+fullMatch.indexOf(captureGroup),textEnd=textStart+captureGroup.length;if(getMarksBetween(range.from,range.to,state.doc).filter(item=>item.mark.type.excluded.find(type=>type===config.type&&type!==item.mark.type)).filter(item=>item.to>textStart).length)return null;textEnd<range.to&&tr.delete(textEnd,range.to),textStart>range.from&&tr.delete(range.from+startSpaces,textStart);const markEnd=range.from+startSpaces+captureGroup.length;tr.addMark(range.from+startSpaces,markEnd,config.type.create(attributes||{})),tr.removeStoredMark(config.type)}}})}function nodeInputRule(config){return new InputRule({find:config.find,handler:({state,range,match})=>{const attributes=callOrReturn(config.getAttributes,void 0,match)||{},{tr}=state,start=range.from;let end=range.to;const newNode=config.type.create(attributes);if(match[1]){let matchStart=start+match[0].lastIndexOf(match[1]);matchStart>end?matchStart=end:end=matchStart+match[1].length;const lastChar=match[0][match[0].length-1];tr.insertText(lastChar,start+match[0].length-1),tr.replaceWith(matchStart,end,newNode)}else if(match[0]){const insertionStart=config.type.isInline?start:start-1;tr.insert(insertionStart,config.type.create(attributes)).delete(tr.mapping.map(start),tr.mapping.map(end))}tr.scrollIntoView()}})}function textblockTypeInputRule(config){return new InputRule({find:config.find,handler:({state,range,match})=>{const $start=state.doc.resolve(range.from),attributes=callOrReturn(config.getAttributes,void 0,match)||{};if(!$start.node(-1).canReplaceWith($start.index(-1),$start.indexAfter(-1),config.type))return null;state.tr.delete(range.from,range.to).setBlockType(range.from,range.from,config.type,attributes)}})}function wrappingInputRule(config){return new InputRule({find:config.find,handler:({state,range,match,chain})=>{const attributes=callOrReturn(config.getAttributes,void 0,match)||{},tr=state.tr.delete(range.from,range.to),blockRange=tr.doc.resolve(range.from).blockRange(),wrapping=blockRange&&findWrapping(blockRange,config.type,attributes);if(!wrapping)return null;if(tr.wrap(blockRange,wrapping),config.keepMarks&&config.editor){const{selection,storedMarks}=state,{splittableMarks}=config.editor.extensionManager,marks=storedMarks||selection.$to.parentOffset&&selection.$from.marks();if(marks){const filteredMarks=marks.filter(mark=>splittableMarks.includes(mark.type.name));tr.ensureMarks(filteredMarks)}}if(config.keepAttributes){const nodeType="bulletList"===config.type.name||"orderedList"===config.type.name?"listItem":"taskList";chain().updateAttributes(nodeType,attributes).run()}const before=tr.doc.resolve(range.from-1).nodeBefore;before&&before.type===config.type&&dist_canJoin(tr.doc,range.from-1)&&(!config.joinPredicate||config.joinPredicate(match,before))&&tr.join(range.from-1)}})}function updateMarkViewAttributes(checkMark,editor,attrs={}){const{state}=editor,{doc,tr}=state,thisMark=checkMark;doc.descendants((node,pos)=>{const from=tr.mapping.map(pos),to=tr.mapping.map(pos)+node.nodeSize;let foundMark=null;if(node.marks.forEach(mark=>{if(mark!==thisMark)return!1;foundMark=mark}),!foundMark)return;let needsUpdate=!1;if(Object.keys(attrs).forEach(k=>{attrs[k]!==foundMark.attrs[k]&&(needsUpdate=!0)}),needsUpdate){const updatedMark=checkMark.type.create({...checkMark.attrs,...attrs});tr.removeMark(from,to,checkMark.type),tr.addMark(from,to,updatedMark)}}),tr.docChanged&&editor.view.dispatch(tr)}var Node3=class _Node extends Extendable{constructor(){super(...arguments),this.type="node"}static create(config={}){const resolvedConfig="function"==typeof config?config():config;return new _Node(resolvedConfig)}configure(options){return super.configure(options)}extend(extendedConfig){const resolvedConfig="function"==typeof extendedConfig?extendedConfig():extendedConfig;return super.extend(resolvedConfig)}};function markPasteRule(config){return new PasteRule({find:config.find,handler:({state,range,match,pasteEvent})=>{const attributes=callOrReturn(config.getAttributes,void 0,match,pasteEvent);if(!1===attributes||null===attributes)return null;const{tr}=state,captureGroup=match[match.length-1],fullMatch=match[0];let markEnd=range.to;if(captureGroup){const startSpaces=fullMatch.search(/\S/),textStart=range.from+fullMatch.indexOf(captureGroup),textEnd=textStart+captureGroup.length;if(getMarksBetween(range.from,range.to,state.doc).filter(item=>item.mark.type.excluded.find(type=>type===config.type&&type!==item.mark.type)).filter(item=>item.to>textStart).length)return null;textEnd<range.to&&tr.delete(textEnd,range.to),textStart>range.from&&tr.delete(range.from+startSpaces,textStart),markEnd=range.from+startSpaces+captureGroup.length,tr.addMark(range.from+startSpaces,markEnd,config.type.create(attributes||{})),tr.removeStoredMark(config.type)}}})}var es6_react=__webpack_require__(55095),with_selector=__webpack_require__(69242),mergeRefs=(...refs)=>node=>{refs.forEach(ref=>{"function"==typeof ref?ref(node):ref&&(ref.current=node)})},Portals=({contentComponent})=>{const renderers=(0,shim.useSyncExternalStore)(contentComponent.subscribe,contentComponent.getSnapshot,contentComponent.getServerSnapshot);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object.values(renderers)})};var PureEditorContent=class extends react.Component{constructor(props){var _a;super(props),this.editorContentRef=react.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(_a=props.editor)?void 0:_a.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const editor=this.props.editor;if(editor&&!editor.isDestroyed&&editor.options.element){if(editor.contentComponent)return;const element=this.editorContentRef.current;element.append(...editor.options.element.childNodes),editor.setOptions({element}),editor.contentComponent=function getInstance(){const subscribers=new Set;let renderers={};return{subscribe:callback=>(subscribers.add(callback),()=>{subscribers.delete(callback)}),getSnapshot:()=>renderers,getServerSnapshot:()=>renderers,setRenderer(id,renderer){renderers={...renderers,[id]:react_dom.createPortal(renderer.reactElement,renderer.element,id)},subscribers.forEach(subscriber=>subscriber())},removeRenderer(id){const nextRenderers={...renderers};delete nextRenderers[id],renderers=nextRenderers,subscribers.forEach(subscriber=>subscriber())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=editor.contentComponent.subscribe(()=>{this.setState(prevState=>prevState.hasContentComponentInitialized?prevState:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),editor.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var _a;const editor=this.props.editor;if(!editor)return;if(this.initialized=!1,editor.isDestroyed||editor.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),editor.contentComponent=null,!(null==(_a=editor.options.element)?void 0:_a.firstChild))return;const newElement=document.createElement("div");newElement.append(...editor.options.element.childNodes),editor.setOptions({element:newElement})}render(){const{editor,innerRef,...rest}=this.props;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:mergeRefs(innerRef,this.editorContentRef),...rest}),(null==editor?void 0:editor.contentComponent)&&(0,jsx_runtime.jsx)(Portals,{contentComponent:editor.contentComponent})]})}},EditorContentWithKey=(0,react.forwardRef)((props,ref)=>{const key=react.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[props.editor]);return react.createElement(PureEditorContent,{key,innerRef:ref,...props})}),EditorContent=react.memo(EditorContentWithKey),useIsomorphicLayoutEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect,EditorStateManager=class{constructor(initialEditor){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=initialEditor,this.lastSnapshot={editor:initialEditor,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(callback){return this.subscribers.add(callback),()=>{this.subscribers.delete(callback)}}watch(nextEditor){if(this.editor=nextEditor,this.editor){const fn=()=>{this.transactionNumber+=1,this.subscribers.forEach(callback=>callback())},currentEditor=this.editor;return currentEditor.on("transaction",fn),()=>{currentEditor.off("transaction",fn)}}}};var isSSR="undefined"==typeof window,isNext=isSSR||Boolean("undefined"!=typeof window&&window.next),EditorInstanceManager=class _EditorInstanceManager{constructor(options){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=options,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(editor){this.editor=editor,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(cb=>cb())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const optionsToApply={...this.options.current,onBeforeCreate:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onBeforeCreate)?void 0:_b.call(_a,...args)},onBlur:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onBlur)?void 0:_b.call(_a,...args)},onCreate:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onCreate)?void 0:_b.call(_a,...args)},onDestroy:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onDestroy)?void 0:_b.call(_a,...args)},onFocus:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onFocus)?void 0:_b.call(_a,...args)},onSelectionUpdate:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onSelectionUpdate)?void 0:_b.call(_a,...args)},onTransaction:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onTransaction)?void 0:_b.call(_a,...args)},onUpdate:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onUpdate)?void 0:_b.call(_a,...args)},onContentError:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onContentError)?void 0:_b.call(_a,...args)},onDrop:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onDrop)?void 0:_b.call(_a,...args)},onPaste:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onPaste)?void 0:_b.call(_a,...args)},onDelete:(...args)=>{var _a,_b;return null==(_b=(_a=this.options.current).onDelete)?void 0:_b.call(_a,...args)}};return new Editor(optionsToApply)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(onStoreChange){return this.subscriptions.add(onStoreChange),()=>{this.subscriptions.delete(onStoreChange)}}static compareOptions(a,b){return Object.keys(a).every(key=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(key)||("extensions"===key&&a.extensions&&b.extensions?a.extensions.length===b.extensions.length&&a.extensions.every((extension,index)=>{var _a;return extension===(null==(_a=b.extensions)?void 0:_a[index])}):a[key]===b[key]))}onRender(deps){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===deps.length?_EditorInstanceManager.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(deps),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(deps){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=deps);if(this.previousDeps.length===deps.length&&this.previousDeps.every((dep,index)=>dep===deps[index]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=deps}scheduleDestroy(){const currentInstanceId=this.instanceId,currentEditor=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===currentInstanceId?currentEditor&&currentEditor.setOptions(this.options.current):currentEditor&&!currentEditor.isDestroyed&&(currentEditor.destroy(),this.instanceId===currentInstanceId&&this.setEditor(null))},1)}};function useEditor(options={},deps=[]){const mostRecentOptions=(0,react.useRef)(options);mostRecentOptions.current=options;const[instanceManager]=(0,react.useState)(()=>new EditorInstanceManager(mostRecentOptions)),editor=(0,shim.useSyncExternalStore)(instanceManager.subscribe,instanceManager.getEditor,instanceManager.getServerSnapshot);return(0,react.useDebugValue)(editor),(0,react.useEffect)(instanceManager.onRender(deps)),function useEditorState(options){var _a;const[editorStateManager]=(0,react.useState)(()=>new EditorStateManager(options.editor)),selectedState=(0,with_selector.useSyncExternalStoreWithSelector)(editorStateManager.subscribe,editorStateManager.getSnapshot,editorStateManager.getServerSnapshot,options.selector,null!=(_a=options.equalityFn)?_a:es6_react);return useIsomorphicLayoutEffect(()=>editorStateManager.watch(options.editor),[options.editor,editorStateManager]),(0,react.useDebugValue)(selectedState),selectedState}({editor,selector:({transactionNumber})=>!1===options.shouldRerenderOnTransaction||void 0===options.shouldRerenderOnTransaction?null:options.immediatelyRender&&0===transactionNumber?0:transactionNumber+1}),editor}var EditorContext=(0,react.createContext)({editor:null});EditorContext.Consumer;var ReactNodeViewContext=(0,react.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>(0,react.useContext)(ReactNodeViewContext);react.forwardRef((props,ref)=>{const{onDragStart}=useReactNodeView(),Tag=props.as||"div";return(0,jsx_runtime.jsx)(Tag,{...props,ref,"data-node-view-wrapper":"",onDragStart,style:{whiteSpace:"normal",...props.style}})});react.createContext({markViewContentRef:()=>{}});var jsx_runtime_h=(tag,attributes)=>{if("slot"===tag)return 0;if(tag instanceof Function)return tag(attributes);const{children,...rest}=null!=attributes?attributes:{};if("svg"===tag)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[tag,rest,children]},inputRegex=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes}){return jsx_runtime_h("blockquote",{...mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),children:jsx_runtime_h("slot",{})})},addCommands(){return{setBlockquote:()=>({commands})=>commands.wrapIn(this.name),toggleBlockquote:()=>({commands})=>commands.toggleWrap(this.name),unsetBlockquote:()=>({commands})=>commands.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=dist_Mark.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:node=>"normal"!==node.style.fontWeight&&null},{style:"font-weight=400",clearMark:mark=>mark.type.name===this.name},{style:"font-weight",getAttrs:value=>/^(bold(er)?|[5-9]\d{2,})$/.test(value)&&null}]},renderHTML({HTMLAttributes}){return jsx_runtime_h("strong",{...mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),children:jsx_runtime_h("slot",{})})},addCommands(){return{setBold:()=>({commands})=>commands.setMark(this.name),toggleBold:()=>({commands})=>commands.toggleMark(this.name),unsetBold:()=>({commands})=>commands.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),dist_inputRegex=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex=/(^|[^`])`([^`]+)`(?!`)/g,Code=dist_Mark.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes}){return["code",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{setCode:()=>({commands})=>commands.setMark(this.name),toggleCode:()=>({commands})=>commands.toggleMark(this.name),unsetCode:()=>({commands})=>commands.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:dist_inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:element=>{var _a;const{languageClassPrefix}=this.options,language=[...(null==(_a=element.firstElementChild)?void 0:_a.classList)||[]].filter(className=>className.startsWith(languageClassPrefix)).map(className=>className.replace(languageClassPrefix,""))[0];return language||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node,HTMLAttributes}){return["pre",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),["code",{class:node.attrs.language?this.options.languageClassPrefix+node.attrs.language:null},0]]},addCommands(){return{setCodeBlock:attributes=>({commands})=>commands.setNode(this.name,attributes),toggleCodeBlock:attributes=>({commands})=>commands.toggleNode(this.name,"paragraph",attributes)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty,$anchor}=this.editor.state.selection,isAtStart=1===$anchor.pos;return!(!empty||$anchor.parent.type.name!==this.name)&&(!(!isAtStart&&$anchor.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor})=>{if(!this.options.exitOnTripleEnter)return!1;const{state}=editor,{selection}=state,{$from,empty}=selection;if(!empty||$from.parent.type!==this.type)return!1;const isAtEnd=$from.parentOffset===$from.parent.nodeSize-2,endsWithDoubleNewline=$from.parent.textContent.endsWith("\n\n");return!(!isAtEnd||!endsWithDoubleNewline)&&editor.chain().command(({tr})=>(tr.delete($from.pos-2,$from.pos),!0)).exitCode().run()},ArrowDown:({editor})=>{if(!this.options.exitOnArrowDown)return!1;const{state}=editor,{selection,doc}=state,{$from,empty}=selection;if(!empty||$from.parent.type!==this.type)return!1;if(!($from.parentOffset===$from.parent.nodeSize-2))return!1;const after=$from.after();if(void 0===after)return!1;return doc.nodeAt(after)?editor.commands.command(({tr})=>(tr.setSelection(dist_Selection.near(doc.resolve(after))),!0)):editor.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:match=>({language:match[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:match=>({language:match[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(view,event)=>{if(!event.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const text=event.clipboardData.getData("text/plain"),vscode=event.clipboardData.getData("vscode-editor-data"),vscodeData=vscode?JSON.parse(vscode):void 0,language=null==vscodeData?void 0:vscodeData.mode;if(!text||!language)return!1;const{tr,schema}=view.state,textNode=schema.text(text.replace(/\r\n?/g,"\n"));return tr.replaceSelectionWith(this.type.create({language},textNode)),tr.selection.$from.parent.type!==this.type&&tr.setSelection(TextSelection.near(tr.doc.resolve(Math.max(0,tr.selection.from-2)))),tr.setMeta("paste",!0),view.dispatch(tr),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+"}),HardBreak=Node3.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes}){return["br",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands,chain,state,editor})=>commands.first([()=>commands.exitCode(),()=>commands.command(()=>{const{selection,storedMarks}=state;if(selection.$from.parent.type.spec.isolating)return!1;const{keepMarks}=this.options,{splittableMarks}=editor.extensionManager,marks=storedMarks||selection.$to.parentOffset&&selection.$from.marks();return chain().insertContent({type:this.name}).command(({tr,dispatch})=>{if(dispatch&&marks&&keepMarks){const filteredMarks=marks.filter(mark=>splittableMarks.includes(mark.type.name));tr.ensureMarks(filteredMarks)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(level=>({tag:`h${level}`,attrs:{level}}))},renderHTML({node,HTMLAttributes}){return[`h${this.options.levels.includes(node.attrs.level)?node.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{setHeading:attributes=>({commands})=>!!this.options.levels.includes(attributes.level)&&commands.setNode(this.name,attributes),toggleHeading:attributes=>({commands})=>!!this.options.levels.includes(attributes.level)&&commands.toggleNode(this.name,"paragraph",attributes)}},addKeyboardShortcuts(){return this.options.levels.reduce((items,level)=>({...items,[`Mod-Alt-${level}`]:()=>this.editor.commands.toggleHeading({level})}),{})},addInputRules(){return this.options.levels.map(level=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${level}})\\s$`),type:this.type,getAttributes:{level}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes}){return["hr",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes)]},addCommands(){return{setHorizontalRule:()=>({chain,state})=>{if(!function canInsertNode(state,nodeType){const{selection}=state,{$from}=selection;if(selection instanceof NodeSelection){const index=$from.index();return $from.parent.canReplaceWith(index,index+1,nodeType)}let depth=$from.depth;for(;depth>=0;){const index=$from.index(depth);if($from.node(depth).contentMatchAt(index).matchType(nodeType))return!0;depth-=1}return!1}(state,state.schema.nodes[this.name]))return!1;const{selection}=state,{$to:$originTo}=selection,currentChain=chain();return isNodeSelection(selection)?currentChain.insertContentAt($originTo.pos,{type:this.name}):currentChain.insertContent({type:this.name}),currentChain.command(({tr,dispatch})=>{var _a;if(dispatch){const{$to}=tr.selection,posAfter=$to.end();if($to.nodeAfter)$to.nodeAfter.isTextblock?tr.setSelection(TextSelection.create(tr.doc,$to.pos+1)):$to.nodeAfter.isBlock?tr.setSelection(NodeSelection.create(tr.doc,$to.pos)):tr.setSelection(TextSelection.create(tr.doc,$to.pos));else{const node=null==(_a=$to.parent.type.contentMatch.defaultType)?void 0:_a.create();node&&(tr.insert(posAfter,node),tr.setSelection(TextSelection.create(tr.doc,posAfter+1)))}tr.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),dist_starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,dist_starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,dist_underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,dist_underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=dist_Mark.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:node=>"normal"!==node.style.fontStyle&&null},{style:"font-style=normal",clearMark:mark=>mark.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes}){return["em",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{setItalic:()=>({commands})=>commands.setMark(this.name),toggleItalic:()=>({commands})=>commands.toggleMark(this.name),unsetItalic:()=>({commands})=>commands.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:dist_starInputRegex,type:this.type}),markInputRule({find:dist_underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:dist_starPasteRegex,type:this.type}),markPasteRule({find:dist_underscorePasteRegex,type:this.type})]}});const numeric="numeric",ascii="ascii",linkify_alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(name,groups){return name in groups||(groups[name]=[]),groups[name]}function addToGroups(t,flags,groups){flags.numeric&&(flags.asciinumeric=!0,flags.alphanumeric=!0),flags.ascii&&(flags.asciinumeric=!0,flags.alpha=!0),flags.asciinumeric&&(flags.alphanumeric=!0),flags.alpha&&(flags.alphanumeric=!0),flags.alphanumeric&&(flags.domain=!0),flags.emoji&&(flags.domain=!0);for(const k in flags){const group=registerGroup(k,groups);group.indexOf(t)<0&&group.push(t)}}function State(token=null){this.j={},this.jr=[],this.jd=null,this.t=token}State.groups={},State.prototype={accepts(){return!!this.t},go(input){const state=this,nextState=state.j[input];if(nextState)return nextState;for(let i=0;i<state.jr.length;i++){const regex=state.jr[i][0],nextState=state.jr[i][1];if(nextState&&regex.test(input))return nextState}return state.jd},has(input,exactOnly=!1){return exactOnly?input in this.j:!!this.go(input)},ta(inputs,next,flags,groups){for(let i=0;i<inputs.length;i++)this.tt(inputs[i],next,flags,groups)},tr(regexp,next,flags,groups){let nextState;return groups=groups||State.groups,next&&next.j?nextState=next:(nextState=new State(next),flags&&groups&&addToGroups(next,flags,groups)),this.jr.push([regexp,nextState]),nextState},ts(input,next,flags,groups){let state=this;const len=input.length;if(!len)return state;for(let i=0;i<len-1;i++)state=state.tt(input[i]);return state.tt(input[len-1],next,flags,groups)},tt(input,next,flags,groups){groups=groups||State.groups;const state=this;if(next&&next.j)return state.j[input]=next,next;const t=next;let nextState,templateState=state.go(input);if(templateState?(nextState=new State,Object.assign(nextState.j,templateState.j),nextState.jr.push.apply(nextState.jr,templateState.jr),nextState.jd=templateState.jd,nextState.t=templateState.t):nextState=new State,t){if(groups)if(nextState.t&&"string"==typeof nextState.t){const allFlags=Object.assign(function flagsForToken(t,groups){const result={};for(const c in groups)groups[c].indexOf(t)>=0&&(result[c]=!0);return result}(nextState.t,groups),flags);addToGroups(t,allFlags,groups)}else flags&&addToGroups(t,flags,groups);nextState.t=t}return state.j[input]=nextState,nextState}};const ta=(state,input,next,flags,groups)=>state.ta(input,next,flags,groups),tr=(state,regexp,next,flags,groups)=>state.tr(regexp,next,flags,groups),ts=(state,input,next,flags,groups)=>state.ts(input,next,flags,groups),linkify_tt=(state,input,next,flags,groups)=>state.tt(input,next,flags,groups),WORD="WORD",AT="AT",COLON="COLON",DOT="DOT",HYPHEN="HYPHEN",SLASH="SLASH";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL:"ALPHANUMERICAL",AMPERSAND:"AMPERSAND",APOSTROPHE:"APOSTROPHE",ASCIINUMERICAL:"ASCIINUMERICAL",ASTERISK:"ASTERISK",AT,BACKSLASH:"BACKSLASH",BACKTICK:"BACKTICK",CARET:"CARET",CLOSEANGLEBRACKET:"CLOSEANGLEBRACKET",CLOSEBRACE:"CLOSEBRACE",CLOSEBRACKET:"CLOSEBRACKET",CLOSEPAREN:"CLOSEPAREN",COLON,COMMA:"COMMA",DOLLAR:"DOLLAR",DOT,EMOJI:"EMOJI",EQUALS:"EQUALS",EXCLAMATION:"EXCLAMATION",FULLWIDTHGREATERTHAN:"FULLWIDTHGREATERTHAN",FULLWIDTHLEFTPAREN:"FULLWIDTHLEFTPAREN",FULLWIDTHLESSTHAN:"FULLWIDTHLESSTHAN",FULLWIDTHMIDDLEDOT:"FULLWIDTHMIDDLEDOT",FULLWIDTHRIGHTPAREN:"FULLWIDTHRIGHTPAREN",HYPHEN,LEFTCORNERBRACKET:"LEFTCORNERBRACKET",LEFTWHITECORNERBRACKET:"LEFTWHITECORNERBRACKET",LOCALHOST:"LOCALHOST",NL:"NL",NUM:"NUM",OPENANGLEBRACKET:"OPENANGLEBRACKET",OPENBRACE:"OPENBRACE",OPENBRACKET:"OPENBRACKET",OPENPAREN:"OPENPAREN",PERCENT:"PERCENT",PIPE:"PIPE",PLUS:"PLUS",POUND:"POUND",QUERY:"QUERY",QUOTE:"QUOTE",RIGHTCORNERBRACKET:"RIGHTCORNERBRACKET",RIGHTWHITECORNERBRACKET:"RIGHTWHITECORNERBRACKET",SCHEME:"SCHEME",SEMI:"SEMI",SLASH,SLASH_SCHEME:"SLASH_SCHEME",SYM:"SYM",TILDE:"TILDE",TLD:"TLD",UNDERSCORE:"UNDERSCORE",UTLD:"UTLD",UWORD:"UWORD",WORD,WS:"WS"});const ASCII_LETTER=/[a-z]/,LETTER=/\p{L}/u,EMOJI=/\p{Emoji}/u,DIGIT=/\d/,SPACE=/\s/;let tlds=null,utlds=null;function run$1(start,str){const iterable=function stringToArray(str){const result=[],len=str.length;let index=0;for(;index<len;){let second,first=str.charCodeAt(index),char=first<55296||first>56319||index+1===len||(second=str.charCodeAt(index+1))<56320||second>57343?str[index]:str.slice(index,index+2);result.push(char),index+=char.length}return result}(str.replace(/[A-Z]/g,c=>c.toLowerCase())),charCount=iterable.length,tokens=[];let cursor=0,charCursor=0;for(;charCursor<charCount;){let state=start,nextState=null,tokenLength=0,latestAccepting=null,sinceAccepts=-1,charsSinceAccepts=-1;for(;charCursor<charCount&&(nextState=state.go(iterable[charCursor]));)state=nextState,state.accepts()?(sinceAccepts=0,charsSinceAccepts=0,latestAccepting=state):sinceAccepts>=0&&(sinceAccepts+=iterable[charCursor].length,charsSinceAccepts++),tokenLength+=iterable[charCursor].length,cursor+=iterable[charCursor].length,charCursor++;cursor-=sinceAccepts,charCursor-=charsSinceAccepts,tokenLength-=sinceAccepts,tokens.push({t:latestAccepting.t,v:str.slice(cursor-tokenLength,cursor),s:cursor-tokenLength,e:cursor})}return tokens}function fastts(state,input,t,defaultt,jr){let next;const len=input.length;for(let i=0;i<len-1;i++){const char=input[i];state.j[char]?next=state.j[char]:(next=new State(defaultt),next.jr=jr.slice(),state.j[char]=next),state=next}return next=new State(t),next.jr=jr.slice(),state.j[input[len-1]]=next,next}function decodeTlds(encoded){const words=[],stack=[];let i=0;for(;i<encoded.length;){let popDigitCount=0;for(;"0123456789".indexOf(encoded[i+popDigitCount])>=0;)popDigitCount++;if(popDigitCount>0){words.push(stack.join(""));for(let popCount=parseInt(encoded.substring(i,i+popDigitCount),10);popCount>0;popCount--)stack.pop();i+=popDigitCount}else stack.push(encoded[i]),i++}return words}const defaults={defaultProtocol:"http",events:null,format:linkify_noop,formatHref:linkify_noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(opts,defaultRender=null){let o=Object.assign({},defaults);opts&&(o=Object.assign(o,opts instanceof Options?opts.o:opts));const ignoredTags=o.ignoreTags,uppercaseIgnoredTags=[];for(let i=0;i<ignoredTags.length;i++)uppercaseIgnoredTags.push(ignoredTags[i].toUpperCase());this.o=o,defaultRender&&(this.defaultRender=defaultRender),this.ignoreTags=uppercaseIgnoredTags}function linkify_noop(val){return val}Options.prototype={o:defaults,ignoreTags:[],defaultRender:ir=>ir,check(token){return this.get("validate",token.toString(),token)},get(key,operator,token){const isCallable=null!=operator;let option=this.o[key];return option?("object"==typeof option?(option=token.t in option?option[token.t]:defaults[key],"function"==typeof option&&isCallable&&(option=option(operator,token))):"function"==typeof option&&isCallable&&(option=option(operator,token.t,token)),option):option},getObj(key,operator,token){let obj=this.o[key];return"function"==typeof obj&&null!=operator&&(obj=obj(operator,token.t,token)),obj},render(token){const ir=token.render(this);return(this.get("render",null,token)||this.defaultRender)(ir,token.t,token)}};function MultiToken(value,tokens){this.t="token",this.v=value,this.tk=tokens}function createTokenClass(type,props){class Token extends MultiToken{constructor(value,tokens){super(value,tokens),this.t=type}}for(const p in props)Token.prototype[p]=props[p];return Token.t=type,Token}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(scheme){return this.toString()},toFormattedString(options){const val=this.toString(),truncate=options.get("truncate",val,this),formatted=options.get("format",val,this);return truncate&&formatted.length>truncate?formatted.substring(0,truncate)+"":formatted},toFormattedHref(options){return options.get("formatHref",this.toHref(options.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(protocol=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(protocol),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(options){return{type:this.t,value:this.toFormattedString(options),isLink:this.isLink,href:this.toFormattedHref(options),start:this.startIndex(),end:this.endIndex()}},validate(options){return options.get("validate",this.toString(),this)},render(options){const href=this.toHref(options.get("defaultProtocol")),formattedHref=options.get("formatHref",href,this),tagName=options.get("tagName",href,this),content=this.toFormattedString(options),attributes={},className=options.get("className",href,this),target=options.get("target",href,this),rel=options.get("rel",href,this),attrs=options.getObj("attributes",href,this),eventListeners=options.getObj("events",href,this);return attributes.href=formattedHref,className&&(attributes.class=className),target&&(attributes.target=target),rel&&(attributes.rel=rel),attrs&&Object.assign(attributes,attrs),{tagName,attributes,content,eventListeners}}};const linkify_Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(scheme=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${scheme}://${this.v}`},hasProtocol(){const tokens=this.tk;return tokens.length>=2&&"LOCALHOST"!==tokens[0].t&&tokens[1].t===COLON}});const makeState=arg=>new State(arg);function initMultiToken(Multi,input,tokens){const startIdx=tokens[0].s,endIdx=tokens[tokens.length-1].e;return new Multi(input.slice(startIdx,endIdx),tokens)}const warn="undefined"!=typeof console&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function registerCustomProtocol(scheme,optionalSlashSlash=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${scheme}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(scheme))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');INIT.customSchemes.push([scheme,optionalSlashSlash])}function init(){INIT.scanner=function init$2(customSchemes=[]){const groups={};State.groups=groups;const Start=new State;null==tlds&&(tlds=decodeTlds("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==utlds&&(utlds=decodeTlds("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222")),linkify_tt(Start,"'","APOSTROPHE"),linkify_tt(Start,"{","OPENBRACE"),linkify_tt(Start,"}","CLOSEBRACE"),linkify_tt(Start,"[","OPENBRACKET"),linkify_tt(Start,"]","CLOSEBRACKET"),linkify_tt(Start,"(","OPENPAREN"),linkify_tt(Start,")","CLOSEPAREN"),linkify_tt(Start,"<","OPENANGLEBRACKET"),linkify_tt(Start,">","CLOSEANGLEBRACKET"),linkify_tt(Start,"","FULLWIDTHLEFTPAREN"),linkify_tt(Start,"","FULLWIDTHRIGHTPAREN"),linkify_tt(Start,"","LEFTCORNERBRACKET"),linkify_tt(Start,"","RIGHTCORNERBRACKET"),linkify_tt(Start,"","LEFTWHITECORNERBRACKET"),linkify_tt(Start,"","RIGHTWHITECORNERBRACKET"),linkify_tt(Start,"","FULLWIDTHLESSTHAN"),linkify_tt(Start,"","FULLWIDTHGREATERTHAN"),linkify_tt(Start,"&","AMPERSAND"),linkify_tt(Start,"*","ASTERISK"),linkify_tt(Start,"@",AT),linkify_tt(Start,"`","BACKTICK"),linkify_tt(Start,"^","CARET"),linkify_tt(Start,":",COLON),linkify_tt(Start,",","COMMA"),linkify_tt(Start,"$","DOLLAR"),linkify_tt(Start,".",DOT),linkify_tt(Start,"=","EQUALS"),linkify_tt(Start,"!","EXCLAMATION"),linkify_tt(Start,"-",HYPHEN),linkify_tt(Start,"%","PERCENT"),linkify_tt(Start,"|","PIPE"),linkify_tt(Start,"+","PLUS"),linkify_tt(Start,"#","POUND"),linkify_tt(Start,"?","QUERY"),linkify_tt(Start,'"',"QUOTE"),linkify_tt(Start,"/",SLASH),linkify_tt(Start,";","SEMI"),linkify_tt(Start,"~","TILDE"),linkify_tt(Start,"_","UNDERSCORE"),linkify_tt(Start,"\\","BACKSLASH"),linkify_tt(Start,"","FULLWIDTHMIDDLEDOT");const Num=tr(Start,DIGIT,"NUM",{[numeric]:!0});tr(Num,DIGIT,Num);const Asciinumeric=tr(Num,ASCII_LETTER,"ASCIINUMERICAL",{[asciinumeric]:!0}),Alphanumeric=tr(Num,LETTER,"ALPHANUMERICAL",{[alphanumeric]:!0}),Word=tr(Start,ASCII_LETTER,WORD,{[ascii]:!0});tr(Word,DIGIT,Asciinumeric),tr(Word,ASCII_LETTER,Word),tr(Asciinumeric,DIGIT,Asciinumeric),tr(Asciinumeric,ASCII_LETTER,Asciinumeric);const UWord=tr(Start,LETTER,"UWORD",{[linkify_alpha]:!0});tr(UWord,ASCII_LETTER),tr(UWord,DIGIT,Alphanumeric),tr(UWord,LETTER,UWord),tr(Alphanumeric,DIGIT,Alphanumeric),tr(Alphanumeric,ASCII_LETTER),tr(Alphanumeric,LETTER,Alphanumeric);const Nl=linkify_tt(Start,"\n","NL",{[whitespace]:!0}),Cr=linkify_tt(Start,"\r","WS",{[whitespace]:!0}),Ws=tr(Start,SPACE,"WS",{[whitespace]:!0});linkify_tt(Start,"",Ws),linkify_tt(Cr,"\n",Nl),linkify_tt(Cr,"",Ws),tr(Cr,SPACE,Ws),linkify_tt(Ws,"\r"),linkify_tt(Ws,"\n"),tr(Ws,SPACE,Ws),linkify_tt(Ws,"",Ws);const Emoji=tr(Start,EMOJI,"EMOJI",{[emoji]:!0});linkify_tt(Emoji,"#"),tr(Emoji,EMOJI,Emoji),linkify_tt(Emoji,"",Emoji);const EmojiJoiner=linkify_tt(Emoji,"");linkify_tt(EmojiJoiner,"#"),tr(EmojiJoiner,EMOJI,Emoji);const wordjr=[[ASCII_LETTER,Word],[DIGIT,Asciinumeric]],uwordjr=[[ASCII_LETTER,null],[LETTER,UWord],[DIGIT,Alphanumeric]];for(let i=0;i<tlds.length;i++)fastts(Start,tlds[i],"TLD",WORD,wordjr);for(let i=0;i<utlds.length;i++)fastts(Start,utlds[i],"UTLD","UWORD",uwordjr);addToGroups("TLD",{tld:!0,ascii:!0},groups),addToGroups("UTLD",{utld:!0,alpha:!0},groups),fastts(Start,"file","SCHEME",WORD,wordjr),fastts(Start,"mailto","SCHEME",WORD,wordjr),fastts(Start,"http","SLASH_SCHEME",WORD,wordjr),fastts(Start,"https","SLASH_SCHEME",WORD,wordjr),fastts(Start,"ftp","SLASH_SCHEME",WORD,wordjr),fastts(Start,"ftps","SLASH_SCHEME",WORD,wordjr),addToGroups("SCHEME",{scheme:!0,ascii:!0},groups),addToGroups("SLASH_SCHEME",{slashscheme:!0,ascii:!0},groups),customSchemes=customSchemes.sort((a,b)=>a[0]>b[0]?1:-1);for(let i=0;i<customSchemes.length;i++){const sch=customSchemes[i][0],flags=customSchemes[i][1]?{[scheme]:!0}:{[slashscheme]:!0};sch.indexOf("-")>=0?flags.domain=!0:ASCII_LETTER.test(sch)?DIGIT.test(sch)?flags.asciinumeric=!0:flags.ascii=!0:flags.numeric=!0,ts(Start,sch,sch,flags)}return ts(Start,"localhost","LOCALHOST",{ascii:!0}),Start.jd=new State("SYM"),{start:Start,tokens:Object.assign({groups},tk)}}(INIT.customSchemes);for(let i=0;i<INIT.tokenQueue.length;i++)INIT.tokenQueue[i][1]({scanner:INIT.scanner});INIT.parser=function init$1({groups}){const qsAccepting=groups.domain.concat(["AMPERSAND","ASTERISK",AT,"BACKSLASH","BACKTICK","CARET","DOLLAR","EQUALS",HYPHEN,"NUM","PERCENT","PIPE","PLUS","POUND",SLASH,"SYM","TILDE","UNDERSCORE"]),qsNonAccepting=["APOSTROPHE",COLON,"COMMA",DOT,"EXCLAMATION","PERCENT","QUERY","QUOTE","SEMI","OPENANGLEBRACKET","CLOSEANGLEBRACKET","OPENBRACE","CLOSEBRACE","CLOSEBRACKET","OPENBRACKET","OPENPAREN","CLOSEPAREN","FULLWIDTHLEFTPAREN","FULLWIDTHRIGHTPAREN","LEFTCORNERBRACKET","RIGHTCORNERBRACKET","LEFTWHITECORNERBRACKET","RIGHTWHITECORNERBRACKET","FULLWIDTHLESSTHAN","FULLWIDTHGREATERTHAN"],localpartAccepting=["AMPERSAND","APOSTROPHE","ASTERISK","BACKSLASH","BACKTICK","CARET","DOLLAR","EQUALS",HYPHEN,"OPENBRACE","CLOSEBRACE","PERCENT","PIPE","PLUS","POUND","QUERY",SLASH,"SYM","TILDE","UNDERSCORE"],Start=makeState(),Localpart=linkify_tt(Start,"TILDE");ta(Localpart,localpartAccepting,Localpart),ta(Localpart,groups.domain,Localpart);const Domain=makeState(),Scheme=makeState(),SlashScheme=makeState();ta(Start,groups.domain,Domain),ta(Start,groups.scheme,Scheme),ta(Start,groups.slashscheme,SlashScheme),ta(Domain,localpartAccepting,Localpart),ta(Domain,groups.domain,Domain);const LocalpartAt=linkify_tt(Domain,AT);linkify_tt(Localpart,AT,LocalpartAt),linkify_tt(Scheme,AT,LocalpartAt),linkify_tt(SlashScheme,AT,LocalpartAt);const LocalpartDot=linkify_tt(Localpart,DOT);ta(LocalpartDot,localpartAccepting,Localpart),ta(LocalpartDot,groups.domain,Localpart);const EmailDomain=makeState();ta(LocalpartAt,groups.domain,EmailDomain),ta(EmailDomain,groups.domain,EmailDomain);const EmailDomainDot=linkify_tt(EmailDomain,DOT);ta(EmailDomainDot,groups.domain,EmailDomain);const Email$1=makeState(linkify_Email);ta(EmailDomainDot,groups.tld,Email$1),ta(EmailDomainDot,groups.utld,Email$1),linkify_tt(LocalpartAt,"LOCALHOST",Email$1);const EmailDomainHyphen=linkify_tt(EmailDomain,HYPHEN);linkify_tt(EmailDomainHyphen,HYPHEN,EmailDomainHyphen),ta(EmailDomainHyphen,groups.domain,EmailDomain),ta(Email$1,groups.domain,EmailDomain),linkify_tt(Email$1,DOT,EmailDomainDot),linkify_tt(Email$1,HYPHEN,EmailDomainHyphen);const EmailColon=linkify_tt(Email$1,COLON);ta(EmailColon,groups.numeric,linkify_Email);const DomainHyphen=linkify_tt(Domain,HYPHEN),DomainDot=linkify_tt(Domain,DOT);linkify_tt(DomainHyphen,HYPHEN,DomainHyphen),ta(DomainHyphen,groups.domain,Domain),ta(DomainDot,localpartAccepting,Localpart),ta(DomainDot,groups.domain,Domain);const DomainDotTld=makeState(Url);ta(DomainDot,groups.tld,DomainDotTld),ta(DomainDot,groups.utld,DomainDotTld),ta(DomainDotTld,groups.domain,Domain),ta(DomainDotTld,localpartAccepting,Localpart),linkify_tt(DomainDotTld,DOT,DomainDot),linkify_tt(DomainDotTld,HYPHEN,DomainHyphen),linkify_tt(DomainDotTld,AT,LocalpartAt);const DomainDotTldColon=linkify_tt(DomainDotTld,COLON),DomainDotTldColonPort=makeState(Url);ta(DomainDotTldColon,groups.numeric,DomainDotTldColonPort);const Url$1=makeState(Url),UrlNonaccept=makeState();ta(Url$1,qsAccepting,Url$1),ta(Url$1,qsNonAccepting,UrlNonaccept),ta(UrlNonaccept,qsAccepting,Url$1),ta(UrlNonaccept,qsNonAccepting,UrlNonaccept),linkify_tt(DomainDotTld,SLASH,Url$1),linkify_tt(DomainDotTldColonPort,SLASH,Url$1);const SchemeColon=linkify_tt(Scheme,COLON),SlashSchemeColon=linkify_tt(SlashScheme,COLON),SlashSchemeColonSlash=linkify_tt(SlashSchemeColon,SLASH),UriPrefix=linkify_tt(SlashSchemeColonSlash,SLASH);ta(Scheme,groups.domain,Domain),linkify_tt(Scheme,DOT,DomainDot),linkify_tt(Scheme,HYPHEN,DomainHyphen),ta(SlashScheme,groups.domain,Domain),linkify_tt(SlashScheme,DOT,DomainDot),linkify_tt(SlashScheme,HYPHEN,DomainHyphen),ta(SchemeColon,groups.domain,Url$1),linkify_tt(SchemeColon,SLASH,Url$1),linkify_tt(SchemeColon,"QUERY",Url$1),ta(UriPrefix,groups.domain,Url$1),ta(UriPrefix,qsAccepting,Url$1),linkify_tt(UriPrefix,SLASH,Url$1);const bracketPairs=[["OPENBRACE","CLOSEBRACE"],["OPENBRACKET","CLOSEBRACKET"],["OPENPAREN","CLOSEPAREN"],["OPENANGLEBRACKET","CLOSEANGLEBRACKET"],["FULLWIDTHLEFTPAREN","FULLWIDTHRIGHTPAREN"],["LEFTCORNERBRACKET","RIGHTCORNERBRACKET"],["LEFTWHITECORNERBRACKET","RIGHTWHITECORNERBRACKET"],["FULLWIDTHLESSTHAN","FULLWIDTHGREATERTHAN"]];for(let i=0;i<bracketPairs.length;i++){const[OPEN,CLOSE]=bracketPairs[i],UrlOpen=linkify_tt(Url$1,OPEN);linkify_tt(UrlNonaccept,OPEN,UrlOpen),linkify_tt(UrlOpen,CLOSE,Url$1);const UrlOpenQ=makeState(Url);ta(UrlOpen,qsAccepting,UrlOpenQ);const UrlOpenSyms=makeState();ta(UrlOpen,qsNonAccepting),ta(UrlOpenQ,qsAccepting,UrlOpenQ),ta(UrlOpenQ,qsNonAccepting,UrlOpenSyms),ta(UrlOpenSyms,qsAccepting,UrlOpenQ),ta(UrlOpenSyms,qsNonAccepting,UrlOpenSyms),linkify_tt(UrlOpenQ,CLOSE,Url$1),linkify_tt(UrlOpenSyms,CLOSE,Url$1)}return linkify_tt(Start,"LOCALHOST",DomainDotTld),linkify_tt(Start,"NL",Nl),{start:Start,tokens:tk}}(INIT.scanner.tokens);for(let i=0;i<INIT.pluginQueue.length;i++)INIT.pluginQueue[i][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function front_tokenize(str){return INIT.initialized||init(),function linkify_run(start,input,tokens){let len=tokens.length,cursor=0,multis=[],textTokens=[];for(;cursor<len;){let state=start,secondState=null,nextState=null,multiLength=0,latestAccepting=null,sinceAccepts=-1;for(;cursor<len&&!(secondState=state.go(tokens[cursor].t));)textTokens.push(tokens[cursor++]);for(;cursor<len&&(nextState=secondState||state.go(tokens[cursor].t));)secondState=null,state=nextState,state.accepts()?(sinceAccepts=0,latestAccepting=state):sinceAccepts>=0&&sinceAccepts++,cursor++,multiLength++;if(sinceAccepts<0)cursor-=multiLength,cursor<len&&(textTokens.push(tokens[cursor]),cursor++);else{textTokens.length>0&&(multis.push(initMultiToken(Text,input,textTokens)),textTokens=[]),cursor-=sinceAccepts,multiLength-=sinceAccepts;const Multi=latestAccepting.t,subtokens=tokens.slice(cursor-multiLength,cursor);multis.push(initMultiToken(Multi,input,subtokens))}}return textTokens.length>0&&multis.push(initMultiToken(Text,input,textTokens)),multis}(INIT.parser.start,str,run$1(INIT.scanner.start,str))}function linkify_find(str,type=null,opts=null){if(type&&"object"==typeof type){if(opts)throw Error(`linkifyjs: Invalid link type ${type}; must be a string`);opts=type,type=null}const options=new Options(opts),tokens=front_tokenize(str),filtered=[];for(let i=0;i<tokens.length;i++){const token=tokens[i];!token.isLink||type&&token.t!==type||!options.check(token)||filtered.push(token.toFormattedObject(options))}return filtered}front_tokenize.scan=run$1;var UNICODE_WHITESPACE_REGEX=new RegExp("[\0- -\u2029]"),UNICODE_WHITESPACE_REGEX_END=new RegExp("[\0- -\u2029]$"),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp("[\0- -\u2029]","g");function isAllowedUri(uri,protocols){const allowedProtocols=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return protocols&&protocols.forEach(protocol=>{const nextProtocol="string"==typeof protocol?protocol:protocol.scheme;nextProtocol&&allowedProtocols.push(nextProtocol)}),!uri||uri.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${allowedProtocols.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var dist_Link=dist_Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(protocol=>{"string"!=typeof protocol?registerCustomProtocol(protocol.scheme,protocol.optionalSlashes):registerCustomProtocol(protocol)})},onDestroy(){!function linkify_reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(url,ctx)=>!!isAllowedUri(url,ctx.protocols),validate:url=>!!url,shouldAutoLink:url=>!!url}),addAttributes(){return{href:{default:null,parseHTML:element=>element.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:dom=>{const href=dom.getAttribute("href");return!(!href||!this.options.isAllowedUri(href,{defaultValidate:url=>!!isAllowedUri(url,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes}){return this.options.isAllowedUri(HTMLAttributes.href,{defaultValidate:href=>!!isAllowedUri(href,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...HTMLAttributes,href:""}),0]},addCommands(){return{setLink:attributes=>({chain})=>{const{href}=attributes;return!!this.options.isAllowedUri(href,{defaultValidate:url=>!!isAllowedUri(url,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&chain().setMark(this.name,attributes).setMeta("preventAutolink",!0).run()},toggleLink:attributes=>({chain})=>{const{href}=attributes||{};return!(href&&!this.options.isAllowedUri(href,{defaultValidate:url=>!!isAllowedUri(url,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&chain().toggleMark(this.name,attributes,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain})=>chain().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:text=>{const foundLinks=[];if(text){const{protocols,defaultProtocol}=this.options,links=linkify_find(text).filter(item=>item.isLink&&this.options.isAllowedUri(item.value,{defaultValidate:href=>!!isAllowedUri(href,protocols),protocols,defaultProtocol}));links.length&&links.forEach(link=>foundLinks.push({text:link.value,data:{href:link.href},index:link.start}))}return foundLinks},type:this.type,getAttributes:match=>{var _a;return{href:null==(_a=match.data)?void 0:_a.href}}})]},addProseMirrorPlugins(){const plugins=[],{protocols,defaultProtocol}=this.options;return this.options.autolink&&plugins.push(function autolink(options){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(transactions,oldState,newState)=>{const docChanges=transactions.some(transaction=>transaction.docChanged)&&!oldState.doc.eq(newState.doc),preventAutolink=transactions.some(transaction=>transaction.getMeta("preventAutolink"));if(!docChanges||preventAutolink)return;const{tr}=newState;return getChangedRanges(combineTransactionSteps(oldState.doc,[...transactions])).forEach(({newRange})=>{const nodesInChangedRanges=function findChildrenInRange(node,range,predicate){const nodesWithPos=[];return node.nodesBetween(range.from,range.to,(child,pos)=>{predicate(child)&&nodesWithPos.push({node:child,pos})}),nodesWithPos}(newState.doc,newRange,node=>node.isTextblock);let textBlock,textBeforeWhitespace;if(nodesInChangedRanges.length>1)textBlock=nodesInChangedRanges[0],textBeforeWhitespace=newState.doc.textBetween(textBlock.pos,textBlock.pos+textBlock.node.nodeSize,void 0," ");else if(nodesInChangedRanges.length){const endText=newState.doc.textBetween(newRange.from,newRange.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(endText))return;textBlock=nodesInChangedRanges[0],textBeforeWhitespace=newState.doc.textBetween(textBlock.pos,newRange.to,void 0," ")}if(textBlock&&textBeforeWhitespace){const wordsBeforeWhitespace=textBeforeWhitespace.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(wordsBeforeWhitespace.length<=0)return!1;const lastWordBeforeSpace=wordsBeforeWhitespace[wordsBeforeWhitespace.length-1],lastWordAndBlockOffset=textBlock.pos+textBeforeWhitespace.lastIndexOf(lastWordBeforeSpace);if(!lastWordBeforeSpace)return!1;const linksBeforeSpace=front_tokenize(lastWordBeforeSpace).map(t=>t.toObject(options.defaultProtocol));if(!function isValidLinkStructure(tokens){return 1===tokens.length?tokens[0].isLink:!(3!==tokens.length||!tokens[1].isLink)&&["()","[]"].includes(tokens[0].value+tokens[2].value)}(linksBeforeSpace))return!1;linksBeforeSpace.filter(link=>link.isLink).map(link=>({...link,from:lastWordAndBlockOffset+link.start+1,to:lastWordAndBlockOffset+link.end+1})).filter(link=>!newState.schema.marks.code||!newState.doc.rangeHasMark(link.from,link.to,newState.schema.marks.code)).filter(link=>options.validate(link.value)).filter(link=>options.shouldAutoLink(link.value)).forEach(link=>{getMarksBetween(link.from,link.to,newState.doc).some(item=>item.mark.type===options.type)||tr.addMark(link.from,link.to,options.type.create({href:link.href}))})}}),tr.steps.length?tr:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:url=>this.options.isAllowedUri(url,{defaultValidate:href=>!!isAllowedUri(href,protocols),protocols,defaultProtocol}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&plugins.push(function clickHandler(options){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(view,pos,event)=>{var _a,_b;if(0!==event.button)return!1;if(!view.editable)return!1;let link=null;if(event.target instanceof HTMLAnchorElement)link=event.target;else{let a=event.target;const els=[];for(;"DIV"!==a.nodeName;)els.push(a),a=a.parentNode;link=els.find(value=>"A"===value.nodeName)}if(!link)return!1;const attrs=getAttributes(view.state,options.type.name),href=null!=(_a=null==link?void 0:link.href)?_a:attrs.href,target=null!=(_b=null==link?void 0:link.target)?_b:attrs.target;return options.enableClickSelection&&options.editor.commands.extendMarkRange(options.type.name),!(!link||!href||(window.open(href,target),0))}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&plugins.push(function pasteHandler(options){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(view,event,slice)=>{const{state}=view,{selection}=state,{empty}=selection;if(empty)return!1;let textContent="";slice.content.forEach(node=>{textContent+=node.textContent});const link=linkify_find(textContent,{defaultProtocol:options.defaultProtocol}).find(item=>item.isLink&&item.value===textContent);return!(!textContent||!link)&&options.editor.commands.setMark(options.type,{href:link.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),plugins}}),dist_defProp=Object.defineProperty,bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes}){return["ul",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{toggleBulletList:()=>({commands,chain})=>this.options.keepAttributes?chain().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes("textStyle")).run():commands.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let inputRule=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(inputRule=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes("textStyle"),editor:this.editor})),[inputRule]}}),dist_ListItem=Node3.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes}){return["li",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((target,all)=>{for(var name in all)dist_defProp(target,name,{get:all[name],enumerable:!0})})({},{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(typeOrName,state)=>{const{$from}=state.selection,nodeType=getNodeType(typeOrName,state.schema);let currentNode=null,currentDepth=$from.depth,currentPos=$from.pos,targetDepth=null;for(;currentDepth>0&&null===targetDepth;)currentNode=$from.node(currentDepth),currentNode.type===nodeType?targetDepth=currentDepth:(currentDepth-=1,currentPos-=1);return null===targetDepth?null:{$pos:state.doc.resolve(currentPos),depth:targetDepth}},getNextListDepth=(typeOrName,state)=>{const listItemPos=findListItemPos(typeOrName,state);if(!listItemPos)return!1;const[,depth]=((state,typeOrName,pos,maxDepth=20)=>{const $pos=state.doc.resolve(pos);let currentDepth=maxDepth,node=null;for(;currentDepth>0&&null===node;){const currentNode=$pos.node(currentDepth);(null==currentNode?void 0:currentNode.type.name)===typeOrName?node=currentNode:currentDepth-=1}return[node,currentDepth]})(state,typeOrName,listItemPos.$pos.pos+4);return depth},hasListBefore=(editorState,name,parentListTypes)=>{const{$anchor}=editorState.selection,previousNodePos=Math.max(0,$anchor.pos-2),previousNode=editorState.doc.resolve(previousNodePos).node();return!(!previousNode||!parentListTypes.includes(previousNode.type.name))},hasListItemBefore=(typeOrName,state)=>{var _a;const{$anchor}=state.selection,$targetPos=state.doc.resolve($anchor.pos-2);return 0!==$targetPos.index()&&(null==(_a=$targetPos.nodeBefore)?void 0:_a.type.name)===typeOrName},listItemHasSubList=(typeOrName,state,node)=>{if(!node)return!1;const nodeType=getNodeType(typeOrName,state.schema);let hasSubList=!1;return node.descendants(child=>{child.type===nodeType&&(hasSubList=!0)}),hasSubList},handleBackspace=(editor,name,parentListTypes)=>{if(editor.commands.undoInputRule())return!0;if(editor.state.selection.from!==editor.state.selection.to)return!1;if(!isNodeActive(editor.state,name)&&hasListBefore(editor.state,name,parentListTypes)){const{$anchor}=editor.state.selection,$listPos=editor.state.doc.resolve($anchor.before()-1),listDescendants=[];$listPos.node().descendants((node,pos)=>{node.type.name===name&&listDescendants.push({node,pos})});const lastItem=listDescendants.at(-1);if(!lastItem)return!1;const $lastItemPos=editor.state.doc.resolve($listPos.start()+lastItem.pos+1);return editor.chain().cut({from:$anchor.start()-1,to:$anchor.end()+1},$lastItemPos.end()).joinForward().run()}if(!isNodeActive(editor.state,name))return!1;if(!(state=>{const{$from,$to}=state.selection;return!($from.parentOffset>0||$from.pos!==$to.pos)})(editor.state))return!1;const listItemPos=findListItemPos(name,editor.state);if(!listItemPos)return!1;const prevNode=editor.state.doc.resolve(listItemPos.$pos.pos-2).node(listItemPos.depth),previousListItemHasSubList=listItemHasSubList(name,editor.state,prevNode);return hasListItemBefore(name,editor.state)&&!previousListItemHasSubList?editor.commands.joinItemBackward():editor.chain().liftListItem(name).run()},nextListIsDeeper=(typeOrName,state)=>{const listDepth=getNextListDepth(typeOrName,state),listItemPos=findListItemPos(typeOrName,state);return!(!listItemPos||!listDepth)&&listDepth>listItemPos.depth},nextListIsHigher=(typeOrName,state)=>{const listDepth=getNextListDepth(typeOrName,state),listItemPos=findListItemPos(typeOrName,state);return!(!listItemPos||!listDepth)&&listDepth<listItemPos.depth},handleDelete=(editor,name)=>{if(!isNodeActive(editor.state,name))return!1;if(!((state,nodeType)=>{const{$from,$to,$anchor}=state.selection;if(nodeType){const parentNode=findParentNode(node=>node.type.name===nodeType)(state.selection);if(!parentNode)return!1;const $parentPos=state.doc.resolve(parentNode.pos+1);return $anchor.pos+1===$parentPos.end()}return!($to.parentOffset<$to.parent.nodeSize-2||$from.pos!==$to.pos)})(editor.state,name))return!1;const{selection}=editor.state,{$from,$to}=selection;return!(!selection.empty&&$from.sameParent($to))&&(nextListIsDeeper(name,editor.state)?editor.chain().focus(editor.state.selection.from+4).lift(name).joinBackward().run():nextListIsHigher(name,editor.state)?editor.chain().joinForward().joinBackward().run():editor.commands.joinItemForward())},hasListItemAfter=(typeOrName,state)=>{var _a;const{$anchor}=state.selection,$targetPos=state.doc.resolve($anchor.pos-$anchor.parentOffset-2);return $targetPos.index()!==$targetPos.parent.childCount-1&&(null==(_a=$targetPos.nodeAfter)?void 0:_a.type.name)===typeOrName},ListKeymap=Extension.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor})=>{let handled=!1;return this.options.listTypes.forEach(({itemName})=>{void 0!==editor.state.schema.nodes[itemName]&&handleDelete(editor,itemName)&&(handled=!0)}),handled},"Mod-Delete":({editor})=>{let handled=!1;return this.options.listTypes.forEach(({itemName})=>{void 0!==editor.state.schema.nodes[itemName]&&handleDelete(editor,itemName)&&(handled=!0)}),handled},Backspace:({editor})=>{let handled=!1;return this.options.listTypes.forEach(({itemName,wrapperNames})=>{void 0!==editor.state.schema.nodes[itemName]&&handleBackspace(editor,itemName,wrapperNames)&&(handled=!0)}),handled},"Mod-Backspace":({editor})=>{let handled=!1;return this.options.listTypes.forEach(({itemName,wrapperNames})=>{void 0!==editor.state.schema.nodes[itemName]&&handleBackspace(editor,itemName,wrapperNames)&&(handled=!0)}),handled}}}}),orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:element=>element.hasAttribute("start")?parseInt(element.getAttribute("start")||"",10):1},type:{default:null,parseHTML:element=>element.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes}){const{start,...attributesWithoutStart}=HTMLAttributes;return 1===start?["ol",mergeAttributes(this.options.HTMLAttributes,attributesWithoutStart),0]:["ol",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{toggleOrderedList:()=>({commands,chain})=>this.options.keepAttributes?chain().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes("textStyle")).run():commands.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let inputRule=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:match=>({start:+match[1]}),joinPredicate:(match,node)=>node.childCount+node.attrs.start===+match[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(inputRule=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:match=>({start:+match[1],...this.editor.getAttributes("textStyle")}),joinPredicate:(match,node)=>node.childCount+node.attrs.start===+match[1],editor:this.editor})),[inputRule]}}),extension_list_dist_inputRegex=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:element=>{const dataChecked=element.getAttribute("data-checked");return""===dataChecked||"true"===dataChecked},renderHTML:attributes=>({"data-checked":attributes.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node,HTMLAttributes}){return["li",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:node.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const shortcuts={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...shortcuts,Tab:()=>this.editor.commands.sinkListItem(this.name)}:shortcuts},addNodeView(){return({node,HTMLAttributes,getPos,editor})=>{const listItem=document.createElement("li"),checkboxWrapper=document.createElement("label"),checkboxStyler=document.createElement("span"),checkbox=document.createElement("input"),content=document.createElement("div"),updateA11Y=currentNode=>{var _a,_b;checkbox.ariaLabel=(null==(_b=null==(_a=this.options.a11y)?void 0:_a.checkboxLabel)?void 0:_b.call(_a,currentNode,checkbox.checked))||`Task item checkbox for ${currentNode.textContent||"empty task item"}`};return updateA11Y(node),checkboxWrapper.contentEditable="false",checkbox.type="checkbox",checkbox.addEventListener("mousedown",event=>event.preventDefault()),checkbox.addEventListener("change",event=>{if(!editor.isEditable&&!this.options.onReadOnlyChecked)return void(checkbox.checked=!checkbox.checked);const{checked}=event.target;editor.isEditable&&"function"==typeof getPos&&editor.chain().focus(void 0,{scrollIntoView:!1}).command(({tr})=>{const position=getPos();if("number"!=typeof position)return!1;const currentNode=tr.doc.nodeAt(position);return tr.setNodeMarkup(position,void 0,{...null==currentNode?void 0:currentNode.attrs,checked}),!0}).run(),!editor.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(node,checked)||(checkbox.checked=!checkbox.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([key,value])=>{listItem.setAttribute(key,value)}),listItem.dataset.checked=node.attrs.checked,checkbox.checked=node.attrs.checked,checkboxWrapper.append(checkbox,checkboxStyler),listItem.append(checkboxWrapper,content),Object.entries(HTMLAttributes).forEach(([key,value])=>{listItem.setAttribute(key,value)}),{dom:listItem,contentDOM:content,update:updatedNode=>updatedNode.type===this.type&&(listItem.dataset.checked=updatedNode.attrs.checked,checkbox.checked=updatedNode.attrs.checked,updateA11Y(updatedNode),!0)}}},addInputRules(){return[wrappingInputRule({find:extension_list_dist_inputRegex,type:this.type,getAttributes:match=>({checked:"x"===match[match.length-1]})})]}}),TaskList=Node3.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes}){return["ul",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands})=>commands.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Paragraph=(Extension.create({name:"listKit",addExtensions(){const extensions=[];return!1!==this.options.bulletList&&extensions.push(BulletList.configure(this.options.bulletList)),!1!==this.options.listItem&&extensions.push(dist_ListItem.configure(this.options.listItem)),!1!==this.options.listKeymap&&extensions.push(ListKeymap.configure(this.options.listKeymap)),!1!==this.options.orderedList&&extensions.push(OrderedList.configure(this.options.orderedList)),!1!==this.options.taskItem&&extensions.push(TaskItem.configure(this.options.taskItem)),!1!==this.options.taskList&&extensions.push(TaskList.configure(this.options.taskList)),extensions}}),Node3.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes}){return["p",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{setParagraph:()=>({commands})=>commands.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})),extension_strike_dist_inputRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,extension_strike_dist_pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=dist_Mark.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:style=>!!style.includes("line-through")&&{}}],renderHTML({HTMLAttributes}){return["s",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{setStrike:()=>({commands})=>commands.setMark(this.name),toggleStrike:()=>({commands})=>commands.toggleMark(this.name),unsetStrike:()=>({commands})=>commands.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:extension_strike_dist_inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:extension_strike_dist_pasteRegex,type:this.type})]}}),dist_Text=Node3.create({name:"text",group:"inline"}),Underline=dist_Mark.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:style=>!!style.includes("underline")&&{}}],renderHTML({HTMLAttributes}){return["u",mergeAttributes(this.options.HTMLAttributes,HTMLAttributes),0]},addCommands(){return{setUnderline:()=>({commands})=>commands.setMark(this.name),toggleUnderline:()=>({commands})=>commands.toggleMark(this.name),unsetUnderline:()=>({commands})=>commands.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dropCursor(options={}){return new Plugin({view:editorView=>new DropCursorView(editorView,options)})}class DropCursorView{constructor(editorView,options){var _a;this.editorView=editorView,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(_a=options.width)&&void 0!==_a?_a:1,this.color=!1===options.color?void 0:options.color||"black",this.class=options.class,this.handlers=["dragover","dragend","drop","dragleave"].map(name=>{let handler=e=>{this[name](e)};return editorView.dom.addEventListener(name,handler),{name,handler}})}destroy(){this.handlers.forEach(({name,handler})=>this.editorView.dom.removeEventListener(name,handler))}update(editorView,prevState){null!=this.cursorPos&&prevState.doc!=editorView.state.doc&&(this.cursorPos>editorView.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(pos){pos!=this.cursorPos&&(this.cursorPos=pos,null==pos?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let rect,$pos=this.editorView.state.doc.resolve(this.cursorPos),isBlock=!$pos.parent.inlineContent,editorDOM=this.editorView.dom,editorRect=editorDOM.getBoundingClientRect(),scaleX=editorRect.width/editorDOM.offsetWidth,scaleY=editorRect.height/editorDOM.offsetHeight;if(isBlock){let before=$pos.nodeBefore,after=$pos.nodeAfter;if(before||after){let node=this.editorView.nodeDOM(this.cursorPos-(before?before.nodeSize:0));if(node){let nodeRect=node.getBoundingClientRect(),top=before?nodeRect.bottom:nodeRect.top;before&&after&&(top=(top+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let halfWidth=this.width/2*scaleY;rect={left:nodeRect.left,right:nodeRect.right,top:top-halfWidth,bottom:top+halfWidth}}}}if(!rect){let coords=this.editorView.coordsAtPos(this.cursorPos),halfWidth=this.width/2*scaleX;rect={left:coords.left-halfWidth,right:coords.left+halfWidth,top:coords.top,bottom:coords.bottom}}let parentLeft,parentTop,parent=this.editorView.dom.offsetParent;if(this.element||(this.element=parent.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",isBlock),this.element.classList.toggle("prosemirror-dropcursor-inline",!isBlock),!parent||parent==document.body&&"static"==getComputedStyle(parent).position)parentLeft=-pageXOffset,parentTop=-pageYOffset;else{let rect=parent.getBoundingClientRect(),parentScaleX=rect.width/parent.offsetWidth,parentScaleY=rect.height/parent.offsetHeight;parentLeft=rect.left-parent.scrollLeft*parentScaleX,parentTop=rect.top-parent.scrollTop*parentScaleY}this.element.style.left=(rect.left-parentLeft)/scaleX+"px",this.element.style.top=(rect.top-parentTop)/scaleY+"px",this.element.style.width=(rect.right-rect.left)/scaleX+"px",this.element.style.height=(rect.bottom-rect.top)/scaleY+"px"}scheduleRemoval(timeout){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),timeout)}dragover(event){if(!this.editorView.editable)return;let pos=this.editorView.posAtCoords({left:event.clientX,top:event.clientY}),node=pos&&pos.inside>=0&&this.editorView.state.doc.nodeAt(pos.inside),disableDropCursor=node&&node.type.spec.disableDropCursor,disabled="function"==typeof disableDropCursor?disableDropCursor(this.editorView,pos,event):disableDropCursor;if(pos&&!disabled){let target=pos.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let point=dropPoint(this.editorView.state.doc,target,this.editorView.dragging.slice);null!=point&&(target=point)}this.setCursor(target),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(event){this.editorView.dom.contains(event.relatedTarget)||this.setCursor(null)}}class GapCursor extends dist_Selection{constructor($pos){super($pos,$pos)}map(doc,mapping){let $pos=doc.resolve(mapping.map(this.head));return GapCursor.valid($pos)?new GapCursor($pos):dist_Selection.near($pos)}content(){return dist_Slice.empty}eq(other){return other instanceof GapCursor&&other.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(doc,json){if("number"!=typeof json.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(doc.resolve(json.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid($pos){let parent=$pos.parent;if(parent.isTextblock||!function closedBefore($pos){for(let d=$pos.depth;d>=0;d--){let index=$pos.index(d),parent=$pos.node(d);if(0!=index)for(let before=parent.child(index-1);;before=before.lastChild){if(0==before.childCount&&!before.inlineContent||before.isAtom||before.type.spec.isolating)return!0;if(before.inlineContent)return!1}else if(parent.type.spec.isolating)return!0}return!0}($pos)||!function closedAfter($pos){for(let d=$pos.depth;d>=0;d--){let index=$pos.indexAfter(d),parent=$pos.node(d);if(index!=parent.childCount)for(let after=parent.child(index);;after=after.firstChild){if(0==after.childCount&&!after.inlineContent||after.isAtom||after.type.spec.isolating)return!0;if(after.inlineContent)return!1}else if(parent.type.spec.isolating)return!0}return!0}($pos))return!1;let override=parent.type.spec.allowGapCursor;if(null!=override)return override;let deflt=parent.contentMatchAt($pos.index()).defaultType;return deflt&&deflt.isTextblock}static findGapCursorFrom($pos,dir,mustMove=!1){search:for(;;){if(!mustMove&&GapCursor.valid($pos))return $pos;let pos=$pos.pos,next=null;for(let d=$pos.depth;;d--){let parent=$pos.node(d);if(dir>0?$pos.indexAfter(d)<parent.childCount:$pos.index(d)>0){next=parent.child(dir>0?$pos.indexAfter(d):$pos.index(d)-1);break}if(0==d)return null;pos+=dir;let $cur=$pos.doc.resolve(pos);if(GapCursor.valid($cur))return $cur}for(;;){let inside=dir>0?next.firstChild:next.lastChild;if(!inside){if(next.isAtom&&!next.isText&&!NodeSelection.isSelectable(next)){$pos=$pos.doc.resolve(pos+next.nodeSize*dir),mustMove=!1;continue search}break}next=inside,pos+=dir;let $cur=$pos.doc.resolve(pos);if(GapCursor.valid($cur))return $cur}return null}}}GapCursor.prototype.visible=!1,GapCursor.findFrom=GapCursor.findGapCursorFrom,dist_Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(pos){this.pos=pos}map(mapping){return new GapBookmark(mapping.map(this.pos))}resolve(doc){let $pos=doc.resolve(this.pos);return GapCursor.valid($pos)?new GapCursor($pos):dist_Selection.near($pos)}}const handleKeyDown=keydownHandler({ArrowLeft:dist_arrow("horiz",-1),ArrowRight:dist_arrow("horiz",1),ArrowUp:dist_arrow("vert",-1),ArrowDown:dist_arrow("vert",1)});function dist_arrow(axis,dir){const dirStr="vert"==axis?dir>0?"down":"up":dir>0?"right":"left";return function(state,dispatch,view){let sel=state.selection,$start=dir>0?sel.$to:sel.$from,mustMove=sel.empty;if(sel instanceof TextSelection){if(!view.endOfTextblock(dirStr)||0==$start.depth)return!1;mustMove=!1,$start=state.doc.resolve(dir>0?$start.after():$start.before())}let $found=GapCursor.findGapCursorFrom($start,dir,mustMove);return!!$found&&(dispatch&&dispatch(state.tr.setSelection(new GapCursor($found))),!0)}}function handleClick(view,pos,event){if(!view||!view.editable)return!1;let $pos=view.state.doc.resolve(pos);if(!GapCursor.valid($pos))return!1;let clickPos=view.posAtCoords({left:event.clientX,top:event.clientY});return!(clickPos&&clickPos.inside>-1&&NodeSelection.isSelectable(view.state.doc.nodeAt(clickPos.inside)))&&(view.dispatch(view.state.tr.setSelection(new GapCursor($pos))),!0)}function beforeinput(view,event){if("insertCompositionText"!=event.inputType||!(view.state.selection instanceof GapCursor))return!1;let{$from}=view.state.selection,insert=$from.parent.contentMatchAt($from.index()).findWrapping(view.state.schema.nodes.text);if(!insert)return!1;let frag=dist_Fragment.empty;for(let i=insert.length-1;i>=0;i--)frag=dist_Fragment.from(insert[i].createAndFill(null,frag));let tr=view.state.tr.replace($from.pos,$from.pos,new dist_Slice(frag,0,0));return tr.setSelection(TextSelection.near(tr.doc.resolve($from.pos+1))),view.dispatch(tr),!1}function drawGapCursor(state){if(!(state.selection instanceof GapCursor))return null;let node=document.createElement("div");return node.className="ProseMirror-gapcursor",DecorationSet.create(state.doc,[Decoration.widget(state.selection.head,node,{key:"gapcursor"})])}var RopeSequence=function RopeSequence(){};RopeSequence.prototype.append=function append(other){return other.length?(other=RopeSequence.from(other),!this.length&&other||other.length<200&&this.leafAppend(other)||this.length<200&&other.leafPrepend(this)||this.appendInner(other)):this},RopeSequence.prototype.prepend=function prepend(other){return other.length?RopeSequence.from(other).append(this):this},RopeSequence.prototype.appendInner=function appendInner(other){return new Append(this,other)},RopeSequence.prototype.slice=function slice(from,to){return void 0===from&&(from=0),void 0===to&&(to=this.length),from>=to?RopeSequence.empty:this.sliceInner(Math.max(0,from),Math.min(this.length,to))},RopeSequence.prototype.get=function get(i){if(!(i<0||i>=this.length))return this.getInner(i)},RopeSequence.prototype.forEach=function forEach(f,from,to){void 0===from&&(from=0),void 0===to&&(to=this.length),from<=to?this.forEachInner(f,from,to,0):this.forEachInvertedInner(f,from,to,0)},RopeSequence.prototype.map=function map(f,from,to){void 0===from&&(from=0),void 0===to&&(to=this.length);var result=[];return this.forEach(function(elt,i){return result.push(f(elt,i))},from,to),result},RopeSequence.from=function from(values){return values instanceof RopeSequence?values:values&&values.length?new Leaf(values):RopeSequence.empty};var Leaf=function(RopeSequence){function Leaf(values){RopeSequence.call(this),this.values=values}RopeSequence&&(Leaf.__proto__=RopeSequence),Leaf.prototype=Object.create(RopeSequence&&RopeSequence.prototype),Leaf.prototype.constructor=Leaf;var prototypeAccessors={length:{configurable:!0},depth:{configurable:!0}};return Leaf.prototype.flatten=function flatten(){return this.values},Leaf.prototype.sliceInner=function sliceInner(from,to){return 0==from&&to==this.length?this:new Leaf(this.values.slice(from,to))},Leaf.prototype.getInner=function getInner(i){return this.values[i]},Leaf.prototype.forEachInner=function forEachInner(f,from,to,start){for(var i=from;i<to;i++)if(!1===f(this.values[i],start+i))return!1},Leaf.prototype.forEachInvertedInner=function forEachInvertedInner(f,from,to,start){for(var i=from-1;i>=to;i--)if(!1===f(this.values[i],start+i))return!1},Leaf.prototype.leafAppend=function leafAppend(other){if(this.length+other.length<=200)return new Leaf(this.values.concat(other.flatten()))},Leaf.prototype.leafPrepend=function leafPrepend(other){if(this.length+other.length<=200)return new Leaf(other.flatten().concat(this.values))},prototypeAccessors.length.get=function(){return this.values.length},prototypeAccessors.depth.get=function(){return 0},Object.defineProperties(Leaf.prototype,prototypeAccessors),Leaf}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(RopeSequence){function Append(left,right){RopeSequence.call(this),this.left=left,this.right=right,this.length=left.length+right.length,this.depth=Math.max(left.depth,right.depth)+1}return RopeSequence&&(Append.__proto__=RopeSequence),Append.prototype=Object.create(RopeSequence&&RopeSequence.prototype),Append.prototype.constructor=Append,Append.prototype.flatten=function flatten(){return this.left.flatten().concat(this.right.flatten())},Append.prototype.getInner=function getInner(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},Append.prototype.forEachInner=function forEachInner(f,from,to,start){var leftLen=this.left.length;return!(from<leftLen&&!1===this.left.forEachInner(f,from,Math.min(to,leftLen),start))&&(!(to>leftLen&&!1===this.right.forEachInner(f,Math.max(from-leftLen,0),Math.min(this.length,to)-leftLen,start+leftLen))&&void 0)},Append.prototype.forEachInvertedInner=function forEachInvertedInner(f,from,to,start){var leftLen=this.left.length;return!(from>leftLen&&!1===this.right.forEachInvertedInner(f,from-leftLen,Math.max(to,leftLen)-leftLen,start+leftLen))&&(!(to<leftLen&&!1===this.left.forEachInvertedInner(f,Math.min(from,leftLen),to,start))&&void 0)},Append.prototype.sliceInner=function sliceInner(from,to){if(0==from&&to==this.length)return this;var leftLen=this.left.length;return to<=leftLen?this.left.slice(from,to):from>=leftLen?this.right.slice(from-leftLen,to-leftLen):this.left.slice(from,leftLen).append(this.right.slice(0,to-leftLen))},Append.prototype.leafAppend=function leafAppend(other){var inner=this.right.leafAppend(other);if(inner)return new Append(this.left,inner)},Append.prototype.leafPrepend=function leafPrepend(other){var inner=this.left.leafPrepend(other);if(inner)return new Append(inner,this.right)},Append.prototype.appendInner=function appendInner(other){return this.left.depth>=Math.max(this.right.depth,other.depth)+1?new Append(this.left,new Append(this.right,other)):new Append(this,other)},Append}(RopeSequence);const rope_sequence_dist=RopeSequence;class Branch{constructor(items,eventCount){this.items=items,this.eventCount=eventCount}popEvent(state,preserveItems){if(0==this.eventCount)return null;let remap,mapFrom,end=this.items.length;for(;;end--){if(this.items.get(end-1).selection){--end;break}}preserveItems&&(remap=this.remapping(end,this.items.length),mapFrom=remap.maps.length);let selection,remaining,transform=state.tr,addAfter=[],addBefore=[];return this.items.forEach((item,i)=>{if(!item.step)return remap||(remap=this.remapping(end,i+1),mapFrom=remap.maps.length),mapFrom--,void addBefore.push(item);if(remap){addBefore.push(new Item(item.map));let map,step=item.step.map(remap.slice(mapFrom));step&&transform.maybeStep(step).doc&&(map=transform.mapping.maps[transform.mapping.maps.length-1],addAfter.push(new Item(map,void 0,void 0,addAfter.length+addBefore.length))),mapFrom--,map&&remap.appendMap(map,mapFrom)}else transform.maybeStep(item.step);return item.selection?(selection=remap?item.selection.map(remap.slice(mapFrom)):item.selection,remaining=new Branch(this.items.slice(0,end).append(addBefore.reverse().concat(addAfter)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining,transform,selection}}addTransform(transform,selection,histOptions,preserveItems){let newItems=[],eventCount=this.eventCount,oldItems=this.items,lastItem=!preserveItems&&oldItems.length?oldItems.get(oldItems.length-1):null;for(let i=0;i<transform.steps.length;i++){let merged,step=transform.steps[i].invert(transform.docs[i]),item=new Item(transform.mapping.maps[i],step,selection);(merged=lastItem&&lastItem.merge(item))&&(item=merged,i?newItems.pop():oldItems=oldItems.slice(0,oldItems.length-1)),newItems.push(item),selection&&(eventCount++,selection=void 0),preserveItems||(lastItem=item)}let overflow=eventCount-histOptions.depth;return overflow>DEPTH_OVERFLOW&&(oldItems=function cutOffEvents(items,n){let cutPoint;return items.forEach((item,i)=>{if(item.selection&&0==n--)return cutPoint=i,!1}),items.slice(cutPoint)}(oldItems,overflow),eventCount-=overflow),new Branch(oldItems.append(newItems),eventCount)}remapping(from,to){let maps=new dist_Mapping;return this.items.forEach((item,i)=>{let mirrorPos=null!=item.mirrorOffset&&i-item.mirrorOffset>=from?maps.maps.length-item.mirrorOffset:void 0;maps.appendMap(item.map,mirrorPos)},from,to),maps}addMaps(array){return 0==this.eventCount?this:new Branch(this.items.append(array.map(map=>new Item(map))),this.eventCount)}rebased(rebasedTransform,rebasedCount){if(!this.eventCount)return this;let rebasedItems=[],start=Math.max(0,this.items.length-rebasedCount),mapping=rebasedTransform.mapping,newUntil=rebasedTransform.steps.length,eventCount=this.eventCount;this.items.forEach(item=>{item.selection&&eventCount--},start);let iRebased=rebasedCount;this.items.forEach(item=>{let pos=mapping.getMirror(--iRebased);if(null==pos)return;newUntil=Math.min(newUntil,pos);let map=mapping.maps[pos];if(item.step){let step=rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]),selection=item.selection&&item.selection.map(mapping.slice(iRebased+1,pos));selection&&eventCount++,rebasedItems.push(new Item(map,step,selection))}else rebasedItems.push(new Item(map))},start);let newMaps=[];for(let i=rebasedCount;i<newUntil;i++)newMaps.push(new Item(mapping.maps[i]));let items=this.items.slice(0,start).append(newMaps).append(rebasedItems),branch=new Branch(items,eventCount);return branch.emptyItemCount()>500&&(branch=branch.compress(this.items.length-rebasedItems.length)),branch}emptyItemCount(){let count=0;return this.items.forEach(item=>{item.step||count++}),count}compress(upto=this.items.length){let remap=this.remapping(0,upto),mapFrom=remap.maps.length,items=[],events=0;return this.items.forEach((item,i)=>{if(i>=upto)items.push(item),item.selection&&events++;else if(item.step){let step=item.step.map(remap.slice(mapFrom)),map=step&&step.getMap();if(mapFrom--,map&&remap.appendMap(map,mapFrom),step){let selection=item.selection&&item.selection.map(remap.slice(mapFrom));selection&&events++;let merged,newItem=new Item(map.invert(),step,selection),last=items.length-1;(merged=items.length&&items[last].merge(newItem))?items[last]=merged:items.push(newItem)}}else item.map&&mapFrom--},this.items.length,0),new Branch(rope_sequence_dist.from(items.reverse()),events)}}Branch.empty=new Branch(rope_sequence_dist.empty,0);class Item{constructor(map,step,selection,mirrorOffset){this.map=map,this.step=step,this.selection=selection,this.mirrorOffset=mirrorOffset}merge(other){if(this.step&&other.step&&!other.selection){let step=other.step.merge(this.step);if(step)return new Item(step.getMap().invert(),step,this.selection)}}}class HistoryState{constructor(done,undone,prevRanges,prevTime,prevComposition){this.done=done,this.undone=undone,this.prevRanges=prevRanges,this.prevTime=prevTime,this.prevComposition=prevComposition}}const DEPTH_OVERFLOW=20;function rangesFor(maps){let result=[];for(let i=maps.length-1;i>=0&&0==result.length;i--)maps[i].forEach((_from,_to,from,to)=>result.push(from,to));return result}function mapRanges(ranges,mapping){if(!ranges)return null;let result=[];for(let i=0;i<ranges.length;i+=2){let from=mapping.map(ranges[i],1),to=mapping.map(ranges[i+1],-1);from<=to&&result.push(from,to)}return result}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(state){let plugins=state.plugins;if(cachedPreserveItemsPlugins!=plugins){cachedPreserveItems=!1,cachedPreserveItemsPlugins=plugins;for(let i=0;i<plugins.length;i++)if(plugins[i].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function dist_history(config={}){return config={depth:config.depth||100,newGroupDelay:config.newGroupDelay||500},new Plugin({key:historyKey,state:{init:()=>new HistoryState(Branch.empty,Branch.empty,null,0,-1),apply:(tr,hist,state)=>function applyTransaction(history,state,tr,options){let rebased,historyTr=tr.getMeta(historyKey);if(historyTr)return historyTr.historyState;tr.getMeta(closeHistoryKey)&&(history=new HistoryState(history.done,history.undone,null,0,-1));let appended=tr.getMeta("appendedTransaction");if(0==tr.steps.length)return history;if(appended&&appended.getMeta(historyKey))return appended.getMeta(historyKey).redo?new HistoryState(history.done.addTransform(tr,void 0,options,mustPreserveItems(state)),history.undone,rangesFor(tr.mapping.maps),history.prevTime,history.prevComposition):new HistoryState(history.done,history.undone.addTransform(tr,void 0,options,mustPreserveItems(state)),null,history.prevTime,history.prevComposition);if(!1===tr.getMeta("addToHistory")||appended&&!1===appended.getMeta("addToHistory"))return(rebased=tr.getMeta("rebased"))?new HistoryState(history.done.rebased(tr,rebased),history.undone.rebased(tr,rebased),mapRanges(history.prevRanges,tr.mapping),history.prevTime,history.prevComposition):new HistoryState(history.done.addMaps(tr.mapping.maps),history.undone.addMaps(tr.mapping.maps),mapRanges(history.prevRanges,tr.mapping),history.prevTime,history.prevComposition);{let composition=tr.getMeta("composition"),newGroup=0==history.prevTime||!appended&&history.prevComposition!=composition&&(history.prevTime<(tr.time||0)-options.newGroupDelay||!function isAdjacentTo(transform,prevRanges){if(!prevRanges)return!1;if(!transform.docChanged)return!0;let adjacent=!1;return transform.mapping.maps[0].forEach((start,end)=>{for(let i=0;i<prevRanges.length;i+=2)start<=prevRanges[i+1]&&end>=prevRanges[i]&&(adjacent=!0)}),adjacent}(tr,history.prevRanges)),prevRanges=appended?mapRanges(history.prevRanges,tr.mapping):rangesFor(tr.mapping.maps);return new HistoryState(history.done.addTransform(tr,newGroup?state.selection.getBookmark():void 0,options,mustPreserveItems(state)),Branch.empty,prevRanges,tr.time,null==composition?history.prevComposition:composition)}}(hist,state,tr,config)},config,props:{handleDOMEvents:{beforeinput(view,e){let inputType=e.inputType,command="historyUndo"==inputType?undo:"historyRedo"==inputType?redo:null;return!!command&&(e.preventDefault(),command(view.state,view.dispatch))}}}})}function buildCommand(redo,scroll){return(state,dispatch)=>{let hist=historyKey.getState(state);if(!hist||0==(redo?hist.undone:hist.done).eventCount)return!1;if(dispatch){let tr=function histTransaction(history,state,redo){let preserveItems=mustPreserveItems(state),histOptions=historyKey.get(state).spec.config,pop=(redo?history.undone:history.done).popEvent(state,preserveItems);if(!pop)return null;let selection=pop.selection.resolve(pop.transform.doc),added=(redo?history.done:history.undone).addTransform(pop.transform,state.selection.getBookmark(),histOptions,preserveItems),newHist=new HistoryState(redo?added:pop.remaining,redo?pop.remaining:added,null,0,-1);return pop.transform.setSelection(selection).setMeta(historyKey,{redo,historyState:newHist})}(hist,state,redo);tr&&dispatch(scroll?tr.scrollIntoView():tr)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);buildCommand(!1,!1),buildCommand(!0,!1);Extension.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:text=>text.length,wordCounter:text=>text.split(" ").filter(word=>""!==word).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=options=>{const node=(null==options?void 0:options.node)||this.editor.state.doc;if("textSize"===((null==options?void 0:options.mode)||this.options.mode)){const text=node.textBetween(0,node.content.size,void 0," ");return this.options.textCounter(text)}return node.nodeSize},this.storage.words=options=>{const node=(null==options?void 0:options.node)||this.editor.state.doc,text=node.textBetween(0,node.content.size," "," ");return this.options.wordCounter(text)}},addProseMirrorPlugins(){let initialEvaluationDone=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(transactions,oldState,newState)=>{if(initialEvaluationDone)return;const limit=this.options.limit;if(null==limit||0===limit)return void(initialEvaluationDone=!0);const initialContentSize=this.storage.characters({node:newState.doc});if(initialContentSize>limit){const from=0,to=initialContentSize-limit;console.warn(`[CharacterCount] Initial content exceeded limit of ${limit} characters. Content was automatically trimmed.`);const tr=newState.tr.deleteRange(from,to);return initialEvaluationDone=!0,tr}initialEvaluationDone=!0},filterTransaction:(transaction,state)=>{const limit=this.options.limit;if(!transaction.docChanged||0===limit||null==limit)return!0;const oldSize=this.storage.characters({node:state.doc}),newSize=this.storage.characters({node:transaction.doc});if(newSize<=limit)return!0;if(oldSize>limit&&newSize>limit&&newSize<=oldSize)return!0;if(oldSize>limit&&newSize>limit&&newSize>oldSize)return!1;if(!transaction.getMeta("paste"))return!1;const pos=transaction.selection.$head.pos,from=pos-(newSize-limit),to=pos;transaction.deleteRange(from,to);return!(this.storage.characters({node:transaction.doc})>limit)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[dropCursor(this.options)]}}),Gapcursor=(Extension.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc,selection})=>{const{isEditable,isFocused}=this.editor,{anchor}=selection,decorations=[];if(!isEditable||!isFocused)return DecorationSet.create(doc,[]);let maxLevels=0;"deepest"===this.options.mode&&doc.descendants((node,pos)=>{if(node.isText)return;if(!(anchor>=pos&&anchor<=pos+node.nodeSize-1))return!1;maxLevels+=1});let currentLevel=0;return doc.descendants((node,pos)=>{if(node.isText)return!1;if(!(anchor>=pos&&anchor<=pos+node.nodeSize-1))return!1;currentLevel+=1;if("deepest"===this.options.mode&&maxLevels-currentLevel>0||"shallowest"===this.options.mode&&currentLevel>1)return"deepest"===this.options.mode;decorations.push(Decoration.node(pos,pos+node.nodeSize,{class:this.options.className}))}),DecorationSet.create(doc,decorations)}}})]}}),Extension.create({name:"gapCursor",addProseMirrorPlugins:()=>[new Plugin({props:{decorations:drawGapCursor,createSelectionBetween:(_view,$anchor,$head)=>$anchor.pos==$head.pos&&GapCursor.valid($head)?new GapCursor($head):null,handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})],extendNodeSchema(extension){var _a;return{allowGapCursor:null!=(_a=callOrReturn(getExtensionField(extension,"allowGapCursor",{name:extension.name,options:extension.options,storage:extension.storage})))?_a:null}}}));Extension.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc,selection})=>{const active=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor}=selection,decorations=[];if(!active)return null;const isEmptyDoc=this.editor.isEmpty;return doc.descendants((node,pos)=>{const hasAnchor=anchor>=pos&&anchor<=pos+node.nodeSize,isEmpty=!node.isLeaf&&isNodeEmpty(node);if((hasAnchor||!this.options.showOnlyCurrent)&&isEmpty){const classes=[this.options.emptyNodeClass];isEmptyDoc&&classes.push(this.options.emptyEditorClass);const decoration=Decoration.node(pos,pos+node.nodeSize,{class:classes.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node,pos,hasAnchor}):this.options.placeholder});decorations.push(decoration)}return this.options.includeChildren}),DecorationSet.create(doc,decorations)}}})]}}),Extension.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor,options}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations:state=>state.selection.empty||editor.isFocused||!editor.isEditable||isNodeSelection(state.selection)||editor.view.dragging?null:DecorationSet.create(state.doc,[Decoration.inline(state.selection.from,state.selection.to,{class:options.className})])}})]}});function nodeEqualsType({types,node}){return node&&Array.isArray(types)&&types.includes(node.type)||(null==node?void 0:node.type)===types}var TrailingNode=Extension.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:[]}),addProseMirrorPlugins(){const plugin=new PluginKey(this.name),disabledNodes=Object.entries(this.editor.schema.nodes).map(([,value])=>value).filter(node=>(this.options.notAfter||[]).concat(this.options.node).includes(node.name));return[new Plugin({key:plugin,appendTransaction:(_,__,state)=>{const{doc,tr,schema}=state,shouldInsertNodeAtEnd=plugin.getState(state),endPosition=doc.content.size,type=schema.nodes[this.options.node];if(shouldInsertNodeAtEnd)return tr.insert(endPosition,type.create())},state:{init:(_,state)=>!nodeEqualsType({node:state.tr.doc.lastChild,types:disabledNodes}),apply:(tr,value)=>{if(!tr.docChanged)return value;return!nodeEqualsType({node:tr.doc.lastChild,types:disabledNodes})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state,dispatch})=>undo(state,dispatch),redo:()=>({state,dispatch})=>redo(state,dispatch)}),addProseMirrorPlugins(){return[dist_history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var _a,_b,_c,_d;const extensions=[];return!1!==this.options.bold&&extensions.push(Bold.configure(this.options.bold)),!1!==this.options.blockquote&&extensions.push(Blockquote.configure(this.options.blockquote)),!1!==this.options.bulletList&&extensions.push(BulletList.configure(this.options.bulletList)),!1!==this.options.code&&extensions.push(Code.configure(this.options.code)),!1!==this.options.codeBlock&&extensions.push(CodeBlock.configure(this.options.codeBlock)),!1!==this.options.document&&extensions.push(Document.configure(this.options.document)),!1!==this.options.dropcursor&&extensions.push(Dropcursor.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&extensions.push(Gapcursor.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&extensions.push(HardBreak.configure(this.options.hardBreak)),!1!==this.options.heading&&extensions.push(Heading.configure(this.options.heading)),!1!==this.options.undoRedo&&extensions.push(UndoRedo.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&extensions.push(HorizontalRule.configure(this.options.horizontalRule)),!1!==this.options.italic&&extensions.push(Italic.configure(this.options.italic)),!1!==this.options.listItem&&extensions.push(dist_ListItem.configure(this.options.listItem)),!1!==this.options.listKeymap&&extensions.push(ListKeymap.configure(null==(_a=this.options)?void 0:_a.listKeymap)),!1!==this.options.link&&extensions.push(dist_Link.configure(null==(_b=this.options)?void 0:_b.link)),!1!==this.options.orderedList&&extensions.push(OrderedList.configure(this.options.orderedList)),!1!==this.options.paragraph&&extensions.push(Paragraph.configure(this.options.paragraph)),!1!==this.options.strike&&extensions.push(Strike.configure(this.options.strike)),!1!==this.options.text&&extensions.push(dist_Text.configure(this.options.text)),!1!==this.options.underline&&extensions.push(Underline.configure(null==(_c=this.options)?void 0:_c.underline)),!1!==this.options.trailingNode&&extensions.push(TrailingNode.configure(null==(_d=this.options)?void 0:_d.trailingNode)),extensions}}),starter_kit_dist_index_default=StarterKit;function getButtonGroupUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiButtonGroup",slot)}const ButtonGroup_buttonGroupClasses=(0,generateUtilityClasses.A)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),ButtonGroup_excluded=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],ButtonGroupRoot=(0,styled.Ay)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${ButtonGroup_buttonGroupClasses.grouped}`]:styles.grouped},{[`& .${ButtonGroup_buttonGroupClasses.grouped}`]:styles[`grouped${(0,capitalize.A)(ownerState.orientation)}`]},{[`& .${ButtonGroup_buttonGroupClasses.grouped}`]:styles[`grouped${(0,capitalize.A)(ownerState.variant)}`]},{[`& .${ButtonGroup_buttonGroupClasses.grouped}`]:styles[`grouped${(0,capitalize.A)(ownerState.variant)}${(0,capitalize.A)(ownerState.orientation)}`]},{[`& .${ButtonGroup_buttonGroupClasses.grouped}`]:styles[`grouped${(0,capitalize.A)(ownerState.variant)}${(0,capitalize.A)(ownerState.color)}`]},{[`& .${ButtonGroup_buttonGroupClasses.firstButton}`]:styles.firstButton},{[`& .${ButtonGroup_buttonGroupClasses.lastButton}`]:styles.lastButton},{[`& .${ButtonGroup_buttonGroupClasses.middleButton}`]:styles.middleButton},styles.root,styles[ownerState.variant],!0===ownerState.disableElevation&&styles.disableElevation,ownerState.fullWidth&&styles.fullWidth,"vertical"===ownerState.orientation&&styles.vertical]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"inline-flex",borderRadius:(theme.vars||theme).shape.borderRadius},"contained"===ownerState.variant&&{boxShadow:(theme.vars||theme).shadows[2]},ownerState.disableElevation&&{boxShadow:"none"},ownerState.fullWidth&&{width:"100%"},"vertical"===ownerState.orientation&&{flexDirection:"column"},{[`& .${ButtonGroup_buttonGroupClasses.grouped}`]:(0,esm_extends.A)({minWidth:40,"&:hover":(0,esm_extends.A)({},"contained"===ownerState.variant&&{boxShadow:"none"})},"contained"===ownerState.variant&&{boxShadow:"none"}),[`& .${ButtonGroup_buttonGroupClasses.firstButton},& .${ButtonGroup_buttonGroupClasses.middleButton}`]:(0,esm_extends.A)({},"horizontal"===ownerState.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===ownerState.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===ownerState.variant&&"horizontal"===ownerState.orientation&&{borderRight:theme.vars?`1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${ButtonGroup_buttonGroupClasses.disabled}`]:{borderRight:`1px solid ${(theme.vars||theme).palette.action.disabled}`}},"text"===ownerState.variant&&"vertical"===ownerState.orientation&&{borderBottom:theme.vars?`1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${ButtonGroup_buttonGroupClasses.disabled}`]:{borderBottom:`1px solid ${(theme.vars||theme).palette.action.disabled}`}},"text"===ownerState.variant&&"inherit"!==ownerState.color&&{borderColor:theme.vars?`rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)`:(0,colorManipulator.X4)(theme.palette[ownerState.color].main,.5)},"outlined"===ownerState.variant&&"horizontal"===ownerState.orientation&&{borderRightColor:"transparent"},"outlined"===ownerState.variant&&"vertical"===ownerState.orientation&&{borderBottomColor:"transparent"},"contained"===ownerState.variant&&"horizontal"===ownerState.orientation&&{borderRight:`1px solid ${(theme.vars||theme).palette.grey[400]}`,[`&.${ButtonGroup_buttonGroupClasses.disabled}`]:{borderRight:`1px solid ${(theme.vars||theme).palette.action.disabled}`}},"contained"===ownerState.variant&&"vertical"===ownerState.orientation&&{borderBottom:`1px solid ${(theme.vars||theme).palette.grey[400]}`,[`&.${ButtonGroup_buttonGroupClasses.disabled}`]:{borderBottom:`1px solid ${(theme.vars||theme).palette.action.disabled}`}},"contained"===ownerState.variant&&"inherit"!==ownerState.color&&{borderColor:(theme.vars||theme).palette[ownerState.color].dark},{"&:hover":(0,esm_extends.A)({},"outlined"===ownerState.variant&&"horizontal"===ownerState.orientation&&{borderRightColor:"currentColor"},"outlined"===ownerState.variant&&"vertical"===ownerState.orientation&&{borderBottomColor:"currentColor"})}),[`& .${ButtonGroup_buttonGroupClasses.lastButton},& .${ButtonGroup_buttonGroupClasses.middleButton}`]:(0,esm_extends.A)({},"horizontal"===ownerState.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===ownerState.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===ownerState.variant&&"horizontal"===ownerState.orientation&&{marginLeft:-1},"outlined"===ownerState.variant&&"vertical"===ownerState.orientation&&{marginTop:-1})})),ButtonGroup=react.forwardRef(function ButtonGroup(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiButtonGroup"}),{children,className,color="primary",component="div",disabled=!1,disableElevation=!1,disableFocusRipple=!1,disableRipple=!1,fullWidth=!1,orientation="horizontal",size="medium",variant="outlined"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ButtonGroup_excluded),ownerState=(0,esm_extends.A)({},props,{color,component,disabled,disableElevation,disableFocusRipple,disableRipple,fullWidth,orientation,size,variant}),classes=(ownerState=>{const{classes,color,disabled,disableElevation,fullWidth,orientation,variant}=ownerState,slots={root:["root",variant,"vertical"===orientation&&"vertical",fullWidth&&"fullWidth",disableElevation&&"disableElevation"],grouped:["grouped",`grouped${(0,capitalize.A)(orientation)}`,`grouped${(0,capitalize.A)(variant)}`,`grouped${(0,capitalize.A)(variant)}${(0,capitalize.A)(orientation)}`,`grouped${(0,capitalize.A)(variant)}${(0,capitalize.A)(color)}`,disabled&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,composeClasses.A)(slots,getButtonGroupUtilityClass,classes)})(ownerState),context=react.useMemo(()=>({className:classes.grouped,color,disabled,disableElevation,disableFocusRipple,disableRipple,fullWidth,size,variant}),[color,disabled,disableElevation,disableFocusRipple,disableRipple,fullWidth,size,variant,classes.grouped]),validChildren=getValidReactChildren(children),childrenCount=validChildren.length,getButtonPositionClassName=index=>{const isFirstButton=0===index,isLastButton=index===childrenCount-1;return isFirstButton&&isLastButton?"":isFirstButton?classes.firstButton:isLastButton?classes.lastButton:classes.middleButton};return(0,jsx_runtime.jsx)(ButtonGroupRoot,(0,esm_extends.A)({as:component,role:"group",className:(0,clsx.A)(classes.root,className),ref,ownerState},other,{children:(0,jsx_runtime.jsx)(ButtonGroup_ButtonGroupContext.Provider,{value:context,children:validChildren.map((child,index)=>(0,jsx_runtime.jsx)(ButtonGroup_ButtonGroupButtonContext.Provider,{value:getButtonPositionClassName(index),children:child},index))})}))}),ButtonGroup_ButtonGroup=ButtonGroup,Undo=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),Redo=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo"),FormatBold=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),FormatItalic=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),FormatStrikethrough=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"}),"FormatStrikethrough"),esm_Code=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),FormatListBulleted=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted"),FormatListNumbered=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered"),FormatQuote=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote");const content_TiptapEditor=function TiptapEditor(_ref){var _ref$content=_ref.content,content=void 0===_ref$content?"":_ref$content,onChange=_ref.onChange,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"Start typing...":_ref$placeholder,label=_ref.label,_ref$error=_ref.error,error=void 0!==_ref$error&&_ref$error,helperText=_ref.helperText,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,editor=useEditor({extensions:[starter_kit_dist_index_default.configure({heading:{levels:[1,2,3,4,5,6]}})],content,onUpdate:function onUpdate(_ref2){var editor=_ref2.editor;onChange&&onChange(editor.getHTML())},editable:!disabled});if(!editor)return null;var ToolbarButton=function ToolbarButton(_ref3){var onClick=_ref3.onClick,_ref3$active=_ref3.active,active=void 0!==_ref3$active&&_ref3$active,_ref3$disabled=_ref3.disabled,disabled=void 0!==_ref3$disabled&&_ref3$disabled,children=_ref3.children;return react.createElement(material_Button_Button,{onClick,variant:active?"contained":"outlined",size:"small",disabled,sx:{minWidth:"36px",height:"36px",color:active?"white":"rgba(0, 0, 0, 0.54)",backgroundColor:active?"primary.main":"transparent",borderColor:"rgba(0, 0, 0, 0.12)","&:hover":{backgroundColor:active?"primary.dark":"rgba(0, 0, 0, 0.04)"}}},children)};return react.createElement(material_Box_Box,null,label&&react.createElement(material_Typography_Typography,{variant:"body2",component:"label",sx:{display:"block",mb:1,color:error?"error.main":"text.secondary",fontSize:"0.875rem",fontWeight:400}},label),react.createElement(material_Paper_Paper,{variant:"outlined",sx:{border:error?"2px solid":"1px solid",borderColor:error?"error.main":"rgba(0, 0, 0, 0.23)",borderRadius:1,"&:hover":{borderColor:error?"error.main":"rgba(0, 0, 0, 0.87)"},"&:focus-within":{borderColor:error?"error.main":"primary.main",borderWidth:"2px"}}},react.createElement(material_Box_Box,{sx:{p:1,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}},react.createElement(material_Box_Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},react.createElement(ButtonGroup_ButtonGroup,{size:"small"},react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().undo().run()},disabled:!editor.can().chain().focus().undo().run()},react.createElement(Undo,{fontSize:"small"})),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().redo().run()},disabled:!editor.can().chain().focus().redo().run()},react.createElement(Redo,{fontSize:"small"}))),react.createElement(Divider_Divider,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),react.createElement(ButtonGroup_ButtonGroup,{size:"small"},react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleHeading({level:1}).run()},active:editor.isActive("heading",{level:1})},"H1"),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleHeading({level:2}).run()},active:editor.isActive("heading",{level:2})},"H2"),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleHeading({level:3}).run()},active:editor.isActive("heading",{level:3})},"H3")),react.createElement(Divider_Divider,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),react.createElement(ButtonGroup_ButtonGroup,{size:"small"},react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleBold().run()},active:editor.isActive("bold")},react.createElement(FormatBold,{fontSize:"small"})),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleItalic().run()},active:editor.isActive("italic")},react.createElement(FormatItalic,{fontSize:"small"})),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleStrike().run()},active:editor.isActive("strike")},react.createElement(FormatStrikethrough,{fontSize:"small"})),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleCode().run()},active:editor.isActive("code")},react.createElement(esm_Code,{fontSize:"small"}))),react.createElement(Divider_Divider,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),react.createElement(ButtonGroup_ButtonGroup,{size:"small"},react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleBulletList().run()},active:editor.isActive("bulletList")},react.createElement(FormatListBulleted,{fontSize:"small"})),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleOrderedList().run()},active:editor.isActive("orderedList")},react.createElement(FormatListNumbered,{fontSize:"small"})),react.createElement(ToolbarButton,{onClick:function onClick(){return editor.chain().focus().toggleBlockquote().run()},active:editor.isActive("blockquote")},react.createElement(FormatQuote,{fontSize:"small"}))))),react.createElement(material_Box_Box,{sx:{"& .ProseMirror":{padding:2,minHeight:"200px",outline:"none",fontSize:"16px",lineHeight:1.6,"& p.is-editor-empty:first-of-type::before":{content:'"'.concat(placeholder,'"'),float:"left",color:"rgba(0, 0, 0, 0.38)",pointerEvents:"none",height:0},"& h1":{fontSize:"2rem",fontWeight:700,lineHeight:1.2,marginTop:"1.5rem",marginBottom:"0.5rem","&:first-of-type":{marginTop:0}},"& h2":{fontSize:"1.75rem",fontWeight:600,lineHeight:1.3,marginTop:"1.25rem",marginBottom:"0.5rem","&:first-of-type":{marginTop:0}},"& h3":{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4,marginTop:"1rem",marginBottom:"0.5rem","&:first-of-type":{marginTop:0}},"& p":{marginBottom:"0.75rem","&:last-child":{marginBottom:0}},"& ul, & ol":{paddingLeft:"1.5rem",marginBottom:"0.75rem"},"& li":{marginBottom:"0.25rem"},"& blockquote":{paddingLeft:"1rem",borderLeft:"4px solid rgba(0, 0, 0, 0.12)",marginLeft:0,marginRight:0,fontStyle:"italic",color:"rgba(0, 0, 0, 0.6)"},"& code":{backgroundColor:"rgba(0, 0, 0, 0.04)",padding:"0.2rem 0.4rem",borderRadius:"0.25rem",fontSize:"0.875rem",fontFamily:"monospace"},"& pre":{backgroundColor:"rgba(0, 0, 0, 0.04)",padding:"1rem",borderRadius:"0.5rem",overflow:"auto","& code":{backgroundColor:"transparent",padding:0}}}}},react.createElement(EditorContent,{editor}))),helperText&&react.createElement(material_Typography_Typography,{variant:"caption",sx:{display:"block",mt:.5,color:error?"error.main":"text.secondary"}},helperText))},googleMapsStyles_namespaceObject=JSON.parse('[{"featureType":"administrative","elementType":"all","stylers":[{"saturation":"-100"}]},{"featureType":"administrative.province","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"landscape","elementType":"all","stylers":[{"saturation":-100},{"lightness":65},{"visibility":"on"}]},{"featureType":"poi","elementType":"all","stylers":[{"saturation":-100},{"lightness":"50"},{"visibility":"simplified"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":"-100"}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"all","stylers":[{"lightness":"30"}]},{"featureType":"road.local","elementType":"all","stylers":[{"lightness":"40"}]},{"featureType":"transit","elementType":"all","stylers":[{"saturation":-100},{"visibility":"simplified"}]},{"featureType":"water","elementType":"geometry","stylers":[{"hue":"#ffff00"},{"lightness":-25},{"saturation":-97}]},{"featureType":"water","elementType":"labels","stylers":[{"lightness":-25},{"saturation":-100}]}]');function GoogleMapComponent_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function GoogleMapComponent_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context,_context2,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context=GoogleMapComponent_ownKeys(Object(t),!0)).call(_context,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context2=GoogleMapComponent_ownKeys(Object(t))).call(_context2,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}const content_GoogleMapComponent=function GoogleMapComponent(_ref){var location=_ref.location,apiKey=_ref.apiKey,_ref$editable=_ref.editable,editable=void 0!==_ref$editable&&_ref$editable,onLocationChange=_ref.onLocationChange,config=app_hooks_useApp().config,mapRef=(0,react.useRef)(null),_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),map=_useState2[0],setMap=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(null),2),marker=_useState4[0],setMarker=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState6[0],setLoading=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),apiLoaded=_useState8[0],setApiLoaded=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),isCommandPressed=_useState0[0],setIsCommandPressed=_useState0[1];(0,react.useEffect)(function(){return function loadGoogleMapsAPI(){if(apiKey)if(window.google&&window.google.maps)setApiLoaded(!0);else{var script=document.createElement("script");script.src="https://maps.googleapis.com/maps/api/js?key=".concat(apiKey,"&libraries=places"),script.async=!0,script.defer=!0,script.onload=function(){setApiLoaded(!0)},script.onerror=function(error){console.error("GoogleMapComponent: Failed to load Google Maps API script:",error),react_toastify_esm_Q.error("Failed to load Google Maps API"),setLoading(!1)},document.head.appendChild(script)}else setLoading(!1)}(),function(){marker&&marker.setMap(null)}},[apiKey]),(0,react.useEffect)(function(){if(apiLoaded&&mapRef.current)initializeMap();else if(apiLoaded&&!mapRef.current){var timeout=set_timeout_default()(function(){mapRef.current?initializeMap():(console.error("GoogleMapComponent: Ref still not available after timeout"),setLoading(!1))},100);return function(){return clearTimeout(timeout)}}},[apiLoaded,location]),(0,react.useEffect)(function(){var handleKeyDown=function handleKeyDown(event){(event.metaKey||event.ctrlKey)&&setIsCommandPressed(!0)},handleKeyUp=function handleKeyUp(event){event.metaKey||event.ctrlKey||setIsCommandPressed(!1)};document.addEventListener("keydown",handleKeyDown),document.addEventListener("keyup",handleKeyUp);var handleWindowBlur=function handleWindowBlur(){setIsCommandPressed(!1)};return window.addEventListener("blur",handleWindowBlur),function(){document.removeEventListener("keydown",handleKeyDown),document.removeEventListener("keyup",handleKeyUp),window.removeEventListener("blur",handleWindowBlur)}},[]),(0,react.useEffect)(function(){if(map){var options={scrollwheel:isCommandPressed,zoomControl:isCommandPressed,draggable:isCommandPressed,disableDoubleClickZoom:!isCommandPressed,gestureHandling:isCommandPressed?"auto":"none"};map.setOptions(options)}},[map,isCommandPressed]);var initializeMap=function initializeMap(){if(!mapRef.current)return console.error("GoogleMapComponent: Map ref is not available"),setLoading(!1),void react_toastify_esm_Q.error("Failed to initialize map container");try{var defaultMapOptions=GoogleMapComponent_objectSpread({center:location,zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,scrollwheel:!1,zoomControl:!1,draggable:!1,disableDoubleClickZoom:!0,gestureHandling:"none",streetViewControl:!1,fullscreenControl:!1},apiKey&&{styles:googleMapsStyles_namespaceObject}),mapOptions=GoogleMapComponent_objectSpread(GoogleMapComponent_objectSpread({},defaultMapOptions),null==config?void 0:config.googleMapsOptions),mapInstance=new google.maps.Map(mapRef.current,mapOptions),markerInstance=new google.maps.Marker({position:location,map:mapInstance,draggable:editable});editable&&onLocationChange&&(markerInstance.addListener("dragend",function(){var position=markerInstance.getPosition();position&&onLocationChange({lat:position.lat(),lng:position.lng()})}),mapInstance.addListener("click",function(event){var position=event.latLng;position&&(markerInstance.setPosition(position),onLocationChange({lat:position.lat(),lng:position.lng()}))})),setMap(mapInstance),setMarker(markerInstance),setLoading(!1)}catch(err){console.error("GoogleMapComponent: Error initializing Google Maps:",err),react_toastify_esm_Q.error("Failed to initialize Google Maps"),setLoading(!1)}};return(0,react.useEffect)(function(){marker&&location&&(marker.setPosition(location),map&&map.panTo(location))},[location,marker,map]),apiKey?react.createElement(material_Box_Box,{sx:{position:"relative",height:"100%",width:"100%",minHeight:"300px"}},react.createElement(material_Box_Box,{ref:mapRef,sx:{height:"100%",width:"100%",minHeight:"300px"}}),loading&&react.createElement(material_Box_Box,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:1e3}},react.createElement(material_CircularProgress_CircularProgress,null)),!loading&&react.createElement(material_Box_Box,{sx:{position:"absolute",bottom:8,left:8,backgroundColor:isCommandPressed?"rgba(76, 175, 80, 0.9)":"rgba(0, 0, 0, 0.7)",color:"white",px:1.5,py:.5,borderRadius:1,fontSize:"0.75rem",fontWeight:"medium",zIndex:1e3,transition:"all 0.2s ease",pointerEvents:"none"}},isCommandPressed?react.createElement(react.Fragment,null," Map Active"):react.createElement(react.Fragment,null,"Hold  to interact"))):react.createElement(material_Box_Box,{sx:{p:2,border:"1px solid #ddd",borderRadius:1,bgcolor:"grey.100",height:"auto",minHeight:"auto"}},react.createElement(material_Typography_Typography,{variant:"body2",sx:{mb:1}},"Location coordinates:"),react.createElement(material_Typography_Typography,{component:"pre",sx:{m:0,p:1,bgcolor:"background.paper",borderRadius:1,border:"1px solid #eee",fontSize:"0.9rem",overflow:"auto"}},stringify_default()(location,null,2)),editable&&react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1}},"Note: Editing requires a Google Maps API key"))},PhotoLibrary=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"}),"PhotoLibrary");function FormUtils_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function FormUtils_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context14,_context15,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context14=FormUtils_ownKeys(Object(t),!0)).call(_context14,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context15=FormUtils_ownKeys(Object(t))).call(_context15,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var useFormValidation=function useFormValidation(formatMessage,schema){var customFields=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_React$useState2=slicedToArray_slicedToArray(react.useState({}),2),touchedFields=_React$useState2[0],setTouchedFields=_React$useState2[1],_React$useState4=slicedToArray_slicedToArray(react.useState({}),2),fieldErrors=_React$useState4[0],setFieldErrors=_React$useState4[1];return{touchedFields,fieldErrors,validateRequiredFields:function validateRequiredFields(data){var missingFields=[],errors={};return for_each_default()(schema).call(schema,function(field){if(!field.required||data[field.name]&&""!==data[field.name]||missingFields.push(field.name),"array"===field.type&&data[field.name]){var arrayValue=array_is_array_default()(data[field.name])?data[field.name]:[];field.min&&arrayValue.length<field.min&&missingFields.push(field.name),field.max&&arrayValue.length>field.max&&missingFields.push(field.name)}if(field.validate)try{var validationResult;if("function"==typeof field.validate)validationResult=field.validate(data[field.name]);else if("string"==typeof field.validate){validationResult=new Function("value","\n              const validate = ".concat(field.validate,";\n              return validate(value);\n            "))(data[field.name])}null!=validationResult&&!0!==validationResult&&(errors[field.name]=String(validationResult),includes_default()(missingFields).call(missingFields,field.name)||missingFields.push(field.name))}catch(error){console.error("Error validating field ".concat(field.name,":"),error),errors[field.name]="Validation error",includes_default()(missingFields).call(missingFields,field.name)||missingFields.push(field.name)}else if(isCustomFieldType(field.type,customFields)){var customFieldDef=getCustomFieldDefinition(field.type,customFields);if(customFieldDef){var _validationResult=validateCustomFieldValue(customFieldDef,data[field.name]);!0!==_validationResult&&(errors[field.name]=_validationResult,includes_default()(missingFields).call(missingFields,field.name)||missingFields.push(field.name))}}}),setFieldErrors(errors),{missingFields,errors}},handleFieldBlur:function handleFieldBlur(fieldName,data){setTouchedFields(function(prev){return FormUtils_objectSpread(FormUtils_objectSpread({},prev),{},defineProperty_defineProperty({},fieldName,!0))});var field=find_default()(schema).call(schema,function(f){return f.name===fieldName});if(field){if(field.required)if(!data[fieldName]||""===data[fieldName])return void setFieldErrors(function(prev){return FormUtils_objectSpread(FormUtils_objectSpread({},prev),{},defineProperty_defineProperty({},fieldName,formatMessage({id:"content.validation.field_required",defaultMessage:"This field is required"})))});if(field.validate)try{var validationResult;if("function"==typeof field.validate)validationResult=field.validate(data[fieldName]);else if("string"==typeof field.validate){var validateFunction=new Function("value","\n              const validate = ".concat(field.validate,";\n              return validate(value);\n            "));validationResult=validateFunction(data[fieldName])}setFieldErrors(null!=validationResult&&!0!==validationResult?function(prev){return FormUtils_objectSpread(FormUtils_objectSpread({},prev),{},defineProperty_defineProperty({},fieldName,String(validationResult)))}:function(prev){var newErrors=FormUtils_objectSpread({},prev);return delete newErrors[fieldName],newErrors})}catch(error){console.error("Error validating field ".concat(fieldName,":"),error),setFieldErrors(function(prev){return FormUtils_objectSpread(FormUtils_objectSpread({},prev),{},defineProperty_defineProperty({},fieldName,"Validation error"))})}else if(isCustomFieldType(field.type,customFields)){var customFieldDef=getCustomFieldDefinition(field.type,customFields);if(customFieldDef){var _validationResult2=validateCustomFieldValue(customFieldDef,data[fieldName]);setFieldErrors(!0!==_validationResult2?function(prev){return FormUtils_objectSpread(FormUtils_objectSpread({},prev),{},defineProperty_defineProperty({},fieldName,_validationResult2))}:function(prev){var newErrors=FormUtils_objectSpread({},prev);return delete newErrors[fieldName],newErrors})}else setFieldErrors(function(prev){var newErrors=FormUtils_objectSpread({},prev);return delete newErrors[fieldName],newErrors})}else setFieldErrors(function(prev){var newErrors=FormUtils_objectSpread({},prev);return delete newErrors[fieldName],newErrors})}},clearFieldError:function clearFieldError(fieldName){fieldErrors[fieldName]&&setFieldErrors(function(prev){var newErrors=FormUtils_objectSpread({},prev);return delete newErrors[fieldName],newErrors})},markAllRequiredFieldsAsTouched:function markAllRequiredFieldsAsTouched(data){var _context,requiredFieldNames=map_default()(_context=filter_default()(schema).call(schema,function(field){return field.required})).call(_context,function(field){return field.name}),newTouchedFields=FormUtils_objectSpread({},touchedFields),newFieldErrors=FormUtils_objectSpread({},fieldErrors);for_each_default()(requiredFieldNames).call(requiredFieldNames,function(fieldName){newTouchedFields[fieldName]=!0,(!data[fieldName]||""===data[fieldName])&&(newFieldErrors[fieldName]=formatMessage({id:"content.validation.field_required",defaultMessage:"This field is required"}))}),setTouchedFields(newTouchedFields),setFieldErrors(newFieldErrors)},resetValidation:function resetValidation(){setTouchedFields({}),setFieldErrors({})}}},formatDateTimeLocal=function formatDateTimeLocal(date){var _context3,_context4,_context5,_context6;if(!date)return"";var d=date instanceof Date?date:new Date(date),pad=function pad(num){var _context2;return pad_start_default()(_context2=num.toString()).call(_context2,2,"0")};return concat_default()(_context3=concat_default()(_context4=concat_default()(_context5=concat_default()(_context6="".concat(d.getFullYear(),"-")).call(_context6,pad(d.getMonth()+1),"-")).call(_context5,pad(d.getDate()),"T")).call(_context4,pad(d.getHours()),":")).call(_context3,pad(d.getMinutes()))},ReferenceDisplay=function ReferenceDisplay(_ref){var refId=_ref.refId,referencePath=_ref.referencePath,schema=useSchema().schema,config=app_hooks_useApp().config,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),referencedDoc=_useState2[0],setReferencedDoc=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState4[0],setLoading=_useState4[1];if((0,react.useEffect)(function(){if(referencePath&&refId){var fetchReferencedDoc=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var doc,_t;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,setLoading(!0),_context8.next=1,firebase_utils_getDocument(referencePath,refId,!0===(null==config?void 0:config.useFirestoreAccessRules));case 1:doc=_context8.sent,setReferencedDoc(doc),_context8.next=3;break;case 2:_context8.prev=2,_t=_context8.catch(0),console.error("ReferenceDisplay - error fetching referenced document:",_t),setReferencedDoc(null);case 3:return _context8.prev=3,setLoading(!1),_context8.finish(3);case 4:case"end":return _context8.stop()}},_callee,null,[[0,2,3,4]])}));return function fetchReferencedDoc(){return _ref2.apply(this,arguments)}}();fetchReferencedDoc()}},[referencePath,refId,config]),loading)return react.createElement(react.Fragment,null,react.createElement(material_CircularProgress_CircularProgress,{size:16,sx:{mr:1}}),"Selected: ",refId);if(!referencedDoc)return react.createElement(react.Fragment,null,"Selected: ",refId);var displayTitle=function getDocumentTitle(document,collectionPath){var _schemaCollections$co,_schemaCollections$co2,titleTemplate,schema=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},schemaCollections=(null==schema?void 0:schema.collections)||schema||{};if(null!==(_schemaCollections$co=schemaCollections[collectionPath])&&void 0!==_schemaCollections$co&&_schemaCollections$co.titleTemplate)titleTemplate=schemaCollections[collectionPath].titleTemplate;else if(includes_default()(collectionPath).call(collectionPath,"/")){var pathParts=collectionPath.split("/");if(pathParts.length>=3&&pathParts.length%2==1){var _context7,_schemaCollections$si,rootCollection=pathParts[0],subcollection=pathParts[pathParts.length-1],simplifiedKey=concat_default()(_context7="".concat(rootCollection,"/")).call(_context7,subcollection);null!==(_schemaCollections$si=schemaCollections[simplifiedKey])&&void 0!==_schemaCollections$si&&_schemaCollections$si.titleTemplate&&(titleTemplate=schemaCollections[simplifiedKey].titleTemplate)}if(!titleTemplate){var _schemaCollections$la,lastSegment=pathParts[pathParts.length-1];null!==(_schemaCollections$la=schemaCollections[lastSegment])&&void 0!==_schemaCollections$la&&_schemaCollections$la.titleTemplate&&(titleTemplate=schemaCollections[lastSegment].titleTemplate)}}else null!==(_schemaCollections$co2=schemaCollections[collectionPath])&&void 0!==_schemaCollections$co2&&_schemaCollections$co2.titleTemplate&&(titleTemplate=schemaCollections[collectionPath].titleTemplate);if(titleTemplate&&document)try{return titleTemplate.replace(/\$\{([^}]+)\}/g,function(match,fieldName){var value=document[trim_default()(fieldName).call(fieldName)];return null!=value?String(value):match})}catch(error){console.warn("Error processing titleTemplate:",error)}return(null==document?void 0:document.title)||(null==document?void 0:document.name)||(null==document?void 0:document.displayName)||(null==document?void 0:document.text)||(null==document?void 0:document.content)||(null==document?void 0:document.description)||(null==document?void 0:document.id)||"Unknown"}(referencedDoc,referencePath,schema||{});return react.createElement(react.Fragment,null,"Selected: ",displayTitle)},GeoPointField=function GeoPointField(_ref3){var _config$googleMapsOpt,field=_ref3.field,data=_ref3.data,onChange=_ref3.onChange,_ref3$options=_ref3.options,options=void 0===_ref3$options?{}:_ref3$options,config=app_hooks_useApp().config,name=field.name,_onBlur=options.onBlur,_options$touchedField=options.touchedFields,touchedFields=void 0===_options$touchedField?{}:_options$touchedField,_options$fieldErrors=options.fieldErrors,fieldErrors=void 0===_options$fieldErrors?{}:_options$fieldErrors,fieldLabel=field.label||name,isRequired=!0===field.required,hasError=touchedFields[name]&&!!fieldErrors[name],helperText=touchedFields[name]&&fieldErrors[name]||"",geoValue=data[name],defaultCenter=(null==config||null===(_config$googleMapsOpt=config.googleMapsOptions)||void 0===_config$googleMapsOpt?void 0:_config$googleMapsOpt.center)||{lat:59.9111,lng:10.7535},currentGeo={latitude:defaultCenter.lat||defaultCenter.latitude||59.9111,longitude:defaultCenter.lng||defaultCenter.longitude||10.7535};geoValue&&"object"===_typeof(geoValue)&&("latitude"in geoValue&&"longitude"in geoValue?currentGeo={latitude:geoValue.latitude,longitude:geoValue.longitude}:"_latitude"in geoValue&&"_longitude"in geoValue?currentGeo={latitude:geoValue._latitude,longitude:geoValue._longitude}:"_lat"in geoValue&&("_long"in geoValue||"_lng"in geoValue)?currentGeo={latitude:geoValue._lat,longitude:geoValue._long||geoValue._lng}:"lat"in geoValue&&"lng"in geoValue&&(currentGeo={latitude:geoValue.lat,longitude:geoValue.lng}));var updateGeoPoint=function updateGeoPoint(lat,lng){onChange(name,{latitude:lat,longitude:lng})};return react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body2",component:"label",sx:{mb:1,display:"block",color:"text.secondary",fontSize:"0.875rem",fontWeight:400}},fieldLabel," ",isRequired&&"*"),react.createElement(Grid_Grid,{container:!0,spacing:2,sx:{mb:2}},react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(TextField_TextField,{fullWidth:!0,label:"Latitude",type:"number",value:currentGeo.latitude,onChange:function onChange(e){return function handleLatitudeChange(lat){updateGeoPoint(lat,currentGeo.longitude)}(Number(e.target.value))},onBlur:function onBlur(){return null==_onBlur?void 0:_onBlur(name)},required:isRequired,error:hasError,helperText:hasError?helperText:"",inputProps:{step:"any",min:-90,max:90}})),react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(TextField_TextField,{fullWidth:!0,label:"Longitude",type:"number",value:currentGeo.longitude,onChange:function onChange(e){return function handleLongitudeChange(lng){updateGeoPoint(currentGeo.latitude,lng)}(Number(e.target.value))},onBlur:function onBlur(){return null==_onBlur?void 0:_onBlur(name)},required:isRequired,error:hasError,helperText:hasError?helperText:"",inputProps:{step:"any",min:-180,max:180}}))),(null==config?void 0:config.googleMapsApiKey)&&react.createElement(material_Box_Box,{sx:{mt:2}},react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mb:1,display:"block"}},"Click on the map to set location:"),react.createElement(material_Box_Box,{sx:{height:300,border:"1px solid #ddd",borderRadius:1}},react.createElement(content_GoogleMapComponent,{location:{lat:currentGeo.latitude,lng:currentGeo.longitude},apiKey:config.googleMapsApiKey,editable:!0,onLocationChange:function handleMapLocationChange(location){updateGeoPoint(location.lat,location.lng)}}))),react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"}},"Current location: ",currentGeo.latitude.toFixed(6),","," ",currentGeo.longitude.toFixed(6)))},AssetsField=function AssetsField(_ref4){var _context9,_context0,_context1,_context10,field=_ref4.field,data=_ref4.data,onChange=_ref4.onChange,_ref4$options=_ref4.options,options=void 0===_ref4$options?{}:_ref4$options,config=app_hooks_useApp().config,name=field.name,_options$touchedField2=(options.onBlur,options.touchedFields),touchedFields=void 0===_options$touchedField2?{}:_options$touchedField2,_options$fieldErrors2=options.fieldErrors,fieldErrors=void 0===_options$fieldErrors2?{}:_options$fieldErrors2,fieldLabel=field.label||name,isRequired=!0===field.required,hasError=touchedFields[name]&&!!fieldErrors[name],helperText=touchedFields[name]&&fieldErrors[name]||"",min=field.min||0,max=field.max||1,currentAssets=array_is_array_default()(data[name])?data[name]:[],_useState6=slicedToArray_slicedToArray((0,react.useState)(!1),2),selectorOpen=_useState6[0],setSelectorOpen=_useState6[1];Boolean((null==config?void 0:config.adminCredentials)||(null==config?void 0:config.webappConfig));return react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body2",component:"label",sx:{mb:1,display:"block",color:"text.secondary",fontSize:"0.875rem",fontWeight:400}},fieldLabel," ",isRequired&&"*"),currentAssets.length>0&&react.createElement(material_Box_Box,{sx:{mb:2}},react.createElement(Grid_Grid,{container:!0,spacing:2},map_default()(currentAssets).call(currentAssets,function(asset,index){return react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,md:4,key:index},react.createElement(Card_Card,{variant:"outlined"},react.createElement(common_AssetThumbnail,{asset,height:120,fallbackIcon:!0}),react.createElement(CardContent_CardContent,{sx:{p:1}},react.createElement(material_Typography_Typography,{variant:"caption",noWrap:!0,title:asset.name},asset.name||"Unnamed Asset"),react.createElement("br",null),react.createElement(material_Chip_Chip,{label:asset.type,size:"small",color:"internal"===asset.type?"primary":"secondary"}))))}))),react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return setSelectorOpen(!0)},startIcon:react.createElement(PhotoLibrary,null),sx:{mb:1}},0===currentAssets.length?"Select Assets":"Manage Assets",max>1&&concat_default()(_context9=" (".concat(currentAssets.length,"/")).call(_context9,max,")")),(min>0||max>1)&&react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{display:"block"}},min>0&&max>1?concat_default()(_context0="Select ".concat(min,"-")).call(_context0,max," assets"):min>0?concat_default()(_context1="Minimum ".concat(min," asset")).call(_context1,min>1?"s":""," required"):concat_default()(_context10="Maximum ".concat(max," asset")).call(_context10,max>1?"s":""," allowed")),hasError&&react.createElement(material_Typography_Typography,{variant:"caption",color:"error",sx:{display:"block",mt:1}},helperText),react.createElement(common_AssetSelectorDialog,{open:selectorOpen,onClose:function onClose(){return setSelectorOpen(!1)},onConfirm:function handleAssetSelection(selections){onChange(name,selections)},min,max,currentSelections:currentAssets,title:"Select Assets for ".concat(fieldLabel)}))},renderFieldInput=function renderFieldInput(field,data,_onChange){var _data$name,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},name=field.name,type=field.type,_onBlur2=options.onBlur,_options$touchedField3=options.touchedFields,touchedFields=void 0===_options$touchedField3?{}:_options$touchedField3,_options$fieldErrors3=options.fieldErrors,fieldErrors=void 0===_options$fieldErrors3?{}:_options$fieldErrors3,history=(options.onOpenReferenceSelector,options.history),formatMessage=options.formatMessage,_options$customFields=options.customFields,customFields=void 0===_options$customFields?{}:_options$customFields,fieldLabel=field.label||name,isRequired=field.required||!1,hasError=!(!touchedFields[name]||!fieldErrors[name]),helperText=hasError?fieldErrors[name]:void 0;if(isCustomFieldType(type,customFields)){var customFieldDef=getCustomFieldDefinition(type,customFields);if(customFieldDef)try{var customFieldResult=executeCustomFieldRenderInput(customFieldDef,data[name],function(newValue){return _onChange(name,newValue)},{name,label:fieldLabel,required:isRequired,hasError,helperText});if(customFieldResult){var htmlContent=customFieldResult.render();return react.createElement(material_Box_Box,{dangerouslySetInnerHTML:{__html:htmlContent}})}}catch(error){console.error("Error rendering custom field '".concat(type,"':"),error)}}switch(type){case"string":if(field.options&&array_is_array_default()(field.options)){var _context11,_context12,selectValue=void 0!==data[name]?data[name]:void 0!==field.default?field.default:"";return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,select:!0,value:selectValue,onChange:function onChange(e){return _onChange(name,e.target.value)},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText,SelectProps:{native:!0}},react.createElement("option",{value:""}),map_default()(_context11=filter_default()(_context12=field.options).call(_context12,function(option){return null!=option})).call(_context11,function(option,index){var value,text;try{return"string"==typeof option?value=text=option:array_is_array_default()(option)&&option.length>=2?(value=String(option[0]||""),text=String(option[1]||option[0]||"")):"object"===_typeof(option)&&null!==option?(value=String(option.value||option.key||""),text=String(option.text||option.label||option.name||option.value||option.key||"")):value=text=String(option||""),react.createElement("option",{key:"option-".concat(value||index),value},text)}catch(error){return console.warn("Error processing option:",option,error),react.createElement("option",{key:"fallback-".concat(index),value:""},"Invalid option")}}))}var stringValue=void 0!==data[name]?data[name]:void 0!==field.default?field.default:"";return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,value:stringValue,onChange:function onChange(e){return _onChange(name,e.target.value)},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText});case"number":var numberValue=void 0!==data[name]?data[name]:void 0!==field.default?field.default:0;return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,type:"number",value:numberValue,onChange:function onChange(e){return _onChange(name,Number(e.target.value))},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText});case"boolean":var booleanValue=void 0!==data[name]?data[name]:void 0!==field.default&&field.default;return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,select:!0,value:booleanValue?"true":"false",onChange:function onChange(e){return _onChange(name,"true"===e.target.value)},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText,SelectProps:{native:!0}},react.createElement("option",{value:"true"},"Yes"),react.createElement("option",{value:"false"},"No"));case"timestamp":return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,type:"datetime-local",value:formatDateTimeLocal(data[name]),onChange:function onChange(e){return _onChange(name,new Date(e.target.value))},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText,InputLabelProps:{shrink:!0}});case"array":return react.createElement(common_ArrayFieldBuilder,{field,value:data[name]||[],onChange:_onChange,onBlur:_onBlur2,required:isRequired,error:hasError,helperText,fieldLabel});case"map":return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,multiline:!0,rows:4,value:stringify_default()(data[name]||{},null,2),onChange:function onChange(e){try{_onChange(name,JSON.parse(e.target.value))}catch(error){_onChange(name,e.target.value)}},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText:helperText||"Map: Edit as JSON"});case"geoPoint":return react.createElement(GeoPointField,{field,data,onChange:_onChange,options});case"assets":return react.createElement(AssetsField,{field,data,onChange:_onChange,options});case"reference":var refId="",fullPath="",referencePath=field.referencePath;if(data[name]&&data[name]._path&&data[name]._path.segments){var segments=data[name]._path.segments;refId=segments[segments.length-1],fullPath=segments.join("/"),referencePath=instance_slice_default()(segments).call(segments,0,-1).join("/")}else if(null!==(_data$name=data[name])&&void 0!==_data$name&&_data$name.id){var _context13;refId=data[name].id,referencePath=data[name]._collectionPath||field.referencePath,fullPath=referencePath?concat_default()(_context13="".concat(referencePath,"/")).call(_context13,refId):""}return react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body2",component:"label",sx:{mb:1,display:"block",color:"text.secondary",fontSize:"0.875rem",fontWeight:400}},fieldLabel," ",isRequired&&"*"),react.createElement(material_Typography_Typography,{variant:"body1",sx:{mb:2,p:1,bgcolor:"grey.100",borderRadius:1}},refId&&referencePath?react.createElement(ReferenceDisplay,{refId,referencePath}):formatMessage?formatMessage({id:"content.no_reference_selected",defaultMessage:"No {fieldLabel} selected"},{fieldLabel}):"No ".concat(fieldLabel," selected")),react.createElement(material_Button_Button,{variant:"contained",onClick:function onClick(){var _options$onOpenRefere;null===(_options$onOpenRefere=options.onOpenReferenceSelector)||void 0===_options$onOpenRefere||_options$onOpenRefere.call(options,field)},sx:{mr:1}},formatMessage?formatMessage({id:"content.select_reference",defaultMessage:"Select {fieldLabel}"},{fieldLabel}):"Select ".concat(fieldLabel)),refId&&react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return _onChange(name,null)},sx:{mr:1}},"Clear"),fullPath&&react.createElement(material_Button_Button,{size:"small",variant:"text",onClick:function onClick(){null==history||history.push("/content/".concat(fullPath))},sx:{mt:1,display:"block"}},"View Referenced Document"),react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mt:.5,display:"block"}},"Reference to: ",field.referencePath||"unknown collection"));case"editor":var editorValue=data[name]||field.default||"";return react.createElement(content_TiptapEditor,{content:editorValue,onChange:function onChange(content){return _onChange(name,content)},label:fieldLabel,placeholder:"Enter ".concat(fieldLabel.toLowerCase(),"..."),error:hasError,helperText});default:return react.createElement(TextField_TextField,{fullWidth:!0,label:fieldLabel,value:data[name]||"",onChange:function onChange(e){return _onChange(name,e.target.value)},onBlur:function onBlur(){return null==_onBlur2?void 0:_onBlur2(name)},required:isRequired,error:hasError,helperText:hasError?helperText:void 0})}};function useReferenceSelector_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function useReferenceSelector_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context9,_context0,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context9=useReferenceSelector_ownKeys(Object(t),!0)).call(_context9,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context0=useReferenceSelector_ownKeys(Object(t))).call(_context0,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var DocumentForm=function DocumentForm(_ref){var fields=_ref.fields,schema=_ref.schema,data=_ref.data,onChange=_ref.onChange,onBlur=_ref.onBlur,_ref$touchedFields=_ref.touchedFields,touchedFields=void 0===_ref$touchedFields?{}:_ref$touchedFields,_ref$fieldErrors=_ref.fieldErrors,fieldErrors=void 0===_ref$fieldErrors?{}:_ref$fieldErrors,_ref$showValidation=_ref.showValidation,showValidation=void 0!==_ref$showValidation&&_ref$showValidation,formatMessage=useIntl().formatMessage,customFields=(useSchema().schema,useMeta().customFields),_useReferenceSelector=function useReferenceSelector(){var _useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),referenceSelectorOpen=_useState2[0],setReferenceSelectorOpen=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(null),2),currentReferenceField=_useState4[0],setCurrentReferenceField=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)([]),2),navigationLevels=_useState6[0],setNavigationLevels=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(0),2),currentLevelIndex=_useState8[0],setCurrentLevelIndex=_useState8[1],config=app_hooks_useApp().config,parseReferencePath=(0,react.useCallback)(function(referencePath){var _context;return filter_default()(_context=referencePath.split("/")).call(_context,function(segment){return""!==trim_default()(segment).call(segment)})},[]),buildCollectionPath=(0,react.useCallback)(function(collectionSegments,levelIndex,navigationLevels){if(0===levelIndex)return collectionSegments[0];for(var path=collectionSegments[0],i=1;i<=levelIndex;i++){var _context2,previousLevel=navigationLevels[i-1];if(null==previousLevel||!previousLevel.selectedDocument)return"";path+=concat_default()(_context2="/".concat(previousLevel.selectedDocument.id,"/")).call(_context2,collectionSegments[i])}return path},[]),loadDocumentsForLevel=(0,react.useCallback)(function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(levelIndex,collectionSegments,currentLevels){var searchTerm,page,resetPagination,updatedLevels,collectionPath,_finalLevels$levelInd,_context3,useFirestoreRules,result,docs,totalCount,hasMore,finalLevels,currentPage,existingDocs,_finalLevels,errorLevels,_t,_args=arguments;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(searchTerm=_args.length>3&&void 0!==_args[3]?_args[3]:"",page=_args.length>4&&void 0!==_args[4]?_args[4]:0,resetPagination=_args.length>5&&void 0!==_args[5]&&_args[5],_context4.prev=1,(updatedLevels=_toConsumableArray(currentLevels))[levelIndex]=useReferenceSelector_objectSpread(useReferenceSelector_objectSpread({},updatedLevels[levelIndex]),{},{loading:!0,searchTerm,page:resetPagination?0:page}),setNavigationLevels(updatedLevels),!(collectionPath=buildCollectionPath(collectionSegments,levelIndex,updatedLevels))){_context4.next=3;break}return useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules),_context4.next=2,getDocuments(collectionPath,useFirestoreRules,{limit:10,offset:10*(resetPagination?0:page),search:trim_default()(searchTerm).call(searchTerm)||void 0});case 2:result=_context4.sent,docs=[],totalCount=0,hasMore=!1,result&&"object"===_typeof(result)&&result.documents&&array_is_array_default()(result.documents)?(docs=result.documents,totalCount=result.totalCount||docs.length,hasMore=result.hasMore||!1):array_is_array_default()(result)?(totalCount=(docs=result).length,hasMore=10===docs.length):(docs=[],totalCount=0,hasMore=!1),finalLevels=_toConsumableArray(updatedLevels),existingDocs=0===(currentPage=resetPagination?0:page)?[]:(null===(_finalLevels$levelInd=finalLevels[levelIndex])||void 0===_finalLevels$levelInd?void 0:_finalLevels$levelInd.documents)||[],finalLevels[levelIndex]=useReferenceSelector_objectSpread(useReferenceSelector_objectSpread({},finalLevels[levelIndex]),{},{collectionPath,documents:0===currentPage?docs:concat_default()(_context3=[]).call(_context3,_toConsumableArray(existingDocs),_toConsumableArray(docs)),loading:!1,searchTerm,page:currentPage,totalCount,hasMore}),setNavigationLevels(finalLevels),_context4.next=4;break;case 3:(_finalLevels=_toConsumableArray(updatedLevels))[levelIndex]=useReferenceSelector_objectSpread(useReferenceSelector_objectSpread({},_finalLevels[levelIndex]),{},{documents:[],loading:!1,searchTerm,page:0,totalCount:0,hasMore:!1}),setNavigationLevels(_finalLevels);case 4:_context4.next=6;break;case 5:_context4.prev=5,_t=_context4.catch(1),console.error("Error loading documents for level ".concat(levelIndex,":"),_t),(errorLevels=_toConsumableArray(currentLevels))[levelIndex]=useReferenceSelector_objectSpread(useReferenceSelector_objectSpread({},errorLevels[levelIndex]),{},{documents:[],loading:!1,searchTerm,page:0,totalCount:0,hasMore:!1}),setNavigationLevels(errorLevels);case 6:case"end":return _context4.stop()}},_callee,null,[[1,5]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),[config,buildCollectionPath]),handleOpenReferenceSelector=(0,react.useCallback)(function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(field){var collectionSegments,initialLevels,_t2;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(_context5.prev=0,setCurrentReferenceField(field),setReferenceSelectorOpen(!0),collectionSegments=parseReferencePath(field.referencePath),initialLevels=map_default()(collectionSegments).call(collectionSegments,function(segment,index){return{collectionPath:segment,documents:[],loading:!1,searchTerm:"",page:0,totalCount:0,hasMore:!1}}),setNavigationLevels(initialLevels),setCurrentLevelIndex(0),!(collectionSegments.length>0)){_context5.next=1;break}return _context5.next=1,loadDocumentsForLevel(0,collectionSegments,initialLevels);case 1:_context5.next=3;break;case 2:_context5.prev=2,_t2=_context5.catch(0),console.error("Error initializing reference selector for ".concat(field.referencePath,":"),_t2);case 3:case"end":return _context5.stop()}},_callee2,null,[[0,2]])}));return function(_x4){return _ref2.apply(this,arguments)}}(),[config,parseReferencePath,loadDocumentsForLevel]),handleSelectDocument=(0,react.useCallback)(function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(doc){var collectionSegments,pathSegments,i,referenceValue,updatedLevels,nextLevelIndex;return regenerator_default().wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(currentReferenceField){_context6.next=1;break}return _context6.abrupt("return");case 1:if(collectionSegments=parseReferencePath(currentReferenceField.referencePath),currentLevelIndex!==collectionSegments.length-1){_context6.next=2;break}for(pathSegments=[],i=0;i<navigationLevels.length;i++)pathSegments.push(collectionSegments[i]),i<navigationLevels.length-1&&navigationLevels[i].selectedDocument&&pathSegments.push(navigationLevels[i].selectedDocument.id);return pathSegments.push(doc.id),referenceValue={id:doc.id,_path:{segments:pathSegments},_collectionPath:instance_slice_default()(pathSegments).call(pathSegments,0,-1).join("/")},_context6.abrupt("return",referenceValue);case 2:return(updatedLevels=_toConsumableArray(navigationLevels))[currentLevelIndex]=useReferenceSelector_objectSpread(useReferenceSelector_objectSpread({},updatedLevels[currentLevelIndex]),{},{selectedDocument:doc}),setNavigationLevels(updatedLevels),setCurrentLevelIndex(nextLevelIndex=currentLevelIndex+1),_context6.next=3,loadDocumentsForLevel(nextLevelIndex,collectionSegments,updatedLevels);case 3:case"end":return _context6.stop()}},_callee3)}));return function(_x5){return _ref3.apply(this,arguments)}}(),[currentReferenceField,currentLevelIndex,navigationLevels,parseReferencePath,loadDocumentsForLevel]),handleBackToLevel=(0,react.useCallback)(function(levelIndex){if(levelIndex<currentLevelIndex){setCurrentLevelIndex(levelIndex);for(var updatedLevels=_toConsumableArray(navigationLevels),i=levelIndex;i<updatedLevels.length;i++)updatedLevels[i]=useReferenceSelector_objectSpread(useReferenceSelector_objectSpread({},updatedLevels[i]),{},{selectedDocument:void 0,documents:i===levelIndex?updatedLevels[i].documents:[],loading:!1,searchTerm:i===levelIndex?updatedLevels[i].searchTerm:"",page:i===levelIndex?updatedLevels[i].page:0,totalCount:i===levelIndex?updatedLevels[i].totalCount:0,hasMore:i===levelIndex&&updatedLevels[i].hasMore});setNavigationLevels(updatedLevels)}},[currentLevelIndex,navigationLevels]),handleCloseReferenceSelector=(0,react.useCallback)(function(){setReferenceSelectorOpen(!1),setCurrentReferenceField(null),setNavigationLevels([]),setCurrentLevelIndex(0)},[]),handleSearch=(0,react.useCallback)(function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(searchTerm){var collectionSegments;return regenerator_default().wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(currentReferenceField){_context7.next=1;break}return _context7.abrupt("return");case 1:return collectionSegments=parseReferencePath(currentReferenceField.referencePath),_context7.next=2,loadDocumentsForLevel(currentLevelIndex,collectionSegments,navigationLevels,searchTerm,0,!0);case 2:case"end":return _context7.stop()}},_callee4)}));return function(_x6){return _ref4.apply(this,arguments)}}(),[currentReferenceField,currentLevelIndex,navigationLevels,parseReferencePath,loadDocumentsForLevel]),handleLoadMore=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(){var currentLevel,collectionSegments,nextPage;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(currentReferenceField){_context8.next=1;break}return _context8.abrupt("return");case 1:if((currentLevel=navigationLevels[currentLevelIndex])&&!currentLevel.loading&&currentLevel.hasMore){_context8.next=2;break}return _context8.abrupt("return");case 2:return collectionSegments=parseReferencePath(currentReferenceField.referencePath),nextPage=currentLevel.page+1,_context8.next=3,loadDocumentsForLevel(currentLevelIndex,collectionSegments,navigationLevels,currentLevel.searchTerm,nextPage,!1);case 3:case"end":return _context8.stop()}},_callee5)})),[currentReferenceField,currentLevelIndex,navigationLevels,parseReferencePath,loadDocumentsForLevel]),currentLevel=navigationLevels[currentLevelIndex],isLoading=(null==currentLevel?void 0:currentLevel.loading)||!1,currentDocuments=(null==currentLevel?void 0:currentLevel.documents)||[];return{referenceSelectorOpen,loadingReferences:isLoading,currentReferenceField,referenceOptions:currentDocuments,navigationLevels,currentLevelIndex,handleOpenReferenceSelector,handleSelectDocument,handleBackToLevel,handleCloseReferenceSelector,handleSearch,handleLoadMore,currentSearchTerm:(null==currentLevel?void 0:currentLevel.searchTerm)||"",hasMore:(null==currentLevel?void 0:currentLevel.hasMore)||!1,totalCount:(null==currentLevel?void 0:currentLevel.totalCount)||0}}(),referenceSelectorOpen=_useReferenceSelector.referenceSelectorOpen,loadingReferences=_useReferenceSelector.loadingReferences,currentReferenceField=_useReferenceSelector.currentReferenceField,referenceOptions=_useReferenceSelector.referenceOptions,navigationLevels=_useReferenceSelector.navigationLevels,currentLevelIndex=_useReferenceSelector.currentLevelIndex,handleOpenReferenceSelector=_useReferenceSelector.handleOpenReferenceSelector,handleSelectDocument=_useReferenceSelector.handleSelectDocument,handleBackToLevel=_useReferenceSelector.handleBackToLevel,handleCloseReferenceSelector=_useReferenceSelector.handleCloseReferenceSelector,handleSearch=_useReferenceSelector.handleSearch,handleLoadMore=_useReferenceSelector.handleLoadMore,currentSearchTerm=_useReferenceSelector.currentSearchTerm,hasMore=_useReferenceSelector.hasMore,totalCount=_useReferenceSelector.totalCount,visibleFields=getVisibleFields(fields,schema),fieldInputOptions={onBlur,touchedFields:showValidation?touchedFields:{},fieldErrors:showValidation?fieldErrors:{},onOpenReferenceSelector:function onOpenReferenceSelector(field){if(field.referencePath)return handleOpenReferenceSelector({name:field.name,referencePath:field.referencePath})},formatMessage,customFields:customFields||{}};return react.createElement(react.Fragment,null,react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:2,sx:{backgroundColor:function backgroundColor(theme){return theme.palette.grey[50]},mx:-3,px:3,py:2}},map_default()(visibleFields).call(visibleFields,function(field){return react.createElement(material_Box_Box,{key:field.name,sx:{p:2.5,backgroundColor:"white",borderRadius:1,border:function border(theme){return"1px solid ".concat(theme.palette.grey[200])}}},renderFieldInput(field,data,onChange,fieldInputOptions))})),react.createElement(ReferenceSelector,{open:referenceSelectorOpen,onClose:handleCloseReferenceSelector,loading:loadingReferences,currentField:currentReferenceField,options:referenceOptions,navigationLevels,currentLevelIndex,onSelect:function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(doc){var referenceValue;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=1,handleSelectDocument(doc);case 1:(referenceValue=_context.sent)&&currentReferenceField&&(onChange(currentReferenceField.name,referenceValue),handleCloseReferenceSelector());case 2:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref2.apply(this,arguments)}}(),onBackToLevel:handleBackToLevel,onSearch:handleSearch,onLoadMore:handleLoadMore,currentSearchTerm,hasMore,totalCount}))};function getSwitchBaseUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("PrivateSwitchBase",slot)}(0,generateUtilityClasses.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const SwitchBase_excluded=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],SwitchBaseRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiSwitchBase"})(({ownerState})=>(0,esm_extends.A)({padding:9,borderRadius:"50%"},"start"===ownerState.edge&&{marginLeft:"small"===ownerState.size?-3:-12},"end"===ownerState.edge&&{marginRight:"small"===ownerState.size?-3:-12})),SwitchBaseInput=(0,styled.Ay)("input",{name:"MuiSwitchBase",shouldForwardProp:rootShouldForwardProp.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=react.forwardRef(function SwitchBase(props,ref){const{autoFocus,checked:checkedProp,checkedIcon,className,defaultChecked,disabled:disabledProp,disableFocusRipple=!1,edge=!1,icon,id,inputProps,inputRef,name,onBlur,onChange,onFocus,readOnly,required=!1,tabIndex,type,value}=props,other=(0,objectWithoutPropertiesLoose.A)(props,SwitchBase_excluded),[checked,setCheckedState]=(0,useControlled.A)({controlled:checkedProp,default:Boolean(defaultChecked),name:"SwitchBase",state:"checked"}),muiFormControl=useFormControl();let disabled=disabledProp;muiFormControl&&void 0===disabled&&(disabled=muiFormControl.disabled);const hasLabelFor="checkbox"===type||"radio"===type,ownerState=(0,esm_extends.A)({},props,{checked,disabled,disableFocusRipple,edge}),classes=(ownerState=>{const{classes,checked,disabled,edge}=ownerState,slots={root:["root",checked&&"checked",disabled&&"disabled",edge&&`edge${(0,capitalize.A)(edge)}`],input:["input"]};return(0,composeClasses.A)(slots,getSwitchBaseUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsxs)(SwitchBaseRoot,(0,esm_extends.A)({component:"span",className:(0,clsx.A)(classes.root,className),centerRipple:!0,focusRipple:!disableFocusRipple,disabled,tabIndex:null,role:void 0,onFocus:event=>{onFocus&&onFocus(event),muiFormControl&&muiFormControl.onFocus&&muiFormControl.onFocus(event)},onBlur:event=>{onBlur&&onBlur(event),muiFormControl&&muiFormControl.onBlur&&muiFormControl.onBlur(event)},ownerState,ref},other,{children:[(0,jsx_runtime.jsx)(SwitchBaseInput,(0,esm_extends.A)({autoFocus,checked:checkedProp,defaultChecked,className:classes.input,disabled,id:hasLabelFor?id:void 0,name,onChange:event=>{if(event.nativeEvent.defaultPrevented)return;const newChecked=event.target.checked;setCheckedState(newChecked),onChange&&onChange(event,newChecked)},readOnly,ref:inputRef,required,ownerState,tabIndex,type},"checkbox"===type&&void 0===value?{}:{value},inputProps)),checked?checkedIcon:icon]}))}),internal_SwitchBase=SwitchBase,CheckBoxOutlineBlank=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBox=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBox=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCheckbox",slot)}const Checkbox_checkboxClasses=(0,generateUtilityClasses.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Checkbox_excluded=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],CheckboxRoot=(0,styled.Ay)(internal_SwitchBase,{shouldForwardProp:prop=>(0,rootShouldForwardProp.A)(prop)||"classes"===prop,name:"MuiCheckbox",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.indeterminate&&styles.indeterminate,styles[`size${(0,capitalize.A)(ownerState.size)}`],"default"!==ownerState.color&&styles[`color${(0,capitalize.A)(ownerState.color)}`]]}})(({theme,ownerState})=>(0,esm_extends.A)({color:(theme.vars||theme).palette.text.secondary},!ownerState.disableRipple&&{"&:hover":{backgroundColor:theme.vars?`rgba(${"default"===ownerState.color?theme.vars.palette.action.activeChannel:theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)("default"===ownerState.color?theme.palette.action.active:theme.palette[ownerState.color].main,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==ownerState.color&&{[`&.${Checkbox_checkboxClasses.checked}, &.${Checkbox_checkboxClasses.indeterminate}`]:{color:(theme.vars||theme).palette[ownerState.color].main},[`&.${Checkbox_checkboxClasses.disabled}`]:{color:(theme.vars||theme).palette.action.disabled}})),defaultCheckedIcon=(0,jsx_runtime.jsx)(CheckBox,{}),defaultIcon=(0,jsx_runtime.jsx)(CheckBoxOutlineBlank,{}),defaultIndeterminateIcon=(0,jsx_runtime.jsx)(IndeterminateCheckBox,{}),Checkbox=react.forwardRef(function Checkbox(inProps,ref){var _icon$props$fontSize,_indeterminateIcon$pr;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCheckbox"}),{checkedIcon=defaultCheckedIcon,color="primary",icon:iconProp=defaultIcon,indeterminate=!1,indeterminateIcon:indeterminateIconProp=defaultIndeterminateIcon,inputProps,size="medium",className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Checkbox_excluded),icon=indeterminate?indeterminateIconProp:iconProp,indeterminateIcon=indeterminate?indeterminateIconProp:checkedIcon,ownerState=(0,esm_extends.A)({},props,{color,indeterminate,size}),classes=(ownerState=>{const{classes,indeterminate,color,size}=ownerState,slots={root:["root",indeterminate&&"indeterminate",`color${(0,capitalize.A)(color)}`,`size${(0,capitalize.A)(size)}`]},composedClasses=(0,composeClasses.A)(slots,getCheckboxUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(ownerState);return(0,jsx_runtime.jsx)(CheckboxRoot,(0,esm_extends.A)({type:"checkbox",inputProps:(0,esm_extends.A)({"data-indeterminate":indeterminate},inputProps),icon:react.cloneElement(icon,{fontSize:null!=(_icon$props$fontSize=icon.props.fontSize)?_icon$props$fontSize:size}),checkedIcon:react.cloneElement(indeterminateIcon,{fontSize:null!=(_indeterminateIcon$pr=indeterminateIcon.props.fontSize)?_indeterminateIcon$pr:size}),ownerState,ref,className:(0,clsx.A)(classes.root,className)},other,{classes}))}),Checkbox_Checkbox=Checkbox,InsertDriveFile=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),esm_Image=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),VideoLibrary=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8 12.5v-9l6 4.5z"}),"VideoLibrary"),AudioFile=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 11h-3v3.75c0 1.24-1.01 2.25-2.25 2.25S8.5 17.99 8.5 16.75s1.01-2.25 2.25-2.25c.46 0 .89.14 1.25.38V11h4zm-3-4V3.5L18.5 9z"}),"AudioFile"),PictureAsPdf=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),esm_Delete=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),esm_Add=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function getCardMediaUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCardMedia",slot)}(0,generateUtilityClasses.A)("MuiCardMedia",["root","media","img"]);const CardMedia_excluded=["children","className","component","image","src","style"],CardMediaRoot=(0,styled.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props,{isMediaComponent,isImageComponent}=ownerState;return[styles.root,isMediaComponent&&styles.media,isImageComponent&&styles.img]}})(({ownerState})=>(0,esm_extends.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},ownerState.isMediaComponent&&{width:"100%"},ownerState.isImageComponent&&{objectFit:"cover"})),MEDIA_COMPONENTS=["video","audio","picture","iframe","img"],IMAGE_COMPONENTS=["picture","img"],CardMedia=react.forwardRef(function CardMedia(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCardMedia"}),{children,className,component="div",image,src,style}=props,other=(0,objectWithoutPropertiesLoose.A)(props,CardMedia_excluded),isMediaComponent=-1!==MEDIA_COMPONENTS.indexOf(component),composedStyle=!isMediaComponent&&image?(0,esm_extends.A)({backgroundImage:`url("${image}")`},style):style,ownerState=(0,esm_extends.A)({},props,{component,isMediaComponent,isImageComponent:-1!==IMAGE_COMPONENTS.indexOf(component)}),classes=(ownerState=>{const{classes,isMediaComponent,isImageComponent}=ownerState,slots={root:["root",isMediaComponent&&"media",isImageComponent&&"img"]};return(0,composeClasses.A)(slots,getCardMediaUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(CardMediaRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),as:component,role:!isMediaComponent&&image?"img":void 0,ref,style:composedStyle,ownerState,src:isMediaComponent?image||src:void 0},other,{children}))}),CardMedia_CardMedia=CardMedia;const common_AssetThumbnail=function AssetThumbnail(_ref){var _asset$contentType,asset=_ref.asset,_ref$height=_ref.height,height=void 0===_ref$height?120:_ref$height,_ref$fallbackIcon=_ref.fallbackIcon,fallbackIcon=void 0===_ref$fallbackIcon||_ref$fallbackIcon,config=app_hooks_useApp().config,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),freshUrl=_useState2[0],setFreshUrl=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(!1),2),error=_useState6[0],setError=_useState6[1];return(0,react.useEffect)(function(){var getFreshUrl=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var url,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if("external"!==asset.type){_context.next=1;break}return setFreshUrl(asset.url),_context.abrupt("return");case 1:if("internal"!==asset.type||!asset.fullPath){_context.next=7;break}return setLoading(!0),setError(!1),_context.prev=2,_context.next=3,getFreshDownloadURL(asset.fullPath,!0===(null==config?void 0:config.useFirestoreAccessRules));case 3:(url=_context.sent)?setFreshUrl(url):(setError(!0),setFreshUrl(asset.url)),_context.next=5;break;case 4:_context.prev=4,_t=_context.catch(2),console.error("Error getting fresh URL for asset:",_t),setError(!0),setFreshUrl(asset.url);case 5:return _context.prev=5,setLoading(!1),_context.finish(5);case 6:_context.next=8;break;case 7:setFreshUrl(asset.url);case 8:case"end":return _context.stop()}},_callee,null,[[2,4,5,6]])}));return function getFreshUrl(){return _ref2.apply(this,arguments)}}();getFreshUrl()},[asset,config]),loading?react.createElement(material_Box_Box,{sx:{height,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"grey.100"}},react.createElement(material_CircularProgress_CircularProgress,{size:24})):("internal"===asset.type?null===(_asset$contentType=asset.contentType)||void 0===_asset$contentType?void 0:starts_with_default()(_asset$contentType).call(_asset$contentType,"image/"):asset.url.match(/\.(jpg|jpeg|png|gif|webp|svg)$/i))&&freshUrl?react.createElement(CardMedia_CardMedia,{component:"img",height,image:freshUrl,alt:asset.name||"Asset",sx:{objectFit:"cover"},onError:function onError(){fallbackIcon&&setError(!0)}}):fallbackIcon||error?react.createElement(material_Box_Box,{sx:{height,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"grey.100"}},"internal"===asset.type?function getFileIcon(contentType){return contentType?starts_with_default()(contentType).call(contentType,"image/")?react.createElement(esm_Image,{color:"primary"}):starts_with_default()(contentType).call(contentType,"video/")?react.createElement(VideoLibrary,{color:"secondary"}):starts_with_default()(contentType).call(contentType,"audio/")?react.createElement(AudioFile,{color:"success"}):"application/pdf"===contentType?react.createElement(PictureAsPdf,{color:"error"}):react.createElement(InsertDriveFile,null):react.createElement(InsertDriveFile,null)}(asset.contentType):react.createElement(esm_Link,{color:"info"})):null};function AssetSelectorDialog_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function AssetSelectorDialog_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context12,_context13,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context12=AssetSelectorDialog_ownKeys(Object(t),!0)).call(_context12,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context13=AssetSelectorDialog_ownKeys(Object(t))).call(_context13,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}const common_AssetSelectorDialog=function AssetSelectorDialog(_ref){var _context1,_context10,_context11,open=_ref.open,onClose=_ref.onClose,onConfirm=_ref.onConfirm,_ref$min=_ref.min,min=void 0===_ref$min?0:_ref$min,_ref$max=_ref.max,max=void 0===_ref$max?1:_ref$max,_ref$currentSelection=_ref.currentSelections,currentSelections=void 0===_ref$currentSelection?[]:_ref$currentSelection,_ref$title=_ref.title,title=void 0===_ref$title?"Select Assets":_ref$title,_useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),items=_useState2[0],setItems=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(""),2),currentPath=_useState6[0],_useState8=(_useState6[1],slicedToArray_slicedToArray((0,react.useState)(""),2)),searchTerm=_useState8[0],setSearchTerm=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(currentSelections),2),selections=_useState0[0],setSelections=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)("internal"),2),_useState12=(_useState10[0],_useState10[1],slicedToArray_slicedToArray((0,react.useState)(""),2)),newAssetUrl=_useState12[0],setNewAssetUrl=_useState12[1],config=(useIntl().formatMessage,app_hooks_useApp().config),isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),hasStorageConfig=Boolean((null==config?void 0:config.adminCredentials)||(null==config?void 0:config.webappConfig)),useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules);(0,react.useEffect)(function(){open&&setSelections(currentSelections)},[open,currentSelections]),(0,react.useEffect)(function(){open&&hasStorageConfig&&loadItems()},[open,currentPath,hasStorageConfig]);var loadItems=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _items,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setLoading(!0),_context.next=1,listStorageItems(currentPath,useFirestoreRules);case 1:_items=_context.sent,setItems(filter_default()(_items).call(_items,function(item){return!item.isFolder})),_context.next=3;break;case 2:_context.prev=2,_t=_context.catch(0),console.error("Error loading storage items:",_t),react_toastify_esm_Q.error("Failed to load storage items");case 3:return _context.prev=3,setLoading(!1),_context.finish(3);case 4:case"end":return _context.stop()}},_callee,null,[[0,2,3,4]])}));return function loadItems(){return _ref2.apply(this,arguments)}}(),filteredItems=(0,react.useMemo)(function(){var _context2;if(!trim_default()(searchTerm).call(searchTerm))return items;var term=trim_default()(_context2=searchTerm.toLowerCase()).call(_context2);return filter_default()(items).call(items,function(item){var _context3,_context4;return includes_default()(_context3=item.name.toLowerCase()).call(_context3,term)||item.contentType&&includes_default()(_context4=item.contentType.toLowerCase()).call(_context4,term)})},[items,searchTerm]),isItemSelected=function isItemSelected(item){return some_default()(selections).call(selections,function(selection){if("internal"!==selection.type)return!1;var selectionPath=selection.fullPath,selectionName=selection.name;return selectionPath&&item.fullPath?selectionPath===item.fullPath:selectionName&&item.name?selectionName===item.name:selection.url===item.downloadURL})},handleAddExternalAsset=function handleAddExternalAsset(){if(trim_default()(newAssetUrl).call(newAssetUrl))if(selections.length>=max){var _context7;react_toastify_esm_Q.warning(concat_default()(_context7="Maximum ".concat(max," asset")).call(_context7,max>1?"s":""," allowed"))}else{var newSelection={id:now_default()().toString(),type:"external",url:trim_default()(newAssetUrl).call(newAssetUrl),name:newAssetUrl.split("/").pop()||"External Asset"};setSelections(function(prev){var _context8;return concat_default()(_context8=[]).call(_context8,_toConsumableArray(prev),[newSelection])}),setNewAssetUrl("")}else react_toastify_esm_Q.error("Please enter a valid URL")};return react.createElement(Dialog_Dialog,{open,onClose,maxWidth:"lg",fullWidth:!0,fullScreen:isMobile,sx:{"& .MuiDialog-paper":{display:"flex",flexDirection:"column",maxHeight:"90vh"}}},react.createElement(DialogContent_DialogContent,{sx:{flex:1,overflow:"auto",px:3,py:0}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pt:3,pb:2}},react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"h6",component:"div"},title),min>0||max>1?react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{display:"block"}},min>0&&max>1?concat_default()(_context1="Select ".concat(min,"-")).call(_context1,max," assets"):min>0?concat_default()(_context10="Minimum ".concat(min," asset")).call(_context10,min>1?"s":""):concat_default()(_context11="Maximum ".concat(max," asset")).call(_context11,max>1?"s":"")):null)),react.createElement(material_Box_Box,{sx:{pb:2}},selections.length>0&&react.createElement(material_Box_Box,{sx:{mb:3}},react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},"Selected Assets (",selections.length,"/",max,")"),react.createElement(Grid_Grid,{container:!0,spacing:2},map_default()(selections).call(selections,function(selection){return react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,md:4,key:selection.id},react.createElement(Card_Card,{variant:"outlined",sx:{position:"relative"}},react.createElement(material_Box_Box,{sx:{p:1,display:"flex",alignItems:"center",gap:1}},"internal"===selection.type?function getFileIcon(contentType){return contentType?starts_with_default()(contentType).call(contentType,"image/")?react.createElement(esm_Image,{color:"primary"}):starts_with_default()(contentType).call(contentType,"video/")?react.createElement(VideoLibrary,{color:"secondary"}):starts_with_default()(contentType).call(contentType,"audio/")?react.createElement(AudioFile,{color:"success"}):"application/pdf"===contentType?react.createElement(PictureAsPdf,{color:"error"}):react.createElement(InsertDriveFile,null):react.createElement(InsertDriveFile,null)}(selection.contentType):react.createElement(esm_Link,{color:"info"}),react.createElement(material_Box_Box,{sx:{flexGrow:1,minWidth:0}},react.createElement(material_Typography_Typography,{variant:"body2",noWrap:!0,title:selection.name},selection.name),react.createElement(material_Chip_Chip,{label:selection.type,size:"small",color:"internal"===selection.type?"primary":"secondary"})),react.createElement(IconButton_IconButton,{size:"small",onClick:function onClick(){return function handleRemoveSelection(selectionId){setSelections(function(prev){return filter_default()(prev).call(prev,function(selection){return selection.id!==selectionId})})}(selection.id)},color:"error"},react.createElement(esm_Delete,{fontSize:"small"})))))}))),react.createElement(material_Box_Box,{sx:{mb:3,p:2,border:"1px dashed #ccc",borderRadius:1}},react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},"Add External Asset"),react.createElement(material_Box_Box,{sx:{display:"flex",gap:1,alignItems:"flex-end"}},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",label:"Asset URL",value:newAssetUrl,onChange:function onChange(e){return setNewAssetUrl(e.target.value)},placeholder:"https://example.com/image.jpg",onKeyPress:function onKeyPress(e){return"Enter"===e.key&&handleAddExternalAsset()}}),react.createElement(material_Button_Button,{variant:"outlined",onClick:handleAddExternalAsset,disabled:!trim_default()(newAssetUrl).call(newAssetUrl)||selections.length>=max,startIcon:react.createElement(esm_Add,null)},"Add"))),hasStorageConfig&&react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},"Internal Assets"),react.createElement(material_Box_Box,{sx:{mb:2,minHeight:40}},react.createElement(SearchField,{placeholder:"Search assets...",value:searchTerm,onChange:setSearchTerm,size:"small"})),loading?react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"center",py:4}},react.createElement(material_CircularProgress_CircularProgress,null)):0===filteredItems.length?react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary",sx:{textAlign:"center",py:4}},"No assets found"):react.createElement(Grid_Grid,{container:!0,spacing:2,sx:{maxHeight:400,overflow:"auto"}},map_default()(filteredItems).call(filteredItems,function(item){return react.createElement(Grid_Grid,{item:!0,xs:6,sm:4,md:3,key:item.fullPath},react.createElement(Card_Card,{variant:"outlined",sx:AssetSelectorDialog_objectSpread({cursor:"pointer",position:"relative","&:hover":{boxShadow:2,borderColor:"primary.main"}},isItemSelected(item)&&{borderColor:"primary.main",backgroundColor:"primary.50"}),onClick:function onClick(){return function handleInternalAssetToggle(item){if(isItemSelected(item))setSelections(function(prev){return filter_default()(prev).call(prev,function(selection){if("internal"!==selection.type)return!0;var selectionPath=selection.fullPath,selectionName=selection.name;return selectionPath&&item.fullPath?selectionPath!==item.fullPath:selectionName&&item.name?selectionName!==item.name:selection.url!==item.downloadURL})});else{var _context5;if(selections.length>=max)return void react_toastify_esm_Q.warning(concat_default()(_context5="Maximum ".concat(max," asset")).call(_context5,max>1?"s":""," allowed"));var newSelection={id:now_default()().toString(),type:"internal",url:item.downloadURL||"",name:item.name,contentType:item.contentType,fullPath:item.fullPath};setSelections(function(prev){var _context6;return concat_default()(_context6=[]).call(_context6,_toConsumableArray(prev),[newSelection])})}}(item)}},react.createElement(material_Box_Box,{sx:{position:"absolute",top:8,right:8,zIndex:1}},react.createElement(Checkbox_Checkbox,{checked:isItemSelected(item),size:"small",sx:{p:.5,backgroundColor:"rgba(255,255,255,0.8)"}})),react.createElement(common_AssetThumbnail,{asset:{type:"internal",url:item.downloadURL||"",fullPath:item.fullPath,name:item.name,contentType:item.contentType},height:120,fallbackIcon:!0}),react.createElement(CardContent_CardContent,{sx:{p:1}},react.createElement(material_Typography_Typography,{variant:"caption",noWrap:!0,title:item.name},item.name))))}))))),react.createElement(DialogActions_DialogActions,{sx:{flexShrink:0,pt:0,px:3,pb:3,backgroundColor:function backgroundColor(theme){return theme.palette.background.paper},position:"sticky",bottom:0,zIndex:1}},react.createElement(material_Button_Button,{onClick:onClose},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:function handleConfirm(){var _context9,_context0;selections.length<min?react_toastify_esm_Q.error(concat_default()(_context9="Minimum ".concat(min," asset")).call(_context9,min>1?"s":""," required")):selections.length>max?react_toastify_esm_Q.error(concat_default()(_context0="Maximum ".concat(max," asset")).call(_context0,max>1?"s":""," allowed")):(onConfirm(selections),onClose())},variant:"contained",disabled:selections.length<min||selections.length>max},react.createElement(message,{id:"common.confirm",defaultMessage:"Confirm"}),selections.length>0&&" (".concat(selections.length,")"))))};function ArrayFieldBuilder_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function ArrayFieldBuilder_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context7,_context8,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context7=ArrayFieldBuilder_ownKeys(Object(t),!0)).call(_context7,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context8=ArrayFieldBuilder_ownKeys(Object(t))).call(_context8,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}const common_ArrayFieldBuilder=function ArrayFieldBuilder(_ref){var _field$validTypes,_context6,field=_ref.field,_ref$value=_ref.value,value=void 0===_ref$value?[]:_ref$value,onChange=_ref.onChange,_onBlur=_ref.onBlur,required=_ref.required,error=_ref.error,helperText=_ref.helperText,fieldLabel=_ref.fieldLabel,customFields=(useIntl().formatMessage,useSchema().schema,useMeta().customFields),safeValue=array_is_array_default()(value)?value:[],_useState2=slicedToArray_slicedToArray((0,react.useState)((null==field||null===(_field$validTypes=field.validTypes)||void 0===_field$validTypes?void 0:_field$validTypes[0])||"string"),2),newItemType=_useState2[0],setNewItemType=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)({}),2),itemTypes=_useState4[0],setItemTypes=_useState4[1],validTypes=(null==field?void 0:field.validTypes)||["string"],minItems=(null==field?void 0:field.min)||0,maxItems=(null==field?void 0:field.max)||void 0,getItemType=function getItemType(item,index){return itemTypes[index]?itemTypes[index]:null==item?"null":"boolean"==typeof item?"boolean":"number"==typeof item?"number":"string"==typeof item?"string":array_is_array_default()(item)?"array":"object"===_typeof(item)?void 0!==item._seconds||void 0!==item.seconds?"timestamp":void 0!==item.latitude&&void 0!==item.longitude?"geoPoint":item._path||item.id?"reference":"map":"string"},createFieldForItem=function createFieldForItem(item,index){var _context3,_context4,_context5,itemType=getItemType(item,index),itemField=ArrayFieldBuilder_objectSpread({name:concat_default()(_context3="".concat(field.name,"_")).call(_context3,index),type:itemType,title:concat_default()(_context4="".concat(fieldLabel," Item ")).call(_context4,index+1),required:!1},"reference"===itemType&&field.referencePath&&{referencePath:field.referencePath}),itemData=defineProperty_defineProperty({},concat_default()(_context5="".concat(field.name,"_")).call(_context5,index),item);return renderFieldInput(itemField,itemData,function(fieldName,newValue){return function updateItem(index,itemValue){var newValue=_toConsumableArray(safeValue);newValue[index]=itemValue,onChange(field.name,newValue)}(index,newValue)},{onBlur:function onBlur(){return null==_onBlur?void 0:_onBlur(field.name)},customFields})},canAddMore=!maxItems||safeValue.length<maxItems,needsMore=safeValue.length<minItems;return react.createElement(material_Box_Box,null,react.createElement(material_Box_Box,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},react.createElement(material_Typography_Typography,{variant:"body2",component:"label",sx:{color:"text.secondary",fontSize:"0.875rem",fontWeight:400}},fieldLabel,required&&react.createElement("span",{style:{color:"red"}}," *")),react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:1},react.createElement(material_Chip_Chip,{label:concat_default()(_context6="".concat(safeValue.length)).call(_context6,maxItems?"/".concat(maxItems):""," items"),size:"small",color:needsMore?"error":"default"}))),safeValue.length>0&&react.createElement(material_Box_Box,{mb:2},react.createElement(Grid_Grid,{container:!0,spacing:2},map_default()(safeValue).call(safeValue,function(item,index){return react.createElement(Grid_Grid,{item:!0,xs:12,key:index},react.createElement(material_Box_Box,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1,backgroundColor:"background.paper",position:"relative"}},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",mb:1},react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary"},"Item ",index+1," (",getItemType(item,index),")"),react.createElement(material_Box_Box,{flexGrow:1}),react.createElement(IconButton_IconButton,{size:"small",onClick:function onClick(){return function removeItem(index){var newValue=filter_default()(safeValue).call(safeValue,function(_,i){return i!==index});setItemTypes(function(prev){var _context2,updated=ArrayFieldBuilder_objectSpread({},prev);delete updated[index];var newTypes={};return for_each_default()(_context2=object_entries_default()(updated)).call(_context2,function(_ref2){var _ref3=slicedToArray_slicedToArray(_ref2,2),idx=_ref3[0],type=_ref3[1],numIdx=parse_int_default()(idx);numIdx>index?newTypes[numIdx-1]=type:newTypes[numIdx]=type}),newTypes}),onChange(field.name,newValue)}(index)},disabled:safeValue.length<=minItems,color:"error"},react.createElement(Delete.A,{fontSize:"small"}))),createFieldForItem(item,index)))}))),canAddMore&&react.createElement(material_Box_Box,null,react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:2,sx:{mt:2}},validTypes.length>1&&react.createElement(FormControl_FormControl,{size:"small",sx:{minWidth:120}},react.createElement(InputLabel_InputLabel,null,"Item Type"),react.createElement(Select_Select,{value:newItemType,label:"Item Type",onChange:function onChange(e){return setNewItemType(e.target.value)}},map_default()(validTypes).call(validTypes,function(type){return react.createElement(MenuItem_MenuItem,{key:type,value:type},type)}))),react.createElement(material_Button_Button,{startIcon:react.createElement(Add.A,null),onClick:function addItem(){var _context;if(!(maxItems&&safeValue.length>=maxItems)){var defaultValue;switch(newItemType){case"string":case"editor":defaultValue="";break;case"number":defaultValue=0;break;case"boolean":defaultValue=!1;break;case"timestamp":defaultValue=new Date;break;case"geoPoint":defaultValue={latitude:0,longitude:0};break;case"reference":default:defaultValue=null;break;case"array":case"assets":defaultValue=[];break;case"map":defaultValue={}}var newIndex=safeValue.length,newValue=concat_default()(_context=[]).call(_context,_toConsumableArray(safeValue),[defaultValue]);setItemTypes(function(prev){return ArrayFieldBuilder_objectSpread(ArrayFieldBuilder_objectSpread({},prev),{},defineProperty_defineProperty({},newIndex,newItemType))}),onChange(field.name,newValue)}},variant:"outlined",size:"small"},react.createElement(message,{id:"array.add_item",defaultMessage:"Add {type} item",values:{type:newItemType}})))),helperText&&react.createElement(material_Typography_Typography,{variant:"caption",color:error?"error":"textSecondary",sx:{mt:1,display:"block"}},helperText,minItems>0&&" (minimum ".concat(minItems," items)"),maxItems&&" (maximum ".concat(maxItems," items)")),needsMore&&react.createElement(material_Typography_Typography,{variant:"caption",color:"error",sx:{mt:1,display:"block"}},react.createElement(message,{id:"array.min_items_required",defaultMessage:"At least {min} items required",values:{min:minItems}})))};const common_PermissionGate=function PermissionGate(_ref){var children=_ref.children,resource=_ref.resource,_ref$action=_ref.action,action=void 0===_ref$action?"read":_ref$action,_ref$fallback=_ref.fallback,fallback=void 0===_ref$fallback?null:_ref$fallback,_ref$requireUserManag=_ref.requireUserManagement,requireUserManagement=void 0!==_ref$requireUserManag&&_ref$requireUserManag,_ref$requireAssetAcce=_ref.requireAssetAccess,requireAssetAccess=void 0!==_ref$requireAssetAcce&&_ref$requireAssetAcce,_ref$requireSettingsA=_ref.requireSettingsAccess,requireSettingsAccess=void 0!==_ref$requireSettingsA&&_ref$requireSettingsA,hasResourcePermission=function usePermission(resource,action){var _useAuth=auth_hooks_useAuth(),user=_useAuth.user,isAuthenticated=_useAuth.isAuthenticated,roles=roles_hooks_useRoles().roles,config=app_hooks_useApp().config;return(0,react.useMemo)(function(){return!(!user||!isAuthenticated)&&permissions_hasPermission(user,resource,action,roles,null==config?void 0:config.ownerEmail)},[user,isAuthenticated,resource,action,roles,null==config?void 0:config.ownerEmail])}(resource||"",action),canManageUsers=useCanManageUsers(),canAccessAssets=useCanAccessAssets(),canAccessSettings=useCanAccessSettings(),hasPermission=!0;return resource&&(hasPermission=hasResourcePermission),requireUserManagement&&(hasPermission=hasPermission&&canManageUsers),requireAssetAccess&&(hasPermission=hasPermission&&canAccessAssets),requireSettingsAccess&&(hasPermission=hasPermission&&canAccessSettings),hasPermission?react.createElement(react.Fragment,null,children):react.createElement(react.Fragment,null,fallback)};var parseTimestamp=function parseTimestamp(value){return value?(dateValue=value instanceof Date?value:"string"==typeof value||"number"==typeof value?new Date(value):"object"===_typeof(value)?"toDate"in value&&"function"==typeof value.toDate?value.toDate():"_seconds"in value?new Date(1e3*value._seconds+(value._nanoseconds||0)/1e6):"seconds"in value?new Date(1e3*value.seconds+(value.nanoseconds||0)/1e6):new Date(value):new Date(value),isNaN(dateValue.getTime())?null:dateValue):null;var dateValue},formatTimestampWithTime=function formatTimestampWithTime(value){var date=parseTimestamp(value);return date?date.toLocaleString():"Invalid date"};function ContentTable_createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function ContentTable_unsupportedIterableToArray(r,a){if(r){var _context1;if("string"==typeof r)return ContentTable_arrayLikeToArray(r,a);var t=instance_slice_default()(_context1={}.toString.call(r)).call(_context1,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ContentTable_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function ContentTable_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function ContentTable_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function ContentTable_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context9,_context0,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context9=ContentTable_ownKeys(Object(t),!0)).call(_context9,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context0=ContentTable_ownKeys(Object(t))).call(_context0,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var _renderCellValue=function renderCellValue(value,type,fieldName,field,customFields){if(null==value)return"-";if(customFields&&isCustomFieldType(type,customFields)){var customFieldDef=getCustomFieldDefinition(type,customFields);if(customFieldDef){if((void 0!==(null==field?void 0:field.inList)?!0===field.inList:!0===customFieldDef.inList)&&customFieldDef.renderOutput)try{var customFieldResult=executeCustomFieldRenderOutput(customFieldDef,value,{name:(null==field?void 0:field.name)||fieldName,label:(null==field?void 0:field.title)||(null==field?void 0:field.name)||fieldName});if(customFieldResult){var htmlContent=customFieldResult.render();return react.createElement("div",{dangerouslySetInnerHTML:{__html:htmlContent}})}}catch(error){console.error("Error rendering custom field output '".concat(customFieldDef.name||type,"' in list:"),error)}if(customFieldDef.extends){var baseType=customFieldDef.extends;return _renderCellValue(value,baseType,fieldName,ContentTable_objectSpread(ContentTable_objectSpread({},field),{},{type:baseType}))}return _renderCellValue(value,"string",fieldName,ContentTable_objectSpread(ContentTable_objectSpread({},field),{},{type:"string"}))}}if("string"===type&&null!=field&&field.options&&array_is_array_default()(field.options)){var _step,_iterator=ContentTable_createForOfIteratorHelper(field.options);try{for(_iterator.s();!(_step=_iterator.n()).done;){var option=_step.value,optionValue=void 0,optionText=void 0;if("string"==typeof option)optionValue=optionText=option;else if(array_is_array_default()(option)&&option.length>=2)optionValue=String(option[0]||""),optionText=String(option[1]||option[0]||"");else{if("object"!==_typeof(option)||null===option)continue;optionValue=String(option.value||option.key||""),optionText=String(option.text||option.label||option.name||option.value||option.key||"")}if(optionValue===value)return optionText}}catch(err){_iterator.e(err)}finally{_iterator.f()}}if(fieldName&&("status"===fieldName.toLowerCase()||"state"===fieldName.toLowerCase())){var statusValue=value.toString().toLowerCase(),isPublished="published"===statusValue||"active"===statusValue||"live"===statusValue,isDraft="draft"===statusValue||"pending"===statusValue||"inactive"===statusValue,displayText=value.toString();if(null!=field&&field.options&&array_is_array_default()(field.options)){var _step2,_iterator2=ContentTable_createForOfIteratorHelper(field.options);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _option=_step2.value,_optionValue=void 0,_optionText=void 0;if("string"==typeof _option)_optionValue=_optionText=_option;else if(array_is_array_default()(_option)&&_option.length>=2)_optionValue=String(_option[0]||""),_optionText=String(_option[1]||_option[0]||"");else{if("object"!==_typeof(_option)||null===_option)continue;_optionValue=String(_option.value||_option.key||""),_optionText=String(_option.text||_option.label||_option.name||_option.value||_option.key||"")}if(_optionValue===value){displayText=_optionText;break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}return react.createElement(material_Chip_Chip,{label:displayText,size:"small",sx:{backgroundColor:isPublished?"#E8F5E8":isDraft?"#FFF3E0":"#F5F5F5",color:isPublished?"#2E7D32":isDraft?"#F57C00":"#666666",fontWeight:500,fontSize:"0.75rem",height:24,"& .MuiChip-label":{px:1.5}}})}if(fieldName&&("author"===fieldName.toLowerCase()||"user"===fieldName.toLowerCase()||"createdby"===fieldName.toLowerCase()))return react.createElement(material_Typography_Typography,{sx:{color:"#8B7355",fontSize:"0.9rem"}},value.toString());switch(type){case"string":return value.length>50?react.createElement(material_Typography_Typography,{sx:{fontSize:"0.9rem",fontWeight:"title"===(null==fieldName?void 0:fieldName.toLowerCase())?600:400}},value.substring(0,50)+"..."):react.createElement(material_Typography_Typography,{sx:{fontSize:"0.9rem",fontWeight:"title"===(null==fieldName?void 0:fieldName.toLowerCase())?600:400}},value);case"number":return value;case"boolean":return value?"Yes":"No";case"timestamp":return react.createElement(material_Typography_Typography,{sx:{fontSize:"0.9rem",color:"#757575"},title:formatTimestampWithTime(value)},function formatTimestamp(value){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{year:"numeric",month:"2-digit",day:"2-digit"},date=parseTimestamp(value);return date?date.toLocaleDateString("en-US",options):"Invalid date"}(value));case"array":return array_is_array_default()(value)?"".concat(value.length," items"):"-";default:return"string"==typeof value?react.createElement(material_Typography_Typography,{sx:{fontSize:"0.9rem",fontWeight:400}},value):stringify_default()(value)}};const content_ContentTable=function ContentTable(_ref2){var _fireengineConfig,_context2,collectionPath=_ref2.collection,schema=_ref2.schema,onSelectDocument=_ref2.onSelectDocument,_ref2$hideAddButton=_ref2.hideAddButton,hideAddButton=void 0!==_ref2$hideAddButton&&_ref2$hideAddButton,onAddDocument=_ref2.onAddDocument,_ref2$searchTerm=_ref2.searchTerm,searchTerm=void 0===_ref2$searchTerm?"":_ref2$searchTerm,_useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),documents=_useState2[0],setDocuments=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(0),2),page=_useState6[0],setPage=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(10),2),rowsPerPage=_useState8[0],setRowsPerPage=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(0),2),totalCount=_useState0[0],setTotalCount=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(!1),2),addDialogOpen=_useState10[0],setAddDialogOpen=_useState10[1],_useState12=slicedToArray_slicedToArray((0,react.useState)({}),2),newDocData=_useState12[0],setNewDocData=_useState12[1],formatMessage=useIntl().formatMessage,_useAuth=auth_hooks_useAuth(),config=(_useAuth.auth,_useAuth.user,app_hooks_useApp().config),customFields=(roles_hooks_useRoles().roles,useSchema().schema,useMeta().customFields),allFields=(null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig||_fireengineConfig.ownerEmail,getSchemaFields(schema)),visibleFields=getVisibleFields(allFields,schema);(0,react.useEffect)(function(){setPage(0)},[searchTerm]);var orderedFields=getOrderedFieldsForDetail(visibleFields),displayFields=instance_slice_default()(_context2=filter_default()(orderedFields).call(orderedFields,function(field){if(void 0!==field.inList)return!0===field.inList;if(customFields&&isCustomFieldType(field.type,customFields)){var customFieldDef=getCustomFieldDefinition(field.type,customFields);return void 0!==(null==customFieldDef?void 0:customFieldDef.inList)&&!0===customFieldDef.inList}return getDefaultInListValue(field.type,!1)})).call(_context2,0,5),getCollectionForPermissions=function getCollectionForPermissions(path){var _context3,segments=path.split("/");return 1===segments.length?segments[0]:segments.length>=3&&segments.length%2==1?concat_default()(_context3="".concat(segments[0],"/")).call(_context3,segments[segments.length-1]):segments[0]};!function useCanAccessCollection(collection,action){var _useAuth7=auth_hooks_useAuth(),user=_useAuth7.user,isAuthenticated=_useAuth7.isAuthenticated,roles=roles_hooks_useRoles().roles,config=app_hooks_useApp().config;(0,react.useMemo)(function(){return!(!user||!isAuthenticated)&&canAccessCollection(user,collection,action,roles,null==config?void 0:config.ownerEmail)},[user,isAuthenticated,collection,action,roles,null==config?void 0:config.ownerEmail])}(getCollectionForPermissions(collectionPath),"write");(0,react.useEffect)(function(){var isCancelled=!1,fetchDocuments=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var useFirestoreRules,result,_error$message,_context4,_t;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,isCancelled||setLoading(!0),useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules),_context5.next=1,getDocuments(collectionPath,useFirestoreRules,{limit:rowsPerPage,offset:page*rowsPerPage,search:trim_default()(searchTerm).call(searchTerm)||void 0});case 1:result=_context5.sent,isCancelled||(array_is_array_default()(result)?(setDocuments(result),setTotalCount(result.length)):(setDocuments(result.documents||[]),setTotalCount(result.totalCount||0))),_context5.next=3;break;case 2:_context5.prev=2,_t=_context5.catch(0),console.error("Error fetching documents for ".concat(collectionPath,":"),_t),isCancelled||(setDocuments([]),setTotalCount(0),null!==(_error$message=_t.message)&&void 0!==_error$message&&includes_default()(_error$message).call(_error$message,"401")?react_toastify_esm_Q.error("You don't have permission to access ".concat(collectionPath,". Please contact an administrator.")):react_toastify_esm_Q.error(concat_default()(_context4="Failed to load documents for ".concat(collectionPath,". ")).call(_context4,_t.message||"Unknown error")));case 3:return _context5.prev=3,isCancelled||setLoading(!1),_context5.finish(3);case 4:case"end":return _context5.stop()}},_callee,null,[[0,2,3,4]])}));return function fetchDocuments(){return _ref3.apply(this,arguments)}}();return collectionPath&&fetchDocuments(),function(){isCancelled=!0}},[collectionPath,searchTerm,page,rowsPerPage]);var handleAddDialogClose=function handleAddDialogClose(){setAddDialogOpen(!1)},handleAddDocument=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var _context6,newDoc,_t2;return regenerator_default().wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=1,addDocument(collectionPath,newDocData,!0===(null==config?void 0:config.useFirestoreAccessRules));case 1:newDoc=_context7.sent,setDocuments(concat_default()(_context6=[]).call(_context6,_toConsumableArray(documents),[newDoc])),setAddDialogOpen(!1),react_toastify_esm_Q.success(formatMessage({id:"content.document_added_success",defaultMessage:"Document added successfully"})),_context7.next=3;break;case 2:_context7.prev=2,_t2=_context7.catch(0),console.error("Error adding document to ".concat(collectionPath,":"),_t2),react_toastify_esm_Q.error("Failed to add document to ".concat(collectionPath,"."));case 3:case"end":return _context7.stop()}},_callee2,null,[[0,2]])}));return function handleAddDocument(){return _ref4.apply(this,arguments)}}(),handleDeleteDocument=function(){var _ref5=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(documentId){var _t3;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!window.confirm(formatMessage({id:"content.confirm_delete",defaultMessage:"Are you sure you want to delete this document? This action cannot be undone."}))){_context8.next=4;break}return _context8.prev=1,_context8.next=2,deleteDocument(collectionPath,documentId,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:setDocuments(filter_default()(documents).call(documents,function(doc){return doc.id!==documentId})),react_toastify_esm_Q.success(formatMessage({id:"content.document_deleted_success",defaultMessage:"Document deleted successfully"})),_context8.next=4;break;case 3:_context8.prev=3,_t3=_context8.catch(1),console.error("Error deleting document ".concat(documentId,":"),_t3),react_toastify_esm_Q.error("Failed to delete document ".concat(documentId,"."));case 4:case"end":return _context8.stop()}},_callee3,null,[[1,3]])}));return function handleDeleteDocument(_x){return _ref5.apply(this,arguments)}}();return loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",p:4},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(react.Fragment,null,!hideAddButton&&react.createElement(common_PermissionGate,{resource:getCollectionForPermissions(collectionPath),action:"write"},react.createElement(material_Box_Box,{display:"flex",justifyContent:"flex-end",mb:2},react.createElement(material_Button_Button,{variant:"contained",color:"primary",startIcon:react.createElement(Add.A,null),onClick:function handleAddDialogOpen(){if(onAddDocument)onAddDocument();else{var initialData={},fields=visibleFields;fields.length>0&&for_each_default()(fields).call(fields,function(field){"string"===field.type?initialData[field.name]=void 0!==field.default?field.default:"":"number"===field.type?initialData[field.name]=void 0!==field.default?field.default:0:"boolean"===field.type?initialData[field.name]=void 0!==field.default&&field.default:"timestamp"===field.type?initialData[field.name]=void 0!==field.default?field.default:new Date:"array"===field.type?initialData[field.name]=void 0!==field.default?field.default:[]:"map"===field.type&&(initialData[field.name]=void 0!==field.default?field.default:{})}),setNewDocData(initialData),setAddDialogOpen(!0)}}},react.createElement(message,{id:"content.add_document",defaultMessage:"Add Document"})))),react.createElement(material_Box_Box,{sx:{width:"100%",overflow:"auto"}},react.createElement(TableContainer_TableContainer,{component:material_Paper_Paper,sx:{borderRadius:3,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #E0E0E0",overflowX:"auto","&::-webkit-scrollbar":{height:8},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:4,"&:hover":{backgroundColor:"#a8a8a8"}}}},react.createElement(Table_Table,{sx:{minWidth:600}},react.createElement(TableHead_TableHead,null,react.createElement(TableRow_TableRow,{sx:{backgroundColor:"#FAFAFA"}},map_default()(displayFields).call(displayFields,function(field){return react.createElement(TableCell_TableCell,{key:field.name,sx:{fontWeight:600,color:"#757575",fontSize:"0.875rem",borderBottom:"1px solid #E0E0E0",py:2}},getFieldTitle(field))}),react.createElement(TableCell_TableCell,{align:"right",sx:{fontWeight:600,color:"#757575",fontSize:"0.875rem",borderBottom:"1px solid #E0E0E0",py:2}},react.createElement(message,{id:"content.actions",defaultMessage:"Actions"})))),react.createElement(TableBody_TableBody,null,documents&&documents.length>0?map_default()(documents).call(documents,function(doc){return react.createElement(TableRow_TableRow,{key:doc.id,hover:!0,onClick:function onClick(){return onSelectDocument(doc)},sx:{cursor:"pointer","&:hover":{backgroundColor:"#F8F9FA"},borderBottom:"1px solid #F0F0F0"}},map_default()(displayFields).call(displayFields,function(field){return react.createElement(TableCell_TableCell,{key:field.name,sx:{py:2.5,borderBottom:"1px solid #F0F0F0",fontSize:"0.9rem"}},_renderCellValue(doc[field.name],field.type,field.name,field,customFields))}),react.createElement(TableCell_TableCell,{align:"right",sx:{py:2.5,borderBottom:"1px solid #F0F0F0"}},react.createElement(common_PermissionGate,{resource:getCollectionForPermissions(collectionPath),action:"write"},react.createElement(material_Button_Button,{onClick:function onClick(e){e.stopPropagation(),handleDeleteDocument(doc.id)},sx:{minWidth:"auto",p:1,color:"rgba(0, 0, 0, 0.54)"}},react.createElement(Delete.A,{fontSize:"small"})))))}):null,(!documents||0===documents.length)&&react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,{colSpan:displayFields.length+1,align:"center",sx:{py:3}},react.createElement(material_Typography_Typography,{variant:"body1",color:"textSecondary"},trim_default()(searchTerm).call(searchTerm)?formatMessage({id:"content.no_search_results",defaultMessage:'No documents found matching "{searchTerm}"'},{searchTerm:trim_default()(searchTerm).call(searchTerm)}):formatMessage({id:"content.no_documents",defaultMessage:"No documents found in this collection"})))))),react.createElement(TablePagination_TablePagination,{rowsPerPageOptions:[5,10,25],component:"div",count:totalCount,rowsPerPage,page:totalCount>0?page:0,onPageChange:function handleChangePage(event,newPage){setPage(newPage)},onRowsPerPageChange:function handleChangeRowsPerPage(event){setRowsPerPage(parse_int_default()(event.target.value,10)),setPage(0)},sx:{borderTop:"1px solid #F0F0F0",backgroundColor:"#FAFAFA","& .MuiTablePagination-toolbar":{px:3,py:2},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:"#757575"},"& .MuiIconButton-root":{color:"#757575","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}}}))),react.createElement(common_FormDialog,{open:addDialogOpen,onClose:handleAddDialogClose,maxWidth:"md",title:formatMessage({id:"content.add_document_title",defaultMessage:"Add New Document"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:handleAddDialogClose,color:"primary"},react.createElement(message,{id:"content.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleAddDocument,color:"primary",variant:"contained"},react.createElement(message,{id:"content.add",defaultMessage:"Add"})))},react.createElement(material_Box_Box,{mt:1},react.createElement(DocumentForm,{fields:visibleFields,schema,data:newDocData,onChange:function handleFieldChange(fieldName,value){setNewDocData(ContentTable_objectSpread(ContentTable_objectSpread({},newDocData),{},defineProperty_defineProperty({},fieldName,value)))}}))))};var set=__webpack_require__(59261),set_default=__webpack_require__.n(set),Save=__webpack_require__(98984),Edit=__webpack_require__(28597),instance_values=__webpack_require__(6707),instance_values_default=__webpack_require__.n(instance_values),useAvailableWidth=function useAvailableWidth(){var sidebarWidth=function useSidebarWidth(){var theme=styles_useTheme_useTheme(),isMobile=useMediaQuery(theme.breakpoints.down("md")),_useState2=slicedToArray_slicedToArray((0,react.useState)(function(){if("undefined"==typeof window)return 0;var isMobileCheck=window.innerWidth<instance_values_default()(theme.breakpoints).md;if(isMobileCheck)return 0;var saved=localStorage.getItem("globalSidebarOpen");return(null!==saved?JSON.parse(saved):!isMobileCheck)?250:56}),2),sidebarWidth=_useState2[0],setSidebarWidth=_useState2[1];return(0,react.useEffect)(function(){if(isMobile)setSidebarWidth(0);else{var saved=localStorage.getItem("globalSidebarOpen"),sidebarOpen=null===saved||JSON.parse(saved);setSidebarWidth(sidebarOpen?250:56)}},[isMobile]),(0,react.useEffect)(function(){var updateSidebarWidth=function updateSidebarWidth(){if(isMobile)setSidebarWidth(0);else{var saved=localStorage.getItem("globalSidebarOpen"),sidebarOpen=null===saved||JSON.parse(saved);setSidebarWidth(sidebarOpen?250:56)}};return window.addEventListener("storage",updateSidebarWidth),window.addEventListener("sidebarToggle",updateSidebarWidth),function(){window.removeEventListener("storage",updateSidebarWidth),window.removeEventListener("sidebarToggle",updateSidebarWidth)}},[isMobile]),sidebarWidth}();return 0===sidebarWidth?"100vw":"calc(100vw - ".concat(sidebarWidth,"px)")};function ContentDetail_createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function ContentDetail_unsupportedIterableToArray(r,a){if(r){var _context56;if("string"==typeof r)return ContentDetail_arrayLikeToArray(r,a);var t=instance_slice_default()(_context56={}.toString.call(r)).call(_context56,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ContentDetail_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function ContentDetail_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function ContentDetail_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function ContentDetail_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context54,_context55,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context54=ContentDetail_ownKeys(Object(t),!0)).call(_context54,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context55=ContentDetail_ownKeys(Object(t))).call(_context55,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var ContentDetail_getDocumentTitle=function getDocumentTitle(document,collectionPath){var _schemaCollections$co,_schemaCollections$co2,titleTemplate,schema=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},schemaCollections=(null==schema?void 0:schema.collections)||schema||{};if(null!==(_schemaCollections$co=schemaCollections[collectionPath])&&void 0!==_schemaCollections$co&&_schemaCollections$co.titleTemplate)titleTemplate=schemaCollections[collectionPath].titleTemplate;else if(includes_default()(collectionPath).call(collectionPath,"/")){var pathParts=collectionPath.split("/");if(pathParts.length>=3&&pathParts.length%2==1){var _context,_schemaCollections$si,rootCollection=pathParts[0],subcollection=pathParts[pathParts.length-1],simplifiedKey=concat_default()(_context="".concat(rootCollection,"/")).call(_context,subcollection);null!==(_schemaCollections$si=schemaCollections[simplifiedKey])&&void 0!==_schemaCollections$si&&_schemaCollections$si.titleTemplate&&(titleTemplate=schemaCollections[simplifiedKey].titleTemplate)}if(!titleTemplate){var _schemaCollections$la,lastSegment=pathParts[pathParts.length-1];null!==(_schemaCollections$la=schemaCollections[lastSegment])&&void 0!==_schemaCollections$la&&_schemaCollections$la.titleTemplate&&(titleTemplate=schemaCollections[lastSegment].titleTemplate)}}else null!==(_schemaCollections$co2=schemaCollections[collectionPath])&&void 0!==_schemaCollections$co2&&_schemaCollections$co2.titleTemplate&&(titleTemplate=schemaCollections[collectionPath].titleTemplate);if(titleTemplate&&document)try{return titleTemplate.replace(/\$\{([^}]+)\}/g,function(match,fieldName){var value=document[trim_default()(fieldName).call(fieldName)];return null!=value?String(value):match})}catch(error){console.warn("Error processing titleTemplate:",error)}return(null==document?void 0:document.title)||(null==document?void 0:document.name)||(null==document?void 0:document.displayName)||(null==document?void 0:document.text)||(null==document?void 0:document.content)||(null==document?void 0:document.description)||(null==document?void 0:document.id)||"Unknown"},extractReferenceValue=function extractReferenceValue(value){return null==value||"[object Object]"===value?"":"string"==typeof value?value:"object"!==_typeof(value)?String(value):value.path?String(value.path):value._path&&value._path.segments?value._path.segments.join("/"):value.id&&value._path?String(value.id):value.parent&&value.id?concat_default()(_context2="".concat(value.parent.path||value.parent.id,"/")).call(_context2,value.id):value._delegate&&value._delegate._path?value._delegate._path.segments.join("/"):value.id?String(value.id):"[Reference]";var _context2},exportSubcollectionToCSV=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(collectionPath,schema,formatMessage){var useFirestoreRules,_context3,_context5,_context6,_context7,response,documents,allFields,visibleFields,headers,rows,csvContent,blob,link,url,filename,_t,_args=arguments;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return useFirestoreRules=_args.length>3&&void 0!==_args[3]&&_args[3],_context8.prev=1,_context8.next=2,getDocuments(collectionPath,useFirestoreRules,{limit:1e4});case 2:if(response=_context8.sent,0!==(documents=array_is_array_default()(response)?response:response.docs||[]).length){_context8.next=3;break}return react_toastify_esm_Q.info("No documents to export"),_context8.abrupt("return");case 3:allFields=getSchemaFields(schema),visibleFields=getVisibleFields(allFields,schema),headers=concat_default()(_context3=["ID"]).call(_context3,_toConsumableArray(map_default()(visibleFields).call(visibleFields,function(field){return getFieldTitle(field)}))),rows=map_default()(documents).call(documents,function(doc){var row=[doc.id];return for_each_default()(visibleFields).call(visibleFields,function(field){var value=doc[field.name];if(null==value)row.push("");else if("timestamp"===field.type&&value)row.push(formatTimestampWithTime(value));else if("reference"===field.type&&value)row.push(extractReferenceValue(value));else if("assets"===field.type&&value)if(array_is_array_default()(value)){var fileNames=map_default()(value).call(value,function(asset){return"string"==typeof asset?asset.split("/").pop()||asset:asset&&asset.name?asset.name:asset&&asset.url?asset.url.split("/").pop()||asset.url:String(asset)});row.push(fileNames.join(", "))}else"string"==typeof value?row.push(value.split("/").pop()||value):value.name?row.push(value.name):row.push(String(value));else if("map"===field.type&&value&&"object"===_typeof(value))row.push(stringify_default()(value).replace(/"/g,'""'));else if("geoPoint"===field.type&&value){var _ref2,_value$latitude,_ref3,_value$longitude,_context4,lat=null!==(_ref2=null!==(_value$latitude=value.latitude)&&void 0!==_value$latitude?_value$latitude:value._latitude)&&void 0!==_ref2?_ref2:"unknown",lng=null!==(_ref3=null!==(_value$longitude=value.longitude)&&void 0!==_value$longitude?_value$longitude:value._longitude)&&void 0!==_ref3?_ref3:"unknown";row.push(concat_default()(_context4="".concat(lat,", ")).call(_context4,lng))}else"array"===field.type&&array_is_array_default()(value)?row.push(map_default()(value).call(value,function(item){return"object"===_typeof(item)&&null!==item?"reference"===field.type?extractReferenceValue(item):stringify_default()(item).replace(/"/g,'""'):String(item)}).join("; ")):"object"===_typeof(value)&&null!==value?row.push(stringify_default()(value).replace(/"/g,'""')):row.push(String(value).replace(/"/g,'""'))}),row}),csvContent=map_default()(_context5=concat_default()(_context6=[headers]).call(_context6,_toConsumableArray(rows))).call(_context5,function(row){return map_default()(row).call(row,function(cell){return'"'.concat(cell,'"')}).join(",")}).join("\n"),blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a"),url=url_default().createObjectURL(blob),link.setAttribute("href",url),filename=concat_default()(_context7="".concat(collectionPath.replace(/\//g,"_"),"_export_")).call(_context7,(new Date).toISOString().split("T")[0],".csv"),link.setAttribute("download",filename),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),react_toastify_esm_Q.success(formatMessage({id:"content.export_success",defaultMessage:"CSV export completed successfully"})),_context8.next=5;break;case 4:_context8.prev=4,_t=_context8.catch(1),console.error("CSV export error:",_t),react_toastify_esm_Q.error(formatMessage({id:"content.export_failed",defaultMessage:"Failed to export CSV"}));case 5:case"end":return _context8.stop()}},_callee,null,[[1,4]])}));return function exportSubcollectionToCSV(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),_renderFieldValue=function renderFieldValue(value,field,config,customFields){if(null==value)return"-";var lat,lng,type=field.type,options=field.options;if(value&&"object"===_typeof(value)&&(void 0!==value._seconds||void 0!==value.seconds)&&(void 0!==value._nanoseconds||void 0!==value.nanoseconds))return formatTimestampWithTime(value);if(value&&"object"===_typeof(value)&&(("latitude"in value&&"longitude"in value||"_latitude"in value&&"_longitude"in value||"_lat"in value&&("_long"in value||"_lng"in value)||"lat"in value&&"lng"in value)&&("latitude"in value&&"longitude"in value?(lat=value.latitude,lng=value.longitude):"_latitude"in value&&"_longitude"in value?(lat=value._latitude,lng=value._longitude):"_lat"in value&&("_long"in value||"_lng"in value)?(lat=value._lat,lng=value._long||value._lng):"lat"in value&&"lng"in value&&(lat=value.lat,lng=value.lng),void 0!==lat&&void 0!==lng)))return react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body2"},react.createElement("strong",null,"Latitude:")," ",lat.toFixed(6),react.createElement("br",null),react.createElement("strong",null,"Longitude:")," ",lng.toFixed(6)),config.googleMapsApiKey&&react.createElement(material_Box_Box,{sx:{height:300,mt:2}},react.createElement(content_GoogleMapComponent,{location:{lat,lng},apiKey:config.googleMapsApiKey,editable:!1})));switch(type){case"string":if(options&&array_is_array_default()(options)){var _step2,_iterator2=ContentDetail_createForOfIteratorHelper(options);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var option=_step2.value,optionValue=void 0,optionText=void 0;if("string"==typeof option)optionValue=optionText=option;else if(array_is_array_default()(option)&&option.length>=2)optionValue=String(option[0]||""),optionText=String(option[1]||option[0]||"");else{if("object"!==_typeof(option)||null===option)continue;optionValue=String(option.value||option.key||""),optionText=String(option.text||option.label||option.name||option.value||option.key||"")}if(optionValue===value)return optionText}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return value}return value;case"number":return value;case"boolean":return value?"Yes":"No";case"timestamp":return!value||"object"!==_typeof(value)||void 0===value._seconds&&value.seconds,formatTimestampWithTime(value);case"array":return array_is_array_default()(value)&&0!==value.length?react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mb:1,display:"block"}},value.length," item",1!==value.length?"s":"",":"),value.length>1?react.createElement(Grid_Grid,{container:!0,spacing:1},map_default()(value).call(value,function(item,index){return react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,key:index},react.createElement(material_Box_Box,{sx:{p:1,border:1,borderColor:"divider",borderRadius:1,backgroundColor:"grey.50"}},react.createElement(material_Typography_Typography,{variant:"body2"},null==item?react.createElement("em",{style:{color:"#999"}},"null"):"boolean"==typeof item?item?"Yes":"No":"number"==typeof item?item.toString():"string"==typeof item?item:"object"===_typeof(item)?void 0!==item._seconds||void 0!==item.seconds?formatTimestampWithTime(item):react.createElement(material_Box_Box,{component:"pre",sx:{m:0,p:1,bgcolor:"grey.100",borderRadius:.5,fontSize:"0.8rem",overflow:"auto",maxWidth:"100%"}},stringify_default()(item,null,2)):String(item))))})):react.createElement(List_List,{dense:!0,sx:{p:0}},map_default()(value).call(value,function(item,index){return react.createElement(ListItem_ListItem,{key:index,sx:{px:0,py:.5}},react.createElement(ListItemText_ListItemText,{primary:react.createElement(material_Typography_Typography,{variant:"body2"},null==item?react.createElement("em",{style:{color:"#999"}},"null"):"boolean"==typeof item?item?"Yes":"No":"number"==typeof item?item.toString():"string"==typeof item?item:"object"===_typeof(item)?void 0!==item._seconds||void 0!==item.seconds?formatTimestampWithTime(item):react.createElement(material_Box_Box,{component:"pre",sx:{m:0,p:1,bgcolor:"grey.100",borderRadius:.5,fontSize:"0.8rem",overflow:"auto",maxWidth:"100%"}},stringify_default()(item,null,2)):String(item))}))}))):"-";case"editor":return react.createElement(material_Box_Box,{dangerouslySetInnerHTML:{__html:value||""},sx:{maxWidth:"100%",wordBreak:"break-word","& img":{maxWidth:"100%",height:"auto"},"& p":{margin:"0 0 8px 0"},"& h1, & h2, & h3, & h4, & h5, & h6":{margin:"16px 0 8px 0",fontWeight:600},"& ul, & ol":{paddingLeft:"20px"},"& blockquote":{borderLeft:"4px solid #ddd",paddingLeft:"16px",margin:"16px 0",fontStyle:"italic"}}});case"assets":return array_is_array_default()(value)&&0!==value.length?react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mb:1,display:"block"}},value.length," asset",1!==value.length?"s":"",":"),react.createElement(Grid_Grid,{container:!0,spacing:2},map_default()(value).call(value,function(asset,index){return react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,md:4,key:index},react.createElement(Card_Card,{variant:"outlined"},react.createElement(common_AssetThumbnail,{asset,height:120,fallbackIcon:!0}),react.createElement(CardContent_CardContent,{sx:{p:1}},react.createElement(material_Typography_Typography,{variant:"caption",noWrap:!0,title:asset.name},asset.name||"Unnamed Asset"),react.createElement("br",null),react.createElement(material_Chip_Chip,{label:asset.type,size:"small",color:"internal"===asset.type?"primary":"secondary"}),asset.url&&react.createElement(material_Box_Box,{sx:{mt:.5}},react.createElement(material_Typography_Typography,{variant:"caption",component:"a",href:asset.url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}}},"View Asset")))))}))):"-";case"geoPoint":var _lat,_lng;if(value&&"object"===_typeof(value))if("latitude"in value&&"longitude"in value?(_lat=value.latitude,_lng=value.longitude):"_latitude"in value&&"_longitude"in value?(_lat=value._latitude,_lng=value._longitude):"_lat"in value&&("_long"in value||"_lng"in value)?(_lat=value._lat,_lng=value._long||value._lng):"lat"in value&&"lng"in value&&(_lat=value.lat,_lng=value.lng),void 0!==_lat&&void 0!==_lng)return react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body2"},react.createElement("strong",null,"Latitude:")," ",_lat.toFixed(6),react.createElement("br",null),react.createElement("strong",null,"Longitude:")," ",_lng.toFixed(6)));return"Invalid location data";default:if(customFields&&isCustomFieldType(type,customFields)){var customFieldDef=getCustomFieldDefinition(type,customFields);if(customFieldDef){try{var customFieldResult=executeCustomFieldRenderOutput(customFieldDef,value,{name:field.name,label:field.title||field.name});if(customFieldResult){var htmlContent=customFieldResult.render();return react.createElement("div",{dangerouslySetInnerHTML:{__html:htmlContent}})}}catch(error){console.error("Error rendering custom field output '".concat(customFieldDef.name||type,"':"),error)}if(customFieldDef.extends){var baseType=customFieldDef.extends;return _renderFieldValue(value,ContentDetail_objectSpread(ContentDetail_objectSpread({},field),{},{type:baseType}),config,customFields)}}}return stringify_default()(value)}},ContentDetail_ReferenceOptionDisplay=function ReferenceOptionDisplay(_ref11){var document=_ref11.document,referencePath=_ref11.referencePath,schema=_ref11.schema,schemaCollections=(null==schema?void 0:schema.collections)||schema||{},referencedCollectionConfig=referencePath?schemaCollections[referencePath]:null;return function getDisplayTitle(){return document?(null==referencedCollectionConfig?void 0:referencedCollectionConfig.titleTemplate)?ContentDetail_getDocumentTitle(document,referencePath,schema||{}):(null==document?void 0:document.title)||(null==document?void 0:document.name)||(null==document?void 0:document.displayName)||(null==document?void 0:document.text)||(null==document?void 0:document.content)||(null==document?void 0:document.description)||(null==document?void 0:document.id)||"Unknown":"Unknown"}()},ReferenceField=function ReferenceField(_ref12){var referencePath=_ref12.referencePath,refId=_ref12.refId,fullPath=_ref12.fullPath,displayPath=_ref12.displayPath,onNavigate=_ref12.onNavigate,schema=_ref12.schema,config=_ref12.config,_useState34=slicedToArray_slicedToArray((0,react.useState)(null),2),referencedDoc=_useState34[0],setReferencedDoc=_useState34[1],_useState36=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState36[0],setLoading=_useState36[1],schemaCollections=(null==schema?void 0:schema.collections)||schema||{},referencedCollectionConfig=referencePath?schemaCollections[referencePath]:null,collectionTitle=(null==referencedCollectionConfig?void 0:referencedCollectionConfig.title)||getCollectionTitle(referencePath.split("/").pop()||referencePath,schema||{});(0,react.useEffect)(function(){if(referencePath&&refId){var fetchReferencedDoc=function(){var _ref13=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee6(){var doc,_t9;return regenerator_default().wrap(function(_context53){for(;;)switch(_context53.prev=_context53.next){case 0:return _context53.prev=0,setLoading(!0),_context53.next=1,firebase_utils_getDocument(referencePath,refId,!0===(null==config?void 0:config.useFirestoreAccessRules));case 1:doc=_context53.sent,setReferencedDoc(doc),_context53.next=3;break;case 2:_context53.prev=2,_t9=_context53.catch(0),console.error("Error fetching referenced document:",_t9),setReferencedDoc(null);case 3:return _context53.prev=3,setLoading(!1),_context53.finish(3);case 4:case"end":return _context53.stop()}},_callee6,null,[[0,2,3,4]])}));return function fetchReferencedDoc(){return _ref13.apply(this,arguments)}}();fetchReferencedDoc()}},[referencePath,refId,config]);return react.createElement(react.Fragment,null,react.createElement(material_Typography_Typography,{variant:"body1"},loading?react.createElement(material_CircularProgress_CircularProgress,{size:16,sx:{mr:1}}):null,function getDisplayTitle(){return referencedDoc?(null==referencedCollectionConfig?void 0:referencedCollectionConfig.titleTemplate)?ContentDetail_getDocumentTitle(referencedDoc,referencePath,schema||{}):(null==referencedDoc?void 0:referencedDoc.title)||(null==referencedDoc?void 0:referencedDoc.name)||(null==referencedDoc?void 0:referencedDoc.displayName)||(null==referencedDoc?void 0:referencedDoc.text)||(null==referencedDoc?void 0:referencedDoc.content)||(null==referencedDoc?void 0:referencedDoc.description)||refId:refId}()),fullPath&&react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{size:"small",variant:"outlined",onClick:onNavigate,sx:{mt:1},disabled:loading},"View Referenced Document"),react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mt:.5,display:"block"}},collectionTitle," (",displayPath,")")))};const content_ContentDetail=function ContentDetail(_ref4){var _fireengineConfig,_context49,collectionPath=_ref4.collection,document=_ref4.document,schema=_ref4.schema,onBack=_ref4.onBack,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),editDialogOpen=_useState2[0],setEditDialogOpen=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(document),2),documentData=_useState4[0],setDocumentData=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(document),2),currentDocument=_useState6[0],setCurrentDocument=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),saving=_useState8[0],setSaving=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)([]),2),subcollections=_useState0[0],setSubcollections=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(!1),2),referenceSelectorOpen=_useState10[0],setReferenceSelectorOpen=_useState10[1],_useState12=slicedToArray_slicedToArray((0,react.useState)(null),2),currentReferenceField=_useState12[0],setCurrentReferenceField=_useState12[1],_useState14=slicedToArray_slicedToArray((0,react.useState)([]),2),referenceOptions=_useState14[0],setReferenceOptions=_useState14[1],_useState16=slicedToArray_slicedToArray((0,react.useState)([]),2),filteredReferenceOptions=_useState16[0],setFilteredReferenceOptions=_useState16[1],_useState18=slicedToArray_slicedToArray((0,react.useState)(""),2),referenceSearchTerm=_useState18[0],setReferenceSearchTerm=_useState18[1],_useState20=slicedToArray_slicedToArray((0,react.useState)(0),2),referencePage=_useState20[0],setReferencePage=_useState20[1],_useState22=slicedToArray_slicedToArray((0,react.useState)(10),2),referenceRowsPerPage=_useState22[0],setReferenceRowsPerPage=_useState22[1],_useState24=slicedToArray_slicedToArray((0,react.useState)(!1),2),loadingReferences=_useState24[0],setLoadingReferences=_useState24[1],formatMessage=useIntl().formatMessage,history=react_router_useHistory(),config=(auth_hooks_useAuth().auth,app_hooks_useApp().config),user=auth_hooks_useAuth().user,customFields=useMeta().customFields,roles=roles_hooks_useRoles().roles,isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),ownerEmail=null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig?void 0:_fireengineConfig.ownerEmail,availableWidth=useAvailableWidth(),useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules),_useState26=slicedToArray_slicedToArray((0,react.useState)({}),2),subcollectionAddDialogs=_useState26[0],setSubcollectionAddDialogs=_useState26[1],_useState28=slicedToArray_slicedToArray((0,react.useState)({}),2),subcollectionNewDocData=_useState28[0],setSubcollectionNewDocData=_useState28[1],_useState30=slicedToArray_slicedToArray((0,react.useState)({}),2),subcollectionSearchTerms=_useState30[0],setSubcollectionSearchTerms=_useState30[1],_useState32=slicedToArray_slicedToArray((0,react.useState)({}),2),subcollectionDebouncedSearchTerms=_useState32[0],setSubcollectionDebouncedSearchTerms=_useState32[1];(0,react.useEffect)(function(){setDocumentData(document),setCurrentDocument(document)},[document]);var refreshDocument=function(){var _ref5=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var refreshedDoc,_t2;return regenerator_default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=1,firebase_utils_getDocument(collectionPath,document.id,useFirestoreRules);case 1:(refreshedDoc=_context9.sent)&&(setCurrentDocument(refreshedDoc),setDocumentData(refreshedDoc)),_context9.next=3;break;case 2:_context9.prev=2,_t2=_context9.catch(0),console.error("Error refreshing document:",_t2);case 3:case"end":return _context9.stop()}},_callee2,null,[[0,2]])}));return function refreshDocument(){return _ref5.apply(this,arguments)}}(),collectionSchemaObject=null,schemaCollections=(null==schema?void 0:schema.collections)||schema||{};if(schemaCollections[collectionPath])collectionSchemaObject=schemaCollections[collectionPath];else if(includes_default()(collectionPath).call(collectionPath,"/")){var pathParts=collectionPath.split("/");if(pathParts.length>=3&&pathParts.length%2==1){var _context0,rootCollection=pathParts[0],subcollection=pathParts[pathParts.length-1],simplifiedKey=concat_default()(_context0="".concat(rootCollection,"/")).call(_context0,subcollection);schemaCollections[simplifiedKey]&&(collectionSchemaObject=schemaCollections[simplifiedKey])}if(!collectionSchemaObject){var _context1,schemaKey=find_default()(_context1=keys_default()(schemaCollections)).call(_context1,function(key){var keyParts=key.split("/");return keyParts[keyParts.length-1]===pathParts[pathParts.length-1]});schemaKey&&(collectionSchemaObject=schemaCollections[schemaKey])}}var _useFormValidation=useFormValidation(formatMessage,getSchemaFields(collectionSchemaObject),customFields),touchedFields=_useFormValidation.touchedFields,fieldErrors=_useFormValidation.fieldErrors,validateRequiredFields=_useFormValidation.validateRequiredFields,handleFieldBlur=_useFormValidation.handleFieldBlur,markAllRequiredFieldsAsTouched=(_useFormValidation.clearFieldError,_useFormValidation.markAllRequiredFieldsAsTouched),resetValidation=_useFormValidation.resetValidation;(0,react.useEffect)(function(){schema&&document&&function findSubcollections(){var _context10,_context11,subCollPattern="".concat(collectionPath,"/"),schemaCollections=(null==schema?void 0:schema.collections)||schema||{},subs=map_default()(_context10=filter_default()(_context11=keys_default()(schemaCollections)).call(_context11,function(key){return starts_with_default()(key).call(key,subCollPattern)&&2===key.split("/").length&&!starts_with_default()(key).call(key,"_fireengine")})).call(_context10,function(key){return key.split("/")[1]});setSubcollections(_toConsumableArray(new(set_default())(subs)))}()},[schema,collectionPath,document]);var handleEditDialogClose=function handleEditDialogClose(){setDocumentData(currentDocument),resetValidation(),setEditDialogOpen(!1)},extractCustomFieldValues=function extractCustomFieldValues(data,fields,customFields){var updatedData=ContentDetail_objectSpread({},data);return for_each_default()(fields).call(fields,function(field){if(field.type&&customFields[field.type])try{var customFieldDef=customFields[field.type],result=new Function("context","\n              const { name, value, console } = context;\n              const customFieldRenderInput = ".concat(customFieldDef.renderInput||customFieldDef.render,";\n              return customFieldRenderInput({ name, value });\n            "))({name:field.name,value:data[field.name],console:{log:function log(){for(var _console,_context12,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_console=console).log.apply(_console,concat_default()(_context12=["[CustomField]"]).call(_context12,args))},warn:function warn(){for(var _console2,_context13,_len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_console2=console).warn.apply(_console2,concat_default()(_context13=["[CustomField]"]).call(_context13,args))},error:function error(){for(var _console3,_context14,_len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return(_console3=console).error.apply(_console3,concat_default()(_context14=["[CustomField]"]).call(_context14,args))}}});if(array_is_array_default()(result)&&result.length>=2&&"function"==typeof result[1]){var extractedValue=result[1]();updatedData[field.name]=extractedValue,field.name}}catch(error){console.error("Error extracting custom field value for ".concat(field.name,":"),error)}}),updatedData},handleSave=function(){var _ref6=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(){var dataWithCustomFieldValues,validation,_context15,errorMessages,prefix,ValidationErrorMessage,errorMessage,_context17,match,errorData,_context18,_fieldErrors,_ValidationErrorMessage,_t3;return regenerator_default().wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:if(_context20.prev=0,setSaving(!0),dataWithCustomFieldValues=extractCustomFieldValues(documentData,visibleFields,customFields),!((validation=validateRequiredFields(dataWithCustomFieldValues)).missingFields.length>0)){_context20.next=1;break}return markAllRequiredFieldsAsTouched(dataWithCustomFieldValues),keys_default()(validation.errors).length>0?(errorMessages=map_default()(_context15=object_entries_default()(validation.errors)).call(_context15,function(_ref7){var _context16,_ref8=slicedToArray_slicedToArray(_ref7,2),fieldName=_ref8[0],errorMessage=_ref8[1],field=find_default()(visibleFields).call(visibleFields,function(f){return f.name===fieldName}),fieldLabel=(null==field?void 0:field.label)||fieldName;return concat_default()(_context16="".concat(fieldLabel,": ")).call(_context16,errorMessage)}),prefix=formatMessage({id:"content.validation.fix_errors_below",defaultMessage:"Please fix the validation errors below:"}),ValidationErrorMessage=function ValidationErrorMessage(){return react.createElement("div",null,react.createElement("div",{style:{marginBottom:"8px"}},prefix),map_default()(errorMessages).call(errorMessages,function(error,index){return react.createElement("div",{key:index,style:{marginLeft:"8px"}}," ",error)}))},react_toastify_esm_Q.error(react.createElement(ValidationErrorMessage,null))):react_toastify_esm_Q.error(formatMessage({id:"content.validation.missing_required_fields",defaultMessage:"Please fill in the required fields: {fields}"},{fields:validation.missingFields.join(", ")})),setSaving(!1),_context20.abrupt("return");case 1:return _context20.next=2,updateDocument(collectionPath,document.id,dataWithCustomFieldValues,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:return _context20.next=3,refreshDocument();case 3:setEditDialogOpen(!1),react_toastify_esm_Q.success(formatMessage({id:"content.document_updated_success",defaultMessage:"Document updated successfully"})),_context20.next=9;break;case 4:if(_context20.prev=4,_t3=_context20.catch(0),console.error("Error updating document ".concat(document.id,":"),_t3),errorMessage=formatMessage({id:"content.document_update_failed",defaultMessage:"Failed to update document."}),_context20.prev=5,!_t3.message||!includes_default()(_context17=_t3.message).call(_context17,'{"error":"Validation failed"')){_context20.next=6;break}if(!(match=_t3.message.match(/\{"error":"Validation failed","errors":\{[^}]+\}\}/))){_context20.next=6;break}if(!(errorData=JSON.parse(match[0])).errors){_context20.next=6;break}return _fieldErrors=map_default()(_context18=object_entries_default()(errorData.errors)).call(_context18,function(_ref9){var _context19,_ref0=slicedToArray_slicedToArray(_ref9,2),fieldName=_ref0[0],message=_ref0[1],field=find_default()(visibleFields).call(visibleFields,function(f){return f.name===fieldName}),fieldLabel=(null==field?void 0:field.label)||fieldName;return concat_default()(_context19="".concat(fieldLabel,": ")).call(_context19,message)}),_ValidationErrorMessage=function _ValidationErrorMessage(){return react.createElement("div",null,react.createElement("div",{style:{marginBottom:"8px"}},formatMessage({id:"content.validation.backend_validation_failed",defaultMessage:"Validation failed:"})),map_default()(_fieldErrors).call(_fieldErrors,function(error,index){return react.createElement("div",{key:index,style:{marginLeft:"8px"}}," ",error)}))},react_toastify_esm_Q.error(react.createElement(_ValidationErrorMessage,null)),_context20.abrupt("return");case 6:_context20.next=8;break;case 7:_context20.prev=7,_context20.catch(5);case 8:react_toastify_esm_Q.error(errorMessage);case 9:return _context20.prev=9,setSaving(!1),_context20.finish(9);case 10:case"end":return _context20.stop()}},_callee3,null,[[0,4,9,10],[5,7]])}));return function handleSave(){return _ref6.apply(this,arguments)}}(),handleFieldChange=function handleFieldChange(fieldName,value){setDocumentData(ContentDetail_objectSpread(ContentDetail_objectSpread({},documentData),{},defineProperty_defineProperty({},fieldName,value)))},handleFieldBlurWrapper=function handleFieldBlurWrapper(fieldName){handleFieldBlur(fieldName,documentData)};(0,react.useEffect)(function(){var filtered=function filterReferenceOptions(options,searchTerm){var _context21;if(!trim_default()(searchTerm).call(searchTerm))return options;var term=trim_default()(_context21=searchTerm.toLowerCase()).call(_context21);return filter_default()(options).call(options,function(doc){var _context22,searchableText=filter_default()(_context22=[doc.name,doc.title,doc.displayName,doc.email,doc.id,doc._parentName,doc._parentId]).call(_context22,Boolean).join(" ").toLowerCase();return includes_default()(searchableText).call(searchableText,term)})}(referenceOptions,referenceSearchTerm);setFilteredReferenceOptions(filtered),setReferencePage(0)},[referenceOptions,referenceSearchTerm]);var handleOpenReferenceSelector=function(){var _ref1=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(field){var referencePath,pathSegments,docs,_rootCollection,subcollectionName,parentDocs,allSubDocs,_iterator,_step,_loop,_docs,_t6,_t7;return regenerator_default().wrap(function(_context26){for(;;)switch(_context26.prev=_context26.next){case 0:if(setCurrentReferenceField(field),setReferenceSelectorOpen(!0),setLoadingReferences(!0),_context26.prev=1,!(referencePath=field.referencePath)){_context26.next=14;break}if(3!==(pathSegments=referencePath.split("/")).length){_context26.next=3;break}return _context26.next=2,getDocuments(referencePath,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:docs=_context26.sent,setReferenceOptions(docs||[]),_context26.next=14;break;case 3:if(2!==pathSegments.length){_context26.next=12;break}return _rootCollection=pathSegments[0],subcollectionName=pathSegments[1],_context26.next=4,getDocuments(_rootCollection,!0===(null==config?void 0:config.useFirestoreAccessRules));case 4:if(parentDocs=_context26.sent,allSubDocs=[],!(parentDocs&&parentDocs.length>0)){_context26.next=11;break}_iterator=ContentDetail_createForOfIteratorHelper(parentDocs),_context26.prev=5,_loop=regenerator_default().mark(function _loop(){var parentDoc,_context23,_context24,subcollectionPath,subDocs,enrichedSubDocs;return regenerator_default().wrap(function(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:return parentDoc=_step.value,_context25.prev=1,subcollectionPath=concat_default()(_context23=concat_default()(_context24="".concat(_rootCollection,"/")).call(_context24,parentDoc.id,"/")).call(_context23,subcollectionName),_context25.next=2,getDocuments(subcollectionPath,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:(subDocs=_context25.sent)&&subDocs.length>0&&(enrichedSubDocs=map_default()(subDocs).call(subDocs,function(subDoc){return ContentDetail_objectSpread(ContentDetail_objectSpread({},subDoc),{},{_parentId:parentDoc.id,_parentName:parentDoc.name||parentDoc.title||parentDoc.id,_fullPath:subcollectionPath})}),allSubDocs.push.apply(allSubDocs,_toConsumableArray(enrichedSubDocs))),_context25.next=4;break;case 3:_context25.prev=3,_context25.catch(1);case 4:case"end":return _context25.stop()}},_loop,null,[[1,3]])}),_iterator.s();case 6:if((_step=_iterator.n()).done){_context26.next=8;break}return _context26.delegateYield(_loop(),"t0",7);case 7:_context26.next=6;break;case 8:_context26.next=10;break;case 9:_context26.prev=9,_t6=_context26.catch(5),_iterator.e(_t6);case 10:return _context26.prev=10,_iterator.f(),_context26.finish(10);case 11:setReferenceOptions(allSubDocs),_context26.next=14;break;case 12:return null==config||config.useFirestoreAccessRules,_context26.next=13,getDocuments(referencePath,!0===(null==config?void 0:config.useFirestoreAccessRules));case 13:null==(_docs=_context26.sent)||_docs.length,setReferenceOptions(_docs||[]);case 14:_context26.next=16;break;case 15:_context26.prev=15,_t7=_context26.catch(1),console.error("Error fetching reference options for ".concat(field.referencePath,":"),_t7),setReferenceOptions([]);case 16:return _context26.prev=16,setLoadingReferences(!1),_context26.finish(16);case 17:case"end":return _context26.stop()}},_callee4,null,[[1,15,16,17],[5,9,10,11]])}));return function handleOpenReferenceSelector(_x4){return _ref1.apply(this,arguments)}}(),handleCloseReferenceSelector=function handleCloseReferenceSelector(){setReferenceSelectorOpen(!1),setCurrentReferenceField(null),setReferenceOptions([]),setFilteredReferenceOptions([]),setReferenceSearchTerm(""),setReferencePage(0)},handleSubcollectionAddDialogClose=function handleSubcollectionAddDialogClose(subcoll){setSubcollectionAddDialogs(ContentDetail_objectSpread(ContentDetail_objectSpread({},subcollectionAddDialogs),{},defineProperty_defineProperty({},subcoll,!1)))},handleSubcollectionAddDocument=function(){var _ref10=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(subcoll){var _context32,_context33,subcollectionPath,docData,_t8;return regenerator_default().wrap(function(_context34){for(;;)switch(_context34.prev=_context34.next){case 0:return _context34.prev=0,subcollectionPath=concat_default()(_context32=concat_default()(_context33="".concat(collectionPath,"/")).call(_context33,document.id,"/")).call(_context32,subcoll),docData=subcollectionNewDocData[subcoll]||{},_context34.next=1,addDocument(subcollectionPath,docData,!0===(null==config?void 0:config.useFirestoreAccessRules));case 1:handleSubcollectionAddDialogClose(subcoll),window.location.reload(),_context34.next=3;break;case 2:_context34.prev=2,_t8=_context34.catch(0),console.error("Error adding document to ".concat(subcoll,":"),_t8);case 3:case"end":return _context34.stop()}},_callee5,null,[[0,2]])}));return function handleSubcollectionAddDocument(_x5){return _ref10.apply(this,arguments)}}(),allFields=getSchemaFields(collectionSchemaObject),visibleFields=getVisibleFields(allFields,collectionSchemaObject),orderedVisibleFields=getOrderedFieldsForDetail(visibleFields);return react.createElement(material_Box_Box,{sx:{maxWidth:availableWidth,width:"100%",p:isMobile?2:3}},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",mb:3},react.createElement(IconButton_IconButton,{onClick:onBack,color:"primary",sx:{ml:"-12px",mr:1}},react.createElement(icons_material_ArrowBack.A,null)),react.createElement(material_Typography_Typography,{variant:"h4",component:"h1"},ContentDetail_getDocumentTitle(currentDocument,collectionPath,{collections:schemaCollections})),react.createElement(material_Box_Box,{sx:{flexGrow:1}}),react.createElement(material_Button_Button,{variant:"outlined",startIcon:react.createElement(Edit.A,null),onClick:function handleEditDialogOpen(){setDocumentData(currentDocument),resetValidation(),setEditDialogOpen(!0)}},react.createElement(message,{id:"content.edit",defaultMessage:"Edit"}))),react.createElement(Grid_Grid,{container:!0,spacing:3},react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(Grid_Grid,{container:!0,spacing:2,sx:{alignItems:"stretch"}},map_default()(orderedVisibleFields).call(orderedVisibleFields,function(field){var gridWidth,fieldValue=currentDocument[field.name],isArrayWithMultipleItems="array"===field.type&&array_is_array_default()(fieldValue)&&fieldValue.length>1,isFullWidth="editor"===field.type||isArrayWithMultipleItems;return gridWidth=void 0!==field.width?function normalizeFieldWidth(width){if(null==width)return 6;var clampedWidth=Math.max(.08333333,Math.min(1,width)),gridColumns=Math.round(12*clampedWidth);return Math.max(1,Math.min(12,gridColumns))}(field.width):isFullWidth?12:6,react.createElement(Grid_Grid,{item:!0,xs:12,md:gridWidth,key:field.name,sx:{display:"flex"}},react.createElement(material_Box_Box,{sx:{p:2,border:1,borderColor:"divider",borderRadius:2,backgroundColor:"background.paper",display:"flex",flexDirection:"column",width:"100%"}},react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary"},getFieldTitle(field),"reference"===field.type&&field.referencePath?" (".concat(field.referencePath,")"):""),react.createElement(react.Fragment,null,"geoPoint"===field.type?react.createElement(react.Fragment,null,function(){var geoPoint=currentDocument[field.name];geoPoint&&_typeof(geoPoint);var lat=null,lng=null;if(geoPoint&&"object"===_typeof(geoPoint))if("latitude"in geoPoint&&"longitude"in geoPoint)lat=geoPoint.latitude,lng=geoPoint.longitude;else if("_latitude"in geoPoint&&"_longitude"in geoPoint)lat=geoPoint._latitude,lng=geoPoint._longitude;else if("_lat"in geoPoint&&("_long"in geoPoint||"_lng"in geoPoint))lat=geoPoint._lat,lng=geoPoint._long||geoPoint._lng;else if("lat"in geoPoint&&"lng"in geoPoint)lat=geoPoint.lat,lng=geoPoint.lng;else try{var geoStr=stringify_default()(geoPoint),parsed=JSON.parse(geoStr);void 0!==parsed.latitude&&void 0!==parsed.longitude?(lat=parsed.latitude,lng=parsed.longitude):void 0!==parsed._latitude&&void 0!==parsed._longitude&&(lat=parsed._latitude,lng=parsed._longitude)}catch(e){console.error("Error parsing GeoPoint:",e)}return lat&&lng?react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body1",sx:{mb:2}},react.createElement("strong",null,"Latitude:")," ",lat.toFixed(6),react.createElement("br",null),react.createElement("strong",null,"Longitude:")," ",lng.toFixed(6)),config.googleMapsApiKey&&react.createElement(material_Box_Box,{sx:{height:300},mt:1},react.createElement(content_GoogleMapComponent,{location:{lat,lng},apiKey:config.googleMapsApiKey,editable:!1}))):react.createElement(material_Typography_Typography,{variant:"body1"},formatMessage({id:"content.no_location_data",defaultMessage:"No location data"}))}()):"map"===field.type?react.createElement(react.Fragment,null,function(){var lat,lng,value=currentDocument[field.name];if(value&&"object"===_typeof(value)&&(void 0!==value._seconds||void 0!==value.seconds)&&(void 0!==value._nanoseconds||void 0!==value.nanoseconds))return react.createElement(material_Typography_Typography,{variant:"body1"},formatTimestampWithTime(value));if(value&&"object"===_typeof(value)&&(("latitude"in value&&"longitude"in value||"_latitude"in value&&"_longitude"in value||"_lat"in value&&("_long"in value||"_lng"in value)||"lat"in value&&"lng"in value)&&("latitude"in value&&"longitude"in value?(lat=value.latitude,lng=value.longitude):"_latitude"in value&&"_longitude"in value?(lat=value._latitude,lng=value._longitude):"_lat"in value&&("_long"in value||"_lng"in value)?(lat=value._lat,lng=value._long||value._lng):"lat"in value&&"lng"in value&&(lat=value.lat,lng=value.lng),void 0!==lat&&void 0!==lng)))return react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement("strong",null,"Latitude:")," ",lat.toFixed(6),react.createElement("br",null),react.createElement("strong",null,"Longitude:")," ",lng.toFixed(6)),config.googleMapsApiKey&&react.createElement(material_Box_Box,{sx:{height:300,mt:2}},react.createElement(content_GoogleMapComponent,{location:{lat,lng},apiKey:config.googleMapsApiKey,editable:!1})));return react.createElement(material_Typography_Typography,{variant:"body1",component:"pre",sx:{bgcolor:"grey.100",p:2,borderRadius:1,overflowX:"auto"}},stringify_default()(value,null,2))}()):"reference"===field.type?react.createElement(material_Box_Box,null,function(_currentDocument$fiel){var refId="",fullPath="",displayPath="";if(currentDocument[field.name]&&currentDocument[field.name]._path&&currentDocument[field.name]._path.segments){var _context35,segments=currentDocument[field.name]._path.segments;refId=segments[segments.length-1];var referencePath=instance_slice_default()(segments).call(segments,0,-1).join("/");return displayPath=fullPath=concat_default()(_context35="".concat(referencePath,"/")).call(_context35,refId),react.createElement(react.Fragment,null,react.createElement(ReferenceField,{referencePath,refId,fullPath,displayPath,onNavigate:function onNavigate(){history.push("/content/".concat(fullPath))},schema,config}))}if(null!==(_currentDocument$fiel=currentDocument[field.name])&&void 0!==_currentDocument$fiel&&_currentDocument$fiel.id){var _context36;refId=currentDocument[field.name].id;var storedCollectionPath=currentDocument[field.name]._collectionPath,schemaReferencePath=field.referencePath||"",_referencePath=storedCollectionPath||schemaReferencePath;return displayPath=fullPath=_referencePath?concat_default()(_context36="".concat(_referencePath,"/")).call(_context36,refId):"",react.createElement(react.Fragment,null,react.createElement(ReferenceField,{referencePath:_referencePath,refId,fullPath,displayPath,onNavigate:function onNavigate(){history.push("/content/".concat(fullPath))},schema,config}))}return react.createElement(material_Typography_Typography,{variant:"body1"},formatMessage({id:"content.no_data",defaultMessage:"No data"}))}()):react.createElement(react.Fragment,null,function(){var fieldValue=_renderFieldValue(currentDocument[field.name],field,config,customFields),complexFieldTypes=["array","editor","assets","geoPoint"],isReactComponent=fieldValue&&"object"===_typeof(fieldValue)&&fieldValue.type;return includes_default()(complexFieldTypes).call(complexFieldTypes,field.type)||isReactComponent?fieldValue:react.createElement(material_Typography_Typography,{variant:"body1"},fieldValue)}()))))}))),map_default()(subcollections).call(subcollections,function(subcoll){var _context37,_context38,_context42,_context43,_context44,subcollectionPath=concat_default()(_context37=concat_default()(_context38="".concat(collectionPath,"/")).call(_context38,document.id,"/")).call(_context37,subcoll),canWriteToSubcollection=!(!useFirestoreRules&&user)||canAccessCollection(user,subcollectionPath,"write",roles,ownerEmail);return react.createElement(Grid_Grid,{item:!0,xs:12,key:subcoll},react.createElement(material_Box_Box,{sx:{mb:2,p:2,border:1,borderColor:"divider",borderRadius:2,backgroundColor:"background.paper"}},react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0,sx:{textTransform:"capitalize"}},formatMessage({id:"content.subcollection.".concat(subcoll),defaultMessage:subcoll})),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:2,minHeight:40}},react.createElement(SearchField,{placeholder:"Search ".concat(getCollectionTitle(subcoll,{collections:schemaCollections})),size:"small",value:subcollectionSearchTerms[subcoll]||"",onChange:function onChange(value){return function handleSubcollectionSearchChange(subcoll,searchTerm){setSubcollectionSearchTerms(ContentDetail_objectSpread(ContentDetail_objectSpread({},subcollectionSearchTerms),{},defineProperty_defineProperty({},subcoll,searchTerm)))}(subcoll,value)},onDebouncedChange:function onDebouncedChange(value){return function handleSubcollectionDebouncedSearchChange(subcoll,searchTerm){setSubcollectionDebouncedSearchTerms(ContentDetail_objectSpread(ContentDetail_objectSpread({},subcollectionDebouncedSearchTerms),{},defineProperty_defineProperty({},subcoll,searchTerm)))}(subcoll,value)}}),react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"content.export_csv",defaultMessage:"Export to CSV"})},react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){var _context39,_context40,_context41;return exportSubcollectionToCSV(concat_default()(_context39=concat_default()(_context40="".concat(collectionPath,"/")).call(_context40,document.id,"/")).call(_context39,subcoll),schemaCollections[concat_default()(_context41="".concat(collectionPath,"/")).call(_context41,subcoll)]||{},formatMessage,useFirestoreRules)},sx:{width:40,height:40,minWidth:40,borderRadius:5,p:0}},react.createElement(Download.A,null))),canWriteToSubcollection&&react.createElement(AddButton,{onClick:function onClick(){return function handleSubcollectionAddDialogOpen(subcoll){concat_default()(_context29=concat_default()(_context30="".concat(collectionPath,"/")).call(_context30,document.id,"/")).call(_context29,subcoll);var _context29,_context30,_context31,subcollectionSchema=schemaCollections[concat_default()(_context31="".concat(collectionPath,"/")).call(_context31,subcoll)]||{fields:[]},collectionFields=getSchemaFields(subcollectionSchema),visibleFields=getVisibleFields(collectionFields,subcollectionSchema),initialData={};visibleFields.length>0&&for_each_default()(visibleFields).call(visibleFields,function(field){"string"===field.type?initialData[field.name]=void 0!==field.default?field.default:"":"number"===field.type?initialData[field.name]=void 0!==field.default?field.default:0:"boolean"===field.type?initialData[field.name]=void 0!==field.default&&field.default:"timestamp"===field.type?initialData[field.name]=void 0!==field.default?field.default:new Date:"array"===field.type||"assets"===field.type?initialData[field.name]=void 0!==field.default?field.default:[]:"map"===field.type&&(initialData[field.name]=void 0!==field.default?field.default:{})}),setSubcollectionNewDocData(ContentDetail_objectSpread(ContentDetail_objectSpread({},subcollectionNewDocData),{},defineProperty_defineProperty({},subcoll,initialData))),setSubcollectionAddDialogs(ContentDetail_objectSpread(ContentDetail_objectSpread({},subcollectionAddDialogs),{},defineProperty_defineProperty({},subcoll,!0)))}(subcoll)},text:formatMessage({id:"content.add_collection_item",defaultMessage:"Add {collectionName}"},{collectionName:getCollectionTitle(subcoll,{collections:schemaCollections})}),size:"small"})),react.createElement(material_Box_Box,{sx:{width:"100%",overflow:"auto","& .MuiTableContainer-root":{overflowX:"auto","&::-webkit-scrollbar":{height:8},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:4,"&:hover":{backgroundColor:"#a8a8a8"}}}}},react.createElement(content_ContentTable,{collection:concat_default()(_context42=concat_default()(_context43="".concat(collectionPath,"/")).call(_context43,document.id,"/")).call(_context42,subcoll),schema:schemaCollections[concat_default()(_context44="".concat(collectionPath,"/")).call(_context44,subcoll)]||[],onSelectDocument:function onSelectDocument(subdoc){var _context45,_context46,_context47;history.push(concat_default()(_context45=concat_default()(_context46=concat_default()(_context47="/content/".concat(collectionPath,"/")).call(_context47,document.id,"/")).call(_context46,subcoll,"/")).call(_context45,subdoc.id))},hideAddButton:!0,searchTerm:subcollectionDebouncedSearchTerms[subcoll]||""}))))})),react.createElement(Dialog_Dialog,{open:editDialogOpen,onClose:handleEditDialogClose,maxWidth:"md",fullWidth:!0,sx:{"& .MuiDialog-paper":{display:"flex",flexDirection:"column",maxHeight:"90vh"}}},react.createElement(DialogContent_DialogContent,{sx:{flex:1,overflow:"auto",px:3,py:0,backgroundColor:function backgroundColor(theme){return theme.palette.grey[50]}}},react.createElement(material_Box_Box,{sx:{pt:3,pb:2}},react.createElement(material_Typography_Typography,{variant:"h6",component:"div"},formatMessage({id:"content.edit_collection_item",defaultMessage:"Edit {collectionName}"},{collectionName:getCollectionTitle(collectionPath.split("/").pop()||"",{collections:schemaCollections})}))),react.createElement(material_Box_Box,{sx:{pb:2}},map_default()(orderedVisibleFields).call(orderedVisibleFields,function(field,index){return react.createElement(material_Box_Box,{key:field.name,sx:{mb:2,p:2.5,backgroundColor:"white",borderRadius:1,border:function border(theme){return"1px solid ".concat(theme.palette.grey[200])}}},renderFieldInput(field,documentData,handleFieldChange,{onBlur:handleFieldBlurWrapper,touchedFields,fieldErrors,onOpenReferenceSelector:handleOpenReferenceSelector,history,formatMessage,customFields}))}))),react.createElement(DialogActions_DialogActions,{sx:{flexShrink:0,pt:0,px:3,pb:3,backgroundColor:function backgroundColor(theme){return theme.palette.background.paper},position:"sticky",bottom:0,zIndex:1}},react.createElement(material_Button_Button,{onClick:handleEditDialogClose,color:"primary"},react.createElement(message,{id:"content.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleSave,color:"primary",variant:"contained",disabled:saving,startIcon:saving?react.createElement(material_CircularProgress_CircularProgress,{size:20,color:"inherit"}):react.createElement(Save.A,null)},react.createElement(message,{id:"content.save",defaultMessage:"Save"})))),map_default()(subcollections).call(subcollections,function(subcoll){var _context48,subcollectionSchema=schemaCollections[concat_default()(_context48="".concat(collectionPath,"/")).call(_context48,subcoll)]||{fields:[]},collectionFields=getSchemaFields(subcollectionSchema),visibleFields=getVisibleFields(collectionFields,subcollectionSchema);return react.createElement(common_FormDialog,{key:"add-".concat(subcoll),open:subcollectionAddDialogs[subcoll]||!1,onClose:function onClose(){return handleSubcollectionAddDialogClose(subcoll)},maxWidth:"md",title:formatMessage({id:"content.add_document_title",defaultMessage:"Add New Document"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:function onClick(){return handleSubcollectionAddDialogClose(subcoll)},color:"primary"},react.createElement(message,{id:"content.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:function onClick(){return handleSubcollectionAddDocument(subcoll)},color:"primary",variant:"contained"},react.createElement(message,{id:"content.add",defaultMessage:"Add"})))},react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:2,mt:1},map_default()(visibleFields).call(visibleFields,function(field){return react.createElement(material_Box_Box,{key:field.name,sx:{p:2.5,backgroundColor:"white",borderRadius:1,border:function border(theme){return"1px solid ".concat(theme.palette.grey[200])}}},renderFieldInput(field,subcollectionNewDocData[subcoll]||{},function(fieldName,value){return function handleSubcollectionFieldChange(subcoll,fieldName,value){var currentData=subcollectionNewDocData[subcoll]||{};setSubcollectionNewDocData(ContentDetail_objectSpread(ContentDetail_objectSpread({},subcollectionNewDocData),{},defineProperty_defineProperty({},subcoll,ContentDetail_objectSpread(ContentDetail_objectSpread({},currentData),{},defineProperty_defineProperty({},fieldName,value)))))}(subcoll,fieldName,value)},{onOpenReferenceSelector:handleOpenReferenceSelector,formatMessage,customFields}))})))}),react.createElement(Dialog_Dialog,{open:referenceSelectorOpen,onClose:handleCloseReferenceSelector,maxWidth:"md",fullWidth:!0},react.createElement(DialogTitle_DialogTitle,null,react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{component:"span"},formatMessage({id:"content.select_reference",defaultMessage:"Select {fieldLabel}"},{fieldLabel:(null==currentReferenceField?void 0:currentReferenceField.name)||"Reference"})),currentReferenceField&&react.createElement(material_Typography_Typography,{variant:"subtitle2",color:"textSecondary",component:"div"},"Field: ",currentReferenceField.name," "," ",currentReferenceField.referencePath))),react.createElement(DialogContent_DialogContent,{sx:{overflow:"visible"}},loadingReferences?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",p:4},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(material_Box_Box,null,react.createElement(material_Box_Box,{sx:{mb:2}},react.createElement(SearchField,{placeholder:"Search references...",value:referenceSearchTerm,onChange:setReferenceSearchTerm,size:"small"}),referenceOptions.length>0&&react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"}},filteredReferenceOptions.length," of"," ",referenceOptions.length," items",referenceSearchTerm&&' matching "'.concat(referenceSearchTerm,'"'))),react.createElement(List_List,{sx:{pt:0,maxHeight:400,overflow:"auto"}},filteredReferenceOptions.length>0?map_default()(_context49=instance_slice_default()(filteredReferenceOptions).call(filteredReferenceOptions,referencePage*referenceRowsPerPage,(referencePage+1)*referenceRowsPerPage)).call(_context49,function(doc){var _context50,_context51,_context52;return react.createElement(ListItem_ListItem,{key:concat_default()(_context50="".concat(doc._fullPath||"doc","-")).call(_context50,doc.id),disablePadding:!0},react.createElement(ListItemButton_ListItemButton,{onClick:function onClick(){return function handleSelectReference(selectedDoc){if(currentReferenceField){var segments,_context27,_context28;segments=selectedDoc._fullPath?concat_default()(_context27=selectedDoc._fullPath.split("/")).call(_context27,[selectedDoc.id]):concat_default()(_context28=currentReferenceField.referencePath.split("/")).call(_context28,[selectedDoc.id]);var referenceValue={id:selectedDoc.id,_path:{segments}};handleFieldChange(currentReferenceField.name,referenceValue),setReferenceSelectorOpen(!1),setCurrentReferenceField(null)}}(doc)}},react.createElement(ListItemText_ListItemText,{primary:currentReferenceField?react.createElement(ContentDetail_ReferenceOptionDisplay,{document:doc,referencePath:currentReferenceField.referencePath,schema}):doc.name||doc.title||doc.id,secondary:doc._parentName?concat_default()(_context51=concat_default()(_context52="ID: ".concat(doc.id,"  Parent: ")).call(_context52,doc._parentName," (")).call(_context51,doc._parentId,")"):"ID: ".concat(doc.id)})))}):referenceOptions.length>0?react.createElement(material_Typography_Typography,{variant:"body1",color:"textSecondary",sx:{p:2,textAlign:"center"}},"No items match your search"):react.createElement(material_Typography_Typography,{variant:"body1",color:"textSecondary",sx:{p:2,textAlign:"center"}},"No items found in the referenced collection")),filteredReferenceOptions.length>referenceRowsPerPage&&react.createElement(TablePagination_TablePagination,{component:"div",count:filteredReferenceOptions.length,page:referencePage,onPageChange:function handleReferencePageChange(event,newPage){setReferencePage(newPage)},rowsPerPage:referenceRowsPerPage,onRowsPerPageChange:function handleReferenceRowsPerPageChange(event){setReferenceRowsPerPage(parse_int_default()(event.target.value,10)),setReferencePage(0)},rowsPerPageOptions:[5,10,25,50],sx:{borderTop:1,borderColor:"divider"}}))),react.createElement(DialogActions_DialogActions,{sx:{pt:0,px:3,pb:3}},react.createElement(material_Button_Button,{onClick:handleCloseReferenceSelector},"Cancel"))))},ChevronLeft=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),ChevronRight=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");const common_SubMenuTabs=function SubMenuTabs(_ref){var tabs=_ref.tabs,currentValue=_ref.currentValue,onTabChange=_ref.onTabChange,_ref$enableScrollButt=_ref.enableScrollButtons,enableScrollButtons=void 0!==_ref$enableScrollButt&&_ref$enableScrollButt,tabsRef=(0,react.useRef)(null),_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),showScrollButtons=_useState2[0],setShowScrollButtons=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(0),2),scrollPosition=_useState4[0],setScrollPosition=_useState4[1];(0,react.useEffect)(function(){if(enableScrollButtons){var checkScrollable=function checkScrollable(){if(tabsRef.current){var _tabsRef$current=tabsRef.current,scrollWidth=_tabsRef$current.scrollWidth,clientWidth=_tabsRef$current.clientWidth;setShowScrollButtons(scrollWidth>clientWidth)}};return checkScrollable(),window.addEventListener("resize",checkScrollable),function(){return window.removeEventListener("resize",checkScrollable)}}},[tabs,enableScrollButtons]);return 0===tabs.length?null:react.createElement(material_Box_Box,{sx:{borderBottom:1,borderColor:"divider",backgroundColor:"#FFFFFF",position:"sticky",top:0,zIndex:1,display:"flex",alignItems:"center"}},enableScrollButtons&&showScrollButtons&&react.createElement(IconButton_IconButton,{onClick:function handleScrollLeft(){if(tabsRef.current){tabsRef.current.scrollBy({left:-200,behavior:"smooth"})}},disabled:scrollPosition<=0,sx:{minWidth:40,height:40,borderRadius:1,mx:1,"&:disabled":{opacity:.3}}},react.createElement(ChevronLeft,null)),react.createElement(material_Box_Box,{ref:tabsRef,onScroll:function handleScroll(){tabsRef.current&&setScrollPosition(tabsRef.current.scrollLeft)},sx:{flex:1,overflowX:enableScrollButtons?"auto":"visible",overflowY:"hidden",scrollbarWidth:enableScrollButtons?"none":"auto","&::-webkit-scrollbar":{display:enableScrollButtons?"none":"auto"}}},react.createElement(Tabs_Tabs,{value:currentValue||!1,onChange:onTabChange,variant:enableScrollButtons?"scrollable":"standard",scrollButtons:!1,allowScrollButtonsMobile:!1,sx:{minHeight:48,"& .MuiTabs-flexContainer":{minHeight:48},"& .MuiTab-root":{minHeight:48,textTransform:"none",fontWeight:500,fontSize:"0.875rem",color:"#757575",paddingX:3,paddingY:1,minWidth:"auto","&.Mui-selected":{color:"#FF6B35",fontWeight:600}},"& .MuiTabs-indicator":{backgroundColor:"#FF6B35",height:3,borderRadius:"3px 3px 0 0"}}},map_default()(tabs).call(tabs,function(tab){return react.createElement(Tab_Tab,{key:tab.value,value:tab.value,label:tab.label})}))),enableScrollButtons&&showScrollButtons&&react.createElement(IconButton_IconButton,{onClick:function handleScrollRight(){if(tabsRef.current){tabsRef.current.scrollBy({left:200,behavior:"smooth"})}},sx:{minWidth:40,height:40,borderRadius:1,mx:1}},react.createElement(ChevronRight,null)))};var ContentTabs_getCollectionTitle=function getCollectionTitle(collectionName){var _schema$collectionNam,_context,schema=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==(_schema$collectionNam=schema[collectionName])&&void 0!==_schema$collectionNam&&_schema$collectionNam.title?schema[collectionName].title:map_default()(_context=collectionName.split("_")).call(_context,function(word){return word.charAt(0).toUpperCase()+instance_slice_default()(word).call(word,1)}).join(" ")};const content_ContentTabs=function ContentTabs(_ref){var _fireengineConfig,schema=_ref.schema,currentCollection=_ref.currentCollection,history=react_router_useHistory(),user=auth_hooks_useAuth().user,config=app_hooks_useApp().config,roles=roles_hooks_useRoles().roles,ownerEmail=null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig?void 0:_fireengineConfig.ownerEmail,getAllCollections=function getAllCollections(){return function getRootCollections(schema){var _context2,_context3;return sort_default()(_context2=filter_default()(_context3=keys_default()((null==schema?void 0:schema.collections)||{})).call(_context3,function(key){return!includes_default()(key).call(key,"/")})).call(_context2)}(schema)},collections=function getFilteredCollections(){var allCollections=getAllCollections();return!0!==(null==config?void 0:config.useFirestoreAccessRules)&&user?filter_default()(allCollections).call(allCollections,function(collection){return canAccessCollection(user,collection,"read",roles,ownerEmail)}):allCollections}(),tabs=map_default()(collections).call(collections,function(collection){return{value:collection,label:ContentTabs_getCollectionTitle(collection,schema)}});return react.createElement(common_SubMenuTabs,{tabs,currentValue:currentCollection,onTabChange:function handleTabChange(event,newValue){history.push("/content/".concat(newValue))},enableScrollButtons:!0})};const content_FirestorePermissionsInfo=function FirestorePermissionsInfo(_ref){var open=_ref.open,onClose=_ref.onClose;return react.createElement(Dialog_Dialog,{open,onClose,maxWidth:"md",fullWidth:!0},react.createElement(DialogTitle_DialogTitle,null,react.createElement(message,{id:"content.permissions_info.title",defaultMessage:"Firestore Permissions"})),react.createElement(DialogContent_DialogContent,null,react.createElement(material_Typography_Typography,{paragraph:!0},react.createElement(message,{id:"content.permissions_info.description",defaultMessage:"To use the Content Management System, you need to set up proper Firestore security rules. Here's how to do it:"})),react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},react.createElement(message,{id:"content.permissions_info.rules_title",defaultMessage:"Example Security Rules"})),react.createElement(material_Box_Box,{component:"pre",sx:{bgcolor:"grey.100",p:2,borderRadius:1,overflowX:"auto",mb:3}},"rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Allow authenticated users to read all documents\n    match /{document=**} {\n      allow read: if request.auth != null;\n    }\n    \n    // Allow authenticated users to write to collections they have access to\n    match /{collection}/{documentId} {\n      allow write: if request.auth != null && \n                    (collection == 'users' && request.auth.uid == documentId);\n    }\n    \n    // You can add more specific rules for different collections\n    match /articles/{articleId} {\n      allow write: if request.auth != null && \n                    (request.auth.token.admin == true || \n                     request.resource.data.authorId == request.auth.uid);\n    }\n  }\n}"),react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},react.createElement(message,{id:"content.permissions_info.setup_title",defaultMessage:"How to Configure Rules"})),react.createElement("ol",null,react.createElement("li",null,react.createElement(material_Typography_Typography,{paragraph:!0},react.createElement(message,{id:"content.permissions_info.setup_step1",defaultMessage:"Go to the Firebase Console for your project"}))),react.createElement("li",null,react.createElement(material_Typography_Typography,{paragraph:!0},react.createElement(message,{id:"content.permissions_info.setup_step2",defaultMessage:"Navigate to Firestore Database > Rules"}))),react.createElement("li",null,react.createElement(material_Typography_Typography,{paragraph:!0},react.createElement(message,{id:"content.permissions_info.setup_step3",defaultMessage:"Edit the rules to match your security requirements"}))),react.createElement("li",null,react.createElement(material_Typography_Typography,{paragraph:!0},react.createElement(message,{id:"content.permissions_info.setup_step4",defaultMessage:"Publish the rules"})))),react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},react.createElement(message,{id:"content.permissions_info.custom_claims",defaultMessage:"Using Custom Claims for Admin Access"})),react.createElement(material_Typography_Typography,{paragraph:!0},react.createElement(message,{id:"content.permissions_info.custom_claims_description",defaultMessage:"To give certain users admin privileges, you can set custom claims in Firebase Authentication. This requires setting up a Firebase Admin SDK function to set the claims."})),react.createElement(material_Box_Box,{component:"pre",sx:{bgcolor:"grey.100",p:2,borderRadius:1,overflowX:"auto"}},"// Example Firebase Function to set admin claim\nexports.setAdmin = functions.https.onCall(async (data, context) => {\n  // Check if the request is made by an admin\n  if (!context.auth.token.admin) {\n    throw new functions.https.HttpsError('permission-denied', 'Only admins can set admin status');\n  }\n  \n  // Set the admin claim\n  await admin.auth().setCustomUserClaims(data.uid, { admin: data.isAdmin });\n  \n  return { success: true };\n});")),react.createElement(DialogActions_DialogActions,{sx:{pt:0,px:3,pb:3}},react.createElement(material_Button_Button,{onClick:onClose,color:"primary"},react.createElement(message,{id:"content.permissions_info.close",defaultMessage:"Close"}))))};function getLinkUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiLink",slot)}const Link_linkClasses=(0,generateUtilityClasses.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var esm_style=__webpack_require__(86481);const getTextDecoration_colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Link_getTextDecoration=({theme,ownerState})=>{const transformedColor=(color=>getTextDecoration_colorTransformations[color]||color)(ownerState.color),color=(0,esm_style.Yn)(theme,`palette.${transformedColor}`,!1)||ownerState.color,channelColor=(0,esm_style.Yn)(theme,`palette.${transformedColor}Channel`);return"vars"in theme&&channelColor?`rgba(${channelColor} / 0.4)`:(0,colorManipulator.X4)(color,.4)},Link_excluded=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],LinkRoot=(0,styled.Ay)(material_Typography_Typography,{name:"MuiLink",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`underline${(0,capitalize.A)(ownerState.underline)}`],"button"===ownerState.component&&styles.button]}})(({theme,ownerState})=>(0,esm_extends.A)({},"none"===ownerState.underline&&{textDecoration:"none"},"hover"===ownerState.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===ownerState.underline&&(0,esm_extends.A)({textDecoration:"underline"},"inherit"!==ownerState.color&&{textDecorationColor:Link_getTextDecoration({theme,ownerState})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===ownerState.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Link_linkClasses.focusVisible}`]:{outline:"auto"}})),Link_Link=react.forwardRef(function Link(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiLink"}),{className,color="primary",component="a",onBlur,onFocus,TypographyClasses,underline="always",variant="inherit",sx}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Link_excluded),{isFocusVisibleRef,onBlur:handleBlurVisible,onFocus:handleFocusVisible,ref:focusVisibleRef}=(0,useIsFocusVisible.A)(),[focusVisible,setFocusVisible]=react.useState(!1),handlerRef=(0,utils_useForkRef.A)(ref,focusVisibleRef),ownerState=(0,esm_extends.A)({},props,{color,component,focusVisible,underline,variant}),classes=(ownerState=>{const{classes,component,focusVisible,underline}=ownerState,slots={root:["root",`underline${(0,capitalize.A)(underline)}`,"button"===component&&"button",focusVisible&&"focusVisible"]};return(0,composeClasses.A)(slots,getLinkUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(LinkRoot,(0,esm_extends.A)({color,className:(0,clsx.A)(classes.root,className),classes:TypographyClasses,component,onBlur:event=>{handleBlurVisible(event),!1===isFocusVisibleRef.current&&setFocusVisible(!1),onBlur&&onBlur(event)},onFocus:event=>{handleFocusVisible(event),!0===isFocusVisibleRef.current&&setFocusVisible(!0),onFocus&&onFocus(event)},ref:handlerRef,ownerState,variant,sx:[...Object.keys(getTextDecoration_colorTransformations).includes(color)?[]:[{color}],...Array.isArray(sx)?sx:[sx]]},other))}),material_Link_Link=Link_Link;const common_NavigationBreadcrumbs=function NavigationBreadcrumbs(_ref){var items=_ref.items,sx=_ref.sx;return react.createElement(Breadcrumbs_Breadcrumbs,{separator:react.createElement(NavigateNext.A,{fontSize:"small"}),"aria-label":"breadcrumb",sx},map_default()(items).call(items,function(item,index){return index===items.length-1?react.createElement(material_Typography_Typography,{key:index,color:"text.primary"},item.label):react.createElement(material_Link_Link,{key:index,component:"button",variant:"body1",onClick:item.onClick,underline:"hover",sx:{border:"none",background:"none",padding:0,cursor:"pointer",color:"inherit"}},item.label)}))};var useSearch=function useSearch(){var paramName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"search",history=react_router_useHistory(),location=useLocation(),getSearchFromUrl=(0,react.useCallback)(function(){return new(url_search_params_default())(location.search).get(paramName)||""},[location.search,paramName]),_useState2=slicedToArray_slicedToArray((0,react.useState)(getSearchFromUrl),2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];(0,react.useEffect)(function(){var urlSearchTerm=getSearchFromUrl();urlSearchTerm!==searchTerm&&setSearchTerm(urlSearchTerm)},[getSearchFromUrl,searchTerm]);var updateSearchInUrl=(0,react.useCallback)(function(term){var _context,_context2,searchParams=new(url_search_params_default())(location.search);trim_default()(term).call(term)?searchParams.set(paramName,trim_default()(term).call(term)):searchParams.delete(paramName);var newSearch=searchParams.toString(),newUrl=concat_default()(_context="".concat(location.pathname)).call(_context,newSearch?"?".concat(newSearch):"");newUrl!==concat_default()(_context2="".concat(location.pathname)).call(_context2,location.search)&&history.replace(newUrl)},[history,location.pathname,location.search,paramName]),handleSearchChange=(0,react.useCallback)(function(term){setSearchTerm(term),updateSearchInUrl(term)},[updateSearchInUrl]),clearSearch=(0,react.useCallback)(function(){handleSearchChange("")},[handleSearchChange]),filterItems=(0,react.useCallback)(function(items){var _context3,searchFields=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!trim_default()(searchTerm).call(searchTerm))return items;var term=trim_default()(_context3=searchTerm.toLowerCase()).call(_context3);return filter_default()(items).call(items,function(item){var fieldsToSearch=searchFields.length>0?searchFields:["name","title","displayName","email","id"];return some_default()(fieldsToSearch).call(fieldsToSearch,function(field){var _context4,_context5,_context6,value=item[field];return null!=value&&("string"==typeof value?includes_default()(_context4=value.toLowerCase()).call(_context4,term):"number"==typeof value?includes_default()(_context5=value.toString()).call(_context5,term):"object"===_typeof(value)&&includes_default()(_context6=stringify_default()(value).toLowerCase()).call(_context6,term))})})},[searchTerm]);return{searchTerm,setSearchTerm:handleSearchChange,clearSearch,filterItems,hasSearch:Boolean(trim_default()(searchTerm).call(searchTerm))}};function ContentPage_createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function ContentPage_unsupportedIterableToArray(r,a){if(r){var _context38;if("string"==typeof r)return ContentPage_arrayLikeToArray(r,a);var t=instance_slice_default()(_context38={}.toString.call(r)).call(_context38,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ContentPage_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function ContentPage_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function ContentPage_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function ContentPage_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context36,_context37,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context36=ContentPage_ownKeys(Object(t),!0)).call(_context36,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context37=ContentPage_ownKeys(Object(t))).call(_context37,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var ContentPage_getCollectionTitle=getCollectionTitle,ContentPage_getDocumentTitle=function getDocumentTitle(document,collectionName){var _collections$collecti3,schema=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},titleTemplate=null===(_collections$collecti3=((null==schema?void 0:schema.collections)||schema||{})[collectionName])||void 0===_collections$collecti3?void 0:_collections$collecti3.titleTemplate;if(titleTemplate&&document)try{return titleTemplate.replace(/\$\{([^}]+)\}/g,function(match,fieldName){var value=document[trim_default()(fieldName).call(fieldName)];return null!=value?String(value):match})}catch(error){console.warn("Error processing titleTemplate:",error)}return document.name||document.title||document.id},ContentPage_formatCollectionName=function formatCollectionName(name){return ContentPage_getCollectionTitle(name,{})},ContentPage_getRootCollections=function getRootCollections(schema){var _context2,_context3;return sort_default()(_context2=filter_default()(_context3=keys_default()((null==schema?void 0:schema.collections)||{})).call(_context3,function(key){return!includes_default()(key).call(key,"/")})).call(_context2)},ContentPage_extractReferenceValue=function extractReferenceValue(value){return null==value||"[object Object]"===value?"":"string"==typeof value?value:"object"!==_typeof(value)?String(value):value.path?String(value.path):value._path&&value._path.segments?value._path.segments.join("/"):value.id&&value._path?String(value.id):value.parent&&value.id?concat_default()(_context5="".concat(value.parent.path||value.parent.id,"/")).call(_context5,value.id):value._delegate&&value._delegate._path?value._delegate._path.segments.join("/"):value.id?String(value.id):"[Reference]";var _context5},exportToCSV=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(collectionPath,schema,formatMessage){var useFirestoreRules,_context6,_context8,_context9,_context0,response,documents,allFields,visibleFields,headers,rows,csvContent,blob,link,url,filename,_t,_args=arguments;return regenerator_default().wrap(function(_context1){for(;;)switch(_context1.prev=_context1.next){case 0:return useFirestoreRules=_args.length>3&&void 0!==_args[3]&&_args[3],_context1.prev=1,_context1.next=2,getDocuments(collectionPath,useFirestoreRules,{limit:1e4});case 2:if(response=_context1.sent,0!==(documents=array_is_array_default()(response)?response:response.docs||[]).length){_context1.next=3;break}return react_toastify_esm_Q.info("No documents to export"),_context1.abrupt("return");case 3:allFields=getSchemaFields(schema),visibleFields=getVisibleFields(allFields,schema),headers=concat_default()(_context6=["ID"]).call(_context6,_toConsumableArray(map_default()(visibleFields).call(visibleFields,function(field){return getFieldTitle(field)}))),rows=map_default()(documents).call(documents,function(doc){var row=[doc.id];return for_each_default()(visibleFields).call(visibleFields,function(field){var value=doc[field.name];if(null==value)row.push("");else if("timestamp"===field.type&&value)row.push(formatTimestampWithTime(value));else if("reference"===field.type&&value)row.push(ContentPage_extractReferenceValue(value));else if("assets"===field.type&&value)if(array_is_array_default()(value)){var fileNames=map_default()(value).call(value,function(asset){return"string"==typeof asset?asset.split("/").pop()||asset:asset&&asset.name?asset.name:asset&&asset.url?asset.url.split("/").pop()||asset.url:String(asset)});row.push(fileNames.join(", "))}else"string"==typeof value?row.push(value.split("/").pop()||value):value.name?row.push(value.name):row.push(String(value));else if("map"===field.type&&value&&"object"===_typeof(value))row.push(stringify_default()(value).replace(/"/g,'""'));else if("geoPoint"===field.type&&value){var _ref3,_value$latitude,_ref4,_value$longitude,_context7,lat=null!==(_ref3=null!==(_value$latitude=value.latitude)&&void 0!==_value$latitude?_value$latitude:value._latitude)&&void 0!==_ref3?_ref3:"unknown",lng=null!==(_ref4=null!==(_value$longitude=value.longitude)&&void 0!==_value$longitude?_value$longitude:value._longitude)&&void 0!==_ref4?_ref4:"unknown";row.push(concat_default()(_context7="".concat(lat,", ")).call(_context7,lng))}else"array"===field.type&&array_is_array_default()(value)?row.push(map_default()(value).call(value,function(item){return"object"===_typeof(item)&&null!==item?"reference"===field.type?ContentPage_extractReferenceValue(item):stringify_default()(item).replace(/"/g,'""'):String(item)}).join("; ")):"object"===_typeof(value)&&null!==value?row.push(stringify_default()(value).replace(/"/g,'""')):row.push(String(value).replace(/"/g,'""'))}),row}),csvContent=map_default()(_context8=concat_default()(_context9=[headers]).call(_context9,_toConsumableArray(rows))).call(_context8,function(row){return map_default()(row).call(row,function(cell){return'"'.concat(cell,'"')}).join(",")}).join("\n"),blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a"),url=url_default().createObjectURL(blob),link.setAttribute("href",url),filename=concat_default()(_context0="".concat(collectionPath.replace(/\//g,"_"),"_export_")).call(_context0,(new Date).toISOString().split("T")[0],".csv"),link.setAttribute("download",filename),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),react_toastify_esm_Q.success(formatMessage({id:"content.export_success",defaultMessage:"CSV export completed successfully"})),_context1.next=5;break;case 4:_context1.prev=4,_t=_context1.catch(1),console.error("CSV export error:",_t),react_toastify_esm_Q.error(formatMessage({id:"content.export_failed",defaultMessage:"Failed to export CSV"}));case 5:case"end":return _context1.stop()}},_callee,null,[[1,4]])}));return function exportToCSV(_x,_x2,_x3){return _ref2.apply(this,arguments)}}(),CollectionView=function CollectionView(_ref5){var _fireengineConfig2,schema=_ref5.schema,match=_ref5.match,setPermissionsInfoOpen=(_ref5.permissionsInfoOpen,_ref5.setPermissionsInfoOpen),useFirestoreRules=_ref5.useFirestoreRules,collectionName=(_ref5.isMobile,(match?match.params:react_router_useParams()).collectionName),history=react_router_useHistory(),formatMessage=useIntl().formatMessage,config=app_hooks_useApp().config,user=auth_hooks_useAuth().user,roles=roles_hooks_useRoles().roles,ownerEmail=null===(_fireengineConfig2=window.fireengineConfig)||void 0===_fireengineConfig2?void 0:_fireengineConfig2.ownerEmail,_useSearch=useSearch("search"),searchTerm=_useSearch.searchTerm,setSearchTerm=_useSearch.setSearchTerm,_useState6=(_useSearch.clearSearch,_useSearch.filterItems,slicedToArray_slicedToArray((0,react.useState)(""),2)),debouncedSearchTerm=_useState6[0],setDebouncedSearchTerm=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),addDialogOpen=_useState8[0],setAddDialogOpen=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)({}),2),newDocData=_useState0[0],setNewDocData=_useState0[1],schemaCollections=(null==schema?void 0:schema.collections)||schema||{},collectionSchema=schemaCollections[collectionName]||{fields:[]},collectionFields=getSchemaFields(collectionSchema),_useFormValidation=useFormValidation(formatMessage,collectionFields),touchedFields=_useFormValidation.touchedFields,fieldErrors=_useFormValidation.fieldErrors,validateRequiredFields=_useFormValidation.validateRequiredFields,handleFieldBlur=_useFormValidation.handleFieldBlur,clearFieldError=_useFormValidation.clearFieldError,markAllRequiredFieldsAsTouched=_useFormValidation.markAllRequiredFieldsAsTouched,resetValidation=_useFormValidation.resetValidation,canWriteToCollection=!(!useFirestoreRules&&user)||canAccessCollection(user,collectionName,"write",roles,ownerEmail),handleAddDialogClose=function handleAddDialogClose(){setAddDialogOpen(!1),resetValidation()},handleAddDocument=function(){var _ref7=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var missingFields,_t2;return regenerator_default().wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(_context10.prev=0,!((missingFields=validateRequiredFields(newDocData)).length>0)){_context10.next=1;break}return markAllRequiredFieldsAsTouched(newDocData),console.error(formatMessage({id:"content.validation.cannot_add_missing_fields",defaultMessage:"Cannot add document. Missing required fields: {fields}"},{fields:missingFields.join(", ")})),_context10.abrupt("return");case 1:return _context10.next=2,addDocument(collectionName,newDocData,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:setAddDialogOpen(!1),window.location.reload(),_context10.next=4;break;case 3:_context10.prev=3,_t2=_context10.catch(0),console.error("Error adding document to ".concat(collectionName,":"),_t2);case 4:case"end":return _context10.stop()}},_callee2,null,[[0,3]])}));return function handleAddDocument(){return _ref7.apply(this,arguments)}}();return schemaCollections[collectionName]?react.createElement(Container_Container,{maxWidth:!1,sx:{py:3}},react.createElement(material_Box_Box,{sx:{mb:3}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,minHeight:40}},react.createElement(SearchField,{placeholder:"Search ".concat(ContentPage_getCollectionTitle(collectionName,schema)),size:"small",value:searchTerm,onChange:setSearchTerm,onDebouncedChange:setDebouncedSearchTerm}),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,flexShrink:0}},canDownloadCollection(collectionName,schema)&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"content.export_csv",defaultMessage:"Export to CSV"})},react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return exportToCSV(collectionName,schemaCollections[collectionName],formatMessage,!0===(null==config?void 0:config.useFirestoreAccessRules))},sx:{width:40,height:40,minWidth:40,borderRadius:5,p:0}},react.createElement(Download.A,null))),useFirestoreRules&&react.createElement(material_Button_Button,{startIcon:react.createElement(Help.A,null),onClick:function onClick(){return setPermissionsInfoOpen(!0)},variant:"outlined",sx:{borderRadius:2,textTransform:"none"}},react.createElement(message,{id:"content.permissions",defaultMessage:"Permissions"})),canWriteToCollection&&react.createElement(AddButton,{onClick:function handleAddDialogOpen(){var initialData={},visibleFields=getVisibleFields(collectionFields,collectionSchema);visibleFields.length>0&&for_each_default()(visibleFields).call(visibleFields,function(field){"string"===field.type?initialData[field.name]=void 0!==field.default?field.default:"":"number"===field.type?initialData[field.name]=void 0!==field.default?field.default:0:"boolean"===field.type?initialData[field.name]=void 0!==field.default&&field.default:"timestamp"===field.type?initialData[field.name]=void 0!==field.default?field.default:new Date:"array"===field.type?initialData[field.name]=void 0!==field.default?field.default:[]:"map"===field.type&&(initialData[field.name]=void 0!==field.default?field.default:{})}),setNewDocData(initialData),setAddDialogOpen(!0)},text:formatMessage({id:"content.add_collection_item",defaultMessage:"Add {collectionName}"},{collectionName:ContentPage_getCollectionTitle(collectionName,schema)}),size:"small"})))),react.createElement(content_ContentTable,{collection:collectionName,schema:schemaCollections[collectionName],onSelectDocument:function onSelectDocument(document){var _context11;history.push(concat_default()(_context11="/content/".concat(collectionName,"/")).call(_context11,document.id))},hideAddButton:!0,searchTerm:debouncedSearchTerm}),react.createElement(common_FormDialog,{open:addDialogOpen,onClose:handleAddDialogClose,maxWidth:"md",title:formatMessage({id:"content.add_document_title",defaultMessage:"Add New Document"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:handleAddDialogClose,color:"primary"},react.createElement(message,{id:"content.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleAddDocument,color:"primary",variant:"contained"},react.createElement(message,{id:"content.add",defaultMessage:"Add"})))},react.createElement(material_Box_Box,{mt:1},react.createElement(DocumentForm,{fields:collectionFields,schema:collectionSchema,data:newDocData,onChange:function handleFieldChange(fieldName,value){setNewDocData(ContentPage_objectSpread(ContentPage_objectSpread({},newDocData),{},defineProperty_defineProperty({},fieldName,value))),clearFieldError(fieldName)},onBlur:function handleFieldBlurWrapper(fieldName){handleFieldBlur(fieldName,newDocData)},touchedFields,fieldErrors,showValidation:!0})))):react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.collection_not_found",defaultMessage:"Collection Not Found"})),react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"content.collection_not_found_message",defaultMessage:"The collection '{collectionName}' does not exist.",values:{collectionName}})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){return history.push("/content")}},react.createElement(message,{id:"content.back_to_collections",defaultMessage:"Back to Collections"})))},SubcollectionView=function SubcollectionView(_ref1){var _fireengineConfig3,_context14,_context15,_context16,_context17,_context18,_context24,_context25,_context28,_context29,schema=_ref1.schema,match=_ref1.match,_ref10=match?match.params:react_router_useParams(),collectionName=_ref10.collectionName,documentId=_ref10.documentId,subcollectionName=_ref10.subcollectionName,history=react_router_useHistory(),formatMessage=useIntl().formatMessage,_useState16=slicedToArray_slicedToArray((0,react.useState)(null),2),parentDocument=_useState16[0],setParentDocument=_useState16[1],_useState18=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState18[0],setLoading=_useState18[1],_useState20=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState20[0],setError=_useState20[1],config=app_hooks_useApp().config,user=auth_hooks_useAuth().user,roles=roles_hooks_useRoles().roles,ownerEmail=(useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),null===(_fireengineConfig3=window.fireengineConfig)||void 0===_fireengineConfig3?void 0:_fireengineConfig3.ownerEmail),_useSearch2=useSearch("search"),searchTerm=_useSearch2.searchTerm,setSearchTerm=_useSearch2.setSearchTerm,_useState22=(_useSearch2.clearSearch,slicedToArray_slicedToArray((0,react.useState)(""),2)),debouncedSearchTerm=_useState22[0],setDebouncedSearchTerm=_useState22[1],useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules),subcollectionSchemaKey=concat_default()(_context14="".concat(collectionName,"/")).call(_context14,subcollectionName),fullPathSchemaKey=concat_default()(_context15=concat_default()(_context16="".concat(collectionName,"/")).call(_context16,documentId,"/")).call(_context15,subcollectionName),schemaCollections=(null==schema?void 0:schema.collections)||schema||{},hasSubcollection=!!schemaCollections[subcollectionSchemaKey]||!!schemaCollections[fullPathSchemaKey],subcollectionSchema=schemaCollections[subcollectionSchemaKey]||schemaCollections[fullPathSchemaKey],subcollectionPath=concat_default()(_context17=concat_default()(_context18="".concat(collectionName,"/")).call(_context18,documentId,"/")).call(_context17,subcollectionName),canWriteToCollection=!(!useFirestoreRules&&user)||canAccessCollection(user,subcollectionPath,"write",roles,ownerEmail),_useState24=slicedToArray_slicedToArray((0,react.useState)(!1),2),addDialogOpen=_useState24[0],setAddDialogOpen=_useState24[1],_useState26=slicedToArray_slicedToArray((0,react.useState)({}),2),newDocData=_useState26[0],setNewDocData=_useState26[1],collectionFields=getSchemaFields(subcollectionSchema||{fields:[]}),_useFormValidation2=useFormValidation(formatMessage,collectionFields),touchedFields=_useFormValidation2.touchedFields,fieldErrors=_useFormValidation2.fieldErrors,validateRequiredFields=_useFormValidation2.validateRequiredFields,handleFieldBlur=_useFormValidation2.handleFieldBlur,clearFieldError=_useFormValidation2.clearFieldError,markAllRequiredFieldsAsTouched=_useFormValidation2.markAllRequiredFieldsAsTouched,resetValidation=_useFormValidation2.resetValidation;(0,react.useEffect)(function(){var fetchParentDocument=function(){var _ref11=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(){var doc,_context19,_t4;return regenerator_default().wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return _context20.prev=0,setLoading(!0),_context20.next=1,firebase_utils_getDocument(collectionName,documentId,!0===(null==config?void 0:config.useFirestoreAccessRules));case 1:doc=_context20.sent,setParentDocument(doc),_context20.next=3;break;case 2:_context20.prev=2,_t4=_context20.catch(0),console.error(concat_default()(_context19="Error fetching parent document ".concat(documentId," from ")).call(_context19,collectionName,":"),_t4),setError("Failed to load parent document. ".concat(_t4.message||"Unknown error"));case 3:return _context20.prev=3,setLoading(!1),_context20.finish(3);case 4:case"end":return _context20.stop()}},_callee4,null,[[0,2,3,4]])}));return function fetchParentDocument(){return _ref11.apply(this,arguments)}}();fetchParentDocument()},[collectionName,documentId,config]);var handleAddDialogClose=function handleAddDialogClose(){setAddDialogOpen(!1),resetValidation()},handleAddDocument=function(){var _ref12=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(){var missingFields,_t5;return regenerator_default().wrap(function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:if(_context21.prev=0,!((missingFields=validateRequiredFields(newDocData)).length>0)){_context21.next=1;break}return markAllRequiredFieldsAsTouched(newDocData),console.error(formatMessage({id:"content.validation.cannot_add_missing_fields",defaultMessage:"Cannot add document. Missing required fields: {fields}"},{fields:missingFields.join(", ")})),_context21.abrupt("return");case 1:return _context21.next=2,addDocument(subcollectionPath,newDocData,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:setAddDialogOpen(!1),window.location.reload(),_context21.next=4;break;case 3:_context21.prev=3,_t5=_context21.catch(0),console.error("Error adding document to ".concat(subcollectionPath,":"),_t5);case 4:case"end":return _context21.stop()}},_callee5,null,[[0,3]])}));return function handleAddDocument(){return _ref12.apply(this,arguments)}}();return loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},react.createElement(material_CircularProgress_CircularProgress,null)):error||!parentDocument?react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.document_not_found",defaultMessage:"Document Not Found"})),react.createElement(material_Typography_Typography,{variant:"body1"},error||react.createElement(message,{id:"content.document_not_found_message",defaultMessage:"The document with ID '{documentId}' was not found in collection '{collectionName}'.",values:{documentId,collectionName}})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){return history.push("/content/".concat(collectionName))}},react.createElement(message,{id:"content.back_to_collection",defaultMessage:"Back to Collection"}))):hasSubcollection?react.createElement(react.Fragment,null,react.createElement(common_NavigationBreadcrumbs,{items:[{label:ContentPage_formatCollectionName(collectionName),onClick:function onClick(){return history.push("/content/".concat(collectionName))}},{label:parentDocument.name||parentDocument.title||documentId,onClick:function onClick(){var _context23;return history.push(concat_default()(_context23="/content/".concat(collectionName,"/")).call(_context23,documentId))}},{label:ContentPage_formatCollectionName(subcollectionName)}],sx:{mb:2,pl:3,pt:2}}),react.createElement(Container_Container,{maxWidth:!1,sx:{py:3}},react.createElement(material_Box_Box,{sx:{mb:3}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,minHeight:40}},react.createElement(SearchField,{placeholder:"Search ".concat(ContentPage_getCollectionTitle(subcollectionName,schema)),size:"small",value:searchTerm,onChange:setSearchTerm,onDebouncedChange:setDebouncedSearchTerm}),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,flexShrink:0}},canDownloadCollection(concat_default()(_context24=concat_default()(_context25="".concat(collectionName,"/")).call(_context25,documentId,"/")).call(_context24,subcollectionName),schema)&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"content.export_csv",defaultMessage:"Export to CSV"})},react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){var _context26,_context27;return exportToCSV(concat_default()(_context26=concat_default()(_context27="".concat(collectionName,"/")).call(_context27,documentId,"/")).call(_context26,subcollectionName),schemaCollections[subcollectionSchemaKey]||schemaCollections[fullPathSchemaKey],formatMessage,!0===(null==config?void 0:config.useFirestoreAccessRules))},sx:{width:40,height:40,minWidth:40,borderRadius:5,p:0}},react.createElement(Download.A,null))),useFirestoreRules&&react.createElement(material_Button_Button,{startIcon:react.createElement(Help.A,null),onClick:function onClick(){},variant:"outlined",sx:{borderRadius:2,textTransform:"none"}},react.createElement(message,{id:"content.permissions",defaultMessage:"Permissions"})),canWriteToCollection&&react.createElement(AddButton,{onClick:function handleAddDialogOpen(){var initialData={},visibleFields=getVisibleFields(collectionFields,subcollectionSchema||{fields:[]});visibleFields.length>0&&for_each_default()(visibleFields).call(visibleFields,function(field){"string"===field.type?initialData[field.name]=void 0!==field.default?field.default:"":"number"===field.type?initialData[field.name]=void 0!==field.default?field.default:0:"boolean"===field.type?initialData[field.name]=void 0!==field.default&&field.default:"timestamp"===field.type?initialData[field.name]=void 0!==field.default?field.default:new Date:"array"===field.type?initialData[field.name]=void 0!==field.default?field.default:[]:"map"===field.type&&(initialData[field.name]=void 0!==field.default?field.default:{})}),setNewDocData(initialData),setAddDialogOpen(!0)},text:formatMessage({id:"content.add_collection_item",defaultMessage:"Add {collectionName}"},{collectionName:ContentPage_getCollectionTitle(subcollectionName,schema)}),size:"small"})))),react.createElement(content_ContentTable,{collection:concat_default()(_context28=concat_default()(_context29="".concat(collectionName,"/")).call(_context29,documentId,"/")).call(_context28,subcollectionName),schema:subcollectionSchema,onSelectDocument:function onSelectDocument(subdoc){var _context30,_context31,_context32;history.push(concat_default()(_context30=concat_default()(_context31=concat_default()(_context32="/content/".concat(collectionName,"/")).call(_context32,documentId,"/")).call(_context31,subcollectionName,"/")).call(_context30,subdoc.id))},hideAddButton:!0,searchTerm:debouncedSearchTerm}),react.createElement(common_FormDialog,{open:addDialogOpen,onClose:handleAddDialogClose,maxWidth:"md",title:formatMessage({id:"content.add_document_title",defaultMessage:"Add New Document"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:handleAddDialogClose,color:"primary"},react.createElement(message,{id:"content.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleAddDocument,color:"primary",variant:"contained"},react.createElement(message,{id:"content.add",defaultMessage:"Add"})))},react.createElement(material_Box_Box,{mt:1},react.createElement(DocumentForm,{fields:collectionFields,schema:subcollectionSchema||{fields:[]},data:newDocData,onChange:function handleFieldChange(fieldName,value){setNewDocData(ContentPage_objectSpread(ContentPage_objectSpread({},newDocData),{},defineProperty_defineProperty({},fieldName,value))),clearFieldError(fieldName)},onBlur:function handleFieldBlurWrapper(fieldName){handleFieldBlur(fieldName,newDocData)},touchedFields,fieldErrors,showValidation:!0}))))):react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.subcollection_not_found",defaultMessage:"Subcollection Not Found"})),react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"content.subcollection_not_found_message",defaultMessage:"The subcollection '{subcollectionName}' does not exist for this document.",values:{subcollectionName}})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){var _context22;return history.push(concat_default()(_context22="/content/".concat(collectionName,"/")).call(_context22,documentId))}},react.createElement(message,{id:"content.back_to_document",defaultMessage:"Back to Document"})))},DocumentViewByPath=function DocumentViewByPath(_ref13){for(var schema=_ref13.schema,history=(_ref13.match,react_router_useHistory()),location=useLocation(),_useState28=slicedToArray_slicedToArray((0,react.useState)(null),2),document=_useState28[0],setDocument=_useState28[1],_useState30=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState30[0],setLoading=_useState30[1],_useState32=slicedToArray_slicedToArray((0,react.useState)(null),2),error=_useState32[0],setError=_useState32[1],config=app_hooks_useApp().config,path=location.pathname.replace(/^\/content\//,""),pathSegments=path.split("/"),isValidPath=pathSegments.length>=2&&pathSegments.length%2==0,fullCollectionPath=instance_slice_default()(pathSegments).call(pathSegments,0,-1).join("/"),documentId=pathSegments[pathSegments.length-1],_useState34=slicedToArray_slicedToArray((0,react.useState)({}),2),documentTitles=_useState34[0],setDocumentTitles=_useState34[1],pathPairs=[],i=0;i<pathSegments.length;i+=2)i+1<pathSegments.length&&pathPairs.push({collection:instance_slice_default()(pathSegments).call(pathSegments,0,i+1).join("/"),document:instance_slice_default()(pathSegments).call(pathSegments,0,i+2).join("/"),docId:pathSegments[i+1],isLast:i+2===pathSegments.length});return(0,react.useEffect)(function(){var fetchParentDocuments=function(){var _ref14=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee6(){var titles,pathsToBeFetched,_iterator,_step,pair,parentDoc,parentCollectionName,_t6,_t7;return regenerator_default().wrap(function(_context33){for(;;)switch(_context33.prev=_context33.next){case 0:if(isValidPath&&!(pathPairs.length<=1)){_context33.next=1;break}return _context33.abrupt("return");case 1:titles={},pathsToBeFetched=instance_slice_default()(pathPairs).call(pathPairs,0,-1),_iterator=ContentPage_createForOfIteratorHelper(pathsToBeFetched),_context33.prev=2,_iterator.s();case 3:if((_step=_iterator.n()).done){_context33.next=8;break}return pair=_step.value,_context33.prev=4,_context33.next=5,firebase_utils_getDocument(pair.collection,pair.docId,!0===(null==config?void 0:config.useFirestoreAccessRules));case 5:(parentDoc=_context33.sent)&&(parentCollectionName=pair.collection.split("/").pop(),titles[pair.document]=ContentPage_getDocumentTitle(parentDoc,parentCollectionName,schema)),_context33.next=7;break;case 6:_context33.prev=6,_t6=_context33.catch(4),console.error("Error fetching parent document ".concat(pair.docId,":"),_t6);case 7:_context33.next=3;break;case 8:_context33.next=10;break;case 9:_context33.prev=9,_t7=_context33.catch(2),_iterator.e(_t7);case 10:return _context33.prev=10,_iterator.f(),_context33.finish(10);case 11:setDocumentTitles(titles);case 12:case"end":return _context33.stop()}},_callee6,null,[[2,9,10,11],[4,6]])}));return function fetchParentDocuments(){return _ref14.apply(this,arguments)}}();fetchParentDocuments()},[path,isValidPath,null==config?void 0:config.useFirestoreAccessRules]),(0,react.useEffect)(function(){var fetchDocument=function(){var _ref15=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee7(){var doc,_context34,_t8;return regenerator_default().wrap(function(_context35){for(;;)switch(_context35.prev=_context35.next){case 0:if(isValidPath){_context35.next=1;break}return setError("Invalid document path"),setLoading(!1),_context35.abrupt("return");case 1:return _context35.prev=1,setLoading(!0),_context35.next=2,firebase_utils_getDocument(fullCollectionPath,documentId,!0===(null==config?void 0:config.useFirestoreAccessRules));case 2:doc=_context35.sent,setDocument(doc),_context35.next=4;break;case 3:_context35.prev=3,_t8=_context35.catch(1),console.error(concat_default()(_context34="Error fetching document ".concat(documentId," from ")).call(_context34,fullCollectionPath,":"),_t8),setError("Failed to load document. ".concat(_t8.message||"Unknown error"));case 4:return _context35.prev=4,setLoading(!1),_context35.finish(4);case 5:case"end":return _context35.stop()}},_callee7,null,[[1,3,4,5]])}));return function fetchDocument(){return _ref15.apply(this,arguments)}}();fetchDocument()},[fullCollectionPath,documentId,config,isValidPath]),isValidPath?loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},react.createElement(material_CircularProgress_CircularProgress,null)):error||!document?react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.document_not_found",defaultMessage:"Document Not Found"})),react.createElement(material_Typography_Typography,{variant:"body1"},error||react.createElement(message,{id:"content.document_not_found_message",defaultMessage:"The document with ID '{documentId}' was not found in collection '{collectionPath}'.",values:{documentId,collectionPath:fullCollectionPath}})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){var parentPath=fullCollectionPath?"/content/".concat(fullCollectionPath):"/content";history.push(parentPath)}},react.createElement(message,{id:"content.back_to_collection",defaultMessage:"Back to Collection"}))):react.createElement(react.Fragment,null,react.createElement(common_NavigationBreadcrumbs,{items:flat_map_default()(pathPairs).call(pathPairs,function(pair,index){var isLastPair=index===pathPairs.length-1,collectionName=pathSegments[2*index],collectionItem={label:ContentPage_getCollectionTitle(collectionName,schema),onClick:function onClick(){return history.push("/content/".concat(pair.collection))}};return isLastPair?[collectionItem,{label:ContentPage_getDocumentTitle(document,fullCollectionPath.split("/").pop()||fullCollectionPath,schema)}]:[collectionItem,{label:documentTitles[pair.document]||pair.docId,onClick:function onClick(){return history.push("/content/".concat(pair.document))}}]}),sx:{mb:2,pl:3,pt:2}}),react.createElement(content_ContentDetail,{collection:fullCollectionPath,document,schema,onBack:function onBack(){var parentPath=fullCollectionPath?"/content/".concat(fullCollectionPath):"/content";history.push(parentPath)}})):react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.invalid_path",defaultMessage:"Invalid Path"})),react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"content.invalid_path_message",defaultMessage:"The document path is invalid."})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){return history.push("/content")}},react.createElement(message,{id:"content.back_to_collections",defaultMessage:"Back to Collections"})))};const content_ContentPage=function ContentPage(){var _fireengineConfig,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),permissionsInfoOpen=_useState2[0],setPermissionsInfoOpen=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),pricingDialogOpen=_useState4[0],setPricingDialogOpen=_useState4[1],config=app_hooks_useApp().config,user=auth_hooks_useAuth().user,roles=roles_hooks_useRoles().roles,_useSchema=useSchema(),schema=_useSchema.schema,loading=_useSchema.loading,hasFeature=license_hooks_useLicense().hasFeature,history=(useIsOwner(),react_router_useHistory()),location=useLocation(),isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),ownerEmail=null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig?void 0:_fireengineConfig.ownerEmail,useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules);(0,react.useEffect)(function(){if(schema&&!loading&&"/content"===location.pathname&&user){var allCollections=ContentPage_getRootCollections(schema);if(useFirestoreRules&&allCollections.length>0)return void history.push("/content/".concat(allCollections[0]));var accessibleCollection=find_default()(allCollections).call(allCollections,function(collection){return canAccessCollection(user,collection,"read",roles,ownerEmail)});accessibleCollection&&history.push("/content/".concat(accessibleCollection))}},[schema,loading,location.pathname,history,user,roles,useFirestoreRules,ownerEmail]);if(loading&&!schema)return react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},react.createElement(material_CircularProgress_CircularProgress,null));var collections=function getCollectionsForDrawer(){var _context4;return sort_default()(_context4=ContentPage_getRootCollections(schema)).call(_context4)}();return react.createElement(material_Box_Box,{sx:{height:"100%",display:"flex",flexDirection:"column"}},schema&&collections.length>0&&react.createElement(content_ContentTabs,{schema,currentCollection:location.pathname.split("/")[2]}),react.createElement(material_Box_Box,{component:"main",sx:{flex:1,overflow:"auto",backgroundColor:"#FAFAFA"}},schema&&react.createElement(Switch,null,react.createElement(Route,{exact:!0,path:"/content",render:function render(){return react.createElement(Container_Container,{maxWidth:!1,sx:{py:3}},useFirestoreRules&&react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"flex-end",mb:3}},react.createElement(material_Button_Button,{startIcon:react.createElement(Help.A,null),onClick:function onClick(){return setPermissionsInfoOpen(!0)}},react.createElement(message,{id:"content.permissions",defaultMessage:"Permissions"}))),react.createElement(material_Box_Box,{textAlign:"center",my:4},0===collections.length?react.createElement(material_Box_Box,{sx:{maxWidth:600,mx:"auto"}},react.createElement(material_Typography_Typography,{variant:"h4",gutterBottom:!0,sx:{mb:3}}," Welcome to FireEngine"),react.createElement(Card_Card,{sx:{mb:3,textAlign:"left"}},react.createElement(CardContent_CardContent,null,react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},react.createElement(message,{id:"content.empty_database_title",defaultMessage:"Your database is empty"})),react.createElement(material_Typography_Typography,{variant:"body1",color:"text.secondary",paragraph:!0},react.createElement(message,{id:"content.empty_database_description",defaultMessage:"No collections were found in your Firestore database. You can start by adding data directly to Firestore, or configure your content schema using FireEngine."})),react.createElement(Divider_Divider,{sx:{my:2}}),react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},react.createElement(message,{id:"content.schema_configuration_title",defaultMessage:"Schema Configuration Options:"})),react.createElement(material_Box_Box,{sx:{mb:2,p:2,border:"1px solid #e2e8f0",borderRadius:"8px",background:"#f8fafc"}},react.createElement(material_Typography_Typography,{variant:"body1",fontWeight:600,gutterBottom:!0},react.createElement(message,{id:"content.code_configuration_title",defaultMessage:"1. Code Configuration"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",paragraph:!0},react.createElement(message,{id:"content.code_configuration_description",defaultMessage:"Define your content structure directly in your server code using schemaOverrides configuration."})),react.createElement(material_Button_Button,{variant:"outlined",href:"https://www.fireengine.dev/docs#schema-overrides",target:"_blank",sx:{mt:1}},react.createElement(message,{id:"content.view_schema_docs",defaultMessage:"View Documentation"}))),react.createElement(material_Box_Box,{sx:{textAlign:"center",my:2}},react.createElement(material_Typography_Typography,{variant:"body1",fontWeight:600,color:"text.secondary"},react.createElement(message,{id:"content.configuration_or",defaultMessage:"or"}))),react.createElement(material_Box_Box,{sx:{mb:2,p:2,border:"1px solid #e2e8f0",borderRadius:"8px",background:"#f8fafc"}},react.createElement(material_Typography_Typography,{variant:"body1",fontWeight:600,gutterBottom:!0},react.createElement(message,{id:"content.ui_configuration_title",defaultMessage:"2. Visual Schema Editor"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",paragraph:!0},react.createElement(message,{id:"content.ui_configuration_description",defaultMessage:"Use the intuitive drag-and-drop interface to design your content structure visually."})),hasFeature("schemaOverrides")?react.createElement(material_Button_Button,{variant:"contained",size:"small",onClick:function onClick(){return history.push("/settings?tab=schema")},sx:{mt:1}},react.createElement(message,{id:"content.open_schema_editor",defaultMessage:"Open Schema Editor"})):react.createElement(material_Button_Button,{variant:"contained",startIcon:react.createElement(Upgrade.A,null),onClick:function onClick(){return setPricingDialogOpen(!0)},sx:{mt:1,fontWeight:600,minWidth:110,whiteSpace:"nowrap"}},react.createElement(message,{id:"content.upgrade_to_pro",defaultMessage:"Upgrade to Pro"}))))),react.createElement(material_Box_Box,{sx:{display:"flex",gap:2,justifyContent:"center"}},react.createElement(material_Button_Button,{variant:"text",href:"https://www.fireengine.dev/docs",target:"_blank",color:"primary"},react.createElement(message,{id:"content.getting_started_guide",defaultMessage:"Getting Started Guide"})))):react.createElement(react.Fragment,null,react.createElement(material_Typography_Typography,{variant:"h5",gutterBottom:!0},react.createElement(message,{id:"content.select_collection",defaultMessage:"Select a Collection"})),react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"content.select_collection_help",defaultMessage:"Please select a collection from the tabs above to view and manage its content."})))))}}),react.createElement(Route,{exact:!0,path:"/content/:collectionName",render:function render(props){return react.createElement(CollectionView,extends_extends({},props,{schema,permissionsInfoOpen,setPermissionsInfoOpen,useFirestoreRules,isMobile}))}}),react.createElement(Route,{exact:!0,path:"/content/:collectionName/:documentId",render:function render(props){return react.createElement(DocumentViewByPath,extends_extends({},props,{schema}))}}),react.createElement(Route,{exact:!0,path:"/content/:collectionName/:documentId/:subcollectionName",render:function render(props){return react.createElement(SubcollectionView,extends_extends({},props,{schema}))}}),react.createElement(Route,{path:"/content/:path+",render:function render(props){var segments=props.match.params.path.split("/");if(segments.length>=2&&segments.length%2==0)return react.createElement(DocumentViewByPath,extends_extends({},props,{schema}));if(segments.length>=3&&segments.length%2==1){if(segments.length>3){var lastCollectionIndex=segments.length-1,docIdIndex=lastCollectionIndex-1,collectionPathSegments=instance_slice_default()(segments).call(segments,0,docIdIndex-1),subcollectionName=segments[lastCollectionIndex],documentId=segments[docIdIndex],collectionName=collectionPathSegments.join("/"),modifiedProps=ContentPage_objectSpread(ContentPage_objectSpread({},props),{},{match:ContentPage_objectSpread(ContentPage_objectSpread({},props.match),{},{params:{collectionName,documentId,subcollectionName}})});return react.createElement(SubcollectionView,extends_extends({},modifiedProps,{schema}))}return react.createElement(SubcollectionView,extends_extends({},props,{schema}))}return react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.not_found",defaultMessage:"Not Found"})),react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"content.not_found_message",defaultMessage:"The requested resource could not be found."})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){return history.push("/content")}},react.createElement(message,{id:"content.back_to_collections",defaultMessage:"Back to Collections"})))}}),react.createElement(Route,{path:"*",render:function render(){return react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},react.createElement(message,{id:"content.not_found",defaultMessage:"Not Found"})),react.createElement(material_Typography_Typography,{variant:"body1"},react.createElement(message,{id:"content.not_found_message",defaultMessage:"The requested resource could not be found."})),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function onClick(){return history.push("/content")}},react.createElement(message,{id:"content.back_to_collections",defaultMessage:"Back to Collections"})))}})),useFirestoreRules&&react.createElement(content_FirestorePermissionsInfo,{open:permissionsInfoOpen,onClose:function onClose(){return setPermissionsInfoOpen(!1)}}),react.createElement(billing_PricingDialog,{open:pricingDialogOpen,onClose:function onClose(){return setPricingDialogOpen(!1)}})))},content=content_ContentPage;var find_index=__webpack_require__(26327),find_index_default=__webpack_require__.n(find_index);const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(file,path,h){const f=function withMimeType(file){const{name}=file;if(name&&-1!==name.lastIndexOf(".")&&!file.type){const ext=name.split(".").pop().toLowerCase(),type=COMMON_MIME_TYPES.get(ext);type&&Object.defineProperty(file,"type",{value:type,writable:!1,configurable:!1,enumerable:!0})}return file}(file),{webkitRelativePath}=file,p="string"==typeof path?path:"string"==typeof webkitRelativePath&&webkitRelativePath.length>0?webkitRelativePath:`./${file.name}`;return"string"!=typeof f.path&&setObjProp(f,"path",p),void 0!==h&&Object.defineProperty(f,"handle",{value:h,writable:!1,configurable:!1,enumerable:!0}),setObjProp(f,"relativePath",p),f}function setObjProp(f,key,value){Object.defineProperty(f,key,{value,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function file_selector_isObject(v){return"object"==typeof v&&null!==v}function noIgnoredFiles(files){return files.filter(file=>-1===FILES_TO_IGNORE.indexOf(file.name))}function fromList(items){if(null===items)return[];const files=[];for(let i=0;i<items.length;i++){const file=items[i];files.push(file)}return files}function toFilePromises(item){if("function"!=typeof item.webkitGetAsEntry)return fromDataTransferItem(item);const entry=item.webkitGetAsEntry();return entry&&entry.isDirectory?fromDirEntry(entry):fromDataTransferItem(item,entry)}function flatten(items){return items.reduce((acc,files)=>[...acc,...Array.isArray(files)?flatten(files):[files]],[])}function fromDataTransferItem(item,entry){return __awaiter(this,void 0,void 0,function*(){var _a;if(globalThis.isSecureContext&&"function"==typeof item.getAsFileSystemHandle){const h=yield item.getAsFileSystemHandle();if(null===h)throw new Error(`${item} is not a File`);if(void 0!==h){const file=yield h.getFile();return file.handle=h,toFileWithPath(file)}}const file=item.getAsFile();if(!file)throw new Error(`${item} is not a File`);return toFileWithPath(file,null!==(_a=null==entry?void 0:entry.fullPath)&&void 0!==_a?_a:void 0)})}function fromEntry(entry){return __awaiter(this,void 0,void 0,function*(){return entry.isDirectory?fromDirEntry(entry):function fromFileEntry(entry){return __awaiter(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{entry.file(file=>{const fwp=toFileWithPath(file,entry.fullPath);resolve(fwp)},err=>{reject(err)})})})}(entry)})}function fromDirEntry(entry){const reader=entry.createReader();return new Promise((resolve,reject)=>{const entries=[];!function readEntries(){reader.readEntries(batch=>__awaiter(this,void 0,void 0,function*(){if(batch.length){const items=Promise.all(batch.map(fromEntry));entries.push(items),readEntries()}else try{const files=yield Promise.all(entries);resolve(files)}catch(err){reject(err)}}),err=>{reject(err)})}()})}var es=__webpack_require__(9455);function utils_toConsumableArray(arr){return function utils_arrayWithoutHoles(arr){if(Array.isArray(arr))return utils_arrayLikeToArray(arr)}(arr)||function utils_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||utils_unsupportedIterableToArray(arr)||function utils_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function utils_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?utils_ownKeys(Object(source),!0).forEach(function(key){utils_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):utils_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function utils_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function utils_slicedToArray(arr,i){return function utils_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function utils_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||utils_unsupportedIterableToArray(arr,i)||function utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?utils_arrayLikeToArray(o,minLen):void 0}}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var accepts="function"==typeof es?es:es.default,getInvalidTypeRejectionErr=function getInvalidTypeRejectionErr(){var acceptArr=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),msg=acceptArr.length>1?"one of ".concat(acceptArr.join(", ")):acceptArr[0];return{code:"file-invalid-type",message:"File type must be ".concat(msg)}},getTooLargeRejectionErr=function getTooLargeRejectionErr(maxSize){return{code:"file-too-large",message:"File is larger than ".concat(maxSize," ").concat(1===maxSize?"byte":"bytes")}},getTooSmallRejectionErr=function getTooSmallRejectionErr(minSize){return{code:"file-too-small",message:"File is smaller than ".concat(minSize," ").concat(1===minSize?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:"too-many-files",message:"Too many files"};function fileAccepted(file,accept){var isAcceptable="application/x-moz-file"===file.type||accepts(file,accept);return[isAcceptable,isAcceptable?null:getInvalidTypeRejectionErr(accept)]}function fileMatchSize(file,minSize,maxSize){if(isDefined(file.size))if(isDefined(minSize)&&isDefined(maxSize)){if(file.size>maxSize)return[!1,getTooLargeRejectionErr(maxSize)];if(file.size<minSize)return[!1,getTooSmallRejectionErr(minSize)]}else{if(isDefined(minSize)&&file.size<minSize)return[!1,getTooSmallRejectionErr(minSize)];if(isDefined(maxSize)&&file.size>maxSize)return[!1,getTooLargeRejectionErr(maxSize)]}return[!0,null]}function isDefined(value){return null!=value}function isPropagationStopped(event){return"function"==typeof event.isPropagationStopped?event.isPropagationStopped():void 0!==event.cancelBubble&&event.cancelBubble}function isEvtWithFiles(event){return event.dataTransfer?Array.prototype.some.call(event.dataTransfer.types,function(type){return"Files"===type||"application/x-moz-file"===type}):!!event.target&&!!event.target.files}function onDocumentDragOver(event){event.preventDefault()}function composeEventHandlers(){for(var _len=arguments.length,fns=new Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(event){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];return fns.some(function(fn){return!isPropagationStopped(event)&&fn&&fn.apply(void 0,[event].concat(args)),isPropagationStopped(event)})}}function isMIMEType(v){return"audio/*"===v||"video/*"===v||"image/*"===v||"text/*"===v||"application/*"===v||/\w+\/[-+.\w]+/g.test(v)}function isExt(v){return/^.*\.[\w]+$/.test(v)}var es_excluded=["children"],es_excluded2=["open"],es_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function es_toConsumableArray(arr){return function es_arrayWithoutHoles(arr){if(Array.isArray(arr))return es_arrayLikeToArray(arr)}(arr)||function es_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||es_unsupportedIterableToArray(arr)||function es_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es_slicedToArray(arr,i){return function es_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function es_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||es_unsupportedIterableToArray(arr,i)||function es_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return es_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es_arrayLikeToArray(o,minLen):void 0}}function es_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function es_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function es_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?es_ownKeys(Object(source),!0).forEach(function(key){es_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):es_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function es_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function es_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function es_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Dropzone=(0,react.forwardRef)(function(_ref,ref){var children=_ref.children,_useDropzone=useDropzone(es_objectWithoutProperties(_ref,es_excluded)),open=_useDropzone.open,props=es_objectWithoutProperties(_useDropzone,es_excluded2);return(0,react.useImperativeHandle)(ref,function(){return{open}},[open]),react.createElement(react.Fragment,null,children(es_objectSpread(es_objectSpread({},props),{},{open})))});Dropzone.displayName="Dropzone";var es_defaultProps={disabled:!1,getFilesFromEvent:function fromEvent(evt){return __awaiter(this,void 0,void 0,function*(){return file_selector_isObject(evt)&&function isDataTransfer(value){return file_selector_isObject(value)}(evt.dataTransfer)?function getDataTransferFiles(dt,type){return __awaiter(this,void 0,void 0,function*(){if(dt.items){const items=fromList(dt.items).filter(item=>"file"===item.kind);if("drop"!==type)return items;return noIgnoredFiles(flatten(yield Promise.all(items.map(toFilePromises))))}return noIgnoredFiles(fromList(dt.files).map(file=>toFileWithPath(file)))})}(evt.dataTransfer,evt.type):function isChangeEvt(value){return file_selector_isObject(value)&&file_selector_isObject(value.target)}(evt)?function getInputFiles(evt){return fromList(evt.target.files).map(file=>toFileWithPath(file))}(evt):Array.isArray(evt)&&evt.every(item=>"getFile"in item&&"function"==typeof item.getFile)?function getFsHandleFiles(handles){return __awaiter(this,void 0,void 0,function*(){const files=yield Promise.all(handles.map(h=>h.getFile()));return files.map(file=>toFileWithPath(file))})}(evt):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=es_defaultProps,Dropzone.propTypes={children:prop_types.func,accept:prop_types.objectOf(prop_types.arrayOf(prop_types.string)),multiple:prop_types.bool,preventDropOnDocument:prop_types.bool,noClick:prop_types.bool,noKeyboard:prop_types.bool,noDrag:prop_types.bool,noDragEventsBubbling:prop_types.bool,minSize:prop_types.number,maxSize:prop_types.number,maxFiles:prop_types.number,disabled:prop_types.bool,getFilesFromEvent:prop_types.func,onFileDialogCancel:prop_types.func,onFileDialogOpen:prop_types.func,useFsAccessApi:prop_types.bool,autoFocus:prop_types.bool,onDragEnter:prop_types.func,onDragLeave:prop_types.func,onDragOver:prop_types.func,onDrop:prop_types.func,onDropAccepted:prop_types.func,onDropRejected:prop_types.func,onError:prop_types.func,validator:prop_types.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_defaultProps$props=es_objectSpread(es_objectSpread({},es_defaultProps),props),accept=_defaultProps$props.accept,disabled=_defaultProps$props.disabled,getFilesFromEvent=_defaultProps$props.getFilesFromEvent,maxSize=_defaultProps$props.maxSize,minSize=_defaultProps$props.minSize,multiple=_defaultProps$props.multiple,maxFiles=_defaultProps$props.maxFiles,onDragEnter=_defaultProps$props.onDragEnter,onDragLeave=_defaultProps$props.onDragLeave,onDragOver=_defaultProps$props.onDragOver,onDrop=_defaultProps$props.onDrop,onDropAccepted=_defaultProps$props.onDropAccepted,onDropRejected=_defaultProps$props.onDropRejected,onFileDialogCancel=_defaultProps$props.onFileDialogCancel,onFileDialogOpen=_defaultProps$props.onFileDialogOpen,useFsAccessApi=_defaultProps$props.useFsAccessApi,autoFocus=_defaultProps$props.autoFocus,preventDropOnDocument=_defaultProps$props.preventDropOnDocument,noClick=_defaultProps$props.noClick,noKeyboard=_defaultProps$props.noKeyboard,noDrag=_defaultProps$props.noDrag,noDragEventsBubbling=_defaultProps$props.noDragEventsBubbling,onError=_defaultProps$props.onError,validator=_defaultProps$props.validator,acceptAttr=(0,react.useMemo)(function(){return function acceptPropAsAcceptAttr(accept){if(isDefined(accept))return Object.entries(accept).reduce(function(a,_ref6){var _ref7=utils_slicedToArray(_ref6,2),mimeType=_ref7[0],ext=_ref7[1];return[].concat(utils_toConsumableArray(a),[mimeType],utils_toConsumableArray(ext))},[]).filter(function(v){return isMIMEType(v)||isExt(v)}).join(",")}(accept)},[accept]),pickerTypes=(0,react.useMemo)(function(){return function pickerOptionsFromAccept(accept){if(isDefined(accept)){var acceptForPicker=Object.entries(accept).filter(function(_ref2){var _ref3=utils_slicedToArray(_ref2,2),mimeType=_ref3[0],ext=_ref3[1],ok=!0;return isMIMEType(mimeType)||(console.warn('Skipped "'.concat(mimeType,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),ok=!1),Array.isArray(ext)&&ext.every(isExt)||(console.warn('Skipped "'.concat(mimeType,'" because an invalid file extension was provided.')),ok=!1),ok}).reduce(function(agg,_ref4){var _ref5=utils_slicedToArray(_ref4,2),mimeType=_ref5[0],ext=_ref5[1];return utils_objectSpread(utils_objectSpread({},agg),{},utils_defineProperty({},mimeType,ext))},{});return[{description:"Files",accept:acceptForPicker}]}return accept}(accept)},[accept]),onFileDialogOpenCb=(0,react.useMemo)(function(){return"function"==typeof onFileDialogOpen?onFileDialogOpen:es_noop},[onFileDialogOpen]),onFileDialogCancelCb=(0,react.useMemo)(function(){return"function"==typeof onFileDialogCancel?onFileDialogCancel:es_noop},[onFileDialogCancel]),rootRef=(0,react.useRef)(null),inputRef=(0,react.useRef)(null),_useReducer2=es_slicedToArray((0,react.useReducer)(reducer,initialState),2),state=_useReducer2[0],dispatch=_useReducer2[1],isFocused=state.isFocused,isFileDialogActive=state.isFileDialogActive,fsAccessApiWorksRef=(0,react.useRef)("undefined"!=typeof window&&window.isSecureContext&&useFsAccessApi&&function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}()),onWindowFocus=function onWindowFocus(){!fsAccessApiWorksRef.current&&isFileDialogActive&&setTimeout(function(){inputRef.current&&(inputRef.current.files.length||(dispatch({type:"closeDialog"}),onFileDialogCancelCb()))},300)};(0,react.useEffect)(function(){return window.addEventListener("focus",onWindowFocus,!1),function(){window.removeEventListener("focus",onWindowFocus,!1)}},[inputRef,isFileDialogActive,onFileDialogCancelCb,fsAccessApiWorksRef]);var dragTargetsRef=(0,react.useRef)([]),onDocumentDrop=function onDocumentDrop(event){rootRef.current&&rootRef.current.contains(event.target)||(event.preventDefault(),dragTargetsRef.current=[])};(0,react.useEffect)(function(){return preventDropOnDocument&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",onDocumentDrop,!1)),function(){preventDropOnDocument&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",onDocumentDrop))}},[rootRef,preventDropOnDocument]),(0,react.useEffect)(function(){return!disabled&&autoFocus&&rootRef.current&&rootRef.current.focus(),function(){}},[rootRef,autoFocus,disabled]);var onErrCb=(0,react.useCallback)(function(e){onError?onError(e):console.error(e)},[onError]),onDragEnterCb=(0,react.useCallback)(function(event){event.preventDefault(),event.persist(),stopPropagation(event),dragTargetsRef.current=[].concat(es_toConsumableArray(dragTargetsRef.current),[event.target]),isEvtWithFiles(event)&&Promise.resolve(getFilesFromEvent(event)).then(function(files){if(!isPropagationStopped(event)||noDragEventsBubbling){var fileCount=files.length,isDragAccept=fileCount>0&&function allFilesAccepted(_ref){var files=_ref.files,accept=_ref.accept,minSize=_ref.minSize,maxSize=_ref.maxSize,multiple=_ref.multiple,maxFiles=_ref.maxFiles,validator=_ref.validator;return!(!multiple&&files.length>1||multiple&&maxFiles>=1&&files.length>maxFiles)&&files.every(function(file){var accepted=utils_slicedToArray(fileAccepted(file,accept),1)[0],sizeMatch=utils_slicedToArray(fileMatchSize(file,minSize,maxSize),1)[0],customErrors=validator?validator(file):null;return accepted&&sizeMatch&&!customErrors})}({files,accept:acceptAttr,minSize,maxSize,multiple,maxFiles,validator});dispatch({isDragAccept,isDragReject:fileCount>0&&!isDragAccept,isDragActive:!0,type:"setDraggedFiles"}),onDragEnter&&onDragEnter(event)}}).catch(function(e){return onErrCb(e)})},[getFilesFromEvent,onDragEnter,onErrCb,noDragEventsBubbling,acceptAttr,minSize,maxSize,multiple,maxFiles,validator]),onDragOverCb=(0,react.useCallback)(function(event){event.preventDefault(),event.persist(),stopPropagation(event);var hasFiles=isEvtWithFiles(event);if(hasFiles&&event.dataTransfer)try{event.dataTransfer.dropEffect="copy"}catch(_unused){}return hasFiles&&onDragOver&&onDragOver(event),!1},[onDragOver,noDragEventsBubbling]),onDragLeaveCb=(0,react.useCallback)(function(event){event.preventDefault(),event.persist(),stopPropagation(event);var targets=dragTargetsRef.current.filter(function(target){return rootRef.current&&rootRef.current.contains(target)}),targetIdx=targets.indexOf(event.target);-1!==targetIdx&&targets.splice(targetIdx,1),dragTargetsRef.current=targets,targets.length>0||(dispatch({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(event)&&onDragLeave&&onDragLeave(event))},[rootRef,onDragLeave,noDragEventsBubbling]),setFiles=(0,react.useCallback)(function(files,event){var acceptedFiles=[],fileRejections=[];files.forEach(function(file){var _fileAccepted2=es_slicedToArray(fileAccepted(file,acceptAttr),2),accepted=_fileAccepted2[0],acceptError=_fileAccepted2[1],_fileMatchSize2=es_slicedToArray(fileMatchSize(file,minSize,maxSize),2),sizeMatch=_fileMatchSize2[0],sizeError=_fileMatchSize2[1],customErrors=validator?validator(file):null;if(accepted&&sizeMatch&&!customErrors)acceptedFiles.push(file);else{var errors=[acceptError,sizeError];customErrors&&(errors=errors.concat(customErrors)),fileRejections.push({file,errors:errors.filter(function(e){return e})})}}),(!multiple&&acceptedFiles.length>1||multiple&&maxFiles>=1&&acceptedFiles.length>maxFiles)&&(acceptedFiles.forEach(function(file){fileRejections.push({file,errors:[TOO_MANY_FILES_REJECTION]})}),acceptedFiles.splice(0)),dispatch({acceptedFiles,fileRejections,isDragReject:fileRejections.length>0,type:"setFiles"}),onDrop&&onDrop(acceptedFiles,fileRejections,event),fileRejections.length>0&&onDropRejected&&onDropRejected(fileRejections,event),acceptedFiles.length>0&&onDropAccepted&&onDropAccepted(acceptedFiles,event)},[dispatch,multiple,acceptAttr,minSize,maxSize,maxFiles,onDrop,onDropAccepted,onDropRejected,validator]),onDropCb=(0,react.useCallback)(function(event){event.preventDefault(),event.persist(),stopPropagation(event),dragTargetsRef.current=[],isEvtWithFiles(event)&&Promise.resolve(getFilesFromEvent(event)).then(function(files){isPropagationStopped(event)&&!noDragEventsBubbling||setFiles(files,event)}).catch(function(e){return onErrCb(e)}),dispatch({type:"reset"})},[getFilesFromEvent,setFiles,onErrCb,noDragEventsBubbling]),openFileDialog=(0,react.useCallback)(function(){if(fsAccessApiWorksRef.current){dispatch({type:"openDialog"}),onFileDialogOpenCb();var opts={multiple,types:pickerTypes};window.showOpenFilePicker(opts).then(function(handles){return getFilesFromEvent(handles)}).then(function(files){setFiles(files,null),dispatch({type:"closeDialog"})}).catch(function(e){!function isAbort(v){return v instanceof DOMException&&("AbortError"===v.name||v.code===v.ABORT_ERR)}(e)?!function isSecurityError(v){return v instanceof DOMException&&("SecurityError"===v.name||v.code===v.SECURITY_ERR)}(e)?onErrCb(e):(fsAccessApiWorksRef.current=!1,inputRef.current?(inputRef.current.value=null,inputRef.current.click()):onErrCb(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):(onFileDialogCancelCb(e),dispatch({type:"closeDialog"}))})}else inputRef.current&&(dispatch({type:"openDialog"}),onFileDialogOpenCb(),inputRef.current.value=null,inputRef.current.click())},[dispatch,onFileDialogOpenCb,onFileDialogCancelCb,useFsAccessApi,setFiles,onErrCb,pickerTypes,multiple]),onKeyDownCb=(0,react.useCallback)(function(event){rootRef.current&&rootRef.current.isEqualNode(event.target)&&(" "!==event.key&&"Enter"!==event.key&&32!==event.keyCode&&13!==event.keyCode||(event.preventDefault(),openFileDialog()))},[rootRef,openFileDialog]),onFocusCb=(0,react.useCallback)(function(){dispatch({type:"focus"})},[]),onBlurCb=(0,react.useCallback)(function(){dispatch({type:"blur"})},[]),onClickCb=(0,react.useCallback)(function(){noClick||(!function isIeOrEdge(){var userAgent=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function isIe(userAgent){return-1!==userAgent.indexOf("MSIE")||-1!==userAgent.indexOf("Trident/")}(userAgent)||function isEdge(userAgent){return-1!==userAgent.indexOf("Edge/")}(userAgent)}()?openFileDialog():setTimeout(openFileDialog,0))},[noClick,openFileDialog]),composeHandler=function composeHandler(fn){return disabled?null:fn},composeKeyboardHandler=function composeKeyboardHandler(fn){return noKeyboard?null:composeHandler(fn)},composeDragHandler=function composeDragHandler(fn){return noDrag?null:composeHandler(fn)},stopPropagation=function stopPropagation(event){noDragEventsBubbling&&event.stopPropagation()},getRootProps=(0,react.useMemo)(function(){return function(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$refKey=_ref2.refKey,refKey=void 0===_ref2$refKey?"ref":_ref2$refKey,role=_ref2.role,onKeyDown=_ref2.onKeyDown,onFocus=_ref2.onFocus,onBlur=_ref2.onBlur,onClick=_ref2.onClick,onDragEnter=_ref2.onDragEnter,onDragOver=_ref2.onDragOver,onDragLeave=_ref2.onDragLeave,onDrop=_ref2.onDrop,rest=es_objectWithoutProperties(_ref2,es_excluded3);return es_objectSpread(es_objectSpread(es_defineProperty({onKeyDown:composeKeyboardHandler(composeEventHandlers(onKeyDown,onKeyDownCb)),onFocus:composeKeyboardHandler(composeEventHandlers(onFocus,onFocusCb)),onBlur:composeKeyboardHandler(composeEventHandlers(onBlur,onBlurCb)),onClick:composeHandler(composeEventHandlers(onClick,onClickCb)),onDragEnter:composeDragHandler(composeEventHandlers(onDragEnter,onDragEnterCb)),onDragOver:composeDragHandler(composeEventHandlers(onDragOver,onDragOverCb)),onDragLeave:composeDragHandler(composeEventHandlers(onDragLeave,onDragLeaveCb)),onDrop:composeDragHandler(composeEventHandlers(onDrop,onDropCb)),role:"string"==typeof role&&""!==role?role:"presentation"},refKey,rootRef),disabled||noKeyboard?{}:{tabIndex:0}),rest)}},[rootRef,onKeyDownCb,onFocusCb,onBlurCb,onClickCb,onDragEnterCb,onDragOverCb,onDragLeaveCb,onDropCb,noKeyboard,noDrag,disabled]),onInputElementClick=(0,react.useCallback)(function(event){event.stopPropagation()},[]),getInputProps=(0,react.useMemo)(function(){return function(){var _ref3=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref3$refKey=_ref3.refKey,refKey=void 0===_ref3$refKey?"ref":_ref3$refKey,onChange=_ref3.onChange,onClick=_ref3.onClick,rest=es_objectWithoutProperties(_ref3,_excluded4);return es_objectSpread(es_objectSpread({},es_defineProperty({accept:acceptAttr,multiple,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:composeHandler(composeEventHandlers(onChange,onDropCb)),onClick:composeHandler(composeEventHandlers(onClick,onInputElementClick)),tabIndex:-1},refKey,inputRef)),rest)}},[inputRef,accept,multiple,onDropCb,disabled]);return es_objectSpread(es_objectSpread({},state),{},{isFocused:isFocused&&!disabled,getRootProps,getInputProps,rootRef,inputRef,open:composeHandler(openFileDialog)})}function reducer(state,action){switch(action.type){case"focus":return es_objectSpread(es_objectSpread({},state),{},{isFocused:!0});case"blur":return es_objectSpread(es_objectSpread({},state),{},{isFocused:!1});case"openDialog":return es_objectSpread(es_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return es_objectSpread(es_objectSpread({},state),{},{isFileDialogActive:!1});case"setDraggedFiles":return es_objectSpread(es_objectSpread({},state),{},{isDragActive:action.isDragActive,isDragAccept:action.isDragAccept,isDragReject:action.isDragReject});case"setFiles":return es_objectSpread(es_objectSpread({},state),{},{acceptedFiles:action.acceptedFiles,fileRejections:action.fileRejections,isDragReject:action.isDragReject});case"reset":return es_objectSpread({},initialState);default:return state}}function es_noop(){}const CreateNewFolder=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"}),"CreateNewFolder"),CloudUpload=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),esm_CheckBoxOutlineBlank=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank"),SelectAll=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M3 5h2V3c-1.1 0-2 .9-2 2m0 8h2v-2H3zm4 8h2v-2H7zM3 9h2V7H3zm10-6h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zM9 3H7v2h2zm2 18h2v-2h-2zm8-8h2v-2h-2zm0 8c1.1 0 2-.9 2-2h-2zm0-12h2V7h-2zm0 8h2v-2h-2zm-4 4h2v-2h-2zm0-16h2V3h-2zM7 17h10V7H7zm2-8h6v6H9z"}),"SelectAll"),DriveFileMove=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-6 12v-3h-4v-4h4V8l5 5z"}),"DriveFileMove"),esm_CheckBox=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),MoreVert=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Folder=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder"),esm_Download=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");const assets_CreateFolderDialog=function CreateFolderDialog(_ref){var open=_ref.open,onClose=_ref.onClose,onCreateFolder=_ref.onCreateFolder,_useState2=(_ref.currentPath,slicedToArray_slicedToArray((0,react.useState)(""),2)),folderName=_useState2[0],setFolderName=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),creating=_useState4[0],setCreating=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(""),2),error=_useState6[0],setError=_useState6[1],formatMessage=useIntl().formatMessage,handleClose=function handleClose(){creating||(setFolderName(""),setError(""),onClose())},validateFolderName=function validateFolderName(name){if(!trim_default()(name).call(name))return setError(formatMessage({id:"assets.folder_name_required",defaultMessage:"Folder name is required"})),!1;return/[#\[\]]/.test(name)?(setError(formatMessage({id:"assets.folder_name_invalid",defaultMessage:"Folder name contains invalid characters"})),!1):(setError(""),!0)},handleCreate=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(validateFolderName(folderName)){_context.next=1;break}return _context.abrupt("return");case 1:return _context.prev=1,setCreating(!0),_context.next=2,onCreateFolder(trim_default()(folderName).call(folderName));case 2:setFolderName(""),setError(""),onClose(),_context.next=4;break;case 3:_context.prev=3,_t=_context.catch(1),console.error("Error creating folder:",_t),setError("Failed to create folder");case 4:return _context.prev=4,setCreating(!1),_context.finish(4);case 5:case"end":return _context.stop()}},_callee,null,[[1,3,4,5]])}));return function handleCreate(){return _ref2.apply(this,arguments)}}();return react.createElement(Dialog_Dialog,{open,onClose:handleClose,maxWidth:"sm",fullWidth:!0},react.createElement(DialogTitle_DialogTitle,null,react.createElement(message,{id:"assets.create_folder_title",defaultMessage:"Create New Folder"})),react.createElement(DialogContent_DialogContent,null,react.createElement(TextField_TextField,{autoFocus:!0,margin:"dense",label:formatMessage({id:"assets.folder_name",defaultMessage:"Folder Name"}),placeholder:formatMessage({id:"assets.folder_name_placeholder",defaultMessage:"Enter folder name"}),fullWidth:!0,variant:"outlined",value:folderName,onChange:function onChange(e){setFolderName(e.target.value),error&&setError("")},onKeyPress:function handleKeyPress(event){"Enter"!==event.key||creating||handleCreate()},error:Boolean(error),helperText:error,disabled:creating})),react.createElement(DialogActions_DialogActions,{sx:{pt:0,px:3,pb:3}},react.createElement(material_Button_Button,{onClick:handleClose,disabled:creating},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleCreate,disabled:creating||!trim_default()(folderName).call(folderName),variant:"contained"},creating?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(message,{id:"assets.create_folder",defaultMessage:"Create Folder"}))))},ListItemIcon_excluded=["className"],ListItemIconRoot=(0,styled.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,"flex-start"===ownerState.alignItems&&styles.alignItemsFlexStart]}})(({theme,ownerState})=>(0,esm_extends.A)({minWidth:56,color:(theme.vars||theme).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===ownerState.alignItems&&{marginTop:8})),ListItemIcon=react.forwardRef(function ListItemIcon(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiListItemIcon"}),{className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,ListItemIcon_excluded),context=react.useContext(List_ListContext),ownerState=(0,esm_extends.A)({},props,{alignItems:context.alignItems}),classes=(ownerState=>{const{alignItems,classes}=ownerState,slots={root:["root","flex-start"===alignItems&&"alignItemsFlexStart"]};return(0,composeClasses.A)(slots,getListItemIconUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(ListItemIconRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other))}),ListItemIcon_ListItemIcon=ListItemIcon,esm_NavigateNext=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),ArrowUpward=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),Place=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Place");function MoveFileDialog_createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function MoveFileDialog_unsupportedIterableToArray(r,a){if(r){var _context7;if("string"==typeof r)return MoveFileDialog_arrayLikeToArray(r,a);var t=instance_slice_default()(_context7={}.toString.call(r)).call(_context7,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?MoveFileDialog_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function MoveFileDialog_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const assets_MoveFileDialog=function MoveFileDialog(_ref){var open=_ref.open,onClose=_ref.onClose,onMoveFile=_ref.onMoveFile,onRefreshItems=_ref.onRefreshItems,fileName=_ref.fileName,currentPath=_ref.currentPath,_ref$useFirestoreRule=_ref.useFirestoreRules,useFirestoreRules=void 0===_ref$useFirestoreRule||_ref$useFirestoreRule,_ref$selectedItems=_ref.selectedItems,selectedItems=void 0===_ref$selectedItems?[]:_ref$selectedItems,_useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),folders=_useState2[0],setFolders=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(!1),2),moving=_useState6[0],setMoving=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(null),2),selectedPath=_useState8[0],setSelectedPath=_useState8[1],formatMessage=useIntl().formatMessage;(0,react.useEffect)(function(){open&&null===selectedPath?setSelectedPath(currentPath):open||(setSelectedPath(null),setFolders([]))},[open,currentPath]),(0,react.useEffect)(function(){open&&null!==selectedPath&&loadFolders(selectedPath)},[selectedPath,open]);var loadFolders=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(path){var items,folderItems,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setLoading(!0),_context.next=1,listStorageItems(path,useFirestoreRules);case 1:items=_context.sent,folderItems=filter_default()(items).call(items,function(item){return item.isFolder}),setFolders(folderItems),_context.next=3;break;case 2:_context.prev=2,_t=_context.catch(0),console.error("Error loading folders:",_t),setFolders([]);case 3:return _context.prev=3,setLoading(!1),_context.finish(3);case 4:case"end":return _context.stop()}},_callee,null,[[0,2,3,4]])}));return function loadFolders(_x){return _ref2.apply(this,arguments)}}(),handleMoveHere=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var successCount,failureCount,_iterator,_step,_context2,itemPath,_fileName,destinationPath,_context3,_context4,sourcePath,_destinationPath,_t2,_t3,_t4;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(_context5.prev=0,setMoving(!0),!(selectedItems.length>0)){_context5.next=11;break}successCount=0,failureCount=0,_iterator=MoveFileDialog_createForOfIteratorHelper(selectedItems),_context5.prev=1,_iterator.s();case 2:if((_step=_iterator.n()).done){_context5.next=7;break}if(itemPath=_step.value,_fileName=itemPath.split("/").pop()||"",destinationPath=selectedPath?concat_default()(_context2="".concat(selectedPath,"/")).call(_context2,_fileName):_fileName,itemPath===destinationPath){_context5.next=6;break}return _context5.prev=3,_context5.next=4,onMoveFile(itemPath,destinationPath,!1);case 4:successCount++,_context5.next=6;break;case 5:_context5.prev=5,_t2=_context5.catch(3),console.error("Error moving ".concat(_fileName,":"),_t2),failureCount++;case 6:_context5.next=2;break;case 7:_context5.next=9;break;case 8:_context5.prev=8,_t3=_context5.catch(1),_iterator.e(_t3);case 9:return _context5.prev=9,_iterator.f(),_context5.finish(9);case 10:onRefreshItems&&(successCount>0||failureCount>0)&&onRefreshItems(),successCount>0&&react_toastify_esm_Q.success(formatMessage({id:"assets.items_moved_success",defaultMessage:"{count} items moved successfully"},{count:successCount})),failureCount>0&&react_toastify_esm_Q.error(formatMessage({id:"assets.items_move_partial_failed",defaultMessage:"Failed to move {count} items. Please try again."},{count:failureCount})),_context5.next=12;break;case 11:if(!fileName){_context5.next=12;break}if(sourcePath=currentPath?concat_default()(_context3="".concat(currentPath,"/")).call(_context3,fileName):fileName,_destinationPath=selectedPath?concat_default()(_context4="".concat(selectedPath,"/")).call(_context4,fileName):fileName,sourcePath===_destinationPath){_context5.next=12;break}return _context5.next=12,onMoveFile(sourcePath,_destinationPath,!0);case 12:onClose(!0),_context5.next=14;break;case 13:_context5.prev=13,_t4=_context5.catch(0),console.error("Error moving items:",_t4),onClose(!1);case 14:return _context5.prev=14,setMoving(!1),_context5.finish(14);case 15:case"end":return _context5.stop()}},_callee2,null,[[0,13,14,15],[1,8,9,10],[3,5]])}));return function handleMoveHere(){return _ref3.apply(this,arguments)}}(),breadcrumbs=function getBreadcrumbs(){var _context6;return selectedPath?filter_default()(_context6=selectedPath.split("/")).call(_context6,Boolean):[]}();return react.createElement(Dialog_Dialog,{open,onClose,maxWidth:!1,sx:{"& .MuiDialog-paper":{maxWidth:"1024px"}},fullWidth:!0},react.createElement(DialogTitle_DialogTitle,null,react.createElement(message,{id:selectedItems.length>0?"assets.move_items":"assets.move_file",defaultMessage:selectedItems.length>0?"Move Items":"Move File"}),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},selectedItems.length>0?formatMessage({id:"assets.moving_items",defaultMessage:"Moving {count} items"},{count:selectedItems.length}):"Moving: ".concat(fileName))),react.createElement(DialogContent_DialogContent,{sx:{minHeight:400}},react.createElement(material_Box_Box,{sx:{mb:2}},react.createElement(Breadcrumbs_Breadcrumbs,{separator:react.createElement(esm_NavigateNext,{fontSize:"small"}),"aria-label":"folder navigation"},react.createElement(material_Link_Link,{component:"button",variant:"body2",onClick:function onClick(){loading||setSelectedPath("")},underline:"hover",sx:{color:"inherit"}},react.createElement(message,{id:"assets.root",defaultMessage:"Assets"})),map_default()(breadcrumbs).call(breadcrumbs,function(crumb,index){return index===breadcrumbs.length-1?react.createElement(material_Typography_Typography,{key:index,variant:"body2",color:"text.primary"},crumb):react.createElement(material_Link_Link,{key:index,component:"button",variant:"body2",onClick:function onClick(){loading||setSelectedPath(instance_slice_default()(breadcrumbs).call(breadcrumbs,0,index+1).join("/"))},underline:"hover",sx:{color:"inherit"}},crumb)}))),selectedPath&&react.createElement(ListItem_ListItem,{disablePadding:!0,sx:{mb:1}},react.createElement(ListItemButton_ListItemButton,{onClick:function handleUpOneLevel(){if(selectedPath){if(loading)return;var pathParts=selectedPath.split("/");pathParts.pop();var newPath=pathParts.join("/");setSelectedPath(newPath)}},disabled:loading,sx:{backgroundColor:"action.hover",borderRadius:1,"&:hover":{backgroundColor:loading?"action.hover":"action.selected"}}},react.createElement(ListItemIcon_ListItemIcon,{sx:{minWidth:40}},react.createElement(ArrowUpward,null)),react.createElement(ListItemText_ListItemText,{primary:"Back to parent folder",primaryTypographyProps:{variant:"body2",fontStyle:"italic",color:"text.secondary"}}))),loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",p:4},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(List_List,{sx:{maxHeight:300,overflow:"auto",padding:0}},0===folders.length?react.createElement(ListItem_ListItem,null,react.createElement(ListItemText_ListItemText,{primary:react.createElement(material_Typography_Typography,{color:"text.secondary"},react.createElement(message,{id:"assets.no_folders_found",defaultMessage:"No folders found in this location"}))})):map_default()(folders).call(folders,function(folder){return react.createElement(ListItem_ListItem,{key:folder.fullPath,disablePadding:!0,sx:{mb:1}},react.createElement(ListItemButton_ListItemButton,{onClick:function onClick(){return function handleFolderClick(folderPath){loading||setSelectedPath(folderPath)}(folder.fullPath)},disabled:loading,sx:{borderRadius:1}},react.createElement(ListItemIcon_ListItemIcon,{sx:{minWidth:40}},react.createElement(Folder,{color:"primary"})),react.createElement(ListItemText_ListItemText,{primary:react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:.5}},react.createElement("span",null,folder.name),folder.fullPath===currentPath&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"assets.current_folder",defaultMessage:"Current folder"}),placement:"right"},react.createElement(Place,{sx:{fontSize:14,color:"primary.main"}}))),primaryTypographyProps:{variant:"body2"}})))}))),react.createElement(DialogActions_DialogActions,{sx:{pt:0,px:3,pb:3}},react.createElement(material_Button_Button,{onClick:onClose,disabled:moving},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleMoveHere,disabled:moving,variant:"contained"},moving?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(message,{id:"assets.move_here",defaultMessage:"Move Here"}))))};function AssetsPage_createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function AssetsPage_unsupportedIterableToArray(r,a){if(r){var _context24;if("string"==typeof r)return AssetsPage_arrayLikeToArray(r,a);var t=instance_slice_default()(_context24={}.toString.call(r)).call(_context24,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?AssetsPage_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function AssetsPage_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const assets_AssetsPage=function AssetsPage(){var _context18,_context22,_useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),items=_useState2[0],setItems=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(!1),2),uploadDialogOpen=_useState6[0],setUploadDialogOpen=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)([]),2),selectedFiles=_useState8[0],setSelectedFiles=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),uploading=_useState0[0],setUploading=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)({}),2),setUploadProgress=(_useState10[0],_useState10[1]),_useState12=slicedToArray_slicedToArray((0,react.useState)(!1),2),deleteDialogOpen=_useState12[0],setDeleteDialogOpen=_useState12[1],_useState14=slicedToArray_slicedToArray((0,react.useState)(null),2),itemToDelete=_useState14[0],setItemToDelete=_useState14[1],_useState16=slicedToArray_slicedToArray((0,react.useState)(null),2),anchorEl=_useState16[0],setAnchorEl=_useState16[1],_useState18=slicedToArray_slicedToArray((0,react.useState)(null),2),selectedItem=_useState18[0],setSelectedItem=_useState18[1],_useState20=slicedToArray_slicedToArray((0,react.useState)(!1),2),createFolderDialogOpen=_useState20[0],setCreateFolderDialogOpen=_useState20[1],_useState22=slicedToArray_slicedToArray((0,react.useState)(!1),2),moveFileDialogOpen=_useState22[0],setMoveFileDialogOpen=_useState22[1],_useState24=slicedToArray_slicedToArray((0,react.useState)(null),2),fileToMove=_useState24[0],setFileToMove=_useState24[1],_useState26=slicedToArray_slicedToArray((0,react.useState)(null),2),draggedItem=_useState26[0],setDraggedItem=_useState26[1],_useState28=slicedToArray_slicedToArray((0,react.useState)(null),2),dropTarget=_useState28[0],setDropTarget=_useState28[1],_useState30=slicedToArray_slicedToArray((0,react.useState)(new(set_default())),2),selectedItems=_useState30[0],setSelectedItems=_useState30[1],_useState32=slicedToArray_slicedToArray((0,react.useState)(!1),2),selectionMode=_useState32[0],setSelectionMode=_useState32[1],formatMessage=useIntl().formatMessage,config=(auth_hooks_useAuth().user,app_hooks_useApp().config),isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),history=react_router_useHistory(),location=useLocation(),currentPath=(0,react.useMemo)(function(){if("/assets"===location.pathname||"/assets/"===location.pathname)return"";var _context,pathMatch=location.pathname.match(/^\/assets\/(.+)$/);return pathMatch?map_default()(_context=pathMatch[1].split("/")).call(_context,function(segment){return decodeURIComponent(segment)}).join("/"):""},[location.pathname]),navigateToPath=(0,react.useCallback)(function(newPath){if(newPath){var _context2,encodedPath=map_default()(_context2=newPath.split("/")).call(_context2,function(segment){return encodeURIComponent(segment)}).join("/");history.push("/assets/".concat(encodedPath))}else history.push("/assets")},[history]),maxUploadSizeBytes=(null==config?void 0:config.storageMaxUploadSizeBytes)||5368709120,maxSizeFormatted=function formatMaxSize(bytes){return bytes>=1073741824?"".concat(Math.round(bytes/1073741824*100)/100,"GB"):bytes>=1048576?"".concat(Math.round(bytes/1048576*100)/100,"MB"):bytes>=1024?"".concat(Math.round(bytes/1024*100)/100,"KB"):"".concat(bytes,"B")}(maxUploadSizeBytes),_useSearch=useSearch("search"),searchTerm=_useSearch.searchTerm,setSearchTerm=_useSearch.setSearchTerm,useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules);(0,react.useEffect)(function(){var isCancelled=!1,loadItems=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _items,_t;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,isCancelled||setLoading(!0),_context3.next=1,listStorageItems(currentPath,useFirestoreRules);case 1:_items=_context3.sent,isCancelled||setItems(_items),_context3.next=3;break;case 2:_context3.prev=2,_t=_context3.catch(0),isCancelled||(console.error("Error loading storage items:",_t),react_toastify_esm_Q.error(formatMessage({id:"assets.load_failed",defaultMessage:"Failed to load storage items. Please try again."})));case 3:return _context3.prev=3,isCancelled||setLoading(!1),_context3.finish(3);case 4:case"end":return _context3.stop()}},_callee,null,[[0,2,3,4]])}));return function loadItems(){return _ref.apply(this,arguments)}}();return loadItems(),function(){isCancelled=!0}},[currentPath,useFirestoreRules]);var loadItems=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var _items2,_t2;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,setLoading(!0),_context4.next=1,listStorageItems(currentPath,useFirestoreRules);case 1:_items2=_context4.sent,setItems(_items2),_context4.next=3;break;case 2:_context4.prev=2,_t2=_context4.catch(0),console.error("Error loading storage items:",_t2),react_toastify_esm_Q.error("Failed to load storage items. Please try again.");case 3:return _context4.prev=3,setLoading(!1),_context4.finish(3);case 4:case"end":return _context4.stop()}},_callee2,null,[[0,2,3,4]])}));return function loadItems(){return _ref2.apply(this,arguments)}}(),handleUpload=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(){var fileListObj,fileList,_t3;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(0!==selectedFiles.length){_context5.next=1;break}return _context5.abrupt("return");case 1:return _context5.prev=1,setUploading(!0),fileListObj={},for_each_default()(selectedFiles).call(selectedFiles,function(file,index){fileListObj[index]=file}),fileListObj.length=selectedFiles.length,fileListObj.item=function(index){return fileListObj[index]||null},fileList=fileListObj,_context5.next=2,uploadStorageFiles(fileList,currentPath,useFirestoreRules);case 2:setUploadDialogOpen(!1),setSelectedFiles([]),setUploadProgress({}),loadItems(),react_toastify_esm_Q.success(formatMessage({id:"assets.upload_success",defaultMessage:"Files uploaded successfully!"})),_context5.next=4;break;case 3:_context5.prev=3,_t3=_context5.catch(1),console.error("Error uploading files:",_t3),react_toastify_esm_Q.error(formatMessage({id:"assets.upload_failed",defaultMessage:"Failed to upload files. Please try again."}));case 4:return _context5.prev=4,setUploading(!1),_context5.finish(4);case 5:case"end":return _context5.stop()}},_callee3,null,[[1,3,4,5]])}));return function handleUpload(){return _ref3.apply(this,arguments)}}(),handleDelete=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(){var _t4;return regenerator_default().wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(itemToDelete){_context6.next=1;break}return _context6.abrupt("return");case 1:return _context6.prev=1,_context6.next=2,deleteStorageFile(itemToDelete.fullPath,useFirestoreRules);case 2:setDeleteDialogOpen(!1),setItemToDelete(null),loadItems(),react_toastify_esm_Q.success(formatMessage({id:"assets.delete_success",defaultMessage:"{itemName} deleted successfully!"},{itemName:itemToDelete.name})),_context6.next=4;break;case 3:_context6.prev=3,_t4=_context6.catch(1),console.error("Error deleting item:",_t4),react_toastify_esm_Q.error(formatMessage({id:"assets.delete_failed",defaultMessage:"Failed to delete item. Please try again."}));case 4:case"end":return _context6.stop()}},_callee4,null,[[1,3]])}));return function handleDelete(){return _ref4.apply(this,arguments)}}(),handleCreateFolder=function(){var _ref5=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(folderName){var _context7,folderPath,_t5;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,folderPath=currentPath?concat_default()(_context7="".concat(currentPath,"/")).call(_context7,folderName):folderName,_context8.next=1,createStorageFolder(folderPath,useFirestoreRules);case 1:loadItems(),react_toastify_esm_Q.success(formatMessage({id:"assets.folder_created_success",defaultMessage:"Folder '{folderName}' created successfully"},{folderName})),_context8.next=3;break;case 2:throw _context8.prev=2,_t5=_context8.catch(0),console.error("Error creating folder:",_t5),react_toastify_esm_Q.error(formatMessage({id:"assets.folder_create_failed",defaultMessage:"Failed to create folder. Please try again."})),_t5;case 3:case"end":return _context8.stop()}},_callee5,null,[[0,2]])}));return function handleCreateFolder(_x){return _ref5.apply(this,arguments)}}(),handleMoveFile=function(){var _ref6=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee6(sourcePath,destinationPath){var showToast,isFolder,_t6,_args6=arguments;return regenerator_default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return showToast=!(_args6.length>2&&void 0!==_args6[2])||_args6[2],_context9.prev=1,_context9.next=2,moveStorageFile(sourcePath,destinationPath,useFirestoreRules);case 2:showToast&&(loadItems(),selectedItems.size>0?react_toastify_esm_Q.success(formatMessage({id:"assets.items_moved_success",defaultMessage:"{count} items moved successfully"},{count:selectedItems.size})):(isFolder=(null==fileToMove?void 0:fileToMove.isFolder)||!1,react_toastify_esm_Q.success(formatMessage({id:isFolder?"assets.folder_moved_success":"assets.file_moved_success",defaultMessage:isFolder?"Folder moved successfully":"File moved successfully"})))),_context9.next=4;break;case 3:throw _context9.prev=3,_t6=_context9.catch(1),console.error("Error moving file:",_t6),showToast&&react_toastify_esm_Q.error(formatMessage({id:selectedItems.size>0?"assets.items_move_failed":"assets.file_move_failed",defaultMessage:selectedItems.size>0?"Failed to move items. Please try again.":"Failed to move file. Please try again."})),_t6;case 4:case"end":return _context9.stop()}},_callee6,null,[[1,3]])}));return function handleMoveFile(_x2,_x3){return _ref6.apply(this,arguments)}}(),handleItemSelection=function handleItemSelection(item,event){if(null!=event&&event.ctrlKey||null!=event&&event.metaKey)setSelectedItems(function(prev){var newSet=new(set_default())(prev);return newSet.has(item.fullPath)?newSet.delete(item.fullPath):newSet.add(item.fullPath),newSet}),setSelectionMode(!0);else if(null!=event&&event.shiftKey&&selectedItems.size>0){var itemIndex=find_index_default()(filteredItems).call(filteredItems,function(i){return i.fullPath===item.fullPath}),lastSelectedItem=array_from_default()(selectedItems).pop(),lastIndex=find_index_default()(filteredItems).call(filteredItems,function(i){return i.fullPath===lastSelectedItem});if(-1!==lastIndex){for(var start=Math.min(itemIndex,lastIndex),end=Math.max(itemIndex,lastIndex),newSet=new(set_default())(selectedItems),i=start;i<=end;i++)newSet.add(filteredItems[i].fullPath);setSelectedItems(newSet)}}else selectionMode&&setSelectedItems(function(prev){var newSet=new(set_default())(prev);return newSet.has(item.fullPath)?newSet.delete(item.fullPath):newSet.add(item.fullPath),newSet})},handleSelectAll=function handleSelectAll(){setSelectedItems(new(set_default())(map_default()(filteredItems).call(filteredItems,function(item){return item.fullPath}))),setSelectionMode(!0)},handleClearSelection=function handleClearSelection(){setSelectedItems(new(set_default())),setSelectionMode(!1)},handleDeleteSelected=function(){var _ref7=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee7(){var itemsToDelete,_iterator,_step,item,_t7,_t8;return regenerator_default().wrap(function(_context0){for(;;)switch(_context0.prev=_context0.next){case 0:itemsToDelete=filter_default()(filteredItems).call(filteredItems,function(item){return selectedItems.has(item.fullPath)}),_iterator=AssetsPage_createForOfIteratorHelper(itemsToDelete),_context0.prev=1,_iterator.s();case 2:if((_step=_iterator.n()).done){_context0.next=7;break}return item=_step.value,_context0.prev=3,_context0.next=4,deleteStorageFile(item.fullPath,useFirestoreRules);case 4:_context0.next=6;break;case 5:return _context0.prev=5,_t7=_context0.catch(3),console.error("Error deleting ".concat(item.name,":"),_t7),react_toastify_esm_Q.error("Failed to delete ".concat(item.name)),_context0.abrupt("return");case 6:_context0.next=2;break;case 7:_context0.next=9;break;case 8:_context0.prev=8,_t8=_context0.catch(1),_iterator.e(_t8);case 9:return _context0.prev=9,_iterator.f(),_context0.finish(9);case 10:loadItems(),handleClearSelection(),react_toastify_esm_Q.success(formatMessage({id:"assets.items_deleted_success",defaultMessage:"{count} items deleted successfully"},{count:itemsToDelete.length}));case 11:case"end":return _context0.stop()}},_callee7,null,[[1,8,9,10],[3,5]])}));return function handleDeleteSelected(){return _ref7.apply(this,arguments)}}(),handleMoveSelected=function handleMoveSelected(){selectedItems.size>0&&(setFileToMove(null),setMoveFileDialogOpen(!0))},handleDragEnd=function handleDragEnd(){setDraggedItem(null),setDropTarget(null);var allCards=document.querySelectorAll("[data-item-path]");for_each_default()(allCards).call(allCards,function(card){card.style.opacity=""})},handleDragLeave=function handleDragLeave(e){var rect=e.currentTarget.getBoundingClientRect(),x=e.clientX,y=e.clientY;(x<rect.left||x>rect.right||y<rect.top||y>rect.bottom)&&setDropTarget(null)},handleDrop=function(){var _ref8=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee8(e,targetFolder){var dataString,itemsToMove,successCount,_iterator2,_step2,_context1,itemPath,fileName,destinationPath,_t9,_t0,_t1;return regenerator_default().wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(e.preventDefault(),draggedItem&&targetFolder.isFolder){_context10.next=1;break}return _context10.abrupt("return");case 1:_context10.prev=1,dataString=e.dataTransfer.getData("text/plain");try{itemsToMove=JSON.parse(dataString)}catch(_unused){itemsToMove=[dataString]}successCount=0,_iterator2=AssetsPage_createForOfIteratorHelper(itemsToMove),_context10.prev=2,_iterator2.s();case 3:if((_step2=_iterator2.n()).done){_context10.next=8;break}if(itemPath=_step2.value,fileName=itemPath.split("/").pop()||"",destinationPath=concat_default()(_context1="".concat(targetFolder.fullPath,"/")).call(_context1,fileName),itemPath===destinationPath){_context10.next=7;break}return _context10.prev=4,_context10.next=5,moveStorageFile(itemPath,destinationPath,useFirestoreRules);case 5:successCount++,_context10.next=7;break;case 6:_context10.prev=6,_t9=_context10.catch(4),console.error("Error moving ".concat(fileName,":"),_t9),react_toastify_esm_Q.error("Failed to move ".concat(fileName));case 7:_context10.next=3;break;case 8:_context10.next=10;break;case 9:_context10.prev=9,_t0=_context10.catch(2),_iterator2.e(_t0);case 10:return _context10.prev=10,_iterator2.f(),_context10.finish(10);case 11:loadItems(),selectedItems.has(draggedItem.fullPath)&&selectedItems.size>1&&handleClearSelection(),successCount>1?react_toastify_esm_Q.success(formatMessage({id:"assets.items_moved_success",defaultMessage:"{count} items moved successfully"},{count:successCount})):1===successCount&&react_toastify_esm_Q.success(formatMessage({id:"assets.file_moved_success",defaultMessage:"File moved successfully"})),_context10.next=13;break;case 12:_context10.prev=12,_t1=_context10.catch(1),console.error("Error moving items:",_t1),react_toastify_esm_Q.error(formatMessage({id:"assets.items_move_failed",defaultMessage:"Failed to move items. Please try again."}));case 13:return _context10.prev=13,setDraggedItem(null),setDropTarget(null),_context10.finish(13);case 14:case"end":return _context10.stop()}},_callee8,null,[[1,12,13,14],[2,9,10,11],[4,6]])}));return function handleDrop(_x4,_x5){return _ref8.apply(this,arguments)}}(),handleMenuClose=function handleMenuClose(){setAnchorEl(null),setSelectedItem(null)},getFileIcon=function getFileIcon(contentType){return contentType?starts_with_default()(contentType).call(contentType,"image/")?react.createElement(esm_Image,null):starts_with_default()(contentType).call(contentType,"video/")?react.createElement(VideoLibrary,null):starts_with_default()(contentType).call(contentType,"audio/")?react.createElement(AudioFile,null):"application/pdf"===contentType?react.createElement(PictureAsPdf,null):react.createElement(InsertDriveFile,null):react.createElement(InsertDriveFile,null)},formatFileSize=function formatFileSize(bytes){if(!bytes)return"";if(0===bytes)return"0 Bytes";var i=Math.floor(Math.log(bytes)/Math.log(1024));return Math.round(bytes/Math.pow(1024,i)*100)/100+" "+["Bytes","KB","MB","GB"][i]},onDrop=(0,react.useCallback)(function(acceptedFiles,rejectedFiles){if(acceptedFiles.length>0&&(setSelectedFiles(function(prev){var _context15,existingFiles=new(set_default())(map_default()(prev).call(prev,function(file){var _context11,_context12;return concat_default()(_context11=concat_default()(_context12="".concat(file.name,"-")).call(_context12,file.size,"-")).call(_context11,file.lastModified)})),newUniqueFiles=filter_default()(acceptedFiles).call(acceptedFiles,function(file){var _context13,_context14,fileId=concat_default()(_context13=concat_default()(_context14="".concat(file.name,"-")).call(_context14,file.size,"-")).call(_context13,file.lastModified);return!existingFiles.has(fileId)});return concat_default()(_context15=[]).call(_context15,_toConsumableArray(prev),_toConsumableArray(newUniqueFiles))}),setUploadDialogOpen(!0)),rejectedFiles.length>0){var rejectedMessages=map_default()(rejectedFiles).call(rejectedFiles,function(_ref9){var file=_ref9.file,errors=_ref9.errors;return map_default()(errors).call(errors,function(e){var _context16;return"file-too-large"===e.code?'File "'.concat(file.name,'" is too large'):"file-invalid-type"===e.code?'File "'.concat(file.name,'" has an invalid type'):concat_default()(_context16='File "'.concat(file.name,'" was rejected: ')).call(_context16,e.message)}).join(", ")});react_toastify_esm_Q.error(formatMessage({id:"assets.files_rejected",defaultMessage:"Some files were rejected: {rejectedMessages}"},{rejectedMessages:rejectedMessages.join("; ")}))}},[formatMessage]),_useState34=slicedToArray_slicedToArray((0,react.useState)(new(core_js_stable_map_default())),2),previewUrls=_useState34[0],setPreviewUrls=_useState34[1],getFilePreview=(0,react.useCallback)(function(file){var _context17;if(starts_with_default()(_context17=file.type).call(_context17,"image/")){if(previewUrls.has(file))return previewUrls.get(file);var url=url_default().createObjectURL(file);return setPreviewUrls(function(prev){return new(core_js_stable_map_default())(prev).set(file,url)}),url}return null},[previewUrls]);(0,react.useEffect)(function(){var currentFiles=new(set_default())(selectedFiles),urlsToRevoke=[];return for_each_default()(previewUrls).call(previewUrls,function(url,file){currentFiles.has(file)||urlsToRevoke.push(url)}),urlsToRevoke.length>0&&(for_each_default()(urlsToRevoke).call(urlsToRevoke,function(url){return url_default().revokeObjectURL(url)}),setPreviewUrls(function(prev){var newMap=new(core_js_stable_map_default())(prev);return for_each_default()(previewUrls).call(previewUrls,function(url,file){currentFiles.has(file)||newMap.delete(file)}),newMap})),function(){for_each_default()(previewUrls).call(previewUrls,function(url){return url_default().revokeObjectURL(url)})}},[selectedFiles,previewUrls]);var _useDropzone=useDropzone({onDrop,multiple:!0,maxSize:maxUploadSizeBytes,noClick:!0,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp",".svg"],"video/*":[".mp4",".avi",".mov",".wmv",".flv",".webm",".mkv"],"audio/*":[".mp3",".wav",".ogg",".aac",".m4a",".flac"],"application/pdf":[".pdf"],"text/*":[".txt",".md",".csv",".log"],"application/*":[".json",".xml",".zip",".rar",".doc",".docx",".xls",".xlsx",".ppt",".pptx"]}}),getPageDropzoneProps=_useDropzone.getRootProps,getPageInputProps=_useDropzone.getInputProps,isPageDragActive=_useDropzone.isDragActive,_useDropzone2=useDropzone({onDrop,multiple:!0,maxSize:maxUploadSizeBytes,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp",".svg"],"video/*":[".mp4",".avi",".mov",".wmv",".flv",".webm",".mkv"],"audio/*":[".mp3",".wav",".ogg",".aac",".m4a",".flac"],"application/pdf":[".pdf"],"text/*":[".txt",".md",".csv",".log"],"application/*":[".json",".xml",".zip",".rar",".doc",".docx",".xls",".xlsx",".ppt",".pptx"]}}),getRootProps=_useDropzone2.getRootProps,getInputProps=_useDropzone2.getInputProps,isDragActive=_useDropzone2.isDragActive,isDragReject=_useDropzone2.isDragReject,breadcrumbs=filter_default()(_context18=currentPath.split("/")).call(_context18,Boolean),filteredItems=(0,react.useMemo)(function(){var _context19,visibleItems=filter_default()(items).call(items,function(item){return".fireengine-folder"!==item.name});if(!trim_default()(searchTerm).call(searchTerm))return visibleItems;var term=trim_default()(_context19=searchTerm.toLowerCase()).call(_context19);return filter_default()(visibleItems).call(visibleItems,function(item){var _context20,_context21;return!!includes_default()(_context20=item.name.toLowerCase()).call(_context20,term)||!(item.isFolder||!item.contentType||!includes_default()(_context21=item.contentType.toLowerCase()).call(_context21,term))})},[items,searchTerm]);return(0,react.useEffect)(function(){var handleKeyDown=function handleKeyDown(event){if(!(event.target instanceof HTMLInputElement||event.target instanceof HTMLTextAreaElement))return!event.ctrlKey&&!event.metaKey||"a"!==event.key||event.shiftKey?"Delete"===event.key&&selectedItems.size>0?(event.preventDefault(),void handleDeleteSelected()):"Escape"===event.key&&(selectedItems.size>0||selectionMode)?(event.preventDefault(),void handleClearSelection()):"Enter"===event.key&&selectedItems.size>0?(event.preventDefault(),void handleMoveSelected()):void 0:(event.preventDefault(),void(filteredItems.length>0&&handleSelectAll()))};return document.addEventListener("keydown",handleKeyDown),function(){document.removeEventListener("keydown",handleKeyDown)}},[selectedItems,selectionMode,filteredItems,handleSelectAll,handleDeleteSelected,handleClearSelection,handleMoveSelected]),react.createElement(material_Box_Box,extends_extends({},getPageDropzoneProps(),{sx:{p:isMobile?2:3,position:"relative",minHeight:"calc(100vh - 80px)"}}),react.createElement("input",getPageInputProps()),isPageDragActive&&react.createElement(react.Fragment,null,react.createElement(material_Box_Box,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.85)",zIndex:10,pointerEvents:"none"}}),react.createElement(material_Box_Box,{sx:{position:"absolute",top:8,left:8,right:8,bottom:8,border:"3px dashed",borderColor:"primary.main",borderRadius:2,zIndex:11,pointerEvents:"none"}}),react.createElement(material_Box_Box,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"background.paper",padding:3,borderRadius:2,boxShadow:6,zIndex:12,pointerEvents:"none"}},react.createElement(material_Typography_Typography,{variant:"h6",align:"center",color:"primary"},react.createElement(message,{id:"assets.drop_to_upload",defaultMessage:"Drop files to upload"})))),react.createElement(material_Box_Box,{sx:{mb:3}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,minHeight:40}},react.createElement(SearchField,{placeholder:formatMessage({id:"assets.search_placeholder",defaultMessage:"Search assets"}),size:"small",value:searchTerm,onChange:setSearchTerm,onDebouncedChange:setSearchTerm}),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,flexShrink:0}},react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"assets.create_folder",defaultMessage:"Create Folder"})},react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return setCreateFolderDialogOpen(!0)},sx:{width:40,height:40,minWidth:40,borderRadius:5,p:0}},react.createElement(CreateNewFolder,null))),react.createElement(AddButton,{onClick:function onClick(){return setUploadDialogOpen(!0)},text:formatMessage({id:"assets.upload",defaultMessage:"Upload Files"}),size:"small",icon:react.createElement(CloudUpload,null)})))),selectionMode&&react.createElement(material_Box_Box,{sx:{mb:2,mt:-1.5,py:.5,px:2,backgroundColor:"action.hover",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid",borderColor:"divider",minHeight:"36px"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2}},react.createElement(material_Button_Button,{size:"small",onClick:selectedItems.size===filteredItems.length&&selectedItems.size>0?function handleDeselectAll(){setSelectedItems(new(set_default()))}:handleSelectAll,startIcon:selectedItems.size===filteredItems.length&&selectedItems.size>0?react.createElement(esm_CheckBoxOutlineBlank,null):react.createElement(SelectAll,null),sx:{textTransform:"none",backgroundColor:"white",border:"1px solid",borderColor:"grey.300",color:"text.primary",px:1.5,"&:hover":{backgroundColor:"grey.50",borderColor:"grey.400"}}},selectedItems.size===filteredItems.length&&selectedItems.size>0?formatMessage({id:"assets.deselect_all",defaultMessage:"Deselect All"}):formatMessage({id:"assets.select_all",defaultMessage:"Select All"})),selectedItems.size>0&&react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},formatMessage({id:"assets.items_selected",defaultMessage:"{count} items selected"},{count:selectedItems.size}))),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1}},selectedItems.size>0&&react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{size:"small",onClick:handleMoveSelected,variant:"outlined",startIcon:react.createElement(DriveFileMove,null)},formatMessage({id:"assets.move_selection",defaultMessage:"Move selection"})),react.createElement(material_Button_Button,{size:"small",onClick:handleDeleteSelected,variant:"outlined",color:"error",startIcon:react.createElement(esm_Delete,null)},formatMessage({id:"common.delete",defaultMessage:"Delete"}))),react.createElement(material_Button_Button,{size:"small",onClick:handleClearSelection,startIcon:react.createElement(esm_Close,null)},formatMessage({id:"assets.done",defaultMessage:"Done"})))),!selectionMode&&currentPath&&react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2}},react.createElement(common_NavigationBreadcrumbs,{items:concat_default()(_context22=[{label:formatMessage({id:"assets.root",defaultMessage:"Assets"}),onClick:function onClick(){return navigateToPath("")}}]).call(_context22,_toConsumableArray(map_default()(breadcrumbs).call(breadcrumbs,function(crumb,index){return{label:crumb,onClick:index===breadcrumbs.length-1?void 0:function(){var targetPath=instance_slice_default()(breadcrumbs).call(breadcrumbs,0,index+1).join("/");navigateToPath(targetPath)}}})))}),react.createElement(material_Button_Button,{size:"small",variant:"outlined",onClick:function onClick(){return setSelectionMode(!0)},startIcon:react.createElement(esm_CheckBox,null)},formatMessage({id:"assets.select_mode",defaultMessage:"Select"}))),!selectionMode&&!currentPath&&react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"flex-end",mb:2}},react.createElement(material_Button_Button,{size:"small",variant:"outlined",onClick:function onClick(){return setSelectionMode(!0)},startIcon:react.createElement(esm_CheckBox,null)},formatMessage({id:"assets.select_mode",defaultMessage:"Select"}))),loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",p:4},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(Grid_Grid,{container:!0,spacing:2},0===filteredItems.length?react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(material_Box_Box,{sx:{textAlign:"center",py:8}},trim_default()(searchTerm).call(searchTerm)?react.createElement(material_Typography_Typography,{variant:"body1",color:"text.secondary"},formatMessage({id:"assets.no_search_results",defaultMessage:'No assets found matching "{searchTerm}"'},{searchTerm:trim_default()(searchTerm).call(searchTerm)})):react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"h6",color:"text.secondary",sx:{mb:2}},formatMessage({id:"assets.empty_folder_title",defaultMessage:"This folder is empty"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{mb:3}},formatMessage({id:"assets.empty_folder_description",defaultMessage:"Upload files or create folders to get started"})),react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return setUploadDialogOpen(!0)},sx:{mr:2}},formatMessage({id:"assets.upload",defaultMessage:"Upload Files"})),react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return setCreateFolderDialogOpen(!0)}},formatMessage({id:"assets.create_folder",defaultMessage:"Create Folder"}))))):map_default()(filteredItems).call(filteredItems,function(item){var _item$contentType;return react.createElement(Grid_Grid,{item:!0,xs:6,sm:6,md:3,key:item.fullPath},react.createElement(Card_Card,{draggable:!0,"data-item-path":item.fullPath,onDragStart:function onDragStart(e){return function handleDragStart(e,item){e.dataTransfer.effectAllowed="move";var itemsToMove=selectedItems.has(item.fullPath)&&selectedItems.size>1?array_from_default()(selectedItems):[item.fullPath];e.dataTransfer.setData("text/plain",stringify_default()(itemsToMove)),setDraggedItem(item),itemsToMove.length>1&&for_each_default()(itemsToMove).call(itemsToMove,function(itemPath){var itemCard=document.querySelector('[data-item-path="'.concat(itemPath,'"]'));itemCard&&(itemCard.style.opacity="0.5")})}(e,item)},onDragEnd:handleDragEnd,onDragOver:item.isFolder?function(e){return function handleDragOver(e,targetFolder){draggedItem&&targetFolder.isFolder&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}(e,item)}:void 0,onDragEnter:item.isFolder?function(e){return function handleDragEnter(e,targetFolder){draggedItem&&targetFolder.isFolder&&(e.preventDefault(),setDropTarget(targetFolder.fullPath))}(e,item)}:void 0,onDragLeave:item.isFolder?handleDragLeave:void 0,onDrop:item.isFolder?function(e){return handleDrop(e,item)}:void 0,sx:{cursor:item.isFolder&&draggedItem?"copy":"grab",position:"relative",height:200,display:"flex",flexDirection:"column",opacity:(null==draggedItem?void 0:draggedItem.fullPath)===item.fullPath?.5:1,backgroundColor:selectedItems.has(item.fullPath)?"action.selected":item.isFolder&&dropTarget===item.fullPath?"action.hover":"background.paper",border:selectedItems.has(item.fullPath)||item.isFolder&&dropTarget===item.fullPath?"2px solid":"1px solid",borderColor:selectedItems.has(item.fullPath)||item.isFolder&&dropTarget===item.fullPath?"primary.main":"divider",transform:item.isFolder&&dropTarget===item.fullPath?"scale(1.02)":"scale(1)",transition:"all 0.2s ease-in-out",userSelect:"none","&:hover":{boxShadow:4},"&:active":{cursor:"grabbing"}},onClick:function onClick(e){return function handleItemClick(item,event){selectionMode||null!=event&&event.ctrlKey||null!=event&&event.metaKey||null!=event&&event.shiftKey?handleItemSelection(item,event):item.isFolder?navigateToPath(item.fullPath):item.downloadURL&&window.open(item.downloadURL,"_blank")}(item,e)}},selectionMode&&react.createElement(Checkbox_Checkbox,{checked:selectedItems.has(item.fullPath),onChange:function onChange(){return handleItemSelection(item)},sx:{position:"absolute",top:4,left:4,zIndex:2,padding:.5,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},onClick:function onClick(e){return e.stopPropagation()}}),react.createElement(IconButton_IconButton,{size:"small",onClick:function onClick(e){return function handleMenuClick(event,item){event.stopPropagation(),setAnchorEl(event.currentTarget),setSelectedItem(item)}(e,item)},sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(255, 255, 255, 0.8)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"},zIndex:1}},react.createElement(MoreVert,null)),react.createElement(material_Box_Box,{sx:{height:120,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:item.isFolder?"#FFFFFF":"transparent",position:"relative",overflow:"hidden"}},item.isFolder?react.createElement(Folder,{sx:{fontSize:96,color:"primary.main",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}):null!==(_item$contentType=item.contentType)&&void 0!==_item$contentType&&starts_with_default()(_item$contentType).call(_item$contentType,"image/")&&item.downloadURL?react.createElement(CardMedia_CardMedia,{component:"img",sx:{width:"100%",height:"100%",objectFit:"cover",pointerEvents:"none",userSelect:"none"},image:item.downloadURL,alt:item.name,draggable:!1}):react.createElement(material_Box_Box,{sx:{fontSize:96,color:"text.secondary",display:"flex",alignItems:"center",justifyContent:"center"}},getFileIcon(item.contentType)),item.isFolder&&draggedItem&&dropTarget===item.fullPath&&react.createElement(material_Box_Box,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 107, 53, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,pointerEvents:"none"}},react.createElement(material_Typography_Typography,{variant:"body2",sx:{backgroundColor:"primary.main",color:"white",px:2,py:1,borderRadius:1,fontWeight:500,textAlign:"center"}},react.createElement(message,{id:"assets.drop_file_here",defaultMessage:"Drop file here"})))),react.createElement(CardContent_CardContent,{sx:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"16px !important"}},react.createElement(material_Typography_Typography,{variant:"body2",sx:{fontWeight:500,mb:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.2,minHeight:"2.4em"},title:item.name},item.name),item.isFolder||!item.size&&!item.contentType?item.isFolder?react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{mt:"auto",fontStyle:"italic"}},"Folder"):null:react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{mt:"auto"}},void 0!==item.size&&item.size>0&&formatFileSize(item.size),void 0!==item.size&&item.size>0&&item.contentType&&"  ",item.contentType&&item.contentType.split("/")[0]))))})),react.createElement(Menu_Menu,{anchorEl,open:Boolean(anchorEl),onClose:handleMenuClose},(null==selectedItem?void 0:selectedItem.downloadURL)&&react.createElement(MenuItem_MenuItem,{onClick:function onClick(){window.open(selectedItem.downloadURL,"_blank"),handleMenuClose()}},react.createElement(esm_Download,{sx:{mr:1}}),react.createElement(message,{id:"assets.download",defaultMessage:"Download"})),react.createElement(MenuItem_MenuItem,{onClick:function onClick(){setFileToMove(selectedItem),setMoveFileDialogOpen(!0),handleMenuClose()}},react.createElement(DriveFileMove,{sx:{mr:1}}),react.createElement(message,{id:null!=selectedItem&&selectedItem.isFolder?"assets.move_folder":"assets.move_file",defaultMessage:null!=selectedItem&&selectedItem.isFolder?"Move Folder":"Move File"})),react.createElement(MenuItem_MenuItem,{onClick:function onClick(){setItemToDelete(selectedItem),setDeleteDialogOpen(!0),handleMenuClose()}},react.createElement(esm_Delete,{sx:{mr:1,color:"rgba(0, 0, 0, 0.54)"}}),react.createElement(message,{id:"common.delete",defaultMessage:"Delete"}))),react.createElement(Dialog_Dialog,{open:uploadDialogOpen,onClose:function onClose(){setUploadDialogOpen(!1),setSelectedFiles([]),setUploadProgress({})},maxWidth:!1,sx:{"& .MuiDialog-paper":{maxWidth:"1024px"}},fullWidth:!0,PaperProps:{sx:{height:"80vh",maxHeight:"80vh",display:"flex",flexDirection:"column",overflow:"hidden"}}},react.createElement(DialogTitle_DialogTitle,null,react.createElement(material_Box_Box,{display:"flex",justifyContent:"space-between",alignItems:"center"},react.createElement(message,{id:"assets.upload_title",defaultMessage:"Upload Files"}),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},react.createElement(message,{id:"assets.drop_anywhere_hint",defaultMessage:"Tip: You can drop files anywhere on this dialog"})))),react.createElement(DialogContent_DialogContent,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"auto"}},0===selectedFiles.length&&react.createElement(material_Box_Box,extends_extends({},getRootProps(),{sx:{border:"2px dashed",borderColor:isDragActive?"primary.main":isDragReject?"error.main":"grey.300",borderRadius:2,p:4,textAlign:"center",cursor:"pointer",backgroundColor:isDragActive?"action.hover":"background.default",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"},flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:2,minHeight:"400px"}}),react.createElement("input",getInputProps()),react.createElement(CloudUpload,{sx:{fontSize:32,color:isDragActive?"primary.main":"grey.400"}}),react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body1"},isDragActive?react.createElement(message,{id:"assets.drop_files_here",defaultMessage:"Drop files here"}):react.createElement(message,{id:"assets.click_or_drag",defaultMessage:"Click to browse or drag files here"})),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},react.createElement(message,{id:"assets.max_size",defaultMessage:"Max {maxSize} per file",values:{maxSize:maxSizeFormatted}}))),isDragReject&&react.createElement(material_Typography_Typography,{variant:"body2",color:"error"},react.createElement(message,{id:"assets.invalid_file_type",defaultMessage:"Some files are not supported"}))),selectedFiles.length>0&&react.createElement(material_Box_Box,{sx:{mt:3}},react.createElement(material_Box_Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2}},react.createElement(material_Typography_Typography,{variant:"subtitle2"},react.createElement(message,{id:"assets.selected_files",defaultMessage:"Selected files ({count})",values:{count:selectedFiles.length}})),react.createElement(material_Button_Button,{size:"small",onClick:function clearAllFiles(){for_each_default()(previewUrls).call(previewUrls,function(url){return url_default().revokeObjectURL(url)}),setPreviewUrls(new(core_js_stable_map_default())),setSelectedFiles([]),setUploadProgress({})},sx:{textTransform:"none"}},react.createElement(message,{id:"assets.clear_all",defaultMessage:"Clear All"}))),react.createElement(material_Box_Box,null,react.createElement(Grid_Grid,{container:!0,spacing:2},map_default()(selectedFiles).call(selectedFiles,function(file,index){var _context23,preview=getFilePreview(file);return react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,md:4,key:concat_default()(_context23="".concat(file.name,"-")).call(_context23,index)},react.createElement(Card_Card,{variant:"outlined"},react.createElement(material_Box_Box,{sx:{height:120,backgroundColor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}},preview?react.createElement("img",{src:preview,alt:file.name,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):getFileIcon(file.type),react.createElement(IconButton_IconButton,{size:"small",onClick:function onClick(){return function removeFile(index){setSelectedFiles(function(prev){return filter_default()(prev).call(prev,function(_,i){return i!==index})})}(index)},sx:{position:"absolute",top:4,right:4,backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}}},react.createElement(esm_Delete,{fontSize:"small"}))),react.createElement(CardContent_CardContent,{sx:{p:1.5}},react.createElement(material_Typography_Typography,{variant:"body2",noWrap:!0,title:file.name,sx:{fontWeight:500}},file.name),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},formatFileSize(file.size),file.type&&"  ".concat(file.type.split("/")[0])))))}),react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,md:4},react.createElement(material_Box_Box,extends_extends({},getRootProps(),{sx:{height:"100%",minHeight:180,border:"2px dashed",borderColor:"grey.300",borderRadius:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}}}),react.createElement("input",getInputProps()),react.createElement(esm_Add,{sx:{fontSize:48,color:"grey.400",mb:1}}),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},react.createElement(message,{id:"assets.add_more_files",defaultMessage:"Add more files"})))))))),react.createElement(DialogActions_DialogActions,{sx:{pt:2,px:3,pb:3,flexShrink:0,borderTop:"1px solid",borderColor:"divider"}},react.createElement(material_Button_Button,{onClick:function onClick(){setUploadDialogOpen(!1),setSelectedFiles([]),setUploadProgress({})}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleUpload,disabled:0===selectedFiles.length||uploading,variant:"contained"},uploading?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(message,{id:"assets.upload_button",defaultMessage:"Upload ({count} files)",values:{count:selectedFiles.length}})))),react.createElement(Dialog_Dialog,{open:deleteDialogOpen,onClose:function onClose(){return setDeleteDialogOpen(!1)}},react.createElement(DialogTitle_DialogTitle,null,react.createElement(message,{id:"assets.delete_title",defaultMessage:"Delete Item"})),react.createElement(DialogContent_DialogContent,null,react.createElement(material_Typography_Typography,null,react.createElement(message,{id:"assets.delete_message",defaultMessage:"Are you sure you want to delete '{itemName}'? This action cannot be undone.",values:{itemName:null==itemToDelete?void 0:itemToDelete.name}}))),react.createElement(DialogActions_DialogActions,{sx:{pt:0,px:3,pb:3}},react.createElement(material_Button_Button,{onClick:function onClick(){return setDeleteDialogOpen(!1)}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleDelete,color:"error",variant:"contained"},react.createElement(message,{id:"common.delete",defaultMessage:"Delete"})))),react.createElement(assets_CreateFolderDialog,{open:createFolderDialogOpen,onClose:function onClose(){return setCreateFolderDialogOpen(!1)},onCreateFolder:handleCreateFolder,currentPath}),react.createElement(assets_MoveFileDialog,{open:moveFileDialogOpen,onClose:function onClose(wasSuccessful){setMoveFileDialogOpen(!1),setFileToMove(null),!0===wasSuccessful&&selectedItems.size>0&&handleClearSelection()},onMoveFile:handleMoveFile,onRefreshItems:loadItems,fileName:(null==fileToMove?void 0:fileToMove.name)||"",currentPath,useFirestoreRules,selectedItems:array_from_default()(selectedItems)}))};var spacing=__webpack_require__(68248);const createStack_excluded=["component","direction","spacing","divider","children","className","useFlexGap"],createStack_defaultTheme=(0,createTheme_createTheme.A)(),createStack_defaultCreateStyledComponent=esm_styled("div",{name:"MuiStack",slot:"Root",overridesResolver:(props,styles)=>styles.root});function createStack_useThemePropsDefault(props){return useThemeProps({props,name:"MuiStack",defaultTheme:createStack_defaultTheme})}function joinChildren(children,separator){const childrenArray=react.Children.toArray(children).filter(Boolean);return childrenArray.reduce((output,child,index)=>(output.push(child),index<childrenArray.length-1&&output.push(react.cloneElement(separator,{key:`separator-${index}`})),output),[])}const createStack_style=({ownerState,theme})=>{let styles=(0,esm_extends.A)({display:"flex",flexDirection:"column"},(0,breakpoints.NI)({theme},(0,breakpoints.kW)({values:ownerState.direction,breakpoints:theme.breakpoints.values}),propValue=>({flexDirection:propValue})));if(ownerState.spacing){const transformer=(0,spacing.LX)(theme),base=Object.keys(theme.breakpoints.values).reduce((acc,breakpoint)=>(("object"==typeof ownerState.spacing&&null!=ownerState.spacing[breakpoint]||"object"==typeof ownerState.direction&&null!=ownerState.direction[breakpoint])&&(acc[breakpoint]=!0),acc),{}),directionValues=(0,breakpoints.kW)({values:ownerState.direction,base}),spacingValues=(0,breakpoints.kW)({values:ownerState.spacing,base});"object"==typeof directionValues&&Object.keys(directionValues).forEach((breakpoint,index,breakpoints)=>{if(!directionValues[breakpoint]){const previousDirectionValue=index>0?directionValues[breakpoints[index-1]]:"column";directionValues[breakpoint]=previousDirectionValue}});const styleFromPropValue=(propValue,breakpoint)=>{return ownerState.useFlexGap?{gap:(0,spacing._W)(transformer,propValue)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${direction=breakpoint?directionValues[breakpoint]:ownerState.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[direction]}`]:(0,spacing._W)(transformer,propValue)}};var direction};styles=(0,deepmerge.A)(styles,(0,breakpoints.NI)({theme},spacingValues,styleFromPropValue))}return styles=(0,breakpoints.iZ)(theme.breakpoints,styles),styles};const Stack=function createStack(options={}){const{createStyledComponent=createStack_defaultCreateStyledComponent,useThemeProps=createStack_useThemePropsDefault,componentName="MuiStack"}=options,StackRoot=createStyledComponent(createStack_style),Stack=react.forwardRef(function Grid(inProps,ref){const themeProps=useThemeProps(inProps),props=(0,extendSxProp.A)(themeProps),{component="div",direction="column",spacing=0,divider,children,className,useFlexGap=!1}=props,other=(0,objectWithoutPropertiesLoose.A)(props,createStack_excluded),ownerState={direction,spacing,useFlexGap},classes=(0,composeClasses.A)({root:["root"]},slot=>(0,generateUtilityClass_generateUtilityClass.Ay)(componentName,slot),{});return(0,jsx_runtime.jsx)(StackRoot,(0,esm_extends.A)({as:component,ownerState,ref,className:(0,clsx.A)(classes.root,className)},other,{children:divider?joinChildren(children,divider):children}))});return Stack}({createStyledComponent:(0,styled.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(props,styles)=>styles.root}),useThemeProps:inProps=>(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiStack"})}),Stack_Stack=Stack;function getFormControlLabelUtilityClasses(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiFormControlLabel",slot)}const FormControlLabel_formControlLabelClasses=(0,generateUtilityClasses.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),FormControlLabel_excluded=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],FormControlLabelRoot=(0,styled.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${FormControlLabel_formControlLabelClasses.label}`]:styles.label},styles.root,styles[`labelPlacement${(0,capitalize.A)(ownerState.labelPlacement)}`]]}})(({theme,ownerState})=>(0,esm_extends.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${FormControlLabel_formControlLabelClasses.disabled}`]:{cursor:"default"}},"start"===ownerState.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===ownerState.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===ownerState.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${FormControlLabel_formControlLabelClasses.label}`]:{[`&.${FormControlLabel_formControlLabelClasses.disabled}`]:{color:(theme.vars||theme).palette.text.disabled}}})),FormControlLabel_AsteriskComponent=(0,styled.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(props,styles)=>styles.asterisk})(({theme})=>({[`&.${FormControlLabel_formControlLabelClasses.error}`]:{color:(theme.vars||theme).palette.error.main}})),FormControlLabel=react.forwardRef(function FormControlLabel(inProps,ref){var _ref,_slotProps$typography;const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiFormControlLabel"}),{className,componentsProps={},control,disabled:disabledProp,disableTypography,label:labelProp,labelPlacement="end",required:requiredProp,slotProps={}}=props,other=(0,objectWithoutPropertiesLoose.A)(props,FormControlLabel_excluded),muiFormControl=useFormControl(),disabled=null!=(_ref=null!=disabledProp?disabledProp:control.props.disabled)?_ref:null==muiFormControl?void 0:muiFormControl.disabled,required=null!=requiredProp?requiredProp:control.props.required,controlProps={disabled,required};["checked","name","onChange","value","inputRef"].forEach(key=>{void 0===control.props[key]&&void 0!==props[key]&&(controlProps[key]=props[key])});const fcs=formControlState({props,muiFormControl,states:["error"]}),ownerState=(0,esm_extends.A)({},props,{disabled,labelPlacement,required,error:fcs.error}),classes=(ownerState=>{const{classes,disabled,labelPlacement,error,required}=ownerState,slots={root:["root",disabled&&"disabled",`labelPlacement${(0,capitalize.A)(labelPlacement)}`,error&&"error",required&&"required"],label:["label",disabled&&"disabled"],asterisk:["asterisk",error&&"error"]};return(0,composeClasses.A)(slots,getFormControlLabelUtilityClasses,classes)})(ownerState),typographySlotProps=null!=(_slotProps$typography=slotProps.typography)?_slotProps$typography:componentsProps.typography;let label=labelProp;return null==label||label.type===material_Typography_Typography||disableTypography||(label=(0,jsx_runtime.jsx)(material_Typography_Typography,(0,esm_extends.A)({component:"span"},typographySlotProps,{className:(0,clsx.A)(classes.label,null==typographySlotProps?void 0:typographySlotProps.className),children:label}))),(0,jsx_runtime.jsxs)(FormControlLabelRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other,{children:[react.cloneElement(control,controlProps),required?(0,jsx_runtime.jsxs)(Stack_Stack,{display:"block",children:[label,(0,jsx_runtime.jsxs)(FormControlLabel_AsteriskComponent,{ownerState,"aria-hidden":!0,className:classes.asterisk,children:["","*"]})]}):label]}))}),FormControlLabel_FormControlLabel=FormControlLabel,esm_Edit=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const esm_Upgrade=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade");const license_UpgradeBanner=function UpgradeBanner(_ref){_ref.feature;var _context,title=_ref.title,description=_ref.description,_ref$benefits=_ref.benefits,benefits=void 0===_ref$benefits?[]:_ref$benefits,_ref$showBenefits=(_ref.size,_ref.showBenefits),showBenefits=void 0!==_ref$showBenefits&&_ref$showBenefits,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),pricingDialogOpen=_useState2[0],setPricingDialogOpen=_useState2[1],_useLicense=license_hooks_useLicense(),getPlanDisplayName=_useLicense.getPlanDisplayName,canUpgrade=_useLicense.canUpgrade,canUserUpgrade=(getPlanDisplayName(),canUpgrade());return react.createElement(material_Paper_Paper,{elevation:0,sx:{p:2,border:1,borderColor:function borderColor(theme){return colorManipulator_alpha(theme.palette.primary.main,.1)},borderRadius:2,mb:3}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:3}},react.createElement(material_Box_Box,{sx:{flex:1,minWidth:0}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1}},react.createElement(Lock,{sx:{fontSize:18,color:"primary.main",opacity:.6}}),react.createElement(material_Typography_Typography,{variant:"subtitle1",sx:{fontWeight:600,fontSize:"1rem"}},title),react.createElement(material_Chip_Chip,{label:"Pro Required",size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.7rem",height:18}})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.4,mb:showBenefits&&benefits.length>0?1:0}},description),showBenefits&&benefits.length>0&&react.createElement(material_Box_Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},map_default()(_context=instance_slice_default()(benefits).call(benefits,0,3)).call(_context,function(benefit,index){return react.createElement(material_Chip_Chip,{key:index,label:benefit,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,"& .MuiChip-label":{px:1}}})}),benefits.length>3&&react.createElement(material_Chip_Chip,{label:"+ more",size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,"& .MuiChip-label":{px:1}}}))),canUserUpgrade&&react.createElement(material_Box_Box,{sx:{flexShrink:0}},react.createElement(material_Button_Button,{variant:"contained",startIcon:react.createElement(esm_Upgrade,null),onClick:function handleUpgrade(){setPricingDialogOpen(!0)},sx:{fontWeight:600,minWidth:110,whiteSpace:"nowrap"}},"Upgrade to Pro"))),react.createElement(billing_PricingDialog,{open:pricingDialogOpen,onClose:function onClose(){return setPricingDialogOpen(!1)}}))};function getLinearProgressUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiLinearProgress",slot)}(0,generateUtilityClasses.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const LinearProgress_excluded=["className","color","value","valueBuffer","variant"];let LinearProgress_t,LinearProgress_t2,LinearProgress_t3,LinearProgress_t4,_t5,_t6,LinearProgress_=t=>t;const indeterminate1Keyframe=(0,emotion_react_browser_esm.i7)(LinearProgress_t||(LinearProgress_t=LinearProgress_`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),indeterminate2Keyframe=(0,emotion_react_browser_esm.i7)(LinearProgress_t2||(LinearProgress_t2=LinearProgress_`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),bufferKeyframe=(0,emotion_react_browser_esm.i7)(LinearProgress_t3||(LinearProgress_t3=LinearProgress_`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),getColorShade=(theme,color)=>"inherit"===color?"currentColor":theme.vars?theme.vars.palette.LinearProgress[`${color}Bg`]:"light"===theme.palette.mode?(0,colorManipulator.a)(theme.palette[color].main,.62):(0,colorManipulator.e$)(theme.palette[color].main,.5),LinearProgressRoot=(0,styled.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`color${(0,capitalize.A)(ownerState.color)}`],styles[ownerState.variant]]}})(({ownerState,theme})=>(0,esm_extends.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:getColorShade(theme,ownerState.color)},"inherit"===ownerState.color&&"buffer"!==ownerState.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===ownerState.variant&&{backgroundColor:"transparent"},"query"===ownerState.variant&&{transform:"rotate(180deg)"})),LinearProgressDashed=(0,styled.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.dashed,styles[`dashedColor${(0,capitalize.A)(ownerState.color)}`]]}})(({ownerState,theme})=>{const backgroundColor=getColorShade(theme,ownerState.color);return(0,esm_extends.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===ownerState.color&&{opacity:.3},{backgroundImage:`radial-gradient(${backgroundColor} 0%, ${backgroundColor} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,emotion_react_browser_esm.AH)(LinearProgress_t4||(LinearProgress_t4=LinearProgress_`
    animation: ${0} 3s infinite linear;
  `),bufferKeyframe)),LinearProgressBar1=(0,styled.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.bar,styles[`barColor${(0,capitalize.A)(ownerState.color)}`],("indeterminate"===ownerState.variant||"query"===ownerState.variant)&&styles.bar1Indeterminate,"determinate"===ownerState.variant&&styles.bar1Determinate,"buffer"===ownerState.variant&&styles.bar1Buffer]}})(({ownerState,theme})=>(0,esm_extends.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===ownerState.color?"currentColor":(theme.vars||theme).palette[ownerState.color].main},"determinate"===ownerState.variant&&{transition:"transform .4s linear"},"buffer"===ownerState.variant&&{zIndex:1,transition:"transform .4s linear"}),({ownerState})=>("indeterminate"===ownerState.variant||"query"===ownerState.variant)&&(0,emotion_react_browser_esm.AH)(_t5||(_t5=LinearProgress_`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),indeterminate1Keyframe)),LinearProgressBar2=(0,styled.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.bar,styles[`barColor${(0,capitalize.A)(ownerState.color)}`],("indeterminate"===ownerState.variant||"query"===ownerState.variant)&&styles.bar2Indeterminate,"buffer"===ownerState.variant&&styles.bar2Buffer]}})(({ownerState,theme})=>(0,esm_extends.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==ownerState.variant&&{backgroundColor:"inherit"===ownerState.color?"currentColor":(theme.vars||theme).palette[ownerState.color].main},"inherit"===ownerState.color&&{opacity:.3},"buffer"===ownerState.variant&&{backgroundColor:getColorShade(theme,ownerState.color),transition:"transform .4s linear"}),({ownerState})=>("indeterminate"===ownerState.variant||"query"===ownerState.variant)&&(0,emotion_react_browser_esm.AH)(_t6||(_t6=LinearProgress_`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),indeterminate2Keyframe)),LinearProgress=react.forwardRef(function LinearProgress(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiLinearProgress"}),{className,color="primary",value,valueBuffer,variant="indeterminate"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,LinearProgress_excluded),ownerState=(0,esm_extends.A)({},props,{color,variant}),classes=(ownerState=>{const{classes,variant,color}=ownerState,slots={root:["root",`color${(0,capitalize.A)(color)}`,variant],dashed:["dashed",`dashedColor${(0,capitalize.A)(color)}`],bar1:["bar",`barColor${(0,capitalize.A)(color)}`,("indeterminate"===variant||"query"===variant)&&"bar1Indeterminate","determinate"===variant&&"bar1Determinate","buffer"===variant&&"bar1Buffer"],bar2:["bar","buffer"!==variant&&`barColor${(0,capitalize.A)(color)}`,"buffer"===variant&&`color${(0,capitalize.A)(color)}`,("indeterminate"===variant||"query"===variant)&&"bar2Indeterminate","buffer"===variant&&"bar2Buffer"]};return(0,composeClasses.A)(slots,getLinearProgressUtilityClass,classes)})(ownerState),isRtl=useRtl(),rootProps={},inlineStyles={bar1:{},bar2:{}};if("determinate"===variant||"buffer"===variant)if(void 0!==value){rootProps["aria-valuenow"]=Math.round(value),rootProps["aria-valuemin"]=0,rootProps["aria-valuemax"]=100;let transform=value-100;isRtl&&(transform=-transform),inlineStyles.bar1.transform=`translateX(${transform}%)`}else 0;if("buffer"===variant)if(void 0!==valueBuffer){let transform=(valueBuffer||0)-100;isRtl&&(transform=-transform),inlineStyles.bar2.transform=`translateX(${transform}%)`}else 0;return(0,jsx_runtime.jsxs)(LinearProgressRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,role:"progressbar"},rootProps,{ref},other,{children:["buffer"===variant?(0,jsx_runtime.jsx)(LinearProgressDashed,{className:classes.dashed,ownerState}):null,(0,jsx_runtime.jsx)(LinearProgressBar1,{className:classes.bar1,ownerState,style:inlineStyles.bar1}),"determinate"===variant?null:(0,jsx_runtime.jsx)(LinearProgressBar2,{className:classes.bar2,ownerState,style:inlineStyles.bar2})]}))}),LinearProgress_LinearProgress=LinearProgress,TrendingUp=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp");const license_UsageLimitWarning=function UsageLimitWarning(_ref){var _context3,_context4,_context5,type=_ref.type,current=_ref.current,onUpgrade=_ref.onUpgrade,_ref$showProgress=_ref.showProgress,showProgress=void 0===_ref$showProgress||_ref$showProgress,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),pricingDialogOpen=_useState2[0],setPricingDialogOpen=_useState2[1],_useLicense=license_hooks_useLicense(),getUserLimit=_useLicense.getUserLimit,getStorageLimit=_useLicense.getStorageLimit,getCollectionLimit=_useLicense.getCollectionLimit,getPlanDisplayName=_useLicense.getPlanDisplayName,canUpgrade=_useLicense.canUpgrade,limit=function getLimit(){switch(type){case"users":return getUserLimit();case"storage":return getStorageLimit();case"collections":return getCollectionLimit();default:return 0}}(),currentPlan=getPlanDisplayName(),canUserUpgrade=canUpgrade();if(-1===limit||0===limit)return null;var percentage=Math.min(current/limit*100,100),isAtLimit=percentage>=100;if(!(percentage>=80))return null;var getTypeLabel=function getTypeLabel(){switch(type){case"users":return"users";case"storage":return"GB storage";case"collections":return"collections";default:return""}},benefits=function getBenefits(){switch(type){case"users":return["Unlimited users","Advanced roles","Custom permissions"];case"storage":return["Unlimited storage","File management","Advanced uploads"];case"collections":return["Unlimited collections","Schema customization","Advanced queries"];default:return[]}}();return react.createElement(material_Paper_Paper,{elevation:0,sx:{p:2,border:1,borderColor:function borderColor(theme){return colorManipulator_alpha(theme.palette.primary.main,.1)},borderRadius:2,mb:3}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:3}},react.createElement(material_Box_Box,{sx:{flex:1,minWidth:0}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1}},react.createElement(TrendingUp,{sx:{fontSize:18,color:"primary.main",opacity:.6}}),react.createElement(material_Typography_Typography,{variant:"subtitle1",sx:{fontWeight:600,fontSize:"1rem"}},function getTitle(){return isAtLimit?"Ready to Scale Up?":"Growing Fast!"}()),react.createElement(material_Chip_Chip,{label:concat_default()(_context3=concat_default()(_context4="".concat(current,"/")).call(_context4,limit," ")).call(_context3,getTypeLabel()),size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:18}})),showProgress&&react.createElement(material_Box_Box,{sx:{mb:1}},react.createElement(LinearProgress_LinearProgress,{variant:"determinate",value:percentage,sx:{height:6,borderRadius:3,backgroundColor:function backgroundColor(theme){return colorManipulator_alpha(theme.palette.primary.main,.1)},"& .MuiLinearProgress-bar":{backgroundColor:function backgroundColor(theme){return percentage>=90?theme.palette.warning.main:theme.palette.primary.main},borderRadius:3}}})),react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.4,mb:1}},function getMessage(){var _context2,_context,typeLabel=getTypeLabel();return isAtLimit?concat_default()(_context="You've reached your ".concat(currentPlan," plan limit. Upgrade to Pro for unlimited ")).call(_context,typeLabel," and unlock powerful features to scale your application."):concat_default()(_context2="You're approaching your ".concat(currentPlan," plan limit. Upgrade to Pro for unlimited ")).call(_context2,typeLabel," and advanced features.")}()),react.createElement(material_Box_Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},map_default()(_context5=instance_slice_default()(benefits).call(benefits,0,3)).call(_context5,function(benefit,index){return react.createElement(material_Chip_Chip,{key:index,label:benefit,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,"& .MuiChip-label":{px:1}}})}))),canUserUpgrade&&react.createElement(material_Box_Box,{sx:{flexShrink:0}},react.createElement(material_Button_Button,{variant:"contained",startIcon:react.createElement(esm_Upgrade,null),onClick:function handleUpgrade(){onUpgrade?onUpgrade():setPricingDialogOpen(!0)},sx:{fontWeight:600,minWidth:110,whiteSpace:"nowrap"}},"Upgrade to Pro"))),react.createElement(billing_PricingDialog,{open:pricingDialogOpen,onClose:function onClose(){return setPricingDialogOpen(!1)}}))};function UsersManagement_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function UsersManagement_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context17,_context18,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context17=UsersManagement_ownKeys(Object(t),!0)).call(_context17,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context18=UsersManagement_ownKeys(Object(t))).call(_context18,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}function UsersManagement_createForOfIteratorHelper(r,e){var t=void 0!==core_js_stable_symbol_default()&&core_js_get_iterator_method_default()(r)||r["@@iterator"];if(!t){if(array_is_array_default()(r)||(t=function UsersManagement_unsupportedIterableToArray(r,a){if(r){var _context16;if("string"==typeof r)return UsersManagement_arrayLikeToArray(r,a);var t=instance_slice_default()(_context16={}.toString.call(r)).call(_context16,8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?array_from_default()(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?UsersManagement_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function UsersManagement_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}const users_UsersManagement=function UsersManagement(){var _fireengineConfig,_context15,isMountedRef=(0,react.useRef)(!0),_useState2=slicedToArray_slicedToArray((0,react.useState)([]),2),users=_useState2[0],setUsers=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!0),2),loading=_useState4[0],setLoading=_useState4[1],_useLicense=license_hooks_useLicense(),canAddMoreUsers=_useLicense.canAddMoreUsers,getUserLimit=_useLicense.getUserLimit,hasFeature=_useLicense.hasFeature,_useState6=slicedToArray_slicedToArray((0,react.useState)(0),2),page=_useState6[0],setPage=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(10),2),rowsPerPage=_useState8[0],setRowsPerPage=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),editDialogOpen=_useState0[0],setEditDialogOpen=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(!1),2),addDialogOpen=_useState10[0],setAddDialogOpen=_useState10[1],_useState12=slicedToArray_slicedToArray((0,react.useState)(null),2),selectedUser=_useState12[0],setSelectedUser=_useState12[1],_useState14=slicedToArray_slicedToArray((0,react.useState)({displayName:"",email:"",disabled:!1,emailVerified:!1,role:""}),2),editFormData=_useState14[0],setEditFormData=_useState14[1],_useState16=slicedToArray_slicedToArray((0,react.useState)({displayName:"",email:"",password:"",disabled:!1,emailVerified:!1,role:"",sendWelcomeEmail:!1}),2),addFormData=_useState16[0],setAddFormData=_useState16[1],formatMessage=useIntl().formatMessage,roles=(app_hooks_useApp().config,useSchema().schema,roles_hooks_useRoles().roles),_useAuth=auth_hooks_useAuth(),currentUser=_useAuth.user,refreshUserClaims=_useAuth.refreshUserClaims,isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),availableWidth=useAvailableWidth(),_useSearch=useSearch("search"),searchTerm=_useSearch.searchTerm,setSearchTerm=_useSearch.setSearchTerm,ownerEmail=null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig?void 0:_fireengineConfig.ownerEmail,currentUserIsAdmin=isOwner(currentUser,ownerEmail)||"admin"===getEffectiveRole(currentUser,ownerEmail),availableRoles=function getAvailableRoles(){var availableRoles=[{value:"",label:formatMessage({id:"users.no_role",defaultMessage:"No Role"})}];return for_each_default()(roles).call(roles,function(role){("admin"!==role.id||currentUserIsAdmin)&&availableRoles.push({value:role.id,label:role.name})}),availableRoles}(),roleOrder={owner:0,admin:1,editor:2,viewer:3},getRolePriority=function getRolePriority(user){if(isOwner(user,ownerEmail))return roleOrder.owner;var effectiveRole=getEffectiveRole(user,ownerEmail);return effectiveRole&&roleOrder.hasOwnProperty(effectiveRole)?roleOrder[effectiveRole]:1e3},filteredUsers=(0,react.useMemo)(function(){var result=users;if(trim_default()(searchTerm).call(searchTerm)){var _context,term=trim_default()(_context=searchTerm.toLowerCase()).call(_context);result=filter_default()(users).call(users,function(user){var _context2,_context3;if(user.email&&includes_default()(_context2=user.email.toLowerCase()).call(_context2,term))return!0;if(user.displayName&&includes_default()(_context3=user.displayName.toLowerCase()).call(_context3,term))return!0;var effectiveRole=getEffectiveRole(user,ownerEmail);if(effectiveRole){var _availableRoles$find,_context4,roleLabel=(null===(_availableRoles$find=find_default()(availableRoles).call(availableRoles,function(r){return r.value===effectiveRole}))||void 0===_availableRoles$find?void 0:_availableRoles$find.label)||effectiveRole;if(includes_default()(_context4=roleLabel.toLowerCase()).call(_context4,term))return!0}if(user.providerData){var _step,_iterator=UsersManagement_createForOfIteratorHelper(user.providerData);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _context5,_context6,_context7,provider=_step.value;if(provider.providerId&&includes_default()(_context5=provider.providerId.toLowerCase()).call(_context5,term))return!0;if(provider.email&&includes_default()(_context6=provider.email.toLowerCase()).call(_context6,term))return!0;if(provider.displayName&&includes_default()(_context7=provider.displayName.toLowerCase()).call(_context7,term))return!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return!1})}return sort_default()(result).call(result,function(a,b){var aPriority=getRolePriority(a),bPriority=getRolePriority(b);if(aPriority!==bPriority)return aPriority-bPriority;if(aPriority>=1e3&&bPriority>=1e3){var aRole=getEffectiveRole(a,ownerEmail)||"",bRole=getEffectiveRole(b,ownerEmail)||"",roleComparison=aRole.localeCompare(bRole);if(0!==roleComparison)return roleComparison}var aName=(a.displayName||a.email||"").toLowerCase(),bName=(b.displayName||b.email||"").toLowerCase();return aName.localeCompare(bName)})},[users,searchTerm,availableRoles,ownerEmail]);(0,react.useEffect)(function(){return function(){isMountedRef.current=!1}},[]),(0,react.useEffect)(function(){var fetchUsers=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var auth,usersResponse,_t;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,isMountedRef.current&&setLoading(!0),auth=index_35c79a8a_getAuth(),_context8.next=1,apiGet(auth,"/api/users");case 1:if(usersResponse=_context8.sent,isMountedRef.current){_context8.next=2;break}return _context8.abrupt("return");case 2:if(!array_is_array_default()(usersResponse)){_context8.next=3;break}setUsers(usersResponse),_context8.next=4;break;case 3:return console.error("Unexpected users response format:",usersResponse),react_toastify_esm_Q.error(formatMessage({id:"users.invalid_response_format",defaultMessage:"Invalid users response format from server"})),_context8.abrupt("return");case 4:_context8.next=7;break;case 5:if(_context8.prev=5,_t=_context8.catch(0),isMountedRef.current){_context8.next=6;break}return _context8.abrupt("return");case 6:console.error("Error fetching users:",_t),react_toastify_esm_Q.error(_t.message||formatMessage({id:"users.fetch_failed",defaultMessage:"Failed to fetch users"}));case 7:return _context8.prev=7,isMountedRef.current&&setLoading(!1),_context8.finish(7);case 8:case"end":return _context8.stop()}},_callee,null,[[0,5,7,8]])}));return function fetchUsers(){return _ref.apply(this,arguments)}}();fetchUsers()},[formatMessage]),(0,react.useEffect)(function(){trim_default()(searchTerm).call(searchTerm)&&setPage(0)},[searchTerm]);var handleSaveUser=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var targetUserIsAdmin,auth,updateData,_currentUser,_t2;return regenerator_default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(selectedUser){_context9.next=1;break}return _context9.abrupt("return");case 1:if(currentUserIsAdmin||"admin"!==editFormData.role){_context9.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"users.cannot_assign_admin",defaultMessage:"You do not have permission to assign admin role"})),_context9.abrupt("return");case 2:if(targetUserIsAdmin=isOwner(selectedUser,ownerEmail)||"admin"===getEffectiveRole(selectedUser,ownerEmail),currentUserIsAdmin||!targetUserIsAdmin){_context9.next=3;break}return react_toastify_esm_Q.error(formatMessage({id:"users.cannot_edit_admin",defaultMessage:"You do not have permission to edit admin users"})),_context9.abrupt("return");case 3:return _context9.prev=3,auth=index_35c79a8a_getAuth(),updateData=UsersManagement_objectSpread(UsersManagement_objectSpread({},editFormData),{},{customClaims:editFormData.role?{role:editFormData.role}:{}}),_context9.next=4,apiPut(auth,"/api/users/".concat(selectedUser.uid),updateData);case 4:if(setUsers(map_default()(users).call(users,function(user){return user.uid===selectedUser.uid?UsersManagement_objectSpread(UsersManagement_objectSpread(UsersManagement_objectSpread({},user),editFormData),{},{customClaims:updateData.customClaims}):user})),setEditDialogOpen(!1),setSelectedUser(null),!(_currentUser=index_35c79a8a_getAuth().currentUser)||_currentUser.uid!==selectedUser.uid){_context9.next=5;break}return _context9.next=5,refreshUserClaims();case 5:react_toastify_esm_Q.success(formatMessage({id:"users.user_updated_success",defaultMessage:"User {email} updated successfully"},{email:editFormData.email})),_context9.next=7;break;case 6:_context9.prev=6,_t2=_context9.catch(3),console.error("Error updating user:",_t2),react_toastify_esm_Q.error(_t2.message||formatMessage({id:"users.update_failed",defaultMessage:"Failed to update user"}));case 7:case"end":return _context9.stop()}},_callee2,null,[[3,6]])}));return function handleSaveUser(){return _ref2.apply(this,arguments)}}(),handleDeleteUser=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(user){var targetUserIsAdmin,auth,_t3;return regenerator_default().wrap(function(_context0){for(;;)switch(_context0.prev=_context0.next){case 0:if(!isOwner(user,ownerEmail)){_context0.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"users.cannot_delete_owner",defaultMessage:"The owner user cannot be deleted."})),_context0.abrupt("return");case 1:if(targetUserIsAdmin="admin"===getEffectiveRole(user,ownerEmail),currentUserIsAdmin||!targetUserIsAdmin){_context0.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"users.cannot_delete_admin",defaultMessage:"You do not have permission to delete admin users"})),_context0.abrupt("return");case 2:if(window.confirm(formatMessage({id:"users.confirm_delete",defaultMessage:"Are you sure you want to delete user {email}? This action cannot be undone."},{email:user.email||user.uid}))){_context0.next=3;break}return _context0.abrupt("return");case 3:return _context0.prev=3,auth=index_35c79a8a_getAuth(),_context0.next=4,apiDelete(auth,"/api/users/".concat(user.uid));case 4:setUsers(filter_default()(users).call(users,function(u){return u.uid!==user.uid})),react_toastify_esm_Q.success(formatMessage({id:"users.user_deleted_success",defaultMessage:"User {email} deleted successfully"},{email:user.email||user.uid})),_context0.next=6;break;case 5:_context0.prev=5,_t3=_context0.catch(3),console.error("Error deleting user:",_t3),react_toastify_esm_Q.error(_t3.message||formatMessage({id:"users.delete_failed",defaultMessage:"Failed to delete user"}));case 6:case"end":return _context0.stop()}},_callee3,null,[[3,5]])}));return function handleDeleteUser(_x){return _ref3.apply(this,arguments)}}(),handleSaveNewUser=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(){var _context1,_context10,_context11,_context12,_context13,auth,response,_t4;return regenerator_default().wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:if(trim_default()(_context1=addFormData.email).call(_context1)){_context14.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"users.email_required",defaultMessage:"Email is required"})),_context14.abrupt("return");case 1:if(currentUserIsAdmin||"admin"!==addFormData.role){_context14.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"users.cannot_assign_admin",defaultMessage:"You do not have permission to assign admin role"})),_context14.abrupt("return");case 2:if(trim_default()(_context10=addFormData.password).call(_context10)){_context14.next=3;break}return react_toastify_esm_Q.error(formatMessage({id:"users.password_required",defaultMessage:"Password is required"})),_context14.abrupt("return");case 3:if(!(addFormData.password.length<6)){_context14.next=4;break}return react_toastify_esm_Q.error(formatMessage({id:"users.password_too_short",defaultMessage:"Password must be at least 6 characters"})),_context14.abrupt("return");case 4:if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(addFormData.email)){_context14.next=5;break}return react_toastify_esm_Q.error(formatMessage({id:"users.invalid_email",defaultMessage:"Please enter a valid email address"})),_context14.abrupt("return");case 5:return _context14.prev=5,auth=index_35c79a8a_getAuth(),_context14.next=6,apiPost(auth,"/api/users",{email:trim_default()(_context11=addFormData.email).call(_context11),password:addFormData.password,displayName:trim_default()(_context12=addFormData.displayName).call(_context12)||void 0,emailVerified:addFormData.emailVerified,disabled:addFormData.disabled,customClaims:addFormData.role?{role:addFormData.role}:{}});case 6:response=_context14.sent,setUsers(concat_default()(_context13=[response]).call(_context13,_toConsumableArray(users))),setAddDialogOpen(!1),react_toastify_esm_Q.success(formatMessage({id:"users.user_created_success",defaultMessage:"User {email} created successfully"},{email:response.email})),setAddFormData({displayName:"",email:"",password:"",disabled:!1,emailVerified:!1,role:"",sendWelcomeEmail:!1}),_context14.next=8;break;case 7:_context14.prev=7,_t4=_context14.catch(5),console.error("Error creating user:",_t4),react_toastify_esm_Q.error(_t4.message||formatMessage({id:"users.create_failed",defaultMessage:"Failed to create user"}));case 8:case"end":return _context14.stop()}},_callee4,null,[[5,7]])}));return function handleSaveNewUser(){return _ref4.apply(this,arguments)}}();return loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(material_Box_Box,{sx:{p:isMobile?2:3,maxWidth:availableWidth}},react.createElement(material_Box_Box,{sx:{mb:3}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,minHeight:40}},react.createElement(SearchField,{placeholder:formatMessage({id:"users.search_placeholder",defaultMessage:"Search users"}),size:"small",value:searchTerm,onChange:setSearchTerm}),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1,flexShrink:0}},react.createElement(Tooltip_Tooltip,{title:canAddMoreUsers(users.length)?"":formatMessage({id:"users.upgrade_required_tooltip",defaultMessage:"You've reached your user limit. Upgrade to Pro for unlimited users."}),arrow:!0,placement:"top"},react.createElement("span",null,react.createElement(AddButton,{onClick:function handleAddUser(){if(canAddMoreUsers(users.length))setAddFormData({displayName:"",email:"",password:"",disabled:!1,emailVerified:!1,role:"",sendWelcomeEmail:!1}),setAddDialogOpen(!0);else{var userLimit=getUserLimit();react_toastify_esm_Q.error(formatMessage({id:"users.user_limit_reached",defaultMessage:"You've reached your user limit of {userLimit}. Upgrade to Pro for unlimited users."},{userLimit}))}},text:formatMessage({id:"users.add_user",defaultMessage:"Add User"}),size:"small",disabled:!canAddMoreUsers(users.length)})))))),react.createElement(material_Box_Box,{sx:{width:"100%",overflow:"auto"}},react.createElement(TableContainer_TableContainer,{component:material_Paper_Paper,sx:{overflowX:"auto","&::-webkit-scrollbar":{height:8},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:4,"&:hover":{backgroundColor:"#a8a8a8"}}}},react.createElement(Table_Table,{sx:{minWidth:800}},react.createElement(TableHead_TableHead,null,react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"users.avatar",defaultMessage:"Avatar"})),react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"users.name",defaultMessage:"Name"})),react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"users.email",defaultMessage:"Email"})),react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"users.status",defaultMessage:"Status"})),react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"users.providers",defaultMessage:"Providers"})),react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"users.role",defaultMessage:"Role"})),react.createElement(TableCell_TableCell,{align:"right"},react.createElement(message,{id:"users.actions",defaultMessage:"Actions"})))),react.createElement(TableBody_TableBody,null,filteredUsers&&filteredUsers.length>0?map_default()(_context15=instance_slice_default()(filteredUsers).call(filteredUsers,page*rowsPerPage,page*rowsPerPage+rowsPerPage)).call(_context15,function(user){var _user$providerData,targetUserIsAdmin,cannotEdit,cannotDelete,shouldAppearDisabled=!hasFeature("unlimitedUsers")&&!isOwner(user,ownerEmail);return react.createElement(TableRow_TableRow,{key:user.uid,hover:!0,sx:shouldAppearDisabled?{opacity:.6,backgroundColor:"rgba(0, 0, 0, 0.02)"}:{}},react.createElement(TableCell_TableCell,null,react.createElement(Avatar_Avatar,{src:user.photoURL,alt:user.displayName||user.email,sx:{width:32,height:32}},(user.displayName||user.email||"U").charAt(0).toUpperCase())),react.createElement(TableCell_TableCell,null,user.displayName||"-"),react.createElement(TableCell_TableCell,null,user.email||"-"),react.createElement(TableCell_TableCell,null,react.createElement(material_Typography_Typography,{variant:"body2"},shouldAppearDisabled?formatMessage({id:"users.inactive",defaultMessage:"Inactive"}):user.disabled?formatMessage({id:"users.disabled",defaultMessage:"Disabled"}):user.emailVerified?formatMessage({id:"users.active",defaultMessage:"Active"}):formatMessage({id:"users.unverified",defaultMessage:"Unverified"}))),react.createElement(TableCell_TableCell,null,react.createElement(material_Typography_Typography,{variant:"body2"},(null===(_user$providerData=user.providerData)||void 0===_user$providerData?void 0:map_default()(_user$providerData).call(_user$providerData,function(provider){return"password"===provider.providerId?formatMessage({id:"auth.provider.email",defaultMessage:"Email"}):provider.providerId}).join(", "))||"-")),react.createElement(TableCell_TableCell,null,react.createElement(material_Typography_Typography,{variant:"body2"},isOwner(user,ownerEmail)?formatMessage({id:"users.owner",defaultMessage:"Owner"}):function(){var effectiveRole=getEffectiveRole(user,ownerEmail);if(effectiveRole){var foundRole=find_default()(availableRoles).call(availableRoles,function(r){return r.value===effectiveRole});return foundRole?foundRole.label:formatMessage({id:"users.no_role",defaultMessage:"No Role"})}return formatMessage({id:"users.no_role",defaultMessage:"No Role"})}())),react.createElement(TableCell_TableCell,{align:"right"},(targetUserIsAdmin=isOwner(user,ownerEmail)||"admin"===getEffectiveRole(user,ownerEmail),cannotEdit=!currentUserIsAdmin&&targetUserIsAdmin,cannotDelete=isOwner(user,ownerEmail)||!currentUserIsAdmin&&targetUserIsAdmin,react.createElement(react.Fragment,null,react.createElement(IconButton_IconButton,{onClick:function onClick(){return function handleEditUser(user){var _user$customClaims,targetUserIsAdmin=isOwner(user,ownerEmail)||"admin"===getEffectiveRole(user,ownerEmail);currentUserIsAdmin||!targetUserIsAdmin?(setSelectedUser(user),setEditFormData({displayName:user.displayName||"",email:user.email||"",disabled:user.disabled,emailVerified:user.emailVerified,role:(null===(_user$customClaims=user.customClaims)||void 0===_user$customClaims?void 0:_user$customClaims.role)||""}),setEditDialogOpen(!0)):react_toastify_esm_Q.error(formatMessage({id:"users.cannot_edit_admin",defaultMessage:"You do not have permission to edit admin users"}))}(user)},size:"small",disabled:cannotEdit,title:formatMessage(cannotEdit?{id:"users.cannot_edit_admin",defaultMessage:"Cannot edit admin users"}:{id:"users.edit",defaultMessage:"Edit user"}),sx:{color:cannotEdit?"rgba(0, 0, 0, 0.26)":"rgba(0, 0, 0, 0.54)"}},react.createElement(esm_Edit,null)),react.createElement(IconButton_IconButton,{onClick:function onClick(){return handleDeleteUser(user)},size:"small",disabled:cannotDelete,title:isOwner(user,ownerEmail)?formatMessage({id:"users.cannot_delete_owner",defaultMessage:"Owner cannot be deleted"}):formatMessage(cannotDelete?{id:"users.cannot_delete_admin",defaultMessage:"Cannot delete admin users"}:{id:"users.delete",defaultMessage:"Delete user"}),sx:{color:cannotDelete?"rgba(0, 0, 0, 0.26)":"rgba(0, 0, 0, 0.54)"}},react.createElement(esm_Delete,null))))))}):react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,{colSpan:7,align:"center",sx:{py:3}},react.createElement(material_Typography_Typography,{variant:"body1",color:"textSecondary"},trim_default()(searchTerm).call(searchTerm)?formatMessage({id:"users.no_search_results",defaultMessage:'No users found matching "{searchTerm}"'},{searchTerm:trim_default()(searchTerm).call(searchTerm)}):react.createElement(message,{id:"users.no_users",defaultMessage:"No users found"})))))),react.createElement(TablePagination_TablePagination,{rowsPerPageOptions:[5,10,25],component:"div",count:filteredUsers?filteredUsers.length:0,rowsPerPage,page:filteredUsers&&filteredUsers.length>0?page:0,onPageChange:function handleChangePage(event,newPage){setPage(newPage)},onRowsPerPageChange:function handleChangeRowsPerPage(event){setRowsPerPage(parse_int_default()(event.target.value,10)),setPage(0)}}))),react.createElement(common_FormDialog,{open:editDialogOpen,onClose:function onClose(){return setEditDialogOpen(!1)},maxWidth:"sm",title:formatMessage({id:"users.edit_user",defaultMessage:"Edit User"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:function onClick(){return setEditDialogOpen(!1)}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleSaveUser,variant:"contained"},react.createElement(message,{id:"common.save",defaultMessage:"Save"})))},react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:2,mt:1},react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"users.email",defaultMessage:"Email"}),value:editFormData.email,onChange:function onChange(e){return setEditFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},editFormData),{},{email:e.target.value}))}}),react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"users.display_name",defaultMessage:"Display Name"}),value:editFormData.displayName,onChange:function onChange(e){return setEditFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},editFormData),{},{displayName:e.target.value}))}}),react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(Checkbox_Checkbox,{checked:editFormData.emailVerified,onChange:function onChange(e){return setEditFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},editFormData),{},{emailVerified:e.target.checked}))}}),label:formatMessage({id:"users.email_verified",defaultMessage:"Email Verified"})}),react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(Checkbox_Checkbox,{checked:editFormData.disabled,onChange:function onChange(e){return setEditFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},editFormData),{},{disabled:e.target.checked}))}}),label:formatMessage({id:"users.disabled",defaultMessage:"Disabled"})}),react.createElement(FormControl_FormControl,{fullWidth:!0},react.createElement(InputLabel_InputLabel,null,formatMessage({id:"users.role",defaultMessage:"Role"})),react.createElement(Select_Select,{value:editFormData.role,label:formatMessage({id:"users.role",defaultMessage:"Role"}),onChange:function onChange(e){return setEditFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},editFormData),{},{role:e.target.value}))}},map_default()(availableRoles).call(availableRoles,function(role){return react.createElement(MenuItem_MenuItem,{key:role.value,value:role.value},role.label)}))))),react.createElement(common_FormDialog,{open:addDialogOpen,onClose:function onClose(){return setAddDialogOpen(!1)},maxWidth:"sm",title:formatMessage({id:"users.add_user",defaultMessage:"Add User"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:function onClick(){return setAddDialogOpen(!1)}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleSaveNewUser,variant:"contained"},react.createElement(message,{id:"users.create_user",defaultMessage:"Create User"})))},react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:2,mt:1},react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"users.email",defaultMessage:"Email"}),type:"email",value:addFormData.email,onChange:function onChange(e){return setAddFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},addFormData),{},{email:e.target.value}))},required:!0,helperText:formatMessage({id:"users.email_required",defaultMessage:"Email is required"})}),react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"users.password",defaultMessage:"Password"}),type:"password",value:addFormData.password,onChange:function onChange(e){return setAddFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},addFormData),{},{password:e.target.value}))},required:!0,helperText:formatMessage({id:"users.password_help",defaultMessage:"Minimum 6 characters"})}),react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"users.display_name",defaultMessage:"Display Name"}),value:addFormData.displayName,onChange:function onChange(e){return setAddFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},addFormData),{},{displayName:e.target.value}))},helperText:formatMessage({id:"users.display_name_optional",defaultMessage:"Optional - user's full name"})}),react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(Checkbox_Checkbox,{checked:addFormData.emailVerified,onChange:function onChange(e){return setAddFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},addFormData),{},{emailVerified:e.target.checked}))}}),label:formatMessage({id:"users.email_verified",defaultMessage:"Email Verified"})}),react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(Checkbox_Checkbox,{checked:addFormData.disabled,onChange:function onChange(e){return setAddFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},addFormData),{},{disabled:e.target.checked}))}}),label:formatMessage({id:"users.disabled",defaultMessage:"Disabled"})}),react.createElement(FormControl_FormControl,{fullWidth:!0},react.createElement(InputLabel_InputLabel,null,formatMessage({id:"users.role",defaultMessage:"Role"})),react.createElement(Select_Select,{value:addFormData.role,label:formatMessage({id:"users.role",defaultMessage:"Role"}),onChange:function onChange(e){return setAddFormData(UsersManagement_objectSpread(UsersManagement_objectSpread({},addFormData),{},{role:e.target.value}))}},map_default()(availableRoles).call(availableRoles,function(role){return react.createElement(MenuItem_MenuItem,{key:role.value,value:role.value},role.label)}))))),react.createElement(material_Box_Box,{sx:{mt:4}},react.createElement(license_UsageLimitWarning,{type:"users",current:users.length})))};var every=__webpack_require__(14166),every_default=__webpack_require__.n(every);function getCardActionsUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCardActions",slot)}(0,generateUtilityClasses.A)("MuiCardActions",["root","spacing"]);const CardActions_excluded=["disableSpacing","className"],CardActionsRoot=(0,styled.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,!ownerState.disableSpacing&&styles.spacing]}})(({ownerState})=>(0,esm_extends.A)({display:"flex",alignItems:"center",padding:8},!ownerState.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),CardActions=react.forwardRef(function CardActions(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCardActions"}),{disableSpacing=!1,className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,CardActions_excluded),ownerState=(0,esm_extends.A)({},props,{disableSpacing}),classes=(ownerState=>{const{classes,disableSpacing}=ownerState,slots={root:["root",!disableSpacing&&"spacing"]};return(0,composeClasses.A)(slots,getCardActionsUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(CardActionsRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ownerState,ref},other))}),CardActions_CardActions=CardActions,Create=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create"),Check=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");function RolesManagement_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function RolesManagement_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context26,_context27,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context26=RolesManagement_ownKeys(Object(t),!0)).call(_context26,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context27=RolesManagement_ownKeys(Object(t))).call(_context27,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}const users_RolesManagement=function RolesManagement(){var _context17,_context18,_context21,_context22,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),addDialogOpen=_useState2[0],setAddDialogOpen=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),editDialogOpen=_useState4[0],setEditDialogOpen=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(null),2),selectedRole=_useState6[0],setSelectedRole=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),saving=_useState8[0],setSaving=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)({name:"",description:"",permissions:[]}),2),formData=_useState0[0],setFormData=_useState0[1],formatMessage=useIntl().formatMessage,config=app_hooks_useApp().config,user=auth_hooks_useAuth().user,contentSchema=useSchema().schema,_useMetadata=useMetadata(),refetchMetadata=(_useMetadata.metadata,_useMetadata.refetchMetadata),_useRoles=roles_hooks_useRoles(),roles=_useRoles.roles,loading=_useRoles.loading,isMobile=useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),availableWidth=useAvailableWidth(),_useLicense=license_hooks_useLicense(),hasFeature=_useLicense.hasFeature,licenseLoading=_useLicense.loading,hasCustomRoles=hasFeature("customRoles"),ownerEmail=null==config?void 0:config.ownerEmail,canEditRoles=function canManageRoles(user,roles,ownerEmail){return permissions_hasPermission(user,"system:roles","write",roles,ownerEmail)}(user,roles,ownerEmail),useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules),handleSaveRole=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _context9,_context0,_context10,_context11,_fireengineConfig,contentPermissions,assetsPermissions,usersPermissions,rolesPermissions,roleData,currentCustomRoles,updatedCustomRoles,auth,_context12,newRole,_updatedCustomRoles,_auth,_t;return regenerator_default().wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:if(_context13.prev=0,setSaving(!0),trim_default()(_context9=formData.name).call(_context9)){_context13.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"roles.name_required",defaultMessage:"Role name is required"})),setSaving(!1),_context13.abrupt("return");case 1:if(contentPermissions={},assetsPermissions={read:!1,write:!1},usersPermissions={read:!1,write:!1},rolesPermissions={read:!1,write:!1},for_each_default()(_context0=formData.permissions).call(_context0,function(perm){var _context1;if("system:assets"===perm.resource)assetsPermissions={read:perm.read,write:perm.write};else if("system:users"===perm.resource)usersPermissions={read:perm.read,write:perm.write};else if("system:roles"===perm.resource)rolesPermissions={read:perm.read,write:perm.write};else if(starts_with_default()(_context1=perm.resource).call(_context1,"collection:")){var collectionName=perm.resource.replace("collection:","");contentPermissions[collectionName]={read:perm.read,write:perm.write}}}),roleData={name:trim_default()(_context10=formData.name).call(_context10),description:trim_default()(_context11=formData.description).call(_context11),permissions:{content:contentPermissions,assets:assetsPermissions,users:usersPermissions,roles:rolesPermissions},predefined:!1},(null===(_fireengineConfig=window.fireengineConfig)||void 0===_fireengineConfig?void 0:_fireengineConfig.basePath)||"",currentCustomRoles=filter_default()(roles).call(roles,function(role){return!role.predefined}),filter_default()(roles).call(roles,function(role){return role.predefined}),!selectedRole){_context13.next=4;break}return updatedCustomRoles=map_default()(currentCustomRoles).call(currentCustomRoles,function(role){return role.id===selectedRole.id?RolesManagement_objectSpread(RolesManagement_objectSpread({},roleData),{},{id:selectedRole.id}):role}),auth=index_35c79a8a_getAuth(),_context13.next=2,apiPost(auth,"/api/firestore/document",{collectionPath:"_fireengineMeta",documentId:"roles",data:{customRoles:updatedCustomRoles}});case 2:return setEditDialogOpen(!1),_context13.next=3,refetchMetadata();case 3:react_toastify_esm_Q.success(formatMessage({id:"roles.role_updated_success",defaultMessage:"Role updated successfully"})),_context13.next=7;break;case 4:return newRole=RolesManagement_objectSpread(RolesManagement_objectSpread({},roleData),{},{id:now_default()().toString()}),_updatedCustomRoles=concat_default()(_context12=[]).call(_context12,_toConsumableArray(currentCustomRoles),[newRole]),_auth=index_35c79a8a_getAuth(),_context13.next=5,apiPost(_auth,"/api/firestore/document",{collectionPath:"_fireengineMeta",documentId:"roles",data:{customRoles:_updatedCustomRoles}});case 5:return setAddDialogOpen(!1),_context13.next=6,refetchMetadata();case 6:react_toastify_esm_Q.success(formatMessage({id:"roles.role_created_success",defaultMessage:"Role created successfully"}));case 7:setSelectedRole(null),_context13.next=9;break;case 8:_context13.prev=8,_t=_context13.catch(0),console.error("Error saving role:",_t),react_toastify_esm_Q.error(_t.message||"Failed to save role");case 9:return _context13.prev=9,setSaving(!1),_context13.finish(9);case 10:case"end":return _context13.stop()}},_callee,null,[[0,8,9,10]])}));return function handleSaveRole(){return _ref.apply(this,arguments)}}(),handleDeleteRole=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(role){var currentCustomRoles,updatedCustomRoles,auth,_t2;return regenerator_default().wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:if(canEditRoles){_context14.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"roles.permission_denied",defaultMessage:"You do not have permission to manage roles."})),_context14.abrupt("return");case 1:if(!role.predefined){_context14.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"roles.cannot_delete_predefined",defaultMessage:"Predefined roles cannot be deleted"})),_context14.abrupt("return");case 2:if(hasCustomRoles){_context14.next=3;break}return react_toastify_esm_Q.error(formatMessage({id:"roles.premium_required",defaultMessage:"Custom roles are a Pro feature. Please upgrade to delete custom roles."})),_context14.abrupt("return");case 3:if(window.confirm(formatMessage({id:"roles.confirm_delete",defaultMessage:"Are you sure you want to delete role {name}? This action cannot be undone."},{name:role.name}))){_context14.next=4;break}return _context14.abrupt("return");case 4:return _context14.prev=4,currentCustomRoles=filter_default()(roles).call(roles,function(r){return!r.predefined}),filter_default()(roles).call(roles,function(r){return r.predefined}),updatedCustomRoles=filter_default()(currentCustomRoles).call(currentCustomRoles,function(r){return r.id!==role.id}),auth=index_35c79a8a_getAuth(),_context14.next=5,apiPost(auth,"/api/firestore/document",{collectionPath:"_fireengineMeta",documentId:"roles",data:{customRoles:updatedCustomRoles}});case 5:return _context14.next=6,refetchMetadata();case 6:react_toastify_esm_Q.success(formatMessage({id:"roles.role_deleted_success",defaultMessage:"Role deleted successfully"})),_context14.next=8;break;case 7:_context14.prev=7,_t2=_context14.catch(4),console.error("Error deleting role:",_t2),react_toastify_esm_Q.error(_t2.message||"Failed to delete role");case 8:case"end":return _context14.stop()}},_callee2,null,[[4,7]])}));return function handleDeleteRole(_x){return _ref2.apply(this,arguments)}}(),handlePermissionChange=function handlePermissionChange(index,field,value){var updatedPermissions=_toConsumableArray(formData.permissions),currentPermission=updatedPermissions[index];if(updatedPermissions[index]=RolesManagement_objectSpread(RolesManagement_objectSpread({},currentPermission),{},"write"===field&&!0===value?{read:!0,write:!0}:"read"===field&&!1===value?{read:!1,write:!1}:defineProperty_defineProperty({},field,value)),"system:users"===currentPermission.resource)if("read"!==field&&"write"!==field||!0!==value){if("read"===field&&!1===value){var _rolesIndex=find_index_default()(updatedPermissions).call(updatedPermissions,function(p){return"system:roles"===p.resource});-1===_rolesIndex||updatedPermissions[_rolesIndex].write||(updatedPermissions[_rolesIndex]=RolesManagement_objectSpread(RolesManagement_objectSpread({},updatedPermissions[_rolesIndex]),{},{read:!1}))}}else{var rolesIndex=find_index_default()(updatedPermissions).call(updatedPermissions,function(p){return"system:roles"===p.resource});-1!==rolesIndex&&(updatedPermissions[rolesIndex]=RolesManagement_objectSpread(RolesManagement_objectSpread({},updatedPermissions[rolesIndex]),{},{read:!0}))}setFormData(RolesManagement_objectSpread(RolesManagement_objectSpread({},formData),{},{permissions:updatedPermissions}))};return useFirestoreRules?react.createElement(material_Box_Box,{sx:{p:isMobile?2:3}},react.createElement(material_Paper_Paper,{sx:{p:3,textAlign:"center"}},react.createElement(Security,{sx:{fontSize:48,color:"text.secondary",mb:2}}),react.createElement(material_Typography_Typography,{variant:"h6",gutterBottom:!0},react.createElement(message,{id:"roles.firestore_rules_enabled",defaultMessage:"Role Management Disabled"})),react.createElement(material_Typography_Typography,{variant:"body1",color:"text.secondary"},react.createElement(message,{id:"roles.firestore_rules_description",defaultMessage:"Role management is disabled when using Firestore security rules. Permissions are handled directly by Firebase."})))):loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(material_Box_Box,{sx:{p:isMobile?2:3,maxWidth:availableWidth}},react.createElement(material_Box_Box,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:42}},react.createElement(material_Typography_Typography,{variant:"h5",component:"h1"},react.createElement(message,{id:"roles.title",defaultMessage:"Roles"})),react.createElement(Tooltip_Tooltip,{title:licenseLoading||hasCustomRoles?"":formatMessage({id:"roles.upgrade_required_tooltip",defaultMessage:"Custom roles are a Pro feature. Upgrade to create custom roles."}),arrow:!0,placement:"top"},react.createElement("span",null,react.createElement(AddButton,{onClick:function handleAddRole(){var _context5;if(canEditRoles)if(hasCustomRoles){if(contentSchema){var _context,_context2,contentCollectionPermissions=[];if(null!=contentSchema&&contentSchema.collections&&"object"===_typeof(contentSchema.collections))contentCollectionPermissions=map_default()(_context=filter_default()(_context2=keys_default()(contentSchema.collections)).call(_context2,function(collection){return!starts_with_default()(collection).call(collection,"_fireengine")&&"assets"!==collection})).call(_context,function(collection){return{resource:"collection:".concat(collection),read:!1,write:!1}});else if(contentSchema&&"object"===_typeof(contentSchema)){var _context3,_context4;contentCollectionPermissions=map_default()(_context3=filter_default()(_context4=keys_default()(contentSchema)).call(_context4,function(key){return"collections"!==key&&"meta"!==key&&"layers"!==key&&!starts_with_default()(key).call(key,"_fireengine")&&"assets"!==key})).call(_context3,function(collection){return{resource:"collection:".concat(collection),read:!1,write:!1}})}setFormData({name:"",description:"",permissions:concat_default()(_context5=[]).call(_context5,[{resource:"system:assets",read:!1,write:!1},{resource:"system:users",read:!1,write:!1},{resource:"system:roles",read:!1,write:!1}],_toConsumableArray(contentCollectionPermissions))}),setAddDialogOpen(!0)}}else react_toastify_esm_Q.error(formatMessage({id:"roles.premium_required",defaultMessage:"Custom roles are a Pro feature. Please upgrade to create custom roles."}));else react_toastify_esm_Q.error(formatMessage({id:"roles.permission_denied",defaultMessage:"You do not have permission to manage roles."}))},text:formatMessage({id:"roles.add_role",defaultMessage:"Add Role"}),size:"small",disabled:licenseLoading||!hasCustomRoles||!canEditRoles})))),react.createElement(Grid_Grid,{container:!0,spacing:3},map_default()(roles).call(roles,function(role){return react.createElement(Grid_Grid,{item:!0,xs:12,sm:6,md:4,lg:3,key:role.id,sx:{display:"flex"}},react.createElement(Card_Card,{sx:{display:"flex",flexDirection:"column",width:"100%"}},react.createElement(CardContent_CardContent,{sx:{flex:1}},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",mb:1},react.createElement(material_Typography_Typography,{variant:"h6",component:"h2",sx:{lineHeight:1.2}},role.name),role.predefined&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"roles.predefined_role_tooltip",defaultMessage:"Built-in role that cannot be modified"})},react.createElement(Lock,{sx:{ml:1,fontSize:16,color:"text.secondary"}}))),role.description&&react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",mb:2,sx:{lineHeight:1.3}},role.description),react.createElement(material_Box_Box,null,(contentPerms=filter_default()(_context15=filter_default()(_context16=object_entries_default()(role.permissions.content)).call(_context16,function(_ref3){var collection=slicedToArray_slicedToArray(_ref3,1)[0];return!starts_with_default()(collection).call(collection,"_fireengine")})).call(_context15,function(_ref5){var perms=slicedToArray_slicedToArray(_ref5,2)[1];return perms.read||perms.write}),allContentSame=contentPerms.length>1&&every_default()(contentPerms).call(contentPerms,function(_ref7){var perms=slicedToArray_slicedToArray(_ref7,2)[1];return perms.read===contentPerms[0][1].read&&perms.write===contentPerms[0][1].write}),(rows=[]).push({name:formatMessage({id:"roles.assets",defaultMessage:"Assets"}),read:role.permissions.assets.read,write:role.permissions.assets.write}),rows.push({name:formatMessage({id:"roles.users",defaultMessage:"Users"}),read:role.permissions.users.read,write:role.permissions.users.write}),rows.push({name:formatMessage({id:"roles.roles",defaultMessage:"Roles"}),read:(null===(_roles3=role.permissions.roles)||void 0===_roles3?void 0:_roles3.read)||!1,write:(null===(_roles4=role.permissions.roles)||void 0===_roles4?void 0:_roles4.write)||!1}),0===contentPerms.length?rows.push({name:formatMessage({id:"roles.all_content",defaultMessage:"All content"}),read:!1,write:!1}):allContentSame&&contentPerms.length>0?rows.push({name:formatMessage({id:"roles.all_content",defaultMessage:"All content"}),read:contentPerms[0][1].read,write:contentPerms[0][1].write}):for_each_default()(contentPerms).call(contentPerms,function(_ref9){var _ref0=slicedToArray_slicedToArray(_ref9,2),collection=_ref0[0],perms=_ref0[1];rows.push({name:collection,read:perms.read,write:perms.write})}),react.createElement(Table_Table,{size:"small",sx:{mt:1,width:"100%",tableLayout:"fixed"}},react.createElement(TableHead_TableHead,null,react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,{sx:{border:"none",p:0,width:"70%",maxWidth:"70%"}}),react.createElement(TableCell_TableCell,{align:"center",sx:{border:"none",p:0,width:"15%",maxWidth:"15%"}},react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"roles.read",defaultMessage:"Read"})},react.createElement(Visibility,{sx:{fontSize:16,color:"text.secondary"}}))),react.createElement(TableCell_TableCell,{align:"center",sx:{border:"none",p:0,width:"15%",maxWidth:"15%"}},react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"roles.write",defaultMessage:"Write"})},react.createElement(Create,{sx:{fontSize:16,color:"text.secondary"}}))))),react.createElement(TableBody_TableBody,null,map_default()(rows).call(rows,function(row){return react.createElement(TableRow_TableRow,{key:row.name},react.createElement(TableCell_TableCell,{sx:{border:"none",p:0,width:"70%",maxWidth:"70%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:row.name},react.createElement(material_Typography_Typography,{variant:"body2",sx:{textTransform:"capitalize",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},row.name)),react.createElement(TableCell_TableCell,{align:"center",sx:{border:"none",p:0,width:"15%",maxWidth:"15%"}},row.read?react.createElement(Check,{sx:{fontSize:16,color:"success.main"}}):react.createElement(esm_Close,{sx:{fontSize:16,color:"text.disabled"}})),react.createElement(TableCell_TableCell,{align:"center",sx:{border:"none",p:0,width:"15%",maxWidth:"15%"}},row.write?react.createElement(Check,{sx:{fontSize:16,color:"success.main"}}):react.createElement(esm_Close,{sx:{fontSize:16,color:"text.disabled"}})))})))))),react.createElement(CardActions_CardActions,{sx:{mt:"auto",pt:0}},react.createElement(Tooltip_Tooltip,{title:role.predefined?formatMessage({id:"roles.cannot_edit_predefined",defaultMessage:"Predefined roles cannot be edited"}):formatMessage(licenseLoading||hasCustomRoles?{id:"roles.edit",defaultMessage:"Edit role"}:{id:"roles.upgrade_required_tooltip",defaultMessage:"Custom roles are a Pro feature. Upgrade to create custom roles."}),arrow:!0,placement:"top"},react.createElement("span",null,react.createElement(IconButton_IconButton,{onClick:function onClick(){return function handleEditRole(role){var _roles,_roles2,_context8;if(canEditRoles)if(role.predefined)react_toastify_esm_Q.error(formatMessage({id:"roles.cannot_edit_predefined",defaultMessage:"Predefined roles cannot be edited"}));else if(hasCustomRoles){if(contentSchema){setSelectedRole(role);var _context6,staticPermissions=[{resource:"system:assets",read:role.permissions.assets.read,write:role.permissions.assets.write},{resource:"system:users",read:role.permissions.users.read,write:role.permissions.users.write},{resource:"system:roles",read:(null===(_roles=role.permissions.roles)||void 0===_roles?void 0:_roles.read)||!1,write:(null===(_roles2=role.permissions.roles)||void 0===_roles2?void 0:_roles2.write)||!1}],allCollections=[];if(null!=contentSchema&&contentSchema.collections&&"object"===_typeof(contentSchema.collections))allCollections=filter_default()(_context6=keys_default()(contentSchema.collections)).call(_context6,function(collection){return!starts_with_default()(collection).call(collection,"_fireengine")&&"assets"!==collection});else if(contentSchema&&"object"===_typeof(contentSchema)){var _context7;allCollections=filter_default()(_context7=keys_default()(contentSchema)).call(_context7,function(key){return"collections"!==key&&"meta"!==key&&"layers"!==key&&!starts_with_default()(key).call(key,"_fireengine")&&"assets"!==key})}var contentPermissions=map_default()(allCollections).call(allCollections,function(collection){var _role$permissions$con,_role$permissions$con2;return{resource:"collection:".concat(collection),read:(null===(_role$permissions$con=role.permissions.content[collection])||void 0===_role$permissions$con?void 0:_role$permissions$con.read)||!1,write:(null===(_role$permissions$con2=role.permissions.content[collection])||void 0===_role$permissions$con2?void 0:_role$permissions$con2.write)||!1}}),permissions=concat_default()(_context8=[]).call(_context8,staticPermissions,_toConsumableArray(contentPermissions));setFormData({name:role.name,description:role.description||"",permissions}),setEditDialogOpen(!0)}}else react_toastify_esm_Q.error(formatMessage({id:"roles.premium_required",defaultMessage:"Custom roles are a Pro feature. Please upgrade to edit custom roles."}));else react_toastify_esm_Q.error(formatMessage({id:"roles.permission_denied",defaultMessage:"You do not have permission to manage roles."}))}(role)},size:"small",disabled:role.predefined||licenseLoading||!hasCustomRoles||!canEditRoles},react.createElement(esm_Edit,null)))),react.createElement(Tooltip_Tooltip,{title:role.predefined?formatMessage({id:"roles.cannot_delete_predefined",defaultMessage:"Predefined roles cannot be deleted"}):formatMessage(licenseLoading||hasCustomRoles?{id:"roles.delete",defaultMessage:"Delete role"}:{id:"roles.upgrade_required_tooltip",defaultMessage:"Custom roles are a Pro feature. Upgrade to create custom roles."}),arrow:!0,placement:"top"},react.createElement("span",null,react.createElement(IconButton_IconButton,{onClick:function onClick(){return handleDeleteRole(role)},size:"small",disabled:role.predefined||licenseLoading||!hasCustomRoles||!canEditRoles,sx:{color:role.predefined||licenseLoading||!hasCustomRoles||!canEditRoles?"rgba(0, 0, 0, 0.26)":"rgba(0, 0, 0, 0.54)"}},react.createElement(esm_Delete,null)))))));var _context15,_context16,_roles3,_roles4,contentPerms,allContentSame,rows})),react.createElement(common_FormDialog,{open:addDialogOpen||editDialogOpen,onClose:function onClose(){setAddDialogOpen(!1),setEditDialogOpen(!1),setSelectedRole(null)},title:formatMessage({id:selectedRole?"roles.edit_role":"roles.add_role",defaultMessage:selectedRole?"Edit Role":"Add Role"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:function onClick(){setAddDialogOpen(!1),setEditDialogOpen(!1),setSelectedRole(null)}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleSaveRole,color:"primary",variant:"contained",disabled:saving},saving?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(message,{id:selectedRole?"common.save":"roles.create_role",defaultMessage:selectedRole?"Save":"Create Role"})))},react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:2,mt:1},react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"roles.name",defaultMessage:"Role Name"}),value:formData.name,onChange:function onChange(e){return setFormData(RolesManagement_objectSpread(RolesManagement_objectSpread({},formData),{},{name:e.target.value}))},required:!0}),react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"roles.description",defaultMessage:"Description"}),value:formData.description,onChange:function onChange(e){return setFormData(RolesManagement_objectSpread(RolesManagement_objectSpread({},formData),{},{description:e.target.value}))},multiline:!0,rows:2}),react.createElement(material_Typography_Typography,{variant:"h6",sx:{mt:3,mb:2}},react.createElement(message,{id:"roles.permissions",defaultMessage:"Permissions"})),react.createElement(material_Typography_Typography,{variant:"subtitle1",sx:{mb:1,fontWeight:600}},react.createElement(message,{id:"roles.static_permissions",defaultMessage:"System Permissions"})),react.createElement(material_Box_Box,{sx:{width:"100%",overflow:"auto",mb:3}},react.createElement(TableContainer_TableContainer,{component:material_Paper_Paper,variant:"outlined",sx:{overflowX:"auto","&::-webkit-scrollbar":{height:8},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:4,"&:hover":{backgroundColor:"#a8a8a8"}}}},react.createElement(Table_Table,{size:"small",sx:{minWidth:400}},react.createElement(TableHead_TableHead,null,react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"roles.resource",defaultMessage:"Resource"})),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px",minWidth:"80px"}},react.createElement(message,{id:"roles.read",defaultMessage:"Read"})),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px",minWidth:"80px"}},react.createElement(message,{id:"roles.write",defaultMessage:"Write"})))),react.createElement(TableBody_TableBody,null,map_default()(_context17=filter_default()(_context18=formData.permissions).call(_context18,function(p){var _context19;return starts_with_default()(_context19=p.resource).call(_context19,"system:")})).call(_context17,function(permission,index){var _context20,actualIndex=find_index_default()(_context20=formData.permissions).call(_context20,function(p){return p.resource===permission.resource});return react.createElement(TableRow_TableRow,{key:"static-".concat(permission.resource)},react.createElement(TableCell_TableCell,{component:"th",scope:"row"},react.createElement(material_Typography_Typography,{variant:"body2",sx:{textTransform:"capitalize"}},"system:assets"===permission.resource?formatMessage({id:"roles.assets",defaultMessage:"Assets"}):"system:users"===permission.resource?formatMessage({id:"roles.users",defaultMessage:"Users"}):"system:roles"===permission.resource?formatMessage({id:"roles.roles",defaultMessage:"Roles"}):permission.resource)),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px"}},react.createElement(Checkbox_Checkbox,{checked:permission.read,onChange:function onChange(e){return handlePermissionChange(actualIndex,"read",e.target.checked)},size:"small"})),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px"}},react.createElement(Checkbox_Checkbox,{checked:permission.write,onChange:function onChange(e){return handlePermissionChange(actualIndex,"write",e.target.checked)},size:"small"})))}))))),react.createElement(material_Typography_Typography,{variant:"subtitle1",sx:{mb:1,fontWeight:600}},react.createElement(message,{id:"roles.content_permissions",defaultMessage:"Content Collection Permissions"})),react.createElement(material_Box_Box,{sx:{width:"100%",overflow:"auto"}},react.createElement(TableContainer_TableContainer,{component:material_Paper_Paper,variant:"outlined",sx:{overflowX:"auto","&::-webkit-scrollbar":{height:8},"&::-webkit-scrollbar-track":{backgroundColor:"#f1f1f1",borderRadius:4},"&::-webkit-scrollbar-thumb":{backgroundColor:"#c1c1c1",borderRadius:4,"&:hover":{backgroundColor:"#a8a8a8"}}}},react.createElement(Table_Table,{size:"small",sx:{minWidth:400}},react.createElement(TableHead_TableHead,null,react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,null,react.createElement(message,{id:"roles.collection",defaultMessage:"Collection"})),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px",minWidth:"80px"}},react.createElement(message,{id:"roles.read",defaultMessage:"Read"})),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px",minWidth:"80px"}},react.createElement(message,{id:"roles.write",defaultMessage:"Write"})))),react.createElement(TableBody_TableBody,null,map_default()(_context21=filter_default()(_context22=formData.permissions).call(_context22,function(p){var _context23;return starts_with_default()(_context23=p.resource).call(_context23,"collection:")})).call(_context21,function(permission,index){var _context24,_context25,actualIndex=find_index_default()(_context24=formData.permissions).call(_context24,function(p){return p.resource===permission.resource});return react.createElement(TableRow_TableRow,{key:"content-".concat(permission.resource)},react.createElement(TableCell_TableCell,{component:"th",scope:"row"},react.createElement(material_Typography_Typography,{variant:"body2",sx:{textTransform:"capitalize"}},starts_with_default()(_context25=permission.resource).call(_context25,"collection:")?permission.resource.replace("collection:",""):permission.resource)),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px"}},react.createElement(Checkbox_Checkbox,{checked:permission.read,onChange:function onChange(e){return handlePermissionChange(actualIndex,"read",e.target.checked)},size:"small"})),react.createElement(TableCell_TableCell,{align:"center",sx:{width:"80px"}},react.createElement(Checkbox_Checkbox,{checked:permission.write,onChange:function onChange(e){return handlePermissionChange(actualIndex,"write",e.target.checked)},size:"small"})))}))))))),!licenseLoading&&!hasCustomRoles&&react.createElement(material_Box_Box,{sx:{mt:4}},react.createElement(license_UpgradeBanner,{feature:"customRoles",title:"Custom Roles & Permissions",description:"Create granular roles with specific permissions for each collection. Control exactly what users can read, write, and manage in your application.",benefits:["Create unlimited custom roles","Granular permission control","Collection-specific access","Advanced user management"],showBenefits:!0})))};const users_UsersPage=function UsersPage(){var history=react_router_useHistory(),location=useLocation(),config=app_hooks_useApp().config,canCreateCustomRoles=license_hooks_useLicense().canCreateCustomRoles,canManageUsers=useCanManageUsers(),useFirestoreRules=!0===(null==config?void 0:config.useFirestoreAccessRules),currentTab=(canCreateCustomRoles(),function getCurrentTab(){var path=location.pathname;return includes_default()(path).call(path,"/users/roles")?"roles":"users"}()),tabs=[{value:"users",label:react.createElement(message,{id:"users.tab_users",defaultMessage:"Users"})}];return!useFirestoreRules&&canManageUsers&&tabs.push({value:"roles",label:react.createElement(message,{id:"users.tab_roles",defaultMessage:"Roles"})}),react.createElement(material_Box_Box,{sx:{height:"100%",display:"flex",flexDirection:"column"}},react.createElement(common_SubMenuTabs,{tabs,currentValue:currentTab,onTabChange:function handleTabChange(event,newValue){"users"===newValue?history.push("/users"):"roles"===newValue&&history.push("/users/roles")},enableScrollButtons:!1}),react.createElement(material_Box_Box,{component:"main",sx:{flex:1,overflow:"auto",backgroundColor:"#FAFAFA"}},react.createElement(Switch,null,react.createElement(Route,{exact:!0,path:"/users",component:users_UsersManagement}),react.createElement(Route,{path:"/users/roles",component:users_RolesManagement}))))};var splice=__webpack_require__(385),splice_default=__webpack_require__.n(splice),createTransitions=__webpack_require__(17091);function getCollapseUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCollapse",slot)}(0,generateUtilityClasses.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Collapse_excluded=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],CollapseRoot=(0,styled.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.orientation],"entered"===ownerState.state&&styles.entered,"exited"===ownerState.state&&!ownerState.in&&"0px"===ownerState.collapsedSize&&styles.hidden]}})(({theme,ownerState})=>(0,esm_extends.A)({height:0,overflow:"hidden",transition:theme.transitions.create("height")},"horizontal"===ownerState.orientation&&{height:"auto",width:0,transition:theme.transitions.create("width")},"entered"===ownerState.state&&(0,esm_extends.A)({height:"auto",overflow:"visible"},"horizontal"===ownerState.orientation&&{width:"auto"}),"exited"===ownerState.state&&!ownerState.in&&"0px"===ownerState.collapsedSize&&{visibility:"hidden"})),CollapseWrapper=(0,styled.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(props,styles)=>styles.wrapper})(({ownerState})=>(0,esm_extends.A)({display:"flex",width:"100%"},"horizontal"===ownerState.orientation&&{width:"auto",height:"100%"})),CollapseWrapperInner=(0,styled.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(props,styles)=>styles.wrapperInner})(({ownerState})=>(0,esm_extends.A)({width:"100%"},"horizontal"===ownerState.orientation&&{width:"auto",height:"100%"})),Collapse=react.forwardRef(function Collapse(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCollapse"}),{addEndListener,children,className,collapsedSize:collapsedSizeProp="0px",component,easing,in:inProp,onEnter,onEntered,onEntering,onExit,onExited,onExiting,orientation="vertical",style,timeout=createTransitions.p0.standard,TransitionComponent=esm_Transition}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Collapse_excluded),ownerState=(0,esm_extends.A)({},props,{orientation,collapsedSize:collapsedSizeProp}),classes=(ownerState=>{const{orientation,classes}=ownerState,slots={root:["root",`${orientation}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${orientation}`],wrapperInner:["wrapperInner",`${orientation}`]};return(0,composeClasses.A)(slots,getCollapseUtilityClass,classes)})(ownerState),theme=styles_useTheme_useTheme(),timer=(0,useTimeout.A)(),wrapperRef=react.useRef(null),autoTransitionDuration=react.useRef(),collapsedSize="number"==typeof collapsedSizeProp?`${collapsedSizeProp}px`:collapsedSizeProp,isHorizontal="horizontal"===orientation,size=isHorizontal?"width":"height",nodeRef=react.useRef(null),handleRef=(0,utils_useForkRef.A)(ref,nodeRef),normalizedTransitionCallback=callback=>maybeIsAppearing=>{if(callback){const node=nodeRef.current;void 0===maybeIsAppearing?callback(node):callback(node,maybeIsAppearing)}},getWrapperSize=()=>wrapperRef.current?wrapperRef.current[isHorizontal?"clientWidth":"clientHeight"]:0,handleEnter=normalizedTransitionCallback((node,isAppearing)=>{wrapperRef.current&&isHorizontal&&(wrapperRef.current.style.position="absolute"),node.style[size]=collapsedSize,onEnter&&onEnter(node,isAppearing)}),handleEntering=normalizedTransitionCallback((node,isAppearing)=>{const wrapperSize=getWrapperSize();wrapperRef.current&&isHorizontal&&(wrapperRef.current.style.position="");const{duration:transitionDuration,easing:transitionTimingFunction}=getTransitionProps({style,timeout,easing},{mode:"enter"});if("auto"===timeout){const duration2=theme.transitions.getAutoHeightDuration(wrapperSize);node.style.transitionDuration=`${duration2}ms`,autoTransitionDuration.current=duration2}else node.style.transitionDuration="string"==typeof transitionDuration?transitionDuration:`${transitionDuration}ms`;node.style[size]=`${wrapperSize}px`,node.style.transitionTimingFunction=transitionTimingFunction,onEntering&&onEntering(node,isAppearing)}),handleEntered=normalizedTransitionCallback((node,isAppearing)=>{node.style[size]="auto",onEntered&&onEntered(node,isAppearing)}),handleExit=normalizedTransitionCallback(node=>{node.style[size]=`${getWrapperSize()}px`,onExit&&onExit(node)}),handleExited=normalizedTransitionCallback(onExited),handleExiting=normalizedTransitionCallback(node=>{const wrapperSize=getWrapperSize(),{duration:transitionDuration,easing:transitionTimingFunction}=getTransitionProps({style,timeout,easing},{mode:"exit"});if("auto"===timeout){const duration2=theme.transitions.getAutoHeightDuration(wrapperSize);node.style.transitionDuration=`${duration2}ms`,autoTransitionDuration.current=duration2}else node.style.transitionDuration="string"==typeof transitionDuration?transitionDuration:`${transitionDuration}ms`;node.style[size]=collapsedSize,node.style.transitionTimingFunction=transitionTimingFunction,onExiting&&onExiting(node)});return(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({in:inProp,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:next=>{"auto"===timeout&&timer.start(autoTransitionDuration.current||0,next),addEndListener&&addEndListener(nodeRef.current,next)},nodeRef,timeout:"auto"===timeout?null:timeout},other,{children:(state,childProps)=>(0,jsx_runtime.jsx)(CollapseRoot,(0,esm_extends.A)({as:component,className:(0,clsx.A)(classes.root,className,{entered:classes.entered,exited:!inProp&&"0px"===collapsedSize&&classes.hidden}[state]),style:(0,esm_extends.A)({[isHorizontal?"minWidth":"minHeight"]:collapsedSize},style),ref:handleRef},childProps,{ownerState:(0,esm_extends.A)({},ownerState,{state}),children:(0,jsx_runtime.jsx)(CollapseWrapper,{ownerState:(0,esm_extends.A)({},ownerState,{state}),className:classes.wrapper,ref:wrapperRef,children:(0,jsx_runtime.jsx)(CollapseWrapperInner,{ownerState:(0,esm_extends.A)({},ownerState,{state}),className:classes.wrapperInner,children})})}))}))});Collapse.muiSupportAuto=!0;const Collapse_Collapse=Collapse;function getSwitchUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiSwitch",slot)}const Switch_switchClasses=(0,generateUtilityClasses.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Switch_excluded=["className","color","edge","size","sx"],SwitchRoot=(0,styled.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.edge&&styles[`edge${(0,capitalize.A)(ownerState.edge)}`],styles[`size${(0,capitalize.A)(ownerState.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Switch_switchClasses.thumb}`]:{width:16,height:16},[`& .${Switch_switchClasses.switchBase}`]:{padding:4,[`&.${Switch_switchClasses.checked}`]:{transform:"translateX(16px)"}}}}]}),SwitchSwitchBase=(0,styled.Ay)(internal_SwitchBase,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.switchBase,{[`& .${Switch_switchClasses.input}`]:styles.input},"default"!==ownerState.color&&styles[`color${(0,capitalize.A)(ownerState.color)}`]]}})(({theme})=>({position:"absolute",top:0,left:0,zIndex:1,color:theme.vars?theme.vars.palette.Switch.defaultColor:`${"light"===theme.palette.mode?theme.palette.common.white:theme.palette.grey[300]}`,transition:theme.transitions.create(["left","transform"],{duration:theme.transitions.duration.shortest}),[`&.${Switch_switchClasses.checked}`]:{transform:"translateX(20px)"},[`&.${Switch_switchClasses.disabled}`]:{color:theme.vars?theme.vars.palette.Switch.defaultDisabledColor:`${"light"===theme.palette.mode?theme.palette.grey[100]:theme.palette.grey[600]}`},[`&.${Switch_switchClasses.checked} + .${Switch_switchClasses.track}`]:{opacity:.5},[`&.${Switch_switchClasses.disabled} + .${Switch_switchClasses.track}`]:{opacity:theme.vars?theme.vars.opacity.switchTrackDisabled:""+("light"===theme.palette.mode?.12:.2)},[`& .${Switch_switchClasses.input}`]:{left:"-100%",width:"300%"}}),({theme})=>({"&:hover":{backgroundColor:theme.vars?`rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette.action.active,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(theme.palette).filter(([,value])=>value.main&&value.light).map(([color])=>({props:{color},style:{[`&.${Switch_switchClasses.checked}`]:{color:(theme.vars||theme).palette[color].main,"&:hover":{backgroundColor:theme.vars?`rgba(${theme.vars.palette[color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})`:(0,colorManipulator.X4)(theme.palette[color].main,theme.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Switch_switchClasses.disabled}`]:{color:theme.vars?theme.vars.palette.Switch[`${color}DisabledColor`]:`${"light"===theme.palette.mode?(0,colorManipulator.a)(theme.palette[color].main,.62):(0,colorManipulator.e$)(theme.palette[color].main,.55)}`}},[`&.${Switch_switchClasses.checked} + .${Switch_switchClasses.track}`]:{backgroundColor:(theme.vars||theme).palette[color].main}}}))]})),SwitchTrack=(0,styled.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(props,styles)=>styles.track})(({theme})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:theme.transitions.create(["opacity","background-color"],{duration:theme.transitions.duration.shortest}),backgroundColor:theme.vars?theme.vars.palette.common.onBackground:`${"light"===theme.palette.mode?theme.palette.common.black:theme.palette.common.white}`,opacity:theme.vars?theme.vars.opacity.switchTrack:""+("light"===theme.palette.mode?.38:.3)})),SwitchThumb=(0,styled.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(props,styles)=>styles.thumb})(({theme})=>({boxShadow:(theme.vars||theme).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Switch_Switch=react.forwardRef(function Switch(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiSwitch"}),{className,color="primary",edge=!1,size="medium",sx}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Switch_excluded),ownerState=(0,esm_extends.A)({},props,{color,edge,size}),classes=(ownerState=>{const{classes,edge,size,color,checked,disabled}=ownerState,slots={root:["root",edge&&`edge${(0,capitalize.A)(edge)}`,`size${(0,capitalize.A)(size)}`],switchBase:["switchBase",`color${(0,capitalize.A)(color)}`,checked&&"checked",disabled&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},composedClasses=(0,composeClasses.A)(slots,getSwitchUtilityClass,classes);return(0,esm_extends.A)({},classes,composedClasses)})(ownerState),icon=(0,jsx_runtime.jsx)(SwitchThumb,{className:classes.thumb,ownerState});return(0,jsx_runtime.jsxs)(SwitchRoot,{className:(0,clsx.A)(classes.root,className),sx,ownerState,children:[(0,jsx_runtime.jsx)(SwitchSwitchBase,(0,esm_extends.A)({type:"checkbox",icon,checkedIcon:icon,ref,ownerState},other,{classes:(0,esm_extends.A)({},classes,{root:classes.switchBase})})),(0,jsx_runtime.jsx)(SwitchTrack,{className:classes.track,ownerState})]})}),material_Switch_Switch=Switch_Switch;const Accordion_AccordionContext=react.createContext({});function getAccordionUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiAccordion",slot)}const Accordion_accordionClasses=(0,generateUtilityClasses.A)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Accordion_excluded=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],AccordionRoot=(0,styled.Ay)(material_Paper_Paper,{name:"MuiAccordion",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[{[`& .${Accordion_accordionClasses.region}`]:styles.region},styles.root,!ownerState.square&&styles.rounded,!ownerState.disableGutters&&styles.gutters]}})(({theme})=>{const transition={duration:theme.transitions.duration.shortest};return{position:"relative",transition:theme.transitions.create(["margin"],transition),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(theme.vars||theme).palette.divider,transition:theme.transitions.create(["opacity","background-color"],transition)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Accordion_accordionClasses.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Accordion_accordionClasses.disabled}`]:{backgroundColor:(theme.vars||theme).palette.action.disabledBackground}}},({theme})=>({variants:[{props:props=>!props.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(theme.vars||theme).shape.borderRadius,borderTopRightRadius:(theme.vars||theme).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(theme.vars||theme).shape.borderRadius,borderBottomRightRadius:(theme.vars||theme).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:props=>!props.disableGutters,style:{[`&.${Accordion_accordionClasses.expanded}`]:{margin:"16px 0"}}}]})),Accordion=react.forwardRef(function Accordion(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiAccordion"}),{children:childrenProp,className,defaultExpanded=!1,disabled=!1,disableGutters=!1,expanded:expandedProp,onChange,square=!1,slots={},slotProps={},TransitionComponent:TransitionComponentProp,TransitionProps:TransitionPropsProp}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Accordion_excluded),[expanded,setExpandedState]=(0,useControlled.A)({controlled:expandedProp,default:defaultExpanded,name:"Accordion",state:"expanded"}),handleChange=react.useCallback(event=>{setExpandedState(!expanded),onChange&&onChange(event,!expanded)},[expanded,onChange,setExpandedState]),[summary,...children]=react.Children.toArray(childrenProp),contextValue=react.useMemo(()=>({expanded,disabled,disableGutters,toggle:handleChange}),[expanded,disabled,disableGutters,handleChange]),ownerState=(0,esm_extends.A)({},props,{square,disabled,disableGutters,expanded}),classes=(ownerState=>{const{classes,square,expanded,disabled,disableGutters}=ownerState,slots={root:["root",!square&&"rounded",expanded&&"expanded",disabled&&"disabled",!disableGutters&&"gutters"],region:["region"]};return(0,composeClasses.A)(slots,getAccordionUtilityClass,classes)})(ownerState),backwardCompatibleSlots=(0,esm_extends.A)({transition:TransitionComponentProp},slots),backwardCompatibleSlotProps=(0,esm_extends.A)({transition:TransitionPropsProp},slotProps),[TransitionSlot,transitionProps]=useSlot("transition",{elementType:Collapse_Collapse,externalForwardedProps:{slots:backwardCompatibleSlots,slotProps:backwardCompatibleSlotProps},ownerState});return(0,jsx_runtime.jsxs)(AccordionRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ref,ownerState,square},other,{children:[(0,jsx_runtime.jsx)(Accordion_AccordionContext.Provider,{value:contextValue,children:summary}),(0,jsx_runtime.jsx)(TransitionSlot,(0,esm_extends.A)({in:expanded,timeout:"auto"},transitionProps,{children:(0,jsx_runtime.jsx)("div",{"aria-labelledby":summary.props.id,id:summary.props["aria-controls"],role:"region",className:classes.region,children})}))]}))}),Accordion_Accordion=Accordion;function getAccordionSummaryUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiAccordionSummary",slot)}const AccordionSummary_accordionSummaryClasses=(0,generateUtilityClasses.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),AccordionSummary_excluded=["children","className","expandIcon","focusVisibleClassName","onClick"],AccordionSummaryRoot=(0,styled.Ay)(ButtonBase_ButtonBase,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(props,styles)=>styles.root})(({theme})=>{const transition={duration:theme.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:theme.spacing(0,2),transition:theme.transitions.create(["min-height","background-color"],transition),[`&.${AccordionSummary_accordionSummaryClasses.focusVisible}`]:{backgroundColor:(theme.vars||theme).palette.action.focus},[`&.${AccordionSummary_accordionSummaryClasses.disabled}`]:{opacity:(theme.vars||theme).palette.action.disabledOpacity},[`&:hover:not(.${AccordionSummary_accordionSummaryClasses.disabled})`]:{cursor:"pointer"},variants:[{props:props=>!props.disableGutters,style:{[`&.${AccordionSummary_accordionSummaryClasses.expanded}`]:{minHeight:64}}}]}}),AccordionSummaryContent=(0,styled.Ay)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(props,styles)=>styles.content})(({theme})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:props=>!props.disableGutters,style:{transition:theme.transitions.create(["margin"],{duration:theme.transitions.duration.shortest}),[`&.${AccordionSummary_accordionSummaryClasses.expanded}`]:{margin:"20px 0"}}}]})),AccordionSummaryExpandIconWrapper=(0,styled.Ay)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(props,styles)=>styles.expandIconWrapper})(({theme})=>({display:"flex",color:(theme.vars||theme).palette.action.active,transform:"rotate(0deg)",transition:theme.transitions.create("transform",{duration:theme.transitions.duration.shortest}),[`&.${AccordionSummary_accordionSummaryClasses.expanded}`]:{transform:"rotate(180deg)"}})),AccordionSummary=react.forwardRef(function AccordionSummary(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiAccordionSummary"}),{children,className,expandIcon,focusVisibleClassName,onClick}=props,other=(0,objectWithoutPropertiesLoose.A)(props,AccordionSummary_excluded),{disabled=!1,disableGutters,expanded,toggle}=react.useContext(Accordion_AccordionContext),ownerState=(0,esm_extends.A)({},props,{expanded,disabled,disableGutters}),classes=(ownerState=>{const{classes,expanded,disabled,disableGutters}=ownerState,slots={root:["root",expanded&&"expanded",disabled&&"disabled",!disableGutters&&"gutters"],focusVisible:["focusVisible"],content:["content",expanded&&"expanded",!disableGutters&&"contentGutters"],expandIconWrapper:["expandIconWrapper",expanded&&"expanded"]};return(0,composeClasses.A)(slots,getAccordionSummaryUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsxs)(AccordionSummaryRoot,(0,esm_extends.A)({focusRipple:!1,disableRipple:!0,disabled,component:"div","aria-expanded":expanded,className:(0,clsx.A)(classes.root,className),focusVisibleClassName:(0,clsx.A)(classes.focusVisible,focusVisibleClassName),onClick:event=>{toggle&&toggle(event),onClick&&onClick(event)},ref,ownerState},other,{children:[(0,jsx_runtime.jsx)(AccordionSummaryContent,{className:classes.content,ownerState,children}),expandIcon&&(0,jsx_runtime.jsx)(AccordionSummaryExpandIconWrapper,{className:classes.expandIconWrapper,ownerState,children:expandIcon})]}))}),AccordionSummary_AccordionSummary=AccordionSummary;function getAccordionDetailsUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiAccordionDetails",slot)}(0,generateUtilityClasses.A)("MuiAccordionDetails",["root"]);const AccordionDetails_excluded=["className"],AccordionDetailsRoot=(0,styled.Ay)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(props,styles)=>styles.root})(({theme})=>({padding:theme.spacing(1,2,2)})),AccordionDetails=react.forwardRef(function AccordionDetails(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiAccordionDetails"}),{className}=props,other=(0,objectWithoutPropertiesLoose.A)(props,AccordionDetails_excluded),ownerState=props,classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"]},getAccordionDetailsUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(AccordionDetailsRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),ref,ownerState},other))}),AccordionDetails_AccordionDetails=AccordionDetails,DragIndicator=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator"),KeyboardArrowDown=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),esm_KeyboardArrowRight=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Refresh=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),ExpandMore=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Restore=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore"),esm_Save=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");function SchemaSettings_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function SchemaSettings_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context17,_context18,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context17=SchemaSettings_ownKeys(Object(t),!0)).call(_context17,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context18=SchemaSettings_ownKeys(Object(t))).call(_context18,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}var FieldEditor=function FieldEditor(_ref){var _context3,field=_ref.field,expandedFields=_ref.expandedFields,draggedField=_ref.draggedField,FIELD_TYPES=_ref.FIELD_TYPES,formatMessage=_ref.formatMessage,schema=_ref.schema,editingCollection=_ref.editingCollection,handleDragStart=_ref.handleDragStart,handleDragOver=_ref.handleDragOver,handleDrop=_ref.handleDrop,toggleFieldExpanded=_ref.toggleFieldExpanded,handleFieldAction=_ref.handleFieldAction,handleFieldUpdate=_ref.handleFieldUpdate,handleDeleteField=_ref.handleDeleteField,isAutoDetected="auto"===field._source,isNew="new"===field._source,isIgnored=field._isIgnored||"ignore"===field._action,isOverridden="override"===field._action,isExpanded=expandedFields.has(field._id),displayType=function getDisplayType(){return("string"===field.type||"number"===field.type)&&field.options&&field.options.length>0?"dropdown":field.type}();return react.createElement(Card_Card,{"data-field-id":field._id,sx:{mb:1,opacity:isIgnored?.5:1,backgroundColor:draggedField===field._id?"action.hover":"background.paper"},draggable:!0,onDragStart:function onDragStart(e){return handleDragStart(e,field._id)},onDragOver:handleDragOver,onDrop:function onDrop(e){return handleDrop(e,field._id)}},react.createElement(CardContent_CardContent,{sx:{p:1,"&:last-child":{pb:1}}},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:1,sx:{cursor:"pointer"},onClick:function onClick(){return toggleFieldExpanded(field._id)}},react.createElement(IconButton_IconButton,{size:"small",sx:{cursor:"grab"},onClick:function onClick(e){return e.stopPropagation()}},react.createElement(DragIndicator,null)),react.createElement(IconButton_IconButton,{size:"small"},isExpanded?react.createElement(KeyboardArrowDown,null):react.createElement(esm_KeyboardArrowRight,null)),react.createElement(material_Typography_Typography,{variant:"body1",sx:{flex:1,fontWeight:"override"===field._action||"new"===field._source?"bold":"normal"}},field.name||formatMessage({id:"settings.schema.new_field",defaultMessage:"New Field"})),react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:1},isAutoDetected&&"none"===field._action&&react.createElement(material_Chip_Chip,{label:displayType,size:"small",color:"default",variant:"outlined"}),isAutoDetected&&"override"===field._action&&react.createElement(material_Chip_Chip,{label:formatMessage({id:"settings.schema.field_overridden",defaultMessage:"Overridden"}),size:"small",color:"default",variant:"outlined"}),isNew&&react.createElement(material_Chip_Chip,{label:formatMessage({id:"settings.schema.field_new",defaultMessage:"New"}),size:"small",sx:{color:"grey.500",borderColor:"grey.300"},variant:"outlined"}),isIgnored&&react.createElement(material_Chip_Chip,{label:formatMessage({id:"settings.schema.field_ignored",defaultMessage:"Ignored"}),size:"small",color:"error",variant:"outlined"}),isNew&&react.createElement(IconButton_IconButton,{size:"small",sx:{color:"grey.600"},onClick:function onClick(e){e.stopPropagation(),handleDeleteField(field._id)},title:formatMessage({id:"settings.schema.delete_field",defaultMessage:"Delete field"})},react.createElement(esm_Delete,{fontSize:"small"})))),react.createElement(Collapse_Collapse,{in:isExpanded},react.createElement(material_Box_Box,{sx:{mt:2,pl:7}},isAutoDetected&&react.createElement(react.Fragment,null,react.createElement(FormControl_FormControl,{sx:{mb:2,minWidth:200}},react.createElement(InputLabel_InputLabel,null,formatMessage({id:"settings.schema.field_action",defaultMessage:"Action"})),react.createElement(Select_Select,{value:field._action,onChange:function onChange(e){return handleFieldAction(field._id,e.target.value)},label:formatMessage({id:"settings.schema.field_action",defaultMessage:"Action"}),size:"small"},react.createElement(MenuItem_MenuItem,{value:"none"},formatMessage({id:"settings.schema.keep_as_configured",defaultMessage:"Keep as configured"})),react.createElement(MenuItem_MenuItem,{value:"ignore"},formatMessage({id:"settings.schema.ignore_field",defaultMessage:"Ignore field"})),react.createElement(MenuItem_MenuItem,{value:"override"},formatMessage({id:"settings.schema.override_customize",defaultMessage:"Override/customize"})))),"none"===field._action&&function(_schema$layers,_schema$layers2){var autoDetectedField=null==schema||null===(_schema$layers=schema.layers)||void 0===_schema$layers||null===(_schema$layers=_schema$layers.autoDetected)||void 0===_schema$layers||null===(_schema$layers=_schema$layers[editingCollection])||void 0===_schema$layers||null===(_schema$layers=_schema$layers.fields)||void 0===_schema$layers?void 0:find_default()(_schema$layers).call(_schema$layers,function(f){return f.name===field.name}),codeOverrides=null==schema||null===(_schema$layers2=schema.layers)||void 0===_schema$layers2||null===(_schema$layers2=_schema$layers2.codeOverrides)||void 0===_schema$layers2?void 0:_schema$layers2[editingCollection],codeConfiguredField=null;if(codeOverrides){var overrideFields=array_is_array_default()(codeOverrides)?codeOverrides:codeOverrides.fields;codeConfiguredField=null==overrideFields?void 0:find_default()(overrideFields).call(overrideFields,function(f){return f.name===field.name})}var hasCodeOverrides=codeConfiguredField&&keys_default()(codeConfiguredField).length>0;return react.createElement(material_Box_Box,{sx:{mb:2,p:2,bgcolor:"grey.50",borderRadius:1}},react.createElement(material_Typography_Typography,{variant:"body2",sx:{fontWeight:"bold",mb:1}},formatMessage({id:"settings.schema.configured_summary",defaultMessage:"Current Configuration:"})),react.createElement(material_Typography_Typography,{variant:"body2",sx:{color:"text.secondary",mb:.5}},formatMessage({id:"settings.schema.auto_detected",defaultMessage:"Auto-detected:"})),react.createElement(material_Typography_Typography,{variant:"body2",sx:{ml:2,mb:1}}," Type: ",(null==autoDetectedField?void 0:autoDetectedField.type)||field.type,(null==autoDetectedField?void 0:autoDetectedField.required)&&"  Required",(null==autoDetectedField?void 0:autoDetectedField.referencePath)&&"  Reference: ".concat(autoDetectedField.referencePath)),hasCodeOverrides&&react.createElement(react.Fragment,null,react.createElement(material_Typography_Typography,{variant:"body2",sx:{color:"text.secondary",mb:.5}},formatMessage({id:"settings.schema.code_configured",defaultMessage:"Code-configured overrides:"})),react.createElement(material_Typography_Typography,{variant:"body2",sx:{ml:2}},codeConfiguredField.type&&" Type: ".concat(codeConfiguredField.type),codeConfiguredField.title&&'  Title: "'.concat(codeConfiguredField.title,'"'),void 0!==codeConfiguredField.required&&"  Required: ".concat(codeConfiguredField.required),codeConfiguredField.options&&"  Has options",codeConfiguredField.width&&"  Width: ".concat(Math.round(12*codeConfiguredField.width),"/12"))))}()),(isNew||isOverridden)&&react.createElement(Grid_Grid,{container:!0,spacing:2},react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",label:formatMessage({id:"settings.schema.field_name",defaultMessage:"Field Name"}),value:field.name||"",onChange:function onChange(e){return handleFieldUpdate(field._id,{name:e.target.value})},disabled:isAutoDetected&&!isOverridden,required:!0})),react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(FormControl_FormControl,{fullWidth:!0,size:"small"},react.createElement(InputLabel_InputLabel,null,formatMessage({id:"settings.schema.field_type",defaultMessage:"Field Type"})),react.createElement(Select_Select,{value:displayType||"string",onChange:function onChange(e){var newType=e.target.value;handleFieldUpdate(field._id,"dropdown"===newType?{type:"string",options:field.options||["option1","option2","option3"]}:{type:newType,options:void 0})},label:formatMessage({id:"settings.schema.field_type",defaultMessage:"Field Type"})},map_default()(FIELD_TYPES).call(FIELD_TYPES,function(type){return react.createElement(MenuItem_MenuItem,{key:type.value,value:type.value},react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"body2"},type.label),type.isCustom&&type.description&&react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",display:"block"},type.description)))})))),react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",label:formatMessage({id:"settings.schema.display_label",defaultMessage:"Display Label"}),value:field.label||field.title||"",onChange:function onChange(e){return handleFieldUpdate(field._id,{label:e.target.value})},helperText:formatMessage({id:"settings.schema.display_label_help",defaultMessage:"Custom label for this field"})})),react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(material_Switch_Switch,{size:"small",checked:field.required||!1,onChange:function onChange(e){return handleFieldUpdate(field._id,{required:e.target.checked})}}),label:formatMessage({id:"settings.schema.required_field",defaultMessage:"Required Field"})})),react.createElement(Grid_Grid,{item:!0,xs:12,sm:6},react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(material_Switch_Switch,{size:"small",checked:void 0!==field.inList?field.inList:getDefaultInListValue(field.type||"string",!1),onChange:function onChange(e){return handleFieldUpdate(field._id,{inList:e.target.checked})}}),label:formatMessage({id:"settings.schema.in_list_field",defaultMessage:"Show in Table Lists"})})),"reference"===field.type&&react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",label:formatMessage({id:"settings.schema.reference_path",defaultMessage:"Reference Path"}),value:field.referencePath||"",onChange:function onChange(e){return handleFieldUpdate(field._id,{referencePath:e.target.value})},helperText:formatMessage({id:"settings.schema.reference_path_help",defaultMessage:"Collection path to reference (e.g., 'users' or 'articles/comments')"})})),"dropdown"===displayType&&react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",label:formatMessage({id:"settings.schema.dropdown_options",defaultMessage:"Dropdown Options (comma-separated)"}),value:field.options&&array_is_array_default()(field.options)?field.options.join(", "):"",onChange:function onChange(e){var _context,_context2,options=filter_default()(_context=map_default()(_context2=e.target.value.split(",")).call(_context2,function(opt){return trim_default()(opt).call(opt)})).call(_context,function(opt){return opt});handleFieldUpdate(field._id,{options:options.length>0?options:void 0})},helperText:formatMessage({id:"settings.schema.dropdown_options_help",defaultMessage:"List of options for the dropdown (e.g., 'admin, user, moderator')"}),required:!0})),"dropdown"===displayType&&react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(FormControl_FormControl,{fullWidth:!0,size:"small"},react.createElement(InputLabel_InputLabel,null,formatMessage({id:"settings.schema.value_type",defaultMessage:"Value Type"})),react.createElement(Select_Select,{value:field.type||"string",onChange:function onChange(e){return handleFieldUpdate(field._id,{type:e.target.value})},label:formatMessage({id:"settings.schema.value_type",defaultMessage:"Value Type"})},react.createElement(MenuItem_MenuItem,{value:"string"},formatMessage({id:"settings.schema.text_values",defaultMessage:"Text Values"})),react.createElement(MenuItem_MenuItem,{value:"number"},formatMessage({id:"settings.schema.numeric_values",defaultMessage:"Numeric Values"}))))),"array"===field.type&&react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(material_Typography_Typography,{variant:"subtitle2",sx:{mb:1}},formatMessage({id:"settings.schema.valid_types_help",defaultMessage:"Valid Types (select types allowed in this array):"})),react.createElement(Grid_Grid,{container:!0,spacing:1},map_default()(_context3=filter_default()(FIELD_TYPES).call(FIELD_TYPES,function(type){return"array"!==type.value&&"dropdown"!==type.value})).call(_context3,function(type){var _field$validTypes;return react.createElement(Grid_Grid,{item:!0,xs:6,sm:4,md:3,key:type.value},react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(material_Switch_Switch,{size:"small",checked:(null===(_field$validTypes=field.validTypes)||void 0===_field$validTypes?void 0:includes_default()(_field$validTypes).call(_field$validTypes,type.value))||!1,onChange:function onChange(e){var newValidTypes,_context4,currentValidTypes=field.validTypes||[];e.target.checked?newValidTypes=concat_default()(_context4=[]).call(_context4,_toConsumableArray(currentValidTypes),[type.value]):newValidTypes=filter_default()(currentValidTypes).call(currentValidTypes,function(t){return t!==type.value});handleFieldUpdate(field._id,{validTypes:newValidTypes.length>0?newValidTypes:void 0})}}),label:type.label,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.875rem"}}}))})),react.createElement(material_Typography_Typography,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"}},formatMessage({id:"settings.schema.valid_types_unchecked_help",defaultMessage:"Leave all unchecked to allow any type in the array"}))),("string"===field.type||"number"===field.type||"array"===field.type||"assets"===field.type)&&react.createElement(Grid_Grid,{item:!0,xs:12},react.createElement(material_Typography_Typography,{variant:"subtitle2",sx:{mb:1}},"string"===field.type&&formatMessage({id:"settings.schema.length_constraints",defaultMessage:"Length Constraints:"}),"number"===field.type&&formatMessage({id:"settings.schema.value_constraints",defaultMessage:"Value Constraints:"}),"array"===field.type&&formatMessage({id:"settings.schema.size_constraints",defaultMessage:"Size Constraints:"}),"assets"===field.type&&formatMessage({id:"settings.schema.file_count_constraints",defaultMessage:"File Count Constraints:"})),react.createElement(Grid_Grid,{container:!0,spacing:2},react.createElement(Grid_Grid,{item:!0,xs:6},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",type:"number",label:"string"===field.type?formatMessage({id:"settings.schema.min_length",defaultMessage:"Min Length"}):"number"===field.type?formatMessage({id:"settings.schema.min_value",defaultMessage:"Min Value"}):"array"===field.type?formatMessage({id:"settings.schema.min_items",defaultMessage:"Min Items"}):formatMessage({id:"settings.schema.min_files",defaultMessage:"Min Files"}),value:void 0!==field.min?field.min:"",onChange:function onChange(e){var value=e.target.value;handleFieldUpdate(field._id,{min:""===value?void 0:Number(value)})},helperText:"string"===field.type?formatMessage({id:"settings.schema.min_chars_help",defaultMessage:"Minimum characters"}):"number"===field.type?formatMessage({id:"settings.schema.min_value_help",defaultMessage:"Minimum allowed value"}):"array"===field.type?formatMessage({id:"settings.schema.min_array_help",defaultMessage:"Minimum array length"}):formatMessage({id:"settings.schema.min_files_help",defaultMessage:"Minimum files required"})})),react.createElement(Grid_Grid,{item:!0,xs:6},react.createElement(TextField_TextField,{fullWidth:!0,size:"small",type:"number",label:"string"===field.type?formatMessage({id:"settings.schema.max_length",defaultMessage:"Max Length"}):"number"===field.type?formatMessage({id:"settings.schema.max_value",defaultMessage:"Max Value"}):"array"===field.type?formatMessage({id:"settings.schema.max_items",defaultMessage:"Max Items"}):formatMessage({id:"settings.schema.max_files",defaultMessage:"Max Files"}),value:void 0!==field.max?field.max:"",onChange:function onChange(e){var value=e.target.value;handleFieldUpdate(field._id,{max:""===value?void 0:Number(value)})},helperText:"string"===field.type?formatMessage({id:"settings.schema.max_chars_help",defaultMessage:"Maximum characters"}):"number"===field.type?formatMessage({id:"settings.schema.max_value_help",defaultMessage:"Maximum allowed value"}):"array"===field.type?formatMessage({id:"settings.schema.max_array_help",defaultMessage:"Maximum array length"}):formatMessage({id:"settings.schema.max_files_help",defaultMessage:"Maximum files allowed"})})))))))))};const settings_SchemaSettings=function SchemaSettings(){var _config$webappConfig2,_context16,formatMessage=useIntl().formatMessage,_useSchema=useSchema(),schema=_useSchema.schema,loading=_useSchema.loading,refreshSchema=_useSchema.refreshSchema,_useMeta=useMeta(),customFields=_useMeta.customFields,refreshMeta=(_useMeta.loading,_useMeta.refreshMeta),_useLicense=license_hooks_useLicense(),hasFeature=_useLicense.hasFeature,canViewSchema=_useLicense.canViewSchema,canUseSchemaOverrides=_useLicense.canUseSchemaOverrides,licenseLoading=_useLicense.loading,config=app_hooks_useApp().config,_useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),refreshing=_useState2[0],setRefreshing=_useState2[1],_useState4=(useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md")),slicedToArray_slicedToArray((0,react.useState)({}),2)),guiOverrides=_useState4[0],setGuiOverrides=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(!1),2),setLoadingOverrides=(_useState6[0],_useState6[1]),_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),savingOverrides=_useState8[0],setSavingOverrides=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),editDialogOpen=_useState0[0],setEditDialogOpen=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(""),2),editingCollection=_useState10[0],setEditingCollection=_useState10[1],_useState12=slicedToArray_slicedToArray((0,react.useState)({}),2),editingOverride=_useState12[0],setEditingOverride=_useState12[1],_useState14=slicedToArray_slicedToArray((0,react.useState)(0),2),tabValue=_useState14[0],setTabValue=_useState14[1],_useState16=slicedToArray_slicedToArray((0,react.useState)(!1),2),addCollectionDialogOpen=_useState16[0],setAddCollectionDialogOpen=_useState16[1],_useState18=slicedToArray_slicedToArray((0,react.useState)(""),2),newCollectionName=_useState18[0],setNewCollectionName=_useState18[1],_useState20=slicedToArray_slicedToArray((0,react.useState)(!1),2),creatingCollection=_useState20[0],setCreatingCollection=_useState20[1],_useState22=slicedToArray_slicedToArray((0,react.useState)([]),2),editingFields=_useState22[0],setEditingFields=_useState22[1],_useState24=slicedToArray_slicedToArray((0,react.useState)([]),2),setAvailableFields=(_useState24[0],_useState24[1]),_useState26=slicedToArray_slicedToArray((0,react.useState)(new(set_default())),2),expandedFields=_useState26[0],setExpandedFields=_useState26[1],_useState28=slicedToArray_slicedToArray((0,react.useState)(null),2),draggedField=_useState28[0],setDraggedField=_useState28[1],hasSchemaOverrides=hasFeature("schemaOverrides"),FIELD_TYPES=react.useMemo(function(){var _config$webappConfig,_context5,_context6,baseTypes=[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"timestamp",label:"Timestamp"},{value:"array",label:"Array"},{value:"reference",label:"Reference"},{value:"geoPoint",label:"GeoPoint"},{value:"map",label:"Map/Object"},{value:"editor",label:"Rich Text Editor"},{value:"dropdown",label:"Dropdown"}];Boolean(null==config||null===(_config$webappConfig=config.webappConfig)||void 0===_config$webappConfig?void 0:_config$webappConfig.storageBucket)&&splice_default()(baseTypes).call(baseTypes,8,0,{value:"assets",label:"Assets"});var customFieldTypes=map_default()(_context5=keys_default()(customFields)).call(_context5,function(fieldTypeName){return{value:fieldTypeName,label:"".concat(customFields[fieldTypeName].name," (Custom)"),isCustom:!0,description:customFields[fieldTypeName].description}});return concat_default()(_context6=[]).call(_context6,baseTypes,_toConsumableArray(customFieldTypes))},[customFields,null==config||null===(_config$webappConfig2=config.webappConfig)||void 0===_config$webappConfig2?void 0:_config$webappConfig2.storageBucket]),generateFieldId=function generateFieldId(){var _context7;return concat_default()(_context7="field_".concat(now_default()(),"_")).call(_context7,Math.random().toString(36).substr(2,9))},handleRefreshSchema=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return setRefreshing(!0),_context8.prev=1,_context8.next=2,refreshSchema();case 2:return _context8.next=3,refreshMeta();case 3:react_toastify_esm_Q.success(formatMessage({id:"settings.schema.refresh_success",defaultMessage:"Schema refreshed successfully"})),_context8.next=5;break;case 4:_context8.prev=4,_context8.catch(1),react_toastify_esm_Q.error(formatMessage({id:"settings.schema.refresh_error",defaultMessage:"Failed to refresh schema"}));case 5:return _context8.prev=5,setRefreshing(!1),_context8.finish(5);case 6:case"end":return _context8.stop()}},_callee,null,[[1,4,5,6]])}));return function handleRefreshSchema(){return _ref2.apply(this,arguments)}}(),loadGuiOverrides=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var _schema$layers3;return regenerator_default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(hasSchemaOverrides){_context9.next=1;break}return _context9.abrupt("return");case 1:setLoadingOverrides(!0);try{null!=schema&&null!==(_schema$layers3=schema.layers)&&void 0!==_schema$layers3&&_schema$layers3.guiOverrides?setGuiOverrides(schema.layers.guiOverrides):setGuiOverrides({})}catch(error){console.error("Failed to load GUI schema overrides:",error),react_toastify_esm_Q.error("Failed to load schema overrides")}finally{setLoadingOverrides(!1)}case 2:case"end":return _context9.stop()}},_callee2)}));return function loadGuiOverrides(){return _ref3.apply(this,arguments)}}(),saveGuiOverrides=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(overrides){var auth,token,basePath,response,_t2,_t3;return regenerator_default().wrap(function(_context0){for(;;)switch(_context0.prev=_context0.next){case 0:if(hasSchemaOverrides){_context0.next=1;break}return _context0.abrupt("return");case 1:if(setSavingOverrides(!0),_context0.prev=2,!(auth=index_35c79a8a_getAuth()).currentUser){_context0.next=4;break}return _context0.next=3,auth.currentUser.getIdToken();case 3:_t2=_context0.sent,_context0.next=5;break;case 4:_t2="";case 5:return token=_t2,basePath=(null==config?void 0:config.basePath)||"",_context0.next=6,fetch("".concat(basePath,"/api/schema-overrides"),{method:"POST",headers:{Authorization:"Bearer ".concat(token),"Content-Type":"application/json"},body:stringify_default()({overrides})});case 6:if((response=_context0.sent).ok){_context0.next=7;break}throw new Error("HTTP error! status: ".concat(response.status));case 7:return setGuiOverrides(overrides),react_toastify_esm_Q.success("Schema overrides saved successfully"),_context0.next=8,refreshSchema();case 8:_context0.next=10;break;case 9:_context0.prev=9,_t3=_context0.catch(2),console.error("Failed to save GUI schema overrides:",_t3),react_toastify_esm_Q.error("Failed to save schema overrides");case 10:return _context0.prev=10,setSavingOverrides(!1),_context0.finish(10);case 11:case"end":return _context0.stop()}},_callee3,null,[[2,9,10,11]])}));return function saveGuiOverrides(_x){return _ref4.apply(this,arguments)}}();(0,react.useEffect)(function(){loadGuiOverrides()},[hasSchemaOverrides]);var handleCloseDialog=function handleCloseDialog(){setEditDialogOpen(!1),setEditingCollection(""),setEditingOverride({}),setEditingFields([]),setAvailableFields([]),setExpandedFields(new(set_default())),setTabValue(0)},handleSaveOverride=function(){var _ref5=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(){var _context10,ignoreFields,overrideFields,finalOverride,newOverrides;return regenerator_default().wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return ignoreFields=[],overrideFields=[],for_each_default()(editingFields).call(editingFields,function(field){if(field._isIgnored||"ignore"===field._action)ignoreFields.push(field.name);else if("override"===field._action||"new"===field._source){var cleanField=SchemaSettings_objectSpread({},field);delete cleanField._id,delete cleanField._source,delete cleanField._action,delete cleanField._isIgnored,"string"!==cleanField.type&&"number"!==cleanField.type&&cleanField.options&&delete cleanField.options,overrideFields.push(cleanField)}else"none"===field._action&&"auto"===field._source&&overrideFields.push({name:field.name})}),finalOverride=SchemaSettings_objectSpread(SchemaSettings_objectSpread({},editingOverride),{},{fields:overrideFields,ignoreFields:ignoreFields.length>0?ignoreFields:void 0}),for_each_default()(_context10=keys_default()(finalOverride)).call(_context10,function(key){void 0!==finalOverride[key]&&""!==finalOverride[key]||delete finalOverride[key]}),newOverrides=SchemaSettings_objectSpread(SchemaSettings_objectSpread({},guiOverrides),{},defineProperty_defineProperty({},editingCollection,finalOverride)),_context11.next=1,saveGuiOverrides(newOverrides);case 1:handleCloseDialog();case 2:case"end":return _context11.stop()}},_callee4)}));return function handleSaveOverride(){return _ref5.apply(this,arguments)}}(),handleDeleteOverride=function(){var _ref6=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee5(collectionName){var newOverrides;return regenerator_default().wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:if(!window.confirm(formatMessage({id:"settings.schema.confirm_reset_override",defaultMessage:"Are you sure you want to reset the schema for {collectionName}? This will remove all customizations and return to the auto-detected schema."},{collectionName}))){_context12.next=1;break}return delete(newOverrides=SchemaSettings_objectSpread({},guiOverrides))[collectionName],_context12.next=1,saveGuiOverrides(newOverrides);case 1:case"end":return _context12.stop()}},_callee5)}));return function handleDeleteOverride(_x2){return _ref6.apply(this,arguments)}}(),handleCreateCollection=function(){var _ref7=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee6(){var trimmedName,pathParts,parentCollection,updatedOverrides,_t4;return regenerator_default().wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:if(trim_default()(newCollectionName).call(newCollectionName)){_context13.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"settings.schema.collection_name_required",defaultMessage:"Collection name is required"})),_context13.abrupt("return");case 1:if(trimmedName=trim_default()(newCollectionName).call(newCollectionName),/^[a-zA-Z][a-zA-Z0-9_]*(\/[a-zA-Z][a-zA-Z0-9_]*)*$/.test(trimmedName)){_context13.next=2;break}return react_toastify_esm_Q.error(formatMessage({id:"settings.schema.invalid_collection_name",defaultMessage:"Collection name must start with a letter and contain only letters, numbers, underscores, and slashes for subcollections"})),_context13.abrupt("return");case 2:if(!includes_default()(trimmedName).call(trimmedName,"/")){_context13.next=3;break}if(pathParts=trimmedName.split("/"),parentCollection=pathParts[0],null!=schema&&schema.collections&&schema.collections[parentCollection]){_context13.next=3;break}return react_toastify_esm_Q.error(formatMessage({id:"settings.schema.parent_collection_not_found",defaultMessage:"Parent collection '{parentCollection}' does not exist. Please create the parent collection first."},{parentCollection})),_context13.abrupt("return");case 3:if(null==schema||!schema.collections||!schema.collections[trimmedName]){_context13.next=4;break}return react_toastify_esm_Q.error(formatMessage({id:"settings.schema.collection_exists",defaultMessage:"Collection already exists"})),_context13.abrupt("return");case 4:return setCreatingCollection(!0),_context13.prev=5,index_35c79a8a_getAuth(),updatedOverrides=SchemaSettings_objectSpread(SchemaSettings_objectSpread({},guiOverrides||{}),{},defineProperty_defineProperty({},trimmedName,{title:trimmedName,fields:[]})),_context13.next=6,saveGuiOverrides(updatedOverrides);case 6:return _context13.next=7,refreshSchema();case 7:react_toastify_esm_Q.success(formatMessage({id:"settings.schema.collection_created",defaultMessage:"Collection created successfully"})),setAddCollectionDialogOpen(!1),setNewCollectionName(""),_context13.next=9;break;case 8:_context13.prev=8,_t4=_context13.catch(5),console.error("Failed to create collection:",_t4),react_toastify_esm_Q.error(formatMessage({id:"settings.schema.collection_create_error",defaultMessage:"Failed to create collection"}));case 9:return _context13.prev=9,setCreatingCollection(!1),_context13.finish(9);case 10:case"end":return _context13.stop()}},_callee6,null,[[5,8,9,10]])}));return function handleCreateCollection(){return _ref7.apply(this,arguments)}}(),handleCloseAddCollectionDialog=function handleCloseAddCollectionDialog(){setAddCollectionDialogOpen(!1),setNewCollectionName("")},handleFieldAction=function handleFieldAction(fieldId,action){setEditingFields(function(fields){return map_default()(fields).call(fields,function(field){return field._id===fieldId?SchemaSettings_objectSpread(SchemaSettings_objectSpread({},field),{},{_action:action,_isIgnored:"ignore"===action}):field})})},handleFieldUpdate=function handleFieldUpdate(fieldId,updates){setEditingFields(function(fields){return map_default()(fields).call(fields,function(field){return field._id===fieldId?SchemaSettings_objectSpread(SchemaSettings_objectSpread({},field),updates):field})})},handleDeleteField=function handleDeleteField(fieldId){setEditingFields(function(fields){return filter_default()(fields).call(fields,function(field){return field._id!==fieldId})})},toggleFieldExpanded=function toggleFieldExpanded(fieldId){var newExpanded=new(set_default())(expandedFields);newExpanded.has(fieldId)?newExpanded.delete(fieldId):newExpanded.add(fieldId),setExpandedFields(newExpanded)},handleDragStart=function handleDragStart(e,fieldId){setDraggedField(fieldId),e.dataTransfer.effectAllowed="move"},handleDragOver=function handleDragOver(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},handleDrop=function handleDrop(e,targetFieldId){if(e.preventDefault(),draggedField&&draggedField!==targetFieldId){var draggedIndex=find_index_default()(editingFields).call(editingFields,function(f){return f._id===draggedField}),targetIndex=find_index_default()(editingFields).call(editingFields,function(f){return f._id===targetFieldId});if(-1!==draggedIndex&&-1!==targetIndex){var newFields=_toConsumableArray(editingFields),draggedItem=slicedToArray_slicedToArray(splice_default()(newFields).call(newFields,draggedIndex,1),1)[0];splice_default()(newFields).call(newFields,targetIndex,0,draggedItem),setEditingFields(newFields),setDraggedField(null)}}},collections=sort_default()(_context16=keys_default()((null==schema?void 0:schema.collections)||{})).call(_context16);return licenseLoading?react.createElement(material_Box_Box,{sx:{p:3,display:"flex",justifyContent:"center"}},react.createElement(material_CircularProgress_CircularProgress,null)):canViewSchema()?react.createElement(material_Box_Box,{sx:{p:3}},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,minHeight:40},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:2},react.createElement(material_Typography_Typography,{variant:"h5",component:"h1"},react.createElement(message,{id:"settings.schema.title",defaultMessage:"Schema"}))),react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:2},react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"settings.schema.refresh",defaultMessage:"Refresh Schema"})},react.createElement("span",null,react.createElement(material_Button_Button,{variant:"outlined",onClick:handleRefreshSchema,disabled:refreshing||loading,sx:{width:40,height:40,minWidth:40,borderRadius:5,p:0}},refreshing?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(Refresh,null)))),canUseSchemaOverrides()&&react.createElement(AddButton,{onClick:function handleAddCollection(){canUseSchemaOverrides()?(setNewCollectionName(""),setAddCollectionDialogOpen(!0)):react_toastify_esm_Q.error(formatMessage({id:"settings.schema.pro_required",defaultMessage:"Creating new collections is a Pro feature. Please upgrade to create collections."}))},text:formatMessage({id:"settings.schema.add_collection",defaultMessage:"Add Collection"}),disabled:loading||refreshing,size:"small"}))),loading&&react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",py:4},react.createElement(material_CircularProgress_CircularProgress,null)),!loading&&react.createElement(react.Fragment,null,0===collections.length?react.createElement(Card_Card,null,react.createElement(CardContent_CardContent,null,react.createElement(material_Typography_Typography,{variant:"h6",color:"textSecondary",textAlign:"center"},react.createElement(message,{id:"settings.schema.no_collections",defaultMessage:"No collections found"})),react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary",textAlign:"center",mt:1},react.createElement(message,{id:"settings.schema.no_collections_desc",defaultMessage:"Create some documents in Firestore and refresh the schema to see collections here."})))):react.createElement(Grid_Grid,{container:!0,spacing:2},map_default()(collections).call(collections,function(collectionName){var _schema$collections2,collection=null==schema||null===(_schema$collections2=schema.collections)||void 0===_schema$collections2?void 0:_schema$collections2[collectionName],fields=(null==collection?void 0:collection.fields)||[];return react.createElement(Grid_Grid,{item:!0,xs:12,key:collectionName},react.createElement(Accordion_Accordion,null,react.createElement(AccordionSummary_AccordionSummary,{expandIcon:react.createElement(ExpandMore,null),"aria-controls":"".concat(collectionName,"-content"),id:"".concat(collectionName,"-header"),sx:{minHeight:"unset","&.Mui-expanded":{minHeight:"unset"},"& .MuiAccordionSummary-content":{margin:"12px 0"},"& .MuiAccordionSummary-content.Mui-expanded":{margin:"12px 0"}}},react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:2,width:"100%",mr:2},react.createElement(material_Typography_Typography,{variant:"h6",component:"div"},(null==collection?void 0:collection.title)||collectionName),react.createElement(material_Chip_Chip,{label:"".concat(fields.length," fields"),size:"small",variant:"outlined"}),canUseSchemaOverrides()&&react.createElement(material_Box_Box,{ml:"auto"},guiOverrides[collectionName]&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"settings.schema.reset_override_tooltip",defaultMessage:"Reset to auto-detected schema (removes all customizations)"}),arrow:!0,placement:"top"},react.createElement(IconButton_IconButton,{size:"small",onClick:function onClick(e){e.stopPropagation(),handleDeleteOverride(collectionName)},sx:{color:"text.secondary","&:hover":{color:"warning.main"}}},react.createElement(Restore,{fontSize:"small"}))),react.createElement(IconButton_IconButton,{size:"small",onClick:function onClick(e){e.stopPropagation(),function handleEditCollection(collectionName){var _schema$layers4,_schema$collections;setEditingCollection(collectionName);var existingOverride=guiOverrides[collectionName]||{},autoDetectedCollection=null==schema||null===(_schema$layers4=schema.layers)||void 0===_schema$layers4||null===(_schema$layers4=_schema$layers4.autoDetected)||void 0===_schema$layers4?void 0:_schema$layers4[collectionName],autoDetectedFields=(null==autoDetectedCollection?void 0:autoDetectedCollection.fields)||[];null==schema||null===(_schema$collections=schema.collections)||void 0===_schema$collections||_schema$collections[collectionName],setEditingOverride(SchemaSettings_objectSpread({title:existingOverride.title||"",titleTemplate:existingOverride.titleTemplate||"",ignoreFields:existingOverride.ignoreFields||[],includeFields:existingOverride.includeFields||[]},existingOverride)),setAvailableFields(autoDetectedFields);var overrideFields=existingOverride.fields||[],fieldsMap=new(core_js_stable_map_default());for_each_default()(autoDetectedFields).call(autoDetectedFields,function(field){var _existingOverride$ign;fieldsMap.set(field.name,SchemaSettings_objectSpread(SchemaSettings_objectSpread({},field),{},{_id:generateFieldId(),_source:"auto",_action:"none",_isIgnored:(null===(_existingOverride$ign=existingOverride.ignoreFields)||void 0===_existingOverride$ign?void 0:includes_default()(_existingOverride$ign).call(_existingOverride$ign,field.name))||!1}))}),for_each_default()(overrideFields).call(overrideFields,function(field){var existing=fieldsMap.get(field.name);if(existing){var isActuallyOverridden=function hasActualOverrides(overrideField){var autoField=find_default()(autoDetectedFields).call(autoDetectedFields,function(f){return f.name===overrideField.name});if(!autoField)return!0;var meaningfulProps=["title","label","required","options","min","max","width","inList","referencePath","validTypes"];return some_default()(meaningfulProps).call(meaningfulProps,function(prop){var overrideValue=overrideField[prop],autoValue=autoField[prop];return!(!overrideValue&&!autoValue)&&(array_is_array_default()(overrideValue)&&array_is_array_default()(autoValue)?stringify_default()(overrideValue)!==stringify_default()(autoValue):overrideValue!==autoValue)})}(field);fieldsMap.set(field.name,SchemaSettings_objectSpread(SchemaSettings_objectSpread(SchemaSettings_objectSpread({},existing),field),{},{_source:"auto",_action:isActuallyOverridden?"override":"none",_isIgnored:!1}))}else fieldsMap.set(field.name,SchemaSettings_objectSpread(SchemaSettings_objectSpread({},field),{},{_id:generateFieldId(),_source:"new",_action:"add"}))}),setEditingFields(array_from_default()(instance_values_default()(fieldsMap).call(fieldsMap))),setEditDialogOpen(!0),setTabValue(0)}(collectionName)},title:"Edit collection"},react.createElement(esm_Edit,{fontSize:"small"}))))),react.createElement(AccordionDetails_AccordionDetails,{sx:{pt:0,pb:2,overflowX:"auto",width:"100%"}},(null==collection?void 0:collection.titleTemplate)&&react.createElement(material_Box_Box,{mb:2,p:2,sx:{backgroundColor:"grey.50",borderRadius:1}},react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary"},react.createElement("strong",null,"Title Template:")," ",collection.titleTemplate)),fields.length>0?react.createElement(material_Box_Box,{sx:{mt:null!=collection&&collection.titleTemplate?1:0,overflowX:"auto",width:"100%"}},function renderFieldsTable(fields){return 0===fields.length?react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary",fontStyle:"italic",sx:{textAlign:"center",py:2}},"No fields detected for this collection."):react.createElement(TableContainer_TableContainer,{component:material_Paper_Paper,variant:"outlined",sx:{overflowX:"auto",width:"100%",maxWidth:"100%"}},react.createElement(Table_Table,{size:"small",sx:{minWidth:600}},react.createElement(TableHead_TableHead,null,react.createElement(TableRow_TableRow,null,react.createElement(TableCell_TableCell,{sx:{fontWeight:600,minWidth:120}},react.createElement(message,{id:"settings.schema.field_name",defaultMessage:"Field Name"})),react.createElement(TableCell_TableCell,{sx:{fontWeight:600,minWidth:150}},react.createElement(message,{id:"settings.schema.display_label",defaultMessage:"Display Name"})),react.createElement(TableCell_TableCell,{sx:{fontWeight:600,minWidth:80}},react.createElement(message,{id:"settings.schema.field_type",defaultMessage:"Type"})),react.createElement(TableCell_TableCell,{sx:{fontWeight:600,minWidth:60,textAlign:"center"}},react.createElement(message,{id:"settings.schema.required",defaultMessage:"Required"})),react.createElement(TableCell_TableCell,{sx:{fontWeight:600}},react.createElement(message,{id:"settings.schema.details",defaultMessage:"Details"})))),react.createElement(TableBody_TableBody,null,map_default()(fields).call(fields,function(field){var details=[];if(field.referencePath&&details.push("Ref: ".concat(field.referencePath)),field.options&&field.options.length>0){var _context1,optionsText=map_default()(_context1=field.options).call(_context1,function(opt){return"string"==typeof opt?opt:array_is_array_default()(opt)?opt[1]||opt[0]:"object"===_typeof(opt)&&null!==opt&&(opt.text||opt.label||opt.value)||String(opt)}).join(", ");details.push("Options: ".concat(optionsText))}if("array"===field.type&&field.validTypes&&field.validTypes.length>0&&details.push("Types: ".concat(field.validTypes.join(", "))),void 0!==field.min||void 0!==field.max){var constraints=[];void 0!==field.min&&constraints.push("Min: ".concat(field.min)),void 0!==field.max&&constraints.push("Max: ".concat(field.max)),details.push(constraints.join(", "))}return react.createElement(TableRow_TableRow,{key:field.name,sx:{"&:last-child td":{border:0}}},react.createElement(TableCell_TableCell,null,react.createElement(material_Typography_Typography,{variant:"body2",fontWeight:"medium"},field.name)),react.createElement(TableCell_TableCell,null,react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},field.title||field.label||"")),react.createElement(TableCell_TableCell,null,react.createElement(material_Typography_Typography,{variant:"body2"},field.type)),react.createElement(TableCell_TableCell,{sx:{textAlign:"center"}},field.required?react.createElement(Tooltip_Tooltip,{title:"Required"},react.createElement(Check,{fontSize:"small",sx:{color:"text.secondary",display:"block",margin:"0 auto"}})):react.createElement(material_Typography_Typography,{variant:"body2",color:"text.disabled"},"")),react.createElement(TableCell_TableCell,null,details.length>0?react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary"},details.join("  ")):react.createElement(material_Typography_Typography,{variant:"caption",color:"text.disabled"},"")))}))))}(fields)):react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary",fontStyle:"italic"},"No fields detected for this collection."))))}))),canUseSchemaOverrides()&&react.createElement(common_FormDialog,{open:editDialogOpen,onClose:handleCloseDialog,title:"Edit Collection: ".concat(editingCollection),maxWidth:"lg",actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:handleCloseDialog},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleSaveOverride,variant:"contained",disabled:savingOverrides,startIcon:savingOverrides?react.createElement(material_CircularProgress_CircularProgress,{size:16}):react.createElement(esm_Save,null)},react.createElement(message,{id:"settings.schema.save_override",defaultMessage:"Save Override"})))},react.createElement(material_Box_Box,{sx:{borderBottom:1,borderColor:"divider",mb:3}},react.createElement(Tabs_Tabs,{value:tabValue,onChange:function onChange(e,newValue){return setTabValue(newValue)}},react.createElement(Tab_Tab,{label:"Basic Settings"}),react.createElement(Tab_Tab,{label:"Field Management"}))),0===tabValue&&react.createElement(material_Box_Box,null,react.createElement(TextField_TextField,{fullWidth:!0,label:"Collection Title",value:editingOverride.title||"",onChange:function onChange(e){return setEditingOverride(SchemaSettings_objectSpread(SchemaSettings_objectSpread({},editingOverride),{},{title:e.target.value}))},helperText:"Custom display name for this collection",sx:{mb:3}}),react.createElement(TextField_TextField,{fullWidth:!0,label:"Title Template",value:editingOverride.titleTemplate||"",onChange:function onChange(e){return setEditingOverride(SchemaSettings_objectSpread(SchemaSettings_objectSpread({},editingOverride),{},{titleTemplate:e.target.value}))},helperText:"Template for document titles using ${field} variables (e.g., '${email}', '${firstName} ${lastName}')",sx:{mb:3}}),react.createElement(FormControlLabel_FormControlLabel,{control:react.createElement(material_Switch_Switch,{checked:!1!==editingOverride.download,onChange:function onChange(e){return setEditingOverride(SchemaSettings_objectSpread(SchemaSettings_objectSpread({},editingOverride),{},{download:e.target.checked}))}}),label:"Allow CSV Downloads",sx:{mb:1}}),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{mb:3,mt:.5,ml:"14px",display:"block"}},"When enabled, users can export this collection's data as CSV files. Default is enabled."),react.createElement(Alert_Alert,{severity:"info"},react.createElement(material_Typography_Typography,{variant:"body2"},"Use the ",react.createElement("strong",null,"Field Management")," tab to customize individual fields, ignore fields, or add new ones."))),1===tabValue&&react.createElement(material_Box_Box,null,react.createElement(material_Box_Box,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},react.createElement(material_Typography_Typography,{variant:"h6"},"Fields (",editingFields.length,")"),react.createElement(material_Button_Button,{variant:"outlined",startIcon:react.createElement(esm_Add,null),onClick:function handleAddNewField(){var _context14,newFieldId=generateFieldId(),newField={_id:newFieldId,name:"",type:"string",label:"",required:!1,_source:"new",_action:"add"};setEditingFields(concat_default()(_context14=[]).call(_context14,_toConsumableArray(editingFields),[newField])),set_timeout_default()(function(){setExpandedFields(function(prev){var _context15;return new(set_default())(concat_default()(_context15=[]).call(_context15,_toConsumableArray(prev),[newFieldId]))});var fieldElement=document.querySelector('[data-field-id="'.concat(newFieldId,'"]'));fieldElement&&fieldElement.scrollIntoView({behavior:"smooth",block:"center"})},100)}},"Add New Field")),0===editingFields.length?react.createElement(Alert_Alert,{severity:"info"},react.createElement(material_Typography_Typography,{variant:"body2"},"No fields found. Auto-detected fields will appear here when you edit a collection with data.")):react.createElement(material_Box_Box,null,map_default()(editingFields).call(editingFields,function(field){return react.createElement(FieldEditor,{key:field._id,field,expandedFields,draggedField,FIELD_TYPES,formatMessage,schema,editingCollection,handleDragStart,handleDragOver,handleDrop,toggleFieldExpanded,handleFieldAction,handleFieldUpdate,handleDeleteField})})))),react.createElement(common_FormDialog,{open:addCollectionDialogOpen,onClose:handleCloseAddCollectionDialog,title:formatMessage({id:"settings.schema.add_collection_title",defaultMessage:"Create New Collection"}),actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:handleCloseAddCollectionDialog},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleCreateCollection,variant:"contained",disabled:creatingCollection||!trim_default()(newCollectionName).call(newCollectionName),startIcon:creatingCollection?react.createElement(material_CircularProgress_CircularProgress,{size:16}):react.createElement(esm_Add,null)},react.createElement(message,{id:"settings.schema.create_collection",defaultMessage:"Create Collection"})))},react.createElement(material_Box_Box,{sx:{minWidth:400}},react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"settings.schema.collection_name",defaultMessage:"Collection Name"}),value:newCollectionName,onChange:function onChange(e){return setNewCollectionName(e.target.value)},helperText:formatMessage({id:"settings.schema.collection_name_help",defaultMessage:"Must start with a letter and contain only letters, numbers, and underscores"}),placeholder:"users, articles, articles/comments...",required:!0,autoFocus:!0,sx:{mb:2}}))),!canUseSchemaOverrides()&&react.createElement(material_Box_Box,{sx:{mt:4}},react.createElement(license_UpgradeBanner,{feature:"schemaOverrides",title:"Schema Customization",description:"Upgrade to Pro to customize your schema with the visual GUI editor. Edit collection titles, field properties, validation rules, and more without touching code.",benefits:["Visual schema editor","Custom field labels","Field ordering & hiding","Validation constraints","Collection customization"],showBenefits:!0}))):react.createElement(material_Box_Box,{sx:{p:3}},react.createElement(Alert_Alert,{severity:"error"},react.createElement(message,{id:"settings.schema.access_denied",defaultMessage:"You don't have permission to view the schema."})))};function getCardHeaderUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiCardHeader",slot)}const CardHeader_cardHeaderClasses=(0,generateUtilityClasses.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),CardHeader_excluded=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],CardHeaderRoot=(0,styled.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(props,styles)=>(0,esm_extends.A)({[`& .${CardHeader_cardHeaderClasses.title}`]:styles.title,[`& .${CardHeader_cardHeaderClasses.subheader}`]:styles.subheader},styles.root)})({display:"flex",alignItems:"center",padding:16}),CardHeaderAvatar=(0,styled.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(props,styles)=>styles.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),CardHeaderAction=(0,styled.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(props,styles)=>styles.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),CardHeaderContent=(0,styled.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(props,styles)=>styles.content})({flex:"1 1 auto"}),CardHeader=react.forwardRef(function CardHeader(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiCardHeader"}),{action,avatar,className,component="div",disableTypography=!1,subheader:subheaderProp,subheaderTypographyProps,title:titleProp,titleTypographyProps}=props,other=(0,objectWithoutPropertiesLoose.A)(props,CardHeader_excluded),ownerState=(0,esm_extends.A)({},props,{component,disableTypography}),classes=(ownerState=>{const{classes}=ownerState;return(0,composeClasses.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},getCardHeaderUtilityClass,classes)})(ownerState);let title=titleProp;null==title||title.type===material_Typography_Typography||disableTypography||(title=(0,jsx_runtime.jsx)(material_Typography_Typography,(0,esm_extends.A)({variant:avatar?"body2":"h5",className:classes.title,component:"span",display:"block"},titleTypographyProps,{children:title})));let subheader=subheaderProp;return null==subheader||subheader.type===material_Typography_Typography||disableTypography||(subheader=(0,jsx_runtime.jsx)(material_Typography_Typography,(0,esm_extends.A)({variant:avatar?"body2":"body1",className:classes.subheader,color:"text.secondary",component:"span",display:"block"},subheaderTypographyProps,{children:subheader}))),(0,jsx_runtime.jsxs)(CardHeaderRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,className),as:component,ref,ownerState},other,{children:[avatar&&(0,jsx_runtime.jsx)(CardHeaderAvatar,{className:classes.avatar,ownerState,children:avatar}),(0,jsx_runtime.jsxs)(CardHeaderContent,{className:classes.content,ownerState,children:[title,subheader]}),action&&(0,jsx_runtime.jsx)(CardHeaderAction,{className:classes.action,ownerState,children:action})]}))}),CardHeader_CardHeader=CardHeader,OpenInNew=((0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"));const settings_AccountSettings=function AccountSettings(){var formatMessage=useIntl().formatMessage,_useAuth=auth_hooks_useAuth(),auth=(_useAuth.user,_useAuth.auth),_useLicense=license_hooks_useLicense(),license=_useLicense.license,loading=_useLicense.loading,hasFeature=_useLicense.hasFeature,refreshLicense=_useLicense.refreshLicense,_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),checkoutMessage=_useState2[0],setCheckoutMessage=_useState2[1],_useState4=slicedToArray_slicedToArray((0,react.useState)(!1),2),showLicenseDialog=_useState4[0],setShowLicenseDialog=_useState4[1],_useState6=slicedToArray_slicedToArray((0,react.useState)(""),2),subscriptionId=_useState6[0],setSubscriptionId=_useState6[1],_useState8=slicedToArray_slicedToArray((0,react.useState)(!1),2),isSavingLicense=_useState8[0],setIsSavingLicense=_useState8[1],_useState0=slicedToArray_slicedToArray((0,react.useState)(!1),2),checkoutLoading=_useState0[0],setCheckoutLoading=_useState0[1],_useState10=slicedToArray_slicedToArray((0,react.useState)(!1),2),pricingDialogOpen=_useState10[0],setPricingDialogOpen=_useState10[1];react.useEffect(function(){var urlParams=new(url_search_params_default())(window.location.search),checkoutSuccess=urlParams.get("checkout"),transactionId=urlParams.get("transaction_id");if("success"===checkoutSuccess&&transactionId){handleCheckoutSuccess(transactionId);var newUrl=window.location.pathname;window.history.replaceState({},document.title,newUrl)}},[]),react.useEffect(function(){var handlePaddleEvent=function(){var _ref=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(event){var paddleData,_auth$currentUser,token,payload,response,data;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return paddleData=event.detail,_context.prev=1,_context.next=2,null===(_auth$currentUser=auth.currentUser)||void 0===_auth$currentUser?void 0:_auth$currentUser.getIdToken();case 2:return token=_context.sent,payload={provider:"paddle",subscriptionId:paddleData.subscriptionId,transactionId:paddleData.transactionId,customerId:paddleData.customerId},_context.next=3,fetch("/api/billing/checkout-success",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)},body:stringify_default()(payload)});case 3:if(!(response=_context.sent).ok){_context.next=6;break}return _context.next=4,response.json();case 4:if(data=_context.sent,setCheckoutMessage({type:"success",message:data.message||"Payment successful! Your subscription has been activated."}),!refreshLicense){_context.next=5;break}return _context.next=5,refreshLicense();case 5:_context.next=7;break;case 6:throw new Error("Failed to process checkout");case 7:_context.next=9;break;case 8:_context.prev=8,_context.catch(1),setCheckoutMessage({type:"error",message:formatMessage({id:"settings.account.checkout_processing_failed",defaultMessage:"Payment was successful, but there was an error activating your subscription. Please contact support."})});case 9:case"end":return _context.stop()}},_callee,null,[[1,8]])}));return function handlePaddleEvent(_x){return _ref.apply(this,arguments)}}();return window.addEventListener("paddleCheckoutCompleted",handlePaddleEvent),function(){window.removeEventListener("paddleCheckoutCompleted",handlePaddleEvent)}},[auth.currentUser,refreshLicense,formatMessage]),react.useEffect(function(){"cancelled"===new(url_search_params_default())(window.location.search).get("checkout")&&(setCheckoutMessage({type:"error",message:formatMessage({id:"settings.account.checkout_cancelled",defaultMessage:"Checkout was cancelled. You can try again anytime."})}),window.history.replaceState({},document.title,window.location.pathname))},[formatMessage,auth,refreshLicense]);var handleSaveLicense=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var _t2;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return setIsSavingLicense(!0),_context2.prev=1,_context2.next=2,apiPost(auth,"/api/billing/checkout-success",{subscriptionId});case 2:return _context2.next=3,refreshLicense();case 3:setShowLicenseDialog(!1),setSubscriptionId(""),setCheckoutMessage({type:"success",message:formatMessage({id:"settings.account.license_activated",defaultMessage:"License activated successfully!"})}),_context2.next=5;break;case 4:_context2.prev=4,_t2=_context2.catch(1),console.error("License save error:",_t2),setCheckoutMessage({type:"error",message:formatMessage({id:"settings.account.license_save_error",defaultMessage:"Failed to save license. Please try again."})});case 5:return _context2.prev=5,setIsSavingLicense(!1),_context2.finish(5);case 6:case"end":return _context2.stop()}},_callee2,null,[[1,4,5,6]])}));return function handleSaveLicense(){return _ref2.apply(this,arguments)}}(),handleManageBilling=function(){var _ref3=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(){var token,response,error,_yield$response$json,url,_t3;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(auth.currentUser){_context3.next=1;break}return react_toastify_esm_Q.error(formatMessage({id:"settings.account.auth_required",defaultMessage:"Authentication required"})),_context3.abrupt("return");case 1:return _context3.prev=1,setCheckoutLoading(!0),_context3.next=2,auth.currentUser.getIdToken();case 2:return token=_context3.sent,_context3.next=3,fetch("/api/billing/customer-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)}});case 3:if((response=_context3.sent).ok){_context3.next=5;break}return _context3.next=4,response.json();case 4:throw error=_context3.sent,new Error(error.error||error.message||"Failed to access billing portal");case 5:return _context3.next=6,response.json();case 6:if(_yield$response$json=_context3.sent,!(url=_yield$response$json.url)){_context3.next=7;break}window.open(url,"_blank"),_context3.next=8;break;case 7:throw new Error("No portal URL received");case 8:_context3.next=10;break;case 9:_context3.prev=9,_t3=_context3.catch(1),console.error("Manage billing failed:",_t3),react_toastify_esm_Q.error(_t3 instanceof Error?_t3.message:formatMessage({id:"settings.account.billing_access_failed",defaultMessage:"Failed to access billing portal"}));case 10:return _context3.prev=10,setCheckoutLoading(!1),_context3.finish(10);case 11:case"end":return _context3.stop()}},_callee3,null,[[1,9,10,11]])}));return function handleManageBilling(){return _ref3.apply(this,arguments)}}(),handleCheckoutSuccess=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee4(transactionId){var _auth$currentUser2,token,payload,response,error,_t4;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=1,null===(_auth$currentUser2=auth.currentUser)||void 0===_auth$currentUser2?void 0:_auth$currentUser2.getIdToken();case 1:return token=_context4.sent,payload={provider:"paddle",transactionId,subscriptionId:transactionId},_context4.next=2,fetch("/api/billing/checkout-success",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(token)},body:stringify_default()(payload)});case 2:if(!(response=_context4.sent).ok){_context4.next=5;break}return _context4.next=3,response.json();case 3:return _context4.sent,_context4.next=4,refreshLicense();case 4:react_toastify_esm_Q.success(" Pro license activated successfully!"),_context4.next=7;break;case 5:return _context4.next=6,response.json();case 6:throw error=_context4.sent,new Error(error.message||"Failed to process checkout success");case 7:_context4.next=9;break;case 8:_context4.prev=8,_t4=_context4.catch(0),console.error(" Failed to process checkout success:",_t4),react_toastify_esm_Q.error("Failed to activate license. Please contact support.");case 9:case"end":return _context4.stop()}},_callee4,null,[[0,8]])}));return function handleCheckoutSuccess(_x2){return _ref4.apply(this,arguments)}}(),featureList=[{key:"always",label:formatMessage({id:"license.feature.schema_detection",defaultMessage:"Automatic Schema Detection"}),description:formatMessage({id:"license.feature.schema_detection_desc",defaultMessage:"Automatic detection of Firestore schema with code-based configuration support"}),plan:"free"},{key:"always",label:formatMessage({id:"license.feature.content_management",defaultMessage:"Content Management"}),description:formatMessage({id:"license.feature.content_management_desc",defaultMessage:"Full CRUD operations on your Firestore collections"}),plan:"free"},{key:"always",label:formatMessage({id:"license.feature.firebase_integration",defaultMessage:"Firebase Integration"}),description:formatMessage({id:"license.feature.firebase_integration_desc",defaultMessage:"Direct integration with Firebase Authentication and Firestore"}),plan:"free"},{key:"always",label:formatMessage({id:"license.feature.assets_management",defaultMessage:"Assets Management"}),description:formatMessage({id:"license.feature.assets_management_desc",defaultMessage:"Upload, organize and manage files in Firebase Storage"}),plan:"free"},{key:"always",label:formatMessage({id:"license.feature.custom_fields",defaultMessage:"Custom Field Types"}),description:formatMessage({id:"license.feature.custom_fields_desc",defaultMessage:"Define custom field types with renderInput, renderOutput and validation"}),plan:"free"},{key:"unlimitedUsers",label:formatMessage({id:"license.feature.unlimited_users",defaultMessage:"Unlimited Users"}),description:formatMessage({id:"license.feature.unlimited_users_desc",defaultMessage:"No limits on the number of users who can access the admin"}),plan:"pro"},{key:"schemaOverrides",label:formatMessage({id:"license.feature.visual_schema_editor",defaultMessage:"Visual Schema Editor"}),description:formatMessage({id:"license.feature.visual_schema_editor_desc",defaultMessage:"Customize schema with GUI editor - no code required"}),plan:"pro"},{key:"customRoles",label:formatMessage({id:"license.feature.custom_roles",defaultMessage:"Custom User Roles"}),description:formatMessage({id:"license.feature.custom_roles_desc",defaultMessage:"Create and manage custom permission sets beyond built-in roles"}),plan:"pro"},{key:"advancedAuth",label:formatMessage({id:"license.feature.advanced_auth",defaultMessage:"Advanced Authentication"}),description:formatMessage({id:"license.feature.advanced_auth_desc",defaultMessage:"Phone, SAML, OIDC and other authentication methods beyond email/password"}),plan:"pro"}];return loading?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",py:4},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(material_Box_Box,{sx:{p:3}},react.createElement(Grid_Grid,{container:!0,spacing:3},react.createElement(Grid_Grid,{item:!0,xs:12,md:6},react.createElement(Card_Card,null,react.createElement(CardHeader_CardHeader,{title:react.createElement(message,{id:"settings.account.license_subscription_title",defaultMessage:"License & Subscription"}),sx:{pb:0}}),react.createElement(CardContent_CardContent,null,license&&react.createElement(material_Box_Box,null,react.createElement(material_Box_Box,{sx:{display:"flex",mb:2}},react.createElement(material_Box_Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,px:3,py:2,borderRadius:3,backgroundColor:license.plan===license_types_PricingPlan.PRO?"#FF6B35":"grey.50",border:license.plan===license_types_PricingPlan.PRO?0:1,borderColor:"grey.100"}},react.createElement(material_Box_Box,null,react.createElement(material_Typography_Typography,{variant:"h6",sx:{fontWeight:600,mb:.5,color:license.plan===license_types_PricingPlan.PRO?"white":"inherit"}},function getPlanDisplayName(plan){switch(plan){case license_types_PricingPlan.FREE:return formatMessage({id:"license.plan.free",defaultMessage:"Free Plan"});case license_types_PricingPlan.PRO:return formatMessage({id:"license.plan.pro",defaultMessage:"Pro Plan"});default:return plan}}(license.plan))))),react.createElement(material_Box_Box,{sx:{space:2}},react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:1,py:1.5},react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary",sx:{}},react.createElement(message,{id:"settings.account.subscription_id",defaultMessage:"Subscription ID"})),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1}},react.createElement(material_Box_Box,{sx:{fontFamily:"monospace",backgroundColor:"grey.100",px:1,py:.5,borderRadius:1,fontSize:"0.75rem"}},(null==license?void 0:license.subscriptionId)||"No subscription"),(null==license?void 0:license.subscriptionId)&&react.createElement(material_Box_Box,{display:"flex",alignItems:"center",gap:.5},react.createElement(material_Box_Box,{sx:{width:6,height:6,borderRadius:"50%",backgroundColor:null!=license&&license.isActive?"success.main":"grey.400"}}),react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.65rem"}},null!=license&&license.isActive?formatMessage({id:"settings.account.status_active",defaultMessage:"Active"}):formatMessage({id:"settings.account.status_inactive",defaultMessage:"Inactive"}))))),(null==license?void 0:license.expiresAt)&&react.createElement(material_Box_Box,{display:"flex",justifyContent:"space-between",alignItems:"center",py:1},react.createElement(material_Typography_Typography,{variant:"body2",color:"text.secondary"},react.createElement(message,{id:"settings.account.valid_until",defaultMessage:"Valid Until"})),react.createElement(material_Typography_Typography,{variant:"body2",sx:{fontWeight:500}},new Date(license.expiresAt).toLocaleDateString()))),license.plan===license_types_PricingPlan.FREE&&react.createElement(Alert_Alert,{severity:"info",sx:{mb:2}},react.createElement(message,{id:"settings.account.free_plan_message",defaultMessage:"You're currently on the free plan. Upgrade to unlock Pro features."})),react.createElement(Divider_Divider,{sx:{my:2}}),react.createElement(material_Box_Box,{sx:{display:"flex",gap:1,flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"center"}},react.createElement(material_Button_Button,{variant:"contained",startIcon:checkoutLoading?react.createElement(material_CircularProgress_CircularProgress,{size:16}):license.plan===license_types_PricingPlan.PRO?react.createElement(OpenInNew,null):react.createElement(esm_Upgrade,null),disabled:checkoutLoading,onClick:license.plan===license_types_PricingPlan.PRO?handleManageBilling:function handleUpgrade(){auth.currentUser?setPricingDialogOpen(!0):console.error(" No authenticated user found for upgrade")},sx:{fontWeight:600,minWidth:110,whiteSpace:"nowrap"}},license.plan===license_types_PricingPlan.FREE?react.createElement(message,{id:"settings.account.upgrade_to_pro",defaultMessage:"Upgrade to Pro"}):react.createElement(message,{id:"settings.account.manage_billing",defaultMessage:"Manage Billing"})),license.plan===license_types_PricingPlan.FREE&&react.createElement(material_Button_Button,{variant:"outlined",onClick:function onClick(){return setShowLicenseDialog(!0)},sx:{}},react.createElement(message,{id:"settings.account.enter_license_key",defaultMessage:"Enter License Key"}))))))),react.createElement(Grid_Grid,{item:!0,xs:12,md:6},react.createElement(Card_Card,null,react.createElement(CardHeader_CardHeader,{title:react.createElement(material_Box_Box,{sx:{mb:2}},react.createElement(message,{id:"settings.account.features_title",defaultMessage:"Features"})),subheader:react.createElement(message,{id:"settings.account.features_desc",defaultMessage:"See which features are available with your current plan"})}),react.createElement(CardContent_CardContent,{sx:{pt:0}},react.createElement(List_List,{sx:{pt:0,mt:0,"& .MuiList-root":{pt:0},"& ul":{pt:0}}},map_default()(featureList).call(featureList,function(feature,index){var _context5,isAvailable="free"===feature.plan||hasFeature(feature.key);return react.createElement(react.Fragment,{key:concat_default()(_context5="".concat(feature.plan,"-")).call(_context5,feature.label)},react.createElement(ListItem_ListItem,null,react.createElement(ListItemIcon_ListItemIcon,null,isAvailable?react.createElement(Check,{color:"success"}):react.createElement(esm_Close,{color:"disabled"})),react.createElement(ListItemText_ListItemText,{primary:feature.label,secondary:feature.description,sx:{opacity:isAvailable?1:.6}}),!isAvailable&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"settings.account.upgrade_required",defaultMessage:"Upgrade required"}),arrow:!0,placement:"top"},react.createElement(esm_Upgrade,{sx:{fontSize:18,color:"text.secondary",opacity:.6,ml:1}}))),index<featureList.length-1&&react.createElement(Divider_Divider,null))})))))),checkoutMessage&&react.createElement(Alert_Alert,{severity:checkoutMessage.type,onClose:function onClose(){return setCheckoutMessage(null)},sx:{mt:3}},checkoutMessage.message),react.createElement(common_FormDialog,{open:showLicenseDialog,onClose:function onClose(){return setShowLicenseDialog(!1)},title:formatMessage({id:"settings.account.enter_license",defaultMessage:"Enter Subscription ID"}),maxWidth:"xs",fullWidth:!1,actions:react.createElement(react.Fragment,null,react.createElement(material_Button_Button,{onClick:function onClick(){return setShowLicenseDialog(!1)}},react.createElement(message,{id:"common.cancel",defaultMessage:"Cancel"})),react.createElement(material_Button_Button,{onClick:handleSaveLicense,variant:"contained",disabled:!subscriptionId||isSavingLicense},isSavingLicense?react.createElement(material_CircularProgress_CircularProgress,{size:20}):react.createElement(message,{id:"common.save",defaultMessage:"Save"})))},react.createElement(material_Box_Box,{display:"flex",flexDirection:"column",gap:2,mt:1},react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary"},react.createElement(message,{id:"settings.account.license_instructions",defaultMessage:"Enter your Paddle subscription ID to activate Pro features."})),react.createElement(TextField_TextField,{fullWidth:!0,label:formatMessage({id:"settings.account.subscription_id",defaultMessage:"Subscription ID"}),value:subscriptionId,onChange:function onChange(e){return setSubscriptionId(e.target.value)},placeholder:"paddle_sub_..."}))),react.createElement(billing_PricingDialog,{open:pricingDialogOpen,onClose:function onClose(){return setPricingDialogOpen(!1)}}))};const settings_SettingsPage=function SettingsPage(){var history=react_router_useHistory(),location=useLocation(),_useLicense=license_hooks_useLicense(),canViewSchema=(_useLicense.canUseSchemaOverrides,_useLicense.canViewSchema),currentTab=function getCurrentTab(){var path=location.pathname;return includes_default()(path).call(path,"/settings/schema")&&canViewSchema()?"schema":(includes_default()(path).call(path,"/settings/account"),"account")}(),tabs=[{value:"account",label:react.createElement(message,{id:"settings.tab_account",defaultMessage:"Account"})}];return canViewSchema()&&tabs.push({value:"schema",label:react.createElement(message,{id:"settings.tab_schema",defaultMessage:"Schema"})}),react.createElement(material_Box_Box,{sx:{height:"100%",display:"flex",flexDirection:"column"}},react.createElement(common_SubMenuTabs,{tabs,currentValue:currentTab,onTabChange:function handleTabChange(event,newValue){"account"===newValue?history.push("/settings/account"):"schema"===newValue&&history.push("/settings/schema")},enableScrollButtons:!1}),react.createElement(material_Box_Box,{component:"main",sx:{flex:1,overflow:"auto",backgroundColor:"#FAFAFA"}},react.createElement(Switch,null,react.createElement(Route,{exact:!0,path:"/settings",component:settings_AccountSettings}),react.createElement(Route,{path:"/settings/account",component:settings_AccountSettings}),react.createElement(Route,{path:"/settings/schema",component:settings_SchemaSettings}))))};function getAppBarUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiAppBar",slot)}(0,generateUtilityClasses.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const AppBar_excluded=["className","color","enableColorOnDark","position"],joinVars=(var1,var2)=>var1?`${null==var1?void 0:var1.replace(")","")}, ${var2})`:var2,AppBarRoot=(0,styled.Ay)(material_Paper_Paper,{name:"MuiAppBar",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[`position${(0,capitalize.A)(ownerState.position)}`],styles[`color${(0,capitalize.A)(ownerState.color)}`]]}})(({theme,ownerState})=>{const backgroundColorDefault="light"===theme.palette.mode?theme.palette.grey[100]:theme.palette.grey[900];return(0,esm_extends.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===ownerState.position&&{position:"fixed",zIndex:(theme.vars||theme).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===ownerState.position&&{position:"absolute",zIndex:(theme.vars||theme).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===ownerState.position&&{position:"sticky",zIndex:(theme.vars||theme).zIndex.appBar,top:0,left:"auto",right:0},"static"===ownerState.position&&{position:"static"},"relative"===ownerState.position&&{position:"relative"},!theme.vars&&(0,esm_extends.A)({},"default"===ownerState.color&&{backgroundColor:backgroundColorDefault,color:theme.palette.getContrastText(backgroundColorDefault)},ownerState.color&&"default"!==ownerState.color&&"inherit"!==ownerState.color&&"transparent"!==ownerState.color&&{backgroundColor:theme.palette[ownerState.color].main,color:theme.palette[ownerState.color].contrastText},"inherit"===ownerState.color&&{color:"inherit"},"dark"===theme.palette.mode&&!ownerState.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===ownerState.color&&(0,esm_extends.A)({backgroundColor:"transparent",color:"inherit"},"dark"===theme.palette.mode&&{backgroundImage:"none"})),theme.vars&&(0,esm_extends.A)({},"default"===ownerState.color&&{"--AppBar-background":ownerState.enableColorOnDark?theme.vars.palette.AppBar.defaultBg:joinVars(theme.vars.palette.AppBar.darkBg,theme.vars.palette.AppBar.defaultBg),"--AppBar-color":ownerState.enableColorOnDark?theme.vars.palette.text.primary:joinVars(theme.vars.palette.AppBar.darkColor,theme.vars.palette.text.primary)},ownerState.color&&!ownerState.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":ownerState.enableColorOnDark?theme.vars.palette[ownerState.color].main:joinVars(theme.vars.palette.AppBar.darkBg,theme.vars.palette[ownerState.color].main),"--AppBar-color":ownerState.enableColorOnDark?theme.vars.palette[ownerState.color].contrastText:joinVars(theme.vars.palette.AppBar.darkColor,theme.vars.palette[ownerState.color].contrastText)},!["inherit","transparent"].includes(ownerState.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===ownerState.color?"inherit":"var(--AppBar-color)"},"transparent"===ownerState.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=react.forwardRef(function AppBar(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiAppBar"}),{className,color="primary",enableColorOnDark=!1,position="fixed"}=props,other=(0,objectWithoutPropertiesLoose.A)(props,AppBar_excluded),ownerState=(0,esm_extends.A)({},props,{color,position,enableColorOnDark}),classes=(ownerState=>{const{color,position,classes}=ownerState,slots={root:["root",`color${(0,capitalize.A)(color)}`,`position${(0,capitalize.A)(position)}`]};return(0,composeClasses.A)(slots,getAppBarUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(AppBarRoot,(0,esm_extends.A)({square:!0,component:"header",ownerState,elevation:4,className:(0,clsx.A)(classes.root,className,"fixed"===position&&"mui-fixed"),ref},other))}),AppBar_AppBar=AppBar;var icons_material_Person=__webpack_require__(71432),icons_material_Menu=__webpack_require__(62274);const navbar=function Navbar(_ref){var onMobileMenuToggle=_ref.onMobileMenuToggle,_useAuth=auth_hooks_useAuth(),user=_useAuth.user,auth=_useAuth.auth,history=(app_hooks_useApp().config,react_router_useHistory()),location=useLocation(),isMobile=(useIntl().formatMessage,useMediaQuery(styles_useTheme_useTheme().breakpoints.down("md"))),_useState2=slicedToArray_slicedToArray((0,react.useState)(null),2),anchorEl=_useState2[0],setAnchorEl=_useState2[1],isMountedRef=(0,react.useRef)(!0);(0,react.useEffect)(function(){return isMountedRef.current=!0,function(){isMountedRef.current=!1}},[]);var handleClose=function handleClose(){isMountedRef.current&&setAnchorEl(null)},handleSignOut=function(){var _ref2=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var _t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=1,signOut(auth);case 1:isMountedRef.current&&(handleClose(),history.push("/login")),_context.next=3;break;case 2:_context.prev=2,_t=_context.catch(0),console.error("Error signing out:",_t);case 3:case"end":return _context.stop()}},_callee,null,[[0,2]])}));return function handleSignOut(){return _ref2.apply(this,arguments)}}();return user?react.createElement(AppBar_AppBar,{position:"static",sx:{backgroundColor:"#FFFFFF",color:"#212121",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",borderBottom:"1px solid",borderColor:"divider"}},react.createElement(Toolbar_Toolbar,{sx:{px:"24px !important",minHeight:"64px !important"}},isMobile&&onMobileMenuToggle&&react.createElement(IconButton_IconButton,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:onMobileMenuToggle,sx:{mr:2,color:"#212121"}},react.createElement(icons_material_Menu.A,null)),react.createElement(material_Typography_Typography,{variant:"h6",sx:{flexGrow:1,color:"#212121",fontWeight:500}},function getCurrentPageTitle(){var path=location.pathname;return"/"===path||"/dashboard"===path?react.createElement(message,{id:"navigation.dashboard",defaultMessage:"Dashboard"}):starts_with_default()(path).call(path,"/content")?react.createElement(message,{id:"navigation.content",defaultMessage:"Content"}):starts_with_default()(path).call(path,"/assets")?react.createElement(message,{id:"navigation.assets",defaultMessage:"Assets"}):starts_with_default()(path).call(path,"/users")?react.createElement(message,{id:"navigation.users",defaultMessage:"Users"}):starts_with_default()(path).call(path,"/settings")?react.createElement(message,{id:"navigation.settings",defaultMessage:"Settings"}):starts_with_default()(path).call(path,"/profile")?react.createElement(message,{id:"navigation.profile",defaultMessage:"Profile"}):react.createElement(message,{id:"general.title",defaultMessage:"FireEngine"})}()),user&&react.createElement(material_Box_Box,null,react.createElement(IconButton_IconButton,{size:"medium","aria-label":"account menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function handleMenu(event){setAnchorEl(event.currentTarget)},sx:{color:"#212121",mr:"-8px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},user.photoURL?react.createElement(Avatar_Avatar,{src:user.photoURL,alt:user.displayName||user.email||"",sx:{width:32,height:32}}):react.createElement(Avatar_Avatar,{sx:{width:32,height:32,bgcolor:"#FF6B35"}},react.createElement(icons_material_Person.A,{sx:{fontSize:"1.2rem"}}))),react.createElement(Menu_Menu,{id:"menu-appbar",anchorEl,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(anchorEl),onClose:handleClose,PaperProps:{sx:{mt:1,borderRadius:2,boxShadow:"0 4px 8px rgba(0,0,0,0.15)",zIndex:999}}},react.createElement(MenuItem_MenuItem,{onClick:function handleProfile(){handleClose(),isMountedRef.current&&history.push("/profile")}},react.createElement(message,{id:"navigation.profile",defaultMessage:"Profile"})),react.createElement(MenuItem_MenuItem,{onClick:handleSignOut},react.createElement(message,{id:"navigation.sign_out",defaultMessage:"Sign Out"})))))):null},Slide_excluded=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function setTranslateValue(direction,node,containerProp){const transform=function getTranslateValue(direction,node,resolvedContainer){const rect=node.getBoundingClientRect(),containerRect=resolvedContainer&&resolvedContainer.getBoundingClientRect(),containerWindow=(0,ownerWindow.A)(node);let transform;if(node.fakeTransform)transform=node.fakeTransform;else{const computedStyle=containerWindow.getComputedStyle(node);transform=computedStyle.getPropertyValue("-webkit-transform")||computedStyle.getPropertyValue("transform")}let offsetX=0,offsetY=0;if(transform&&"none"!==transform&&"string"==typeof transform){const transformValues=transform.split("(")[1].split(")")[0].split(",");offsetX=parseInt(transformValues[4],10),offsetY=parseInt(transformValues[5],10)}return"left"===direction?containerRect?`translateX(${containerRect.right+offsetX-rect.left}px)`:`translateX(${containerWindow.innerWidth+offsetX-rect.left}px)`:"right"===direction?containerRect?`translateX(-${rect.right-containerRect.left-offsetX}px)`:`translateX(-${rect.left+rect.width-offsetX}px)`:"up"===direction?containerRect?`translateY(${containerRect.bottom+offsetY-rect.top}px)`:`translateY(${containerWindow.innerHeight+offsetY-rect.top}px)`:containerRect?`translateY(-${rect.top-containerRect.top+rect.height-offsetY}px)`:`translateY(-${rect.top+rect.height-offsetY}px)`}(direction,node,function resolveContainer(containerPropProp){return"function"==typeof containerPropProp?containerPropProp():containerPropProp}(containerProp));transform&&(node.style.webkitTransform=transform,node.style.transform=transform)}const Slide=react.forwardRef(function Slide(props,ref){const theme=styles_useTheme_useTheme(),defaultEasing={enter:theme.transitions.easing.easeOut,exit:theme.transitions.easing.sharp},defaultTimeout={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{addEndListener,appear=!0,children,container:containerProp,direction="down",easing:easingProp=defaultEasing,in:inProp,onEnter,onEntered,onEntering,onExit,onExited,onExiting,style,timeout=defaultTimeout,TransitionComponent=esm_Transition}=props,other=(0,objectWithoutPropertiesLoose.A)(props,Slide_excluded),childrenRef=react.useRef(null),handleRef=(0,utils_useForkRef.A)(getReactElementRef(children),childrenRef,ref),normalizedTransitionCallback=callback=>isAppearing=>{callback&&(void 0===isAppearing?callback(childrenRef.current):callback(childrenRef.current,isAppearing))},handleEnter=normalizedTransitionCallback((node,isAppearing)=>{setTranslateValue(direction,node,containerProp),reflow(node),onEnter&&onEnter(node,isAppearing)}),handleEntering=normalizedTransitionCallback((node,isAppearing)=>{const transitionProps=getTransitionProps({timeout,style,easing:easingProp},{mode:"enter"});node.style.webkitTransition=theme.transitions.create("-webkit-transform",(0,esm_extends.A)({},transitionProps)),node.style.transition=theme.transitions.create("transform",(0,esm_extends.A)({},transitionProps)),node.style.webkitTransform="none",node.style.transform="none",onEntering&&onEntering(node,isAppearing)}),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback(node=>{const transitionProps=getTransitionProps({timeout,style,easing:easingProp},{mode:"exit"});node.style.webkitTransition=theme.transitions.create("-webkit-transform",transitionProps),node.style.transition=theme.transitions.create("transform",transitionProps),setTranslateValue(direction,node,containerProp),onExit&&onExit(node)}),handleExited=normalizedTransitionCallback(node=>{node.style.webkitTransition="",node.style.transition="",onExited&&onExited(node)}),updatePosition=react.useCallback(()=>{childrenRef.current&&setTranslateValue(direction,childrenRef.current,containerProp)},[direction,containerProp]);return react.useEffect(()=>{if(inProp||"down"===direction||"right"===direction)return;const handleResize=(0,debounce.A)(()=>{childrenRef.current&&setTranslateValue(direction,childrenRef.current,containerProp)}),containerWindow=(0,ownerWindow.A)(childrenRef.current);return containerWindow.addEventListener("resize",handleResize),()=>{handleResize.clear(),containerWindow.removeEventListener("resize",handleResize)}},[direction,inProp,containerProp]),react.useEffect(()=>{inProp||updatePosition()},[inProp,updatePosition]),(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({nodeRef:childrenRef,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:next=>{addEndListener&&addEndListener(childrenRef.current,next)},appear,in:inProp,timeout},other,{children:(state,childProps)=>react.cloneElement(children,(0,esm_extends.A)({ref:handleRef,style:(0,esm_extends.A)({visibility:"exited"!==state||inProp?void 0:"hidden"},style,children.props.style)},childProps))}))}),Slide_Slide=Slide;function getDrawerUtilityClass(slot){return(0,generateUtilityClass_generateUtilityClass.Ay)("MuiDrawer",slot)}(0,generateUtilityClasses.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Drawer_excluded=["BackdropProps"],Drawer_excluded2=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Drawer_overridesResolver=(props,styles)=>{const{ownerState}=props;return[styles.root,("permanent"===ownerState.variant||"persistent"===ownerState.variant)&&styles.docked,styles.modal]},DrawerRoot=(0,styled.Ay)(Modal_Modal,{name:"MuiDrawer",slot:"Root",overridesResolver:Drawer_overridesResolver})(({theme})=>({zIndex:(theme.vars||theme).zIndex.drawer})),DrawerDockedRoot=(0,styled.Ay)("div",{shouldForwardProp:rootShouldForwardProp.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Drawer_overridesResolver})({flex:"0 0 auto"}),DrawerPaper=(0,styled.Ay)(material_Paper_Paper,{name:"MuiDrawer",slot:"Paper",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.paper,styles[`paperAnchor${(0,capitalize.A)(ownerState.anchor)}`],"temporary"!==ownerState.variant&&styles[`paperAnchorDocked${(0,capitalize.A)(ownerState.anchor)}`]]}})(({theme,ownerState})=>(0,esm_extends.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(theme.vars||theme).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===ownerState.anchor&&{left:0},"top"===ownerState.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===ownerState.anchor&&{right:0},"bottom"===ownerState.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderRight:`1px solid ${(theme.vars||theme).palette.divider}`},"top"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderBottom:`1px solid ${(theme.vars||theme).palette.divider}`},"right"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderLeft:`1px solid ${(theme.vars||theme).palette.divider}`},"bottom"===ownerState.anchor&&"temporary"!==ownerState.variant&&{borderTop:`1px solid ${(theme.vars||theme).palette.divider}`})),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"};const Drawer=react.forwardRef(function Drawer(inProps,ref){const props=(0,DefaultPropsProvider_DefaultPropsProvider.b)({props:inProps,name:"MuiDrawer"}),theme=styles_useTheme_useTheme(),isRtl=useRtl(),defaultTransitionDuration={enter:theme.transitions.duration.enteringScreen,exit:theme.transitions.duration.leavingScreen},{anchor:anchorProp="left",BackdropProps,children,className,elevation=16,hideBackdrop=!1,ModalProps:{BackdropProps:BackdropPropsProp}={},onClose,open=!1,PaperProps={},SlideProps,TransitionComponent=Slide_Slide,transitionDuration=defaultTransitionDuration,variant="temporary"}=props,ModalProps=(0,objectWithoutPropertiesLoose.A)(props.ModalProps,Drawer_excluded),other=(0,objectWithoutPropertiesLoose.A)(props,Drawer_excluded2),mounted=react.useRef(!1);react.useEffect(()=>{mounted.current=!0},[]);const anchorInvariant=function getAnchor({direction},anchor){return"rtl"===direction&&function isHorizontal(anchor){return-1!==["left","right"].indexOf(anchor)}(anchor)?oppositeDirection[anchor]:anchor}({direction:isRtl?"rtl":"ltr"},anchorProp),anchor=anchorProp,ownerState=(0,esm_extends.A)({},props,{anchor,elevation,open,variant},other),classes=(ownerState=>{const{classes,anchor,variant}=ownerState,slots={root:["root"],docked:[("permanent"===variant||"persistent"===variant)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,capitalize.A)(anchor)}`,"temporary"!==variant&&`paperAnchorDocked${(0,capitalize.A)(anchor)}`]};return(0,composeClasses.A)(slots,getDrawerUtilityClass,classes)})(ownerState),drawer=(0,jsx_runtime.jsx)(DrawerPaper,(0,esm_extends.A)({elevation:"temporary"===variant?elevation:0,square:!0},PaperProps,{className:(0,clsx.A)(classes.paper,PaperProps.className),ownerState,children}));if("permanent"===variant)return(0,jsx_runtime.jsx)(DrawerDockedRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,classes.docked,className),ownerState,ref},other,{children:drawer}));const slidingDrawer=(0,jsx_runtime.jsx)(TransitionComponent,(0,esm_extends.A)({in:open,direction:oppositeDirection[anchorInvariant],timeout:transitionDuration,appear:mounted.current},SlideProps,{children:drawer}));return"persistent"===variant?(0,jsx_runtime.jsx)(DrawerDockedRoot,(0,esm_extends.A)({className:(0,clsx.A)(classes.root,classes.docked,className),ownerState,ref},other,{children:slidingDrawer})):(0,jsx_runtime.jsx)(DrawerRoot,(0,esm_extends.A)({BackdropProps:(0,esm_extends.A)({},BackdropProps,BackdropPropsProp,{transitionDuration}),className:(0,clsx.A)(classes.root,classes.modal,className),open,ownerState,onClose,hideBackdrop,ref},other,ModalProps,{children:slidingDrawer}))}),Drawer_Drawer=Drawer,Article=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),Photo=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo"),People=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),Settings=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Update=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8z"}),"Update");var BUILD_INFO={version:"1.0.9",buildTime:(new Date).toISOString(),environment:"production"};function useVersionCheck_ownKeys(e,r){var t=keys_default()(e);if(object_get_own_property_symbols_default()){var o=object_get_own_property_symbols_default()(e);r&&(o=filter_default()(o).call(o,function(r){return get_own_property_descriptor_default()(e,r).enumerable})),t.push.apply(t,o)}return t}function useVersionCheck_objectSpread(e){for(var r=1;r<arguments.length;r++){var _context6,_context7,t=null!=arguments[r]?arguments[r]:{};r%2?for_each_default()(_context6=useVersionCheck_ownKeys(Object(t),!0)).call(_context6,function(r){defineProperty_defineProperty(e,r,t[r])}):get_own_property_descriptors_default()?define_properties_default()(e,get_own_property_descriptors_default()(t)):for_each_default()(_context7=useVersionCheck_ownKeys(Object(t))).call(_context7,function(r){define_property_default()(e,r,get_own_property_descriptor_default()(t,r))})}return e}function isVersionNewer(currentVersion,latestVersion){for(var normalize=function normalize(v){var _context,_context2,cleaned=trim_default()(_context=v.replace(/^v/,"")).call(_context);return map_default()(_context2=cleaned.split(".")).call(_context2,function(n){return parse_int_default()(n,10)||0})},current=normalize(currentVersion),latest=normalize(latestVersion),i=0;i<Math.max(current.length,latest.length);i++){var a=current[i]||0,b=latest[i]||0;if(a<b)return!0;if(a>b)return!1}return!1}function setCachedRemoteVersion(latestVersion,source){try{localStorage.setItem("fireengine_version_check",stringify_default()({latestVersion,source,lastChecked:(new Date).toISOString()}))}catch(error){console.warn("Failed to cache version info:",error)}}function useVersionCheck(){var _useState2=slicedToArray_slicedToArray((0,react.useState)(function(){var cached=function getCachedRemoteVersion(){try{var cached=localStorage.getItem("fireengine_version_check");if(cached){var data=JSON.parse(cached),lastChecked=new Date(data.lastChecked);if((new Date).getTime()-lastChecked.getTime()<72e5)return{latestVersion:data.latestVersion,source:data.source,lastChecked}}}catch(error){console.warn("Failed to parse cached version info:",error)}return null}(),hasUpdate=!!cached&&isVersionNewer("1.0.9",cached.latestVersion);return{currentVersion:"1.0.9",latestVersion:(null==cached?void 0:cached.latestVersion)||null,hasUpdate,source:(null==cached?void 0:cached.source)||null,error:null,loading:!cached,lastChecked:(null==cached?void 0:cached.lastChecked)||null}}),2),state=_useState2[0],setState=_useState2[1],checkGitHubReleases=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){var response,release,version;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=1,fetch("https://api.github.com/repos/".concat("fireenginecms/fireengine","/releases/latest"),{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"FireEngine-VersionChecker"}});case 1:if((response=_context3.sent).ok){_context3.next=2;break}throw new Error("GitHub API error: ".concat(response.status));case 2:return _context3.next=3,response.json();case 3:return release=_context3.sent,version=release.tag_name.replace(/^v/,""),_context3.abrupt("return",{version,source:"github"});case 4:case"end":return _context3.stop()}},_callee)})),[]),checkNpmRegistry=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){var response,packageInfo;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=1,fetch("https://registry.npmjs.org/".concat("fireenginecms"),{headers:{Accept:"application/json","User-Agent":"FireEngine-VersionChecker"}});case 1:if((response=_context4.sent).ok){_context4.next=2;break}throw new Error("npm registry error: ".concat(response.status));case 2:return _context4.next=3,response.json();case 3:return packageInfo=_context4.sent,_context4.abrupt("return",{version:packageInfo["dist-tags"].latest,source:"npm"});case 4:case"end":return _context4.stop()}},_callee2)})),[]),checkForUpdates=(0,react.useCallback)(asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee3(){var latestInfo,hasUpdate,now,newState,errorMessage,_newState,_t,_t2;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:_context5.next=1;break;case 1:return setState(function(prev){return useVersionCheck_objectSpread(useVersionCheck_objectSpread({},prev),{},{loading:!0,error:null})}),_context5.prev=2,_context5.prev=3,_context5.next=4,checkNpmRegistry();case 4:latestInfo=_context5.sent,_context5.next=7;break;case 5:return _context5.prev=5,_t=_context5.catch(3),console.warn("npm registry check failed, trying GitHub:",_t),_context5.next=6,checkGitHubReleases();case 6:latestInfo=_context5.sent;case 7:hasUpdate=isVersionNewer("1.0.9",latestInfo.version),now=new Date,newState={currentVersion:"1.0.9",latestVersion:latestInfo.version,hasUpdate,source:latestInfo.source,error:null,loading:!1,lastChecked:now},setState(newState),setCachedRemoteVersion(latestInfo.version,latestInfo.source),_context5.next=9;break;case 8:_context5.prev=8,_t2=_context5.catch(2),errorMessage=_t2 instanceof Error?_t2.message:"Unknown error",console.error("Version check failed:",_t2),_newState={currentVersion:"1.0.9",latestVersion:null,hasUpdate:!1,source:null,error:errorMessage,loading:!1,lastChecked:new Date},setState(_newState);case 9:case"end":return _context5.stop()}},_callee3,null,[[2,8],[3,5]])})),["1.0.9",checkGitHubReleases,checkNpmRegistry]);return(0,react.useEffect)(function(){state.lastChecked||checkForUpdates();var interval=set_interval_default()(checkForUpdates,72e5);return function(){return clearInterval(interval)}},[checkForUpdates,state.lastChecked]),useVersionCheck_objectSpread(useVersionCheck_objectSpread({},state),{},{checkForUpdates})}const common_VersionInfo=function VersionInfo(_ref){var _ref$showBuildTime=_ref.showBuildTime,showBuildTime=void 0!==_ref$showBuildTime&&_ref$showBuildTime,_ref$variant=_ref.variant,variant=void 0===_ref$variant?"caption":_ref$variant,_ref$color=_ref.color,color=void 0===_ref$color?"textSecondary":_ref$color,_ref$compact=_ref.compact,compact=void 0!==_ref$compact&&_ref$compact,_ref$showUpdateChecke=_ref.showUpdateChecker,showUpdateChecker=void 0!==_ref$showUpdateChecke&&_ref$showUpdateChecke,formatMessage=useIntl().formatMessage,_useVersionCheck=useVersionCheck(),currentVersion=_useVersionCheck.currentVersion,latestVersion=_useVersionCheck.latestVersion,hasUpdate=_useVersionCheck.hasUpdate,source=_useVersionCheck.source,error=_useVersionCheck.error,loading=_useVersionCheck.loading,lastChecked=_useVersionCheck.lastChecked,checkForUpdates=_useVersionCheck.checkForUpdates,getUpdateUrl=function getUpdateUrl(){return"github"===source?"https://github.com/fireenginecms/fireengine/releases/latest":"npm"===source?"https://www.npmjs.com/package/fireenginecms":"https://www.fireengine.dev"};if(!showUpdateChecker){var tooltipContent=react.createElement(react.Fragment,null,react.createElement("div",null,"Version: ","1.0.9"),react.createElement("div",null,"Environment: ",BUILD_INFO.environment),showBuildTime&&react.createElement("div",null,"Built: ",new Date(BUILD_INFO.buildTime).toLocaleString()));return react.createElement(Tooltip_Tooltip,{title:tooltipContent,arrow:!0},react.createElement(material_Typography_Typography,{variant,color,sx:{cursor:"help"}},"v","1.0.9"))}return compact?react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1,px:2,py:1}},react.createElement(material_Typography_Typography,{variant:"caption",sx:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.7)"}}," 2025 ",react.createElement(material_Link_Link,{href:"https://www.fireengine.dev",target:"_blank",rel:"noopener noreferrer",sx:{color:"inherit",textDecoration:"none","&:hover":{textDecoration:"underline"}}},"FireEngine CMS")," v",currentVersion),hasUpdate&&latestVersion&&react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"version.update_available",defaultMessage:"Update available: v{version}"},{version:latestVersion})},react.createElement(material_Link_Link,{href:getUpdateUrl(),target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",textDecoration:"none","&:hover":{opacity:.8}}},react.createElement(Update,{sx:{fontSize:14,color:"warning.main"}}))),loading&&react.createElement(material_CircularProgress_CircularProgress,{size:12,thickness:4}),error&&react.createElement(Tooltip_Tooltip,{title:error},react.createElement(IconButton_IconButton,{size:"small",onClick:checkForUpdates,sx:{p:.5}},react.createElement(Refresh,{sx:{fontSize:12,color:"error.main"}})))):react.createElement(material_Box_Box,{sx:{p:2,borderTop:1,borderColor:"divider",backgroundColor:"background.paper"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1}},react.createElement(material_Typography_Typography,{variant:"subtitle2",color:"text.secondary"},react.createElement(message,{id:"version.current",defaultMessage:"Version"})),react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1}},react.createElement(material_Typography_Typography,{variant:"body2",fontFamily:"monospace"},"v",currentVersion),react.createElement(Tooltip_Tooltip,{title:formatMessage({id:"version.check_updates",defaultMessage:"Check for updates"})},react.createElement(IconButton_IconButton,{size:"small",onClick:checkForUpdates,disabled:loading},loading?react.createElement(material_CircularProgress_CircularProgress,{size:16,thickness:4}):react.createElement(Refresh,{sx:{fontSize:16}}))))),hasUpdate&&latestVersion&&react.createElement(material_Box_Box,{sx:{mb:1}},react.createElement(material_Chip_Chip,{label:formatMessage({id:"version.update_available_chip",defaultMessage:"v{version} available"},{version:latestVersion}),color:"warning",size:"small",icon:react.createElement(Update,null),onClick:function onClick(){return window.open(getUpdateUrl(),"_blank")},clickable:!0,sx:{fontSize:"0.7rem",height:24}})),error&&react.createElement(material_Box_Box,{sx:{mb:1}},react.createElement(material_Typography_Typography,{variant:"caption",color:"error.main",sx:{fontSize:"0.7rem"}},react.createElement(message,{id:"version.check_failed",defaultMessage:"Update check failed"}))),lastChecked&&!loading&&react.createElement(material_Typography_Typography,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.65rem"}},function formatLastChecked(){if(!lastChecked)return"";var diff=(new Date).getTime()-lastChecked.getTime(),minutes=Math.floor(diff/6e4),hours=Math.floor(diff/36e5);return hours>0?formatMessage({id:"version.last_checked_hours",defaultMessage:"Checked {hours}h ago"},{hours}):minutes>0?formatMessage({id:"version.last_checked_minutes",defaultMessage:"Checked {minutes}m ago"},{minutes}):formatMessage({id:"version.last_checked_now",defaultMessage:"Just checked"})}(),source&&react.createElement(react.Fragment,null,"  ","github"===source?"GitHub":"npm")))};var GlobalSidebar=function GlobalSidebar(_ref){var _ref$mobileOpen=_ref.mobileOpen,mobileOpen=void 0!==_ref$mobileOpen&&_ref$mobileOpen,onMobileClose=_ref.onMobileClose,history=react_router_useHistory(),location=useLocation(),theme=styles_useTheme_useTheme(),isMobile=useMediaQuery(theme.breakpoints.down("md")),user=auth_hooks_useAuth().user,config=app_hooks_useApp().config,schema=useSchema().schema,roles=roles_hooks_useRoles().roles,canManageUsers=useCanManageUsers(),canAccessAssets=useCanAccessAssets(),canAccessSettings=useCanAccessSettings(),isOwner=useIsOwner(),canAccessContent=react.useMemo(function(){if(!schema||!user||!roles)return!1;var _context,collections=[];if(null!=schema&&schema.collections&&"object"===_typeof(schema.collections))collections=filter_default()(_context=keys_default()(schema.collections)).call(_context,function(collection){return!starts_with_default()(collection).call(collection,"_fireengine")});else if(schema&&"object"===_typeof(schema)){var _context2;collections=filter_default()(_context2=keys_default()(schema)).call(_context2,function(key){return"collections"!==key&&"meta"!==key&&"layers"!==key&&!starts_with_default()(key).call(key,"_fireengine")})}return some_default()(collections).call(collections,function(collection){return permissions_hasPermission(user,collection,"read",roles,null==config?void 0:config.ownerEmail)})},[schema,user,roles,null==config?void 0:config.ownerEmail]),_useState2=slicedToArray_slicedToArray((0,react.useState)(function(){var saved=localStorage.getItem("globalSidebarOpen");return null!==saved?JSON.parse(saved):!isMobile}),2),sidebarOpen=_useState2[0],setSidebarOpen=_useState2[1],drawerOpen=isMobile?mobileOpen:sidebarOpen;(0,react.useEffect)(function(){localStorage.setItem("globalSidebarOpen",stringify_default()(sidebarOpen)),window.dispatchEvent(new CustomEvent("sidebarToggle"))},[sidebarOpen]),(0,react.useEffect)(function(){isMobile&&setSidebarOpen(!1)},[isMobile]);var drawerWidth=isMobile||sidebarOpen?250:56,navigationItems=function getFilteredNavigationItems(){var allItems=[{id:"content",path:"/content",icon:react.createElement(Article,null),label:react.createElement(message,{id:"navigation.content",defaultMessage:"Content"}),requiresPermission:!0,checkPermission:function checkPermission(){return canAccessContent||isOwner}},{id:"assets",path:"/assets",icon:react.createElement(Photo,null),label:react.createElement(message,{id:"navigation.assets",defaultMessage:"Assets"}),requiresPermission:!0,checkPermission:function checkPermission(){var _config$webappConfig;return!(!Boolean(null==config||null===(_config$webappConfig=config.webappConfig)||void 0===_config$webappConfig?void 0:_config$webappConfig.storageBucket)||!canAccessAssets)||!(!isOwner||!canAccessAssets)&&"disabled"},disabledTooltip:react.createElement(message,{id:"navigation.assets.disabled_tooltip",defaultMessage:"Firebase Storage bucket not configured. Set FIREENGINE_WEBAPP_STORAGE_BUCKET to enable file uploads."})},{id:"users",path:"/users",icon:react.createElement(People,null),label:react.createElement(message,{id:"navigation.users",defaultMessage:"Users"}),requiresPermission:!0,checkPermission:function checkPermission(){return canManageUsers}},{id:"settings",path:"/settings",icon:react.createElement(Settings,null),label:react.createElement(message,{id:"navigation.settings",defaultMessage:"Settings"}),requiresPermission:!0,checkPermission:function checkPermission(){return canAccessSettings}}];return!0===(null==config?void 0:config.useFirestoreAccessRules)?allItems:filter_default()(allItems).call(allItems,function(item){if(!item.requiresPermission)return!0;if(!user)return!1;var permissionResult=!item.checkPermission||item.checkPermission();return(!0===permissionResult||"disabled"===permissionResult)&&(item.disabled="disabled"===permissionResult,!0)})}();return react.createElement(Drawer_Drawer,{variant:isMobile?"temporary":"permanent",anchor:"left",open:drawerOpen,onClose:isMobile?onMobileClose:void 0,sx:{width:isMobile?0:drawerWidth,flexShrink:0,"& .MuiDrawer-paper":{width:isMobile||drawerOpen?250:56,boxSizing:"border-box",position:isMobile?"fixed":"relative",transition:isMobile?"none":"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflowX:"hidden",overflowY:"auto",backgroundColor:"#2C3E50",color:"#FFFFFF",borderRight:"none",zIndex:isMobile?theme.zIndex.drawer:1e3}}},react.createElement(material_Box_Box,{sx:{width:isMobile||drawerOpen?250:56,height:"100%",display:"flex",flexDirection:"column"}},react.createElement(material_Box_Box,{sx:{minHeight:64,display:"flex",alignItems:"center",px:1,backgroundColor:"#34495E"}},react.createElement(IconButton_IconButton,{onClick:function handleToggle(){isMobile&&onMobileClose?onMobileClose():setSidebarOpen(!sidebarOpen)},size:"small",sx:{minWidth:40,width:40,height:40,color:"#FFFFFF","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}}},drawerOpen?react.createElement(ChevronLeft,null):react.createElement(ChevronRight,null))),react.createElement(Divider_Divider,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),react.createElement(List_List,{sx:{flex:1,pt:1}},map_default()(navigationItems).call(navigationItems,function(item){var active=function isActive(path){var _context3;return starts_with_default()(_context3=location.pathname).call(_context3,path)}(item.path),isDisabled=item.disabled,listItem=react.createElement(ListItem_ListItem,{key:item.id,button:!isDisabled,onClick:isDisabled?void 0:function(){return function handleNavigation(path){history.push(path),isMobile&&onMobileClose&&onMobileClose()}(item.path)},sx:{minHeight:48,px:0,mb:.5,mx:1,borderRadius:1,backgroundColor:active?"rgba(255, 107, 53, 0.2)":"transparent",color:isDisabled?"rgba(255, 255, 255, 0.4)":active?"#FF6B35":"#FFFFFF",opacity:isDisabled?.6:1,cursor:isDisabled?"not-allowed":"pointer","&:hover":isDisabled?{}:{backgroundColor:active?"rgba(255, 107, 53, 0.3)":"rgba(255, 255, 255, 0.1)"}}},react.createElement(ListItemIcon_ListItemIcon,{sx:{minWidth:40,mr:drawerOpen?0:"auto",color:isDisabled?"rgba(255, 255, 255, 0.4)":active?"#FF6B35":"#FFFFFF",justifyContent:"center"}},item.icon),drawerOpen&&react.createElement(ListItemText_ListItemText,{primary:item.label,sx:{"& .MuiListItemText-primary":{fontSize:"0.9rem",fontWeight:active?600:400}}}));return isDisabled&&item.disabledTooltip?react.createElement(Tooltip_Tooltip,{key:item.id,title:item.disabledTooltip,placement:"right",arrow:!0},react.createElement("span",null,listItem)):listItem})),drawerOpen&&react.createElement(common_VersionInfo,{compact:!0,showUpdateChecker:!0})))};const CheckCircle=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),esm_Error=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Warning=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Cloud=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"}),"Cloud"),Description=(0,createSvgIcon.A)((0,jsx_runtime.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description");const onboarding_OnboardingPage=function OnboardingPage(_ref){var _context,_context2,_context3,configStatus=_ref.configStatus,missingEnvVars=(_ref.missingItems,_ref.missingEnvVars),getStatusChip=function getStatusChip(isConfigured,label){return react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1.5,padding:"12px 20px",borderRadius:"12px",background:isConfigured?"rgba(110, 231, 183, 0.05)":"rgba(252, 211, 77, 0.05)",border:"1px solid #94a3b8",color:"#1f2937",fontWeight:600,fontSize:"1rem",minWidth:"200px",justifyContent:"center"}},function renderStatusIcon(isConfigured){return isConfigured?react.createElement(CheckCircle,{sx:{color:"#6ee7b7",fontSize:24}}):react.createElement(esm_Error,{sx:{color:"#fcd34d",fontSize:24}})}(isConfigured),label,react.createElement(material_Box_Box,{sx:{ml:1,fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"}},isConfigured?" DONE":" REQUIRED"))};return react.createElement(material_Box_Box,{sx:{minHeight:"100vh",background:"#ffffff",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"}},react.createElement(material_Box_Box,{sx:{position:"fixed",top:0,left:0,right:0,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(226, 232, 240, 0.8)",zIndex:1e3,height:"70px",display:"flex",alignItems:"center",justifyContent:"center"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:1.5}},react.createElement(material_Box_Box,{sx:{fontSize:"28px"}},""),react.createElement(material_Typography_Typography,{sx:{fontWeight:700,fontSize:"24px",color:"#1e293b"}},"FireEngine"))),react.createElement(material_Box_Box,{sx:{pt:"100px",pb:8}},react.createElement(Container_Container,{maxWidth:"lg",sx:{px:3}},react.createElement(material_Box_Box,{sx:{textAlign:"center",mb:8}},react.createElement(material_Box_Box,{sx:{fontSize:"64px",mb:3}},""),react.createElement(material_Typography_Typography,{sx:{fontSize:{xs:"2.5rem",sm:"3rem",md:"3.5rem"},fontWeight:700,lineHeight:1.1,color:"#1e293b",mb:3}},"Welcome to FireEngine"),react.createElement(material_Typography_Typography,{sx:{fontSize:"1.25rem",color:"#475569",mb:5,lineHeight:1.7,maxWidth:"600px",mx:"auto"}},"Let's get your Firebase admin interface up and running"),react.createElement(material_Box_Box,{sx:{background:"rgba(249, 115, 22, 0.1)",border:"1px solid rgba(249, 115, 22, 0.2)",borderRadius:"12px",p:3,mb:6,maxWidth:"600px",mx:"auto",textAlign:"center"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:2}},react.createElement(Warning,{sx:{color:"#f97316",fontSize:24}}),react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#1e293b",fontSize:"1.1rem"}},"Configuration Required")),react.createElement(material_Typography_Typography,{sx:{color:"#475569",lineHeight:1.6}},"FireEngine needs Firebase credentials and configuration to connect to your project. Please provide the missing configuration items below."))),react.createElement(material_Box_Box,{sx:{mb:8}},react.createElement(material_Typography_Typography,{sx:{fontSize:"2rem",fontWeight:700,color:"#1e293b",textAlign:"center",mb:2}},"Configuration Status"),react.createElement(material_Typography_Typography,{sx:{fontSize:"1.1rem",color:"#475569",textAlign:"center",mb:5,maxWidth:"600px",mx:"auto"}},"We need these items to set up your Firebase admin interface"),react.createElement(material_Box_Box,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,justifyContent:"center",alignItems:"center",flexWrap:"wrap"}},getStatusChip(configStatus.adminCredentials,"Firebase Admin SDK"),getStatusChip(configStatus.webappConfig,"Firebase Web Config"),getStatusChip(configStatus.ownerEmail,"Owner Email"))),react.createElement(material_Box_Box,{sx:{display:"flex",flexDirection:"column",gap:4,mb:8,maxWidth:"800px",mx:"auto"}},react.createElement(material_Box_Box,{sx:{background:"#ffffff",border:"1px solid #94a3b8",borderRadius:"16px",p:4,position:"relative"}},react.createElement(material_Box_Box,{sx:{position:"absolute",top:16,right:16,background:configStatus.adminCredentials?"rgba(110, 231, 183, 0.2)":"rgba(252, 211, 77, 0.2)",color:"#1f2937",px:2,py:1,borderRadius:"8px",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"}},configStatus.adminCredentials?" CONFIGURED":" REQUIRED"),react.createElement(material_Box_Box,{sx:{textAlign:"center",mb:4}},react.createElement(Cloud,{sx:{fontSize:48,color:(configStatus.adminCredentials,"#1f2937"),mb:2}}),react.createElement(material_Typography_Typography,{sx:{fontSize:"1.5rem",fontWeight:600,color:"#1e293b",mb:2}},"Firebase Admin SDK"),react.createElement(material_Typography_Typography,{sx:{color:"#475569",lineHeight:1.6,mb:3}},"Server-side Firebase credentials for accessing your Firestore database and managing users.")),react.createElement(material_Box_Box,{sx:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",p:3}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#1e293b",mb:2}},!configStatus.adminCredentials&&null!=missingEnvVars&&missingEnvVars.adminCredentials?"Missing Environment Variables:":"Environment Variable:"),!configStatus.adminCredentials&&null!=missingEnvVars&&missingEnvVars.adminCredentials?react.createElement(material_Box_Box,{sx:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"6px",p:2,mb:2}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#856404",mb:1}}," These variables are missing:"),map_default()(_context=missingEnvVars.adminCredentials).call(_context,function(varName,index){return react.createElement(material_Typography_Typography,{key:index,sx:{fontFamily:"monospace",fontSize:"0.875rem",color:"#856404",ml:starts_with_default()(varName).call(varName,"  ")?2:0}},varName)})):null,react.createElement(material_Box_Box,{sx:{background:"#1e293b",color:"#e2e8f0",p:2,borderRadius:"6px",fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",whiteSpace:"pre"}},'# Option 1: JSON file path\nFIREENGINE_ADMIN_CREDENTIALS_FILE=./firebase-admin-key.json\n\n# Option 2: Required individual fields\nFIREENGINE_FIREBASE_PROJECT_ID=your-project-id\nFIREENGINE_FIREBASE_CLIENT_EMAIL=firebase-adminsdk-...@project.iam.gserviceaccount.com\nFIREENGINE_FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\\n"'))),react.createElement(material_Box_Box,{sx:{background:"#ffffff",border:"1px solid #94a3b8",borderRadius:"16px",p:4,position:"relative"}},react.createElement(material_Box_Box,{sx:{position:"absolute",top:16,right:16,background:configStatus.webappConfig?"rgba(110, 231, 183, 0.2)":"rgba(252, 211, 77, 0.2)",color:"#1f2937",px:2,py:1,borderRadius:"8px",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"}},configStatus.webappConfig?" CONFIGURED":" REQUIRED"),react.createElement(material_Box_Box,{sx:{textAlign:"center",mb:4}},react.createElement(Description,{sx:{fontSize:48,color:(configStatus.webappConfig,"#1f2937"),mb:2}}),react.createElement(material_Typography_Typography,{sx:{fontSize:"1.5rem",fontWeight:600,color:"#1e293b",mb:2}},"Firebase Web Config"),react.createElement(material_Typography_Typography,{sx:{color:"#475569",lineHeight:1.6,mb:3}},"Client-side Firebase configuration for user authentication and frontend access.")),react.createElement(material_Box_Box,{sx:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",p:3}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#1e293b",mb:2}},!configStatus.webappConfig&&null!=missingEnvVars&&missingEnvVars.webappConfig?"Missing Environment Variables:":"Environment Variable:"),!configStatus.webappConfig&&null!=missingEnvVars&&missingEnvVars.webappConfig?react.createElement(material_Box_Box,{sx:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"6px",p:2,mb:2}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#856404",mb:1}}," These variables are missing:"),map_default()(_context2=missingEnvVars.webappConfig).call(_context2,function(varName,index){return react.createElement(material_Typography_Typography,{key:index,sx:{fontFamily:"monospace",fontSize:"0.875rem",color:"#856404",ml:starts_with_default()(varName).call(varName,"  ")?2:0}},varName)})):null,react.createElement(material_Box_Box,{sx:{background:"#1e293b",color:"#e2e8f0",p:2,borderRadius:"6px",fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",whiteSpace:"pre"}},"# Option 1: JSON file path\nFIREENGINE_WEBAPP_CONFIG_FILE=./firebase-config.json\n\n# Option 2: Required individual fields\nFIREENGINE_WEBAPP_API_KEY=AIzaSyAbc123...\nFIREENGINE_WEBAPP_AUTH_DOMAIN=project.firebaseapp.com"))),react.createElement(material_Box_Box,{sx:{background:"#ffffff",border:"1px solid #94a3b8",borderRadius:"16px",p:4,position:"relative"}},react.createElement(material_Box_Box,{sx:{position:"absolute",top:16,right:16,background:configStatus.ownerEmail?"rgba(110, 231, 183, 0.2)":"rgba(252, 211, 77, 0.2)",color:"#1f2937",px:2,py:1,borderRadius:"8px",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"}},configStatus.ownerEmail?" CONFIGURED":" REQUIRED"),react.createElement(material_Box_Box,{sx:{textAlign:"center",mb:4}},react.createElement(Security,{sx:{fontSize:48,color:(configStatus.ownerEmail,"#1f2937"),mb:2}}),react.createElement(material_Typography_Typography,{sx:{fontSize:"1.5rem",fontWeight:600,color:"#1e293b",mb:2}},"Owner Email"),react.createElement(material_Typography_Typography,{sx:{color:"#475569",lineHeight:1.6,mb:3}},"Email address of the system administrator who gets automatic admin privileges.")),react.createElement(material_Box_Box,{sx:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",p:3}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#1e293b",mb:2}},!configStatus.ownerEmail&&null!=missingEnvVars&&missingEnvVars.ownerEmail?"Missing Environment Variable:":"Environment Variable:"),!configStatus.ownerEmail&&null!=missingEnvVars&&missingEnvVars.ownerEmail?react.createElement(material_Box_Box,{sx:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"6px",p:2,mb:2}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#856404",mb:1}}," This variable is missing:"),map_default()(_context3=missingEnvVars.ownerEmail).call(_context3,function(varName,index){return react.createElement(material_Typography_Typography,{key:index,sx:{fontFamily:"monospace",fontSize:"0.875rem",color:"#856404"}},varName)})):null,react.createElement(material_Box_Box,{sx:{background:"#1e293b",color:"#e2e8f0",p:2,borderRadius:"6px",fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto"}},"FIREENGINE_OWNER_EMAIL=admin@yourdomain.com"))),react.createElement(material_Box_Box,{sx:{background:"#ffffff",border:"1px solid #94a3b8",borderRadius:"16px",p:4,position:"relative",opacity:.8}},react.createElement(material_Box_Box,{sx:{position:"absolute",top:16,right:16,background:"rgba(148, 163, 184, 0.2)",color:"#1f2937",px:2,py:1,borderRadius:"8px",fontSize:"0.75rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"}}," OPTIONAL"),react.createElement(material_Box_Box,{sx:{textAlign:"center",mb:4}},react.createElement(Settings,{sx:{fontSize:48,color:"#94a3b8",mb:2}}),react.createElement(material_Typography_Typography,{sx:{fontSize:"1.5rem",fontWeight:600,color:"#1e293b",mb:2}},"Optional Configuration"),react.createElement(material_Typography_Typography,{sx:{color:"#475569",lineHeight:1.6,mb:3}},"Additional optional settings to customize your FireEngine installation.")),react.createElement(material_Box_Box,{sx:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",p:3}},react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#1e293b",mb:2}},"Common Options:"),react.createElement(material_Box_Box,{sx:{background:"#1e293b",color:"#e2e8f0",p:2,borderRadius:"6px",fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",whiteSpace:"pre"}},"# Optional Firebase storage bucket\nFIREENGINE_WEBAPP_STORAGE_BUCKET=your-project.appspot.com\n\n# Database configuration\nFIREENGINE_FIRESTORE_DATABASE=production-db\n\n# Google Maps integration\nFIREENGINE_GOOGLE_MAPS_API_KEY=your-google-maps-key\n\n# Collections to ignore\nFIREENGINE_IGNORE_COLLECTIONS=logs,analytics,temp\n\n# File upload limits\nFIREENGINE_STORAGE_MAX_UPLOAD_SIZE=1GB")))),react.createElement(material_Box_Box,{sx:{textAlign:"center",mt:8}},react.createElement(material_Typography_Typography,{sx:{fontSize:"2rem",fontWeight:700,color:"#1e293b",mb:3}},"Getting Started"),react.createElement(material_Box_Box,{sx:{background:"rgba(110, 231, 183, 0.05)",border:"1px solid #94a3b8",borderRadius:"12px",p:4,mb:4,maxWidth:"600px",mx:"auto",textAlign:"left"}},react.createElement(material_Box_Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:3}},react.createElement(CheckCircle,{sx:{color:"#6ee7b7",fontSize:24}}),react.createElement(material_Typography_Typography,{sx:{fontWeight:600,color:"#1e293b",fontSize:"1.1rem"}},"Next Steps")),react.createElement(material_Box_Box,{sx:{color:"#475569",lineHeight:1.8}},react.createElement(material_Box_Box,{sx:{mb:1}},"1. Set the required environment variables in your deployment environment"),react.createElement(material_Box_Box,{sx:{mb:1}},"2. Restart your FireEngine application"),react.createElement(material_Box_Box,{sx:{mb:1}},"3. The configuration will be automatically detected and validated"),react.createElement(material_Box_Box,null,"4. You'll be redirected to the admin interface once everything is configured"))),react.createElement(material_Typography_Typography,{sx:{color:"#64748b",fontSize:"0.95rem"}},"Need help? Check out the"," ",react.createElement(material_Link_Link,{href:"https://www.fireengine.dev/docs",target:"_blank",rel:"noopener",sx:{color:"#f97316",textDecoration:"none","&:hover":{textDecoration:"underline"}}},"documentation")," ","for detailed configuration examples and troubleshooting.")))))};var front_excluded=["component"],front_excluded2=["component"],theme=(0,createTheme.A)({palette:{primary:{main:"#FF6B35",light:"#FF8A65",dark:"#E55D2B",contrastText:"#FFFFFF"},secondary:{main:"#FFCA28",light:"#FFD54F",dark:"#FF8F00",contrastText:"#000000"},error:{main:"#F44336",light:"#EF5350",dark:"#D32F2F"},warning:{main:"#FF9800",light:"#FFB74D",dark:"#F57C00"},info:{main:"#2196F3",light:"#64B5F6",dark:"#1976D2"},success:{main:"#4CAF50",light:"#81C784",dark:"#388E3C"},background:{default:"#FAFAFA",paper:"#FFFFFF"},text:{primary:"#212121",secondary:"#757575"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:500},h5:{fontWeight:500},h6:{fontWeight:500},button:{textTransform:"none",fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,fontWeight:500,textTransform:"none"},contained:{boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.15)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:8},elevation1:{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},elevation4:{boxShadow:"0 4px 8px rgba(0,0,0,0.15)"},elevation8:{boxShadow:"0 8px 16px rgba(0,0,0,0.2)"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#FF6B35",color:"#FFFFFF",borderRadius:0}}},MuiTab:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiDrawer:{styleOverrides:{paper:{borderRadius:0}}}}}),renderRoot=document.getElementById("root"),AuthenticatedLayout=function AuthenticatedLayout(_ref){var children=_ref.children,_useSidebar=function useSidebar(){var _useState2=slicedToArray_slicedToArray((0,react.useState)(!1),2),mobileOpen=_useState2[0],setMobileOpen=_useState2[1],handleMobileToggle=(0,react.useCallback)(function(){setMobileOpen(!mobileOpen)},[mobileOpen]),handleMobileClose=(0,react.useCallback)(function(){setMobileOpen(!1)},[]);return{mobileOpen,handleMobileToggle,handleMobileClose}}(),mobileOpen=_useSidebar.mobileOpen,handleMobileToggle=_useSidebar.handleMobileToggle,handleMobileClose=_useSidebar.handleMobileClose;return react.createElement(react.Fragment,null,react.createElement(CssBaseline_CssBaseline,null),react.createElement(material_Box_Box,{sx:{display:"flex",height:"100vh"}},react.createElement(GlobalSidebar,{mobileOpen,onMobileClose:handleMobileClose}),react.createElement(material_Box_Box,{sx:{display:"flex",flexDirection:"column",flex:1,width:"100%",maxWidth:"100%"}},react.createElement(navbar,{onMobileMenuToggle:handleMobileToggle}),react.createElement(material_Box_Box,{component:"main",sx:{flex:1,overflow:"auto"}},children))),react.createElement(react_toastify_esm_k,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}))},PrivateRoute=function PrivateRoute(_ref2){var Component=_ref2.component,rest=_objectWithoutProperties(_ref2,front_excluded),_useAuth=auth_hooks_useAuth(),isAuthenticated=_useAuth.isAuthenticated,authenticating=_useAuth.authenticating,user=_useAuth.user,config=app_hooks_useApp().config,_useRoles=roles_hooks_useRoles(),roles=_useRoles.roles,rolesLoading=_useRoles.loading,_useLicense=license_hooks_useLicense(),hasFeature=_useLicense.hasFeature,licenseLoading=_useLicense.loading,history=react_router_useHistory();react.useEffect(function(){var timeoutId;return authenticating&&!user&&(timeoutId=set_timeout_default()(function(){authenticating&&!user&&history.push("/login")},2e3)),function(){timeoutId&&window.clearTimeout(timeoutId)}},[authenticating,user,history]);var earlyUserValidation=react.useMemo(function(){if(!user||!isAuthenticated||licenseLoading)return null;if(isOwner(user,null==config?void 0:config.ownerEmail))return!0;if(!hasFeature("unlimitedUsers"))return"upgrade";var effectiveRole=getEffectiveRole(user,null==config?void 0:config.ownerEmail);return!(!effectiveRole||""===trim_default()(effectiveRole).call(effectiveRole))&&null},[user,isAuthenticated,null==config?void 0:config.ownerEmail,licenseLoading,hasFeature]),hasRoleAccess=react.useMemo(function(){if(!1===earlyUserValidation||"upgrade"===earlyUserValidation)return earlyUserValidation;if(!0===earlyUserValidation)return!0;if(!user||!isAuthenticated||rolesLoading)return null;var effectiveRole=getEffectiveRole(user,null==config?void 0:config.ownerEmail);return!(!effectiveRole||""===trim_default()(effectiveRole).call(effectiveRole))&&!!some_default()(roles).call(roles,function(role){return role.id===effectiveRole})},[user,isAuthenticated,null==config?void 0:config.ownerEmail,roles,rolesLoading]);return authenticating?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",margin:0,padding:0},react.createElement(material_CircularProgress_CircularProgress,null)):authenticating||isAuthenticated?!1===earlyUserValidation?react.createElement(RoleAccessDenied,null):"upgrade"===earlyUserValidation?react.createElement(UpgradeRequired,null):null===earlyUserValidation&&rolesLoading||null===hasRoleAccess?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",margin:0,padding:0},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(Route,extends_extends({},rest,{render:function render(props){return isAuthenticated?!1===hasRoleAccess?react.createElement(RoleAccessDenied,null):"upgrade"===hasRoleAccess?react.createElement(UpgradeRequired,null):react.createElement(AuthenticatedLayout,null,react.createElement(Component,props)):react.createElement(Redirect,{to:"/login"})}})):react.createElement(Redirect,{to:"/login"})},getFirstAvailableRoute=function getFirstAvailableRoute(user,config,roles,schema){var _config$webappConfig;if(!user)return null;if(isOwner(user,null==config?void 0:config.ownerEmail));else{var effectiveRole=getEffectiveRole(user,null==config?void 0:config.ownerEmail);if(!effectiveRole||""===trim_default()(effectiveRole).call(effectiveRole))return null;if(!roles||0===roles.length)return!0===(null==config?void 0:config.useFirestoreAccessRules)?"/content":null;if(!some_default()(roles).call(roles,function(role){return role.id===effectiveRole}))return null}if(null!=schema&&schema.collections){var collections=keys_default()(schema.collections),accessibleCollection=find_default()(collections).call(collections,function(collection){return permissions_hasPermission(user,collection,"read",roles,null==config?void 0:config.ownerEmail)});if(accessibleCollection)return"/content/".concat(accessibleCollection)}return Boolean(null==config||null===(_config$webappConfig=config.webappConfig)||void 0===_config$webappConfig?void 0:_config$webappConfig.storageBucket)&&permissions_hasPermission(user,"system:assets","read",roles,null==config?void 0:config.ownerEmail)?"/assets":permissions_hasPermission(user,"system:users","read",roles,null==config?void 0:config.ownerEmail)?"/users":permissions_hasPermission(user,"system:settings","read",roles,null==config?void 0:config.ownerEmail)?"/settings":null},PublicRoute=function PublicRoute(_ref3){var Component=_ref3.component,rest=_objectWithoutProperties(_ref3,front_excluded2),_useAuth2=auth_hooks_useAuth(),isAuthenticated=_useAuth2.isAuthenticated,authenticating=_useAuth2.authenticating,user=_useAuth2.user,config=app_hooks_useApp().config,_useRoles2=roles_hooks_useRoles(),roles=_useRoles2.roles,rolesLoading=_useRoles2.loading,_useSchema=useSchema(),schema=_useSchema.schema,schemaLoading=_useSchema.loading,history=react_router_useHistory();return react.useEffect(function(){var timeoutId;return authenticating&&user&&(timeoutId=set_timeout_default()(function(){if(user&&!rolesLoading&&!schemaLoading){var firstRoute=getFirstAvailableRoute(user,config,roles,schema);history.push(firstRoute)}},2e3)),function(){timeoutId&&window.clearTimeout(timeoutId)}},[authenticating,user,rolesLoading,schemaLoading,history,config,roles,schema]),authenticating?react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},react.createElement(material_CircularProgress_CircularProgress,null)):react.createElement(Route,extends_extends({},rest,{render:function render(props){if(isAuthenticated){if(rolesLoading||schemaLoading)return react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},react.createElement(material_CircularProgress_CircularProgress,null));var firstRoute=getFirstAvailableRoute(user,config,roles,schema);return null===firstRoute?react.createElement(RoleAccessDenied,null):react.createElement(Redirect,{to:firstRoute})}return react.createElement(Component,props)}}))},NotFoundPage=function NotFoundPage(){var history=react_router_useHistory(),user=auth_hooks_useAuth().user,config=app_hooks_useApp().config,roles=roles_hooks_useRoles().roles,schema=useSchema().schema;return react.createElement(material_Box_Box,{textAlign:"center",my:4},react.createElement(material_Typography_Typography,{variant:"h4",color:"error"},"Page Not Found"),react.createElement(material_Typography_Typography,{variant:"body1"},"The requested page could not be found."),react.createElement(material_Button_Button,{variant:"contained",color:"primary",sx:{mt:2},onClick:function handleGoHome(){var firstRoute=getFirstAvailableRoute(user,config,roles,schema);firstRoute?history.push(firstRoute):history.push("/login")}},"Go to Home"))},RoleAccessDenied=function RoleAccessDenied(){var _context2,auth=auth_hooks_useAuth().auth,theme=styles_useTheme_useTheme(),handleSignOut=function(){var _ref4=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee(){return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!auth){_context.next=1;break}return _context.next=1,auth.signOut();case 1:case"end":return _context.stop()}},_callee)}));return function handleSignOut(){return _ref4.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:concat_default()(_context2="linear-gradient(135deg, ".concat(theme.palette.primary.light," 0%, ")).call(_context2,theme.palette.primary.main," 100%)")}},react.createElement(CssBaseline_CssBaseline,null),react.createElement(material_Box_Box,{component:material_Paper_Paper,elevation:24,sx:{borderRadius:4,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",textAlign:"center",p:{xs:3,sm:4,md:5},maxWidth:500,mx:2}},react.createElement(material_Typography_Typography,{variant:"h4",color:"error",gutterBottom:!0},"Access Denied"),react.createElement(material_Typography_Typography,{variant:"body1",sx:{mb:3}},"Your account does not have the necessary permissions to access this system. Please contact your administrator to request access."),react.createElement(material_Button_Button,{variant:"contained",color:"primary",onClick:handleSignOut},"Sign Out")))},UpgradeRequired=function UpgradeRequired(){var _context4,_useAuth5=auth_hooks_useAuth(),auth=_useAuth5.auth,config=(_useAuth5.user,app_hooks_useApp().config),theme=styles_useTheme_useTheme(),handleSignOut=function(){var _ref5=asyncToGenerator_asyncToGenerator(regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!auth){_context3.next=1;break}return _context3.next=1,auth.signOut();case 1:case"end":return _context3.stop()}},_callee2)}));return function handleSignOut(){return _ref5.apply(this,arguments)}}();return react.createElement(material_Box_Box,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:concat_default()(_context4="linear-gradient(135deg, ".concat(theme.palette.primary.light," 0%, ")).call(_context4,theme.palette.primary.main," 100%)")}},react.createElement(CssBaseline_CssBaseline,null),react.createElement(material_Box_Box,{component:material_Paper_Paper,elevation:24,sx:{borderRadius:4,background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",textAlign:"center",p:{xs:3,sm:4,md:5},maxWidth:500,mx:2}},react.createElement(material_Typography_Typography,{variant:"h4",color:"primary",gutterBottom:!0},"Upgrade Required"),react.createElement(material_Typography_Typography,{variant:"body1",sx:{mb:2}},"This FireEngine installation is on the Free plan, which is limited to the owner account only."),react.createElement(material_Typography_Typography,{variant:"body2",color:"textSecondary",sx:{mb:3}},"Owner: ",(null==config?void 0:config.ownerEmail)||"Not configured"),react.createElement(material_Typography_Typography,{variant:"body2",sx:{mb:3}},"To enable access for multiple users, please ask the owner to upgrade to the Pro plan."),react.createElement(material_Box_Box,{sx:{display:"flex",gap:2,justifyContent:"center"}},react.createElement(material_Button_Button,{variant:"contained",color:"primary",onClick:handleSignOut},"Sign Out"))))},RootRedirect=function RootRedirect(){var _useAuth6=auth_hooks_useAuth(),user=_useAuth6.user,isAuthenticated=_useAuth6.isAuthenticated,authenticating=_useAuth6.authenticating,config=app_hooks_useApp().config,_useRoles4=roles_hooks_useRoles(),roles=_useRoles4.roles,rolesLoading=_useRoles4.loading,_useSchema3=useSchema(),schema=_useSchema3.schema,schemaLoading=_useSchema3.loading;if(authenticating)return react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},react.createElement(material_CircularProgress_CircularProgress,null));if(!isAuthenticated)return react.createElement(Redirect,{to:"/login"});if(rolesLoading||schemaLoading)return react.createElement(material_Box_Box,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},react.createElement(material_CircularProgress_CircularProgress,null));var firstRoute=getFirstAvailableRoute(user,config,roles,schema);return null===firstRoute?react.createElement(RoleAccessDenied,null):react.createElement(Redirect,{to:firstRoute})},AppRoutes=function AppRoutes(){var _window$fireengineCon,basePath=(null===(_window$fireengineCon=window.fireengineConfig)||void 0===_window$fireengineCon?void 0:_window$fireengineCon.basePath)||"";return react.createElement(BrowserRouter,{basename:basePath},react.createElement(Switch,null,react.createElement(Route,{path:"/__api"},react.createElement("div",null)),react.createElement(Route,{path:"/onboarding",component:onboarding_OnboardingPage}),react.createElement(PublicRoute,{path:"/login",component:login}),react.createElement(PrivateRoute,{path:"/profile",component:profile}),react.createElement(PrivateRoute,{path:"/content",component:content}),react.createElement(PrivateRoute,{path:"/assets",component:assets_AssetsPage}),react.createElement(PrivateRoute,{path:"/users",component:users_UsersPage}),react.createElement(PrivateRoute,{path:"/settings",component:settings_SettingsPage}),react.createElement(Route,{exact:!0,path:"/",component:RootRedirect}),react.createElement(PrivateRoute,{path:"*",component:NotFoundPage})))},ConfigurationGuard=function ConfigurationGuard(_ref6){var children=_ref6.children,config=app_hooks_useApp().config;return!1===config.isConfigured?react.createElement(styles_ThemeProvider_ThemeProvider,{theme},react.createElement(onboarding_OnboardingPage,{configStatus:config.configStatus||{adminCredentials:!1,webappConfig:!1,ownerEmail:!1},missingItems:config.missingItems||[],missingEnvVars:config.missingEnvVars})):react.createElement(react.Fragment,null,children)},App=function App(){return react.createElement(app_provider,null,react.createElement(intl_provider,null,react.createElement(ConfigurationGuard,null,react.createElement(auth_provider,null,react.createElement(license_provider,null,react.createElement(schema_provider,null,react.createElement(meta_provider,null,react.createElement(metadata_provider,null,react.createElement(roles_provider,null,react.createElement(styles_ThemeProvider_ThemeProvider,{theme},react.createElement(AppRoutes,null)))))))))))};react_dom.render(react.createElement(App,null),renderRoot)})()})();